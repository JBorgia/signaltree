import{e as Vi,f as fa,g as Zr}from"./chunk-CWHCZB47.js";import{a as ma}from"./chunk-OGULW4SZ.js";import{b as k,c as ht,e as ga}from"./chunk-QKQY27JL.js";import{b as na,c as ia,d as ra,i as sa,k as oa,r as aa,s as ca,t as la,u as da,v as ua,x as ha}from"./chunk-KSHFXJNE.js";import{d as X,e as Qe,f as St,g as Qr,h as Jr,i as zi,j as sn,k as On,l as Zn,n as Ui}from"./chunk-4PHSCP77.js";import{$ as ut,A as $r,Ab as Y,B as xt,Bc as ea,C as qo,Cb as B,Eb as Qo,Ec as ta,Fb as Jo,Fc as Ni,G as dt,Gb as Zo,H as Ko,I as xn,Ib as Ke,Ja as P,Jb as Ie,Kb as Gr,Lb as b,Mb as z,N as Yo,Nb as V,Ob as Ot,S as Bi,U as qr,Y as Ve,Ya as Fi,Yb as Xr,aa as Pt,ac as be,ba as se,bc as Jn,c as $o,cc as De,d as Cn,da as Kr,g as ye,gb as tn,gc as Pn,h as qe,ha as ce,hc as L,i as Ri,ia as le,ib as W,ic as rn,ja as zt,jb as H,k as Xn,ka as Li,kb as Xo,l as rt,la as Qn,m as Wr,mb as Me,n as Hr,nb as Ce,ob as Oe,p as Ii,pb as p,qb as f,ra as Yr,rb as pe,sa as ge,t as Ue,v as Di,wa as Go,yb as nn}from"./chunk-6MFRN4GW.js";import{a as x,b as O,c as Ho,d as Ai,h as lt,j as v}from"./chunk-A3ECCK3J.js";function ni(i){return i+.5|0}var Ut=(i,t,e)=>Math.max(Math.min(i,e),t);function ei(i){return Ut(ni(i*2.55),0,255)}function Vt(i){return Ut(ni(i*255),0,255)}function vt(i){return Ut(ni(i/2.55)/100,0,1)}function pa(i){return Ut(ni(i*100),0,100)}var Je={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ts=[..."0123456789ABCDEF"],wd=i=>ts[i&15],kd=i=>ts[(i&240)>>4]+ts[i&15],ji=i=>(i&240)>>4===(i&15),Ed=i=>ji(i.r)&&ji(i.g)&&ji(i.b)&&ji(i.a);function Td(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Je[i[1]]*17,g:255&Je[i[2]]*17,b:255&Je[i[3]]*17,a:t===5?Je[i[4]]*17:255}:(t===7||t===9)&&(e={r:Je[i[1]]<<4|Je[i[2]],g:Je[i[3]]<<4|Je[i[4]],b:Je[i[5]]<<4|Je[i[6]],a:t===9?Je[i[7]]<<4|Je[i[8]]:255})),e}var Ad=(i,t)=>i<255?t(i):"";function Rd(i){var t=Ed(i)?wd:kd;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Ad(i.a,t):void 0}var Id=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ma(i,t,e){let n=t*Math.min(e,1-e),r=(s,o=(s+i/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Dd(i,t,e){let n=(r,s=(r+i/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Bd(i,t,e){let n=Ma(i,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function Ld(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}function ns(i){let e=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(e,n,r),o=Math.min(e,n,r),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=Ld(e,n,r,d,s),c=c*60+.5),[c|0,l||0,a]}function is(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(Vt)}function rs(i,t,e){return is(Ma,i,t,e)}function Fd(i,t,e){return is(Bd,i,t,e)}function Nd(i,t,e){return is(Dd,i,t,e)}function Ca(i){return(i%360+360)%360}function zd(i){let t=Id.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?ei(+t[5]):Vt(+t[5]));let r=Ca(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Fd(r,s,o):t[1]==="hsv"?n=Nd(r,s,o):n=rs(r,s,o),{r:n[0],g:n[1],b:n[2],a:e}}function Ud(i,t){var e=ns(i);e[0]=Ca(e[0]+t),e=rs(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Vd(i){if(!i)return;let t=ns(i),e=t[0],n=pa(t[1]),r=pa(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${vt(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}var ba={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_a={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jd(){let i={},t=Object.keys(_a),e=Object.keys(ba),n,r,s,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],r=0;r<e.length;r++)s=e[r],a=a.replace(s,ba[s]);s=parseInt(_a[o],16),i[a]=[s>>16&255,s>>8&255,s&255]}return i}var Wi;function Wd(i){Wi||(Wi=jd(),Wi.transparent=[0,0,0,0]);let t=Wi[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Hd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $d(i){let t=Hd.exec(i),e=255,n,r,s;if(t){if(t[7]!==n){let o=+t[7];e=t[8]?ei(o):Ut(o*255,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?ei(n):Ut(n,0,255)),r=255&(t[4]?ei(r):Ut(r,0,255)),s=255&(t[6]?ei(s):Ut(s,0,255)),{r:n,g:r,b:s,a:e}}}function qd(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${vt(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var es=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Sn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Kd(i,t,e){let n=Sn(vt(i.r)),r=Sn(vt(i.g)),s=Sn(vt(i.b));return{r:Vt(es(n+e*(Sn(vt(t.r))-n))),g:Vt(es(r+e*(Sn(vt(t.g))-r))),b:Vt(es(s+e*(Sn(vt(t.b))-s))),a:i.a+e*(t.a-i.a)}}function Hi(i,t,e){if(i){let n=ns(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=rs(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function xa(i,t){return i&&Object.assign(t||{},i)}function ya(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Vt(i[3]))):(t=xa(i,{r:0,g:0,b:0,a:1}),t.a=Vt(t.a)),t}function Yd(i){return i.charAt(0)==="r"?$d(i):zd(i)}var ti=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=ya(t):e==="string"&&(n=Td(t)||Wd(t)||Yd(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=xa(this._rgb);return t&&(t.a=vt(t.a)),t}set rgb(t){this._rgb=ya(t)}rgbString(){return this._valid?qd(this._rgb):void 0}hexString(){return this._valid?Rd(this._rgb):void 0}hslString(){return this._valid?Vd(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,r=t.rgb,s,o=e===s?.5:e,a=2*o-1,c=n.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=Kd(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=Vt(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=ni(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Hi(this._rgb,2,t),this}darken(t){return Hi(this._rgb,2,-t),this}saturate(t){return Hi(this._rgb,1,t),this}desaturate(t){return Hi(this._rgb,1,-t),this}rotate(t){return Ud(this._rgb,t),this}};function gt(){}var Ia=(()=>{let i=0;return()=>i++})();function j(i){return i==null}function ee(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function oe(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function je(i,t){return oe(i)?i:t}function F(i,t){return typeof i>"u"?t:i}var Da=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,cs=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Z(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function G(i,t,e,n){let r,s,o;if(ee(i))if(s=i.length,n)for(r=s-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<s;r++)t.call(e,i[r],r);else if($(i))for(o=Object.keys(i),s=o.length,r=0;r<s;r++)t.call(e,i[o[r]],o[r])}function si(i,t){let e,n,r,s;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Yi(i){if(ee(i))return i.map(Yi);if($(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,r=0;for(;r<n;++r)t[e[r]]=Yi(i[e[r]]);return t}return i}function Ba(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Gd(i,t,e,n){if(!Ba(i))return;let r=t[i],s=e[i];$(r)&&$(s)?wn(r,s,n):t[i]=Yi(s)}function wn(i,t,e){let n=ee(t)?t:[t],r=n.length;if(!$(i))return i;e=e||{};let s=e.merger||Gd,o;for(let a=0;a<r;++a){if(o=n[a],!$(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],i,o,e)}return i}function En(i,t){return wn(i,t,{merger:Xd})}function Xd(i,t,e){if(!Ba(i))return;let n=t[i],r=e[i];$(n)&&$(r)?En(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Yi(r))}var Pa={"":i=>i,x:i=>i.x,y:i=>i.y};function Qd(i){let t=i.split("."),e=[],n="";for(let r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function Jd(i){let t=Qd(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function Et(i,t){return(Pa[t]||(Pa[t]=Jd(t)))(i)}function Ji(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Tn=i=>typeof i<"u",wt=i=>typeof i=="function",ls=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function La(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var K=Math.PI,te=2*K,Zd=te+K,Gi=Number.POSITIVE_INFINITY,eu=K/180,de=K/2,on=K/4,Oa=K*2/3,kt=Math.log10,st=Math.sign;function An(i,t,e){return Math.abs(i-t)<e}function ds(i){let t=Math.round(i);i=An(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(kt(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Fa(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function tu(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function ln(i){return!tu(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Na(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function us(i,t,e){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ze(i){return i*(K/180)}function Zi(i){return i*(180/K)}function hs(i){if(!oe(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function ms(i,t){let e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n),s=Math.atan2(n,e);return s<-.5*K&&(s+=te),{angle:s,distance:r}}function Xi(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function nu(i,t){return(i-t+Zd)%te-K}function ke(i){return(i%te+te)%te}function Rn(i,t,e,n){let r=ke(i),s=ke(t),o=ke(e),a=ke(s-r),c=ke(o-r),l=ke(r-s),d=ke(r-o);return r===s||r===o||n&&s===o||a>c&&l<d}function xe(i,t,e){return Math.max(t,Math.min(e,i))}function za(i){return xe(i,-32768,32767)}function pt(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function er(i,t,e){e=e||(o=>i[o]<t);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,e(s)?r=s:n=s;return{lo:r,hi:n}}var mt=(i,t,e,n)=>er(i,e,n?r=>{let s=i[r][t];return s<e||s===e&&i[r+1][t]===e}:r=>i[r][t]<e),Ua=(i,t,e)=>er(i,e,n=>i[n][t]>=e);function Va(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}var ja=["push","pop","shift","splice","unshift"];function Wa(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ja.forEach(e=>{let n="_onData"+Ji(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function fs(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(ja.forEach(s=>{delete i[s]}),delete i._chartjs)}function gs(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var ps=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function bs(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,ps.call(window,()=>{n=!1,i.apply(t,e)}))}}function Ha(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var tr=i=>i==="start"?"left":i==="end"?"right":"center",Ee=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,$a=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function _s(i,t,e){let n=t.length,r=0,s=n;if(i._sorted){let{iScale:o,vScale:a,_parsed:c}=i,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,d=o.axis,{min:u,max:h,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(r=Math.min(mt(c,d,u).lo,e?n:mt(t,d,o.getPixelForValue(u)).lo),l){let _=c.slice(0,r+1).reverse().findIndex(y=>!j(y[a.axis]));r-=Math.max(0,_)}r=xe(r,0,n-1)}if(g){let _=Math.max(mt(c,o.axis,h,!0).hi+1,e?0:mt(t,d,o.getPixelForValue(h),!0).hi+1);if(l){let y=c.slice(_-1).findIndex(C=>!j(C[a.axis]));_+=Math.max(0,y)}s=xe(_,r,n)-r}else s=n-r}return{start:r,count:s}}function ys(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;let s=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),s}var $i=i=>i===0||i===1,Sa=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*te/e)),va=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*te/e)+1,vn={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*de)+1,easeOutSine:i=>Math.sin(i*de),easeInOutSine:i=>-.5*(Math.cos(K*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>$i(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>$i(i)?i:Sa(i,.075,.3),easeOutElastic:i=>$i(i)?i:va(i,.075,.3),easeInOutElastic(i){return $i(i)?i:i<.5?.5*Sa(i*2,.1125,.45):.5+.5*va(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-vn.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?vn.easeInBounce(i*2)*.5:vn.easeOutBounce(i*2-1)*.5+.5};function Ms(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Cs(i){return Ms(i)?i:new ti(i)}function ss(i){return Ms(i)?i:new ti(i).saturate(.5).darken(.1).hexString()}var iu=["x","y","borderWidth","radius","tension"],ru=["color","borderColor","backgroundColor"];function su(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:ru},numbers:{type:"number",properties:iu}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function ou(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var wa=new Map;function au(i,t){t=t||{};let e=i+JSON.stringify(t),n=wa.get(e);return n||(n=new Intl.NumberFormat(i,t),wa.set(e,n)),n}function In(i,t,e){return au(t,e).format(i)}var qa={values(i){return ee(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,r,s=i;if(e.length>1){let l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=cu(i,e)}let o=kt(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),In(i,n,c)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(kt(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?qa.numeric.call(this,i,t,e):""}};function cu(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var oi={formatters:qa};function lu(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:oi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Ht=Object.create(null),nr=Object.create(null);function ii(i,t){if(!t)return i;let e=t.split(".");for(let n=0,r=e.length;n<r;++n){let s=e[n];i=i[s]||(i[s]=Object.create(null))}return i}function os(i,t,e){return typeof t=="string"?wn(ii(i,t),e):wn(ii(i,""),t)}var as=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>ss(r.backgroundColor),this.hoverBorderColor=(n,r)=>ss(r.borderColor),this.hoverColor=(n,r)=>ss(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return os(this,t,e)}get(t){return ii(this,t)}describe(t,e){return os(nr,t,e)}override(t,e){return os(Ht,t,e)}route(t,e,n,r){let s=ii(this,t),o=ii(this,n),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[a],l=o[r];return $(c)?Object.assign({},l,c):F(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}},ie=new as({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[su,ou,lu]);function du(i){return!i||j(i.size)||j(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function ri(i,t,e,n,r){let s=t[r];return s||(s=t[r]=i.measureText(r).width,e.push(r)),s>n&&(n=s),n}function Ka(i,t,e,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},s=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let o=0,a=e.length,c,l,d,u,h;for(c=0;c<a;c++)if(u=e[c],u!=null&&!ee(u))o=ri(i,r,s,o,u);else if(ee(u))for(l=0,d=u.length;l<d;l++)h=u[l],h!=null&&!ee(h)&&(o=ri(i,r,s,o,h));i.restore();let m=s.length/2;if(m>e.length){for(c=0;c<m;c++)delete r[s[c]];s.splice(0,m)}return o}function $t(i,t,e){let n=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function xs(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function ir(i,t,e,n){Ps(i,t,e,n,null)}function Ps(i,t,e,n,r){let s,o,a,c,l,d,u,h,m=t.pointStyle,g=t.rotation,_=t.radius,y=(g||0)*eu;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(y),i.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),i.restore();return}if(!(isNaN(_)||_<=0)){switch(i.beginPath(),m){default:r?i.ellipse(e,n,r/2,_,0,0,te):i.arc(e,n,_,0,te),i.closePath();break;case"triangle":d=r?r/2:_,i.moveTo(e+Math.sin(y)*d,n-Math.cos(y)*_),y+=Oa,i.lineTo(e+Math.sin(y)*d,n-Math.cos(y)*_),y+=Oa,i.lineTo(e+Math.sin(y)*d,n-Math.cos(y)*_),i.closePath();break;case"rectRounded":l=_*.516,c=_-l,o=Math.cos(y+on)*c,u=Math.cos(y+on)*(r?r/2-l:c),a=Math.sin(y+on)*c,h=Math.sin(y+on)*(r?r/2-l:c),i.arc(e-u,n-a,l,y-K,y-de),i.arc(e+h,n-o,l,y-de,y),i.arc(e+u,n+a,l,y,y+de),i.arc(e-h,n+o,l,y+de,y+K),i.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*_,d=r?r/2:c,i.rect(e-d,n-c,2*d,2*c);break}y+=on;case"rectRot":u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+h,n-o),i.lineTo(e+u,n+a),i.lineTo(e-h,n+o),i.closePath();break;case"crossRot":y+=on;case"cross":u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o);break;case"star":u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o),y+=on,u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o);break;case"line":o=r?r/2:Math.cos(y)*_,a=Math.sin(y)*_,i.moveTo(e-o,n-a),i.lineTo(e+o,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(y)*(r?r/2:_),n+Math.sin(y)*_);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function ft(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function ai(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function ci(i){i.restore()}function Ya(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){let s=(t.x+e.x)/2;i.lineTo(s,t.y),i.lineTo(s,e.y)}else r==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Ga(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function uu(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),j(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function hu(i,t,e,n,r){if(r.strikethrough||r.underline){let s=i.measureText(n),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,c=e-s.actualBoundingBoxAscent,l=e+s.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(o,d),i.lineTo(a,d),i.stroke()}}function mu(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function qt(i,t,e,n,r,s={}){let o=ee(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(i.save(),i.font=r.string,uu(i,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&mu(i,s.backdrop),a&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),j(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(l,e,n,s.maxWidth)),i.fillText(l,e,n,s.maxWidth),hu(i,e,n,l,s),n+=Number(r.lineHeight);i.restore()}function Dn(i,t){let{x:e,y:n,w:r,h:s,radius:o}=t;i.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*K,K,!0),i.lineTo(e,n+s-o.bottomLeft),i.arc(e+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,K,de,!0),i.lineTo(e+r-o.bottomRight,n+s),i.arc(e+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,de,0,!0),i.lineTo(e+r,n+o.topRight),i.arc(e+r-o.topRight,n+o.topRight,o.topRight,0,-de,!0),i.lineTo(e+o.topLeft,n)}var fu=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pu(i,t){let e=(""+i).match(fu);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var bu=i=>+i||0;function rr(i,t){let e={},n=$(t),r=n?Object.keys(t):t,s=$(i)?n?o=>F(i[o],i[t[o]]):o=>i[o]:()=>i;for(let o of r)e[o]=bu(s(o));return e}function Os(i){return rr(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Kt(i){return rr(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Te(i){let t=Os(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _e(i,t){i=i||{},t=t||ie.font;let e=F(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=F(i.style,t.style);n&&!(""+n).match(gu)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:F(i.family,t.family),lineHeight:pu(F(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:F(i.weight,t.weight),string:""};return r.string=du(r),r}function Bn(i,t,e,n){let r=!0,s,o,a;for(s=0,o=i.length;s<o;++s)if(a=i[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&ee(a)&&(a=a[e%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function Xa(i,t,e){let{min:n,max:r}=i,s=cs(t,(r-n)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function Tt(i,t){return Object.assign(Object.create(i),t)}function sr(i,t=[""],e,n,r=()=>i[0]){let s=e||i;typeof n>"u"&&(n=Za("_fallback",i));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:r,override:a=>sr([a,...i],t,s,n)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete i[0][c],!0},get(a,c){return Qa(a,c,()=>Su(c,t,i,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,c){return Ea(a).includes(c)},ownKeys(a){return Ea(a)},set(a,c,l){let d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function cn(i,t,e,n){let r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Ss(i,n),setContext:s=>cn(i,s,e,n),override:s=>cn(i.override(s),t,e,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete i[o],!0},get(s,o,a){return Qa(s,o,()=>yu(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(s,o,a){return i[o]=a,delete s[o],!0}})}function Ss(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:wt(e)?e:()=>e,isIndexable:wt(n)?n:()=>n}}var _u=(i,t)=>i?i+Ji(t):t,vs=(i,t)=>$(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Qa(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function yu(i,t,e){let{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=i,a=n[t];return wt(a)&&o.isScriptable(t)&&(a=Mu(t,a,i,e)),ee(a)&&a.length&&(a=Cu(t,a,i,o.isIndexable)),vs(t,a)&&(a=cn(a,r,s&&s[t],o)),a}function Mu(i,t,e,n){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let c=t(s,o||n);return a.delete(i),vs(i,c)&&(c=ws(r._scopes,r,i,c)),c}function Cu(i,t,e,n){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&n(i))return t[s.index%t.length];if($(t[0])){let c=t,l=r._scopes.filter(d=>d!==c);t=[];for(let d of c){let u=ws(l,r,i,d);t.push(cn(u,s,o&&o[i],a))}}return t}function Ja(i,t,e){return wt(i)?i(t,e):i}var xu=(i,t)=>i===!0?t:typeof i=="string"?Et(t,i):void 0;function Pu(i,t,e,n,r){for(let s of t){let o=xu(e,s);if(o){i.add(o);let a=Ja(o._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function ws(i,t,e,n){let r=t._rootScopes,s=Ja(t._fallback,e,n),o=[...i,...r],a=new Set;a.add(n);let c=ka(a,o,e,s||e,n);return c===null||typeof s<"u"&&s!==e&&(c=ka(a,o,s,c,n),c===null)?!1:sr(Array.from(a),[""],r,s,()=>Ou(t,e,n))}function ka(i,t,e,n,r){for(;e;)e=Pu(i,t,e,n,r);return e}function Ou(i,t,e){let n=i._getTarget();t in n||(n[t]={});let r=n[t];return ee(r)&&$(e)?e:r||{}}function Su(i,t,e,n){let r;for(let s of t)if(r=Za(_u(s,i),e),typeof r<"u")return vs(i,r)?ws(e,n,i,r):r}function Za(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function Ea(i){let t=i._keys;return t||(t=i._keys=vu(i._scopes)),t}function vu(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function ks(i,t,e,n){let{iScale:r}=i,{key:s="r"}=this._parsing,o=new Array(n),a,c,l,d;for(a=0,c=n;a<c;++a)l=a+e,d=t[l],o[a]={r:r.parse(Et(d,s),l)};return o}var wu=Number.EPSILON||1e-14,kn=(i,t)=>t<i.length&&!i[t].skip&&i[t],ec=i=>i==="x"?"y":"x";function ku(i,t,e,n){let r=i.skip?t:i,s=t,o=e.skip?t:e,a=Xi(s,r),c=Xi(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let u=n*l,h=n*d;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function Eu(i,t,e){let n=i.length,r,s,o,a,c,l=kn(i,0);for(let d=0;d<n-1;++d)if(c=l,l=kn(i,d+1),!(!c||!l)){if(An(t[d],0,wu)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],s=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[d]=r*o*t[d],e[d+1]=s*o*t[d])}}function Tu(i,t,e="x"){let n=ec(e),r=i.length,s,o,a,c=kn(i,0);for(let l=0;l<r;++l){if(o=a,a=c,c=kn(i,l+1),!a)continue;let d=a[e],u=a[n];o&&(s=(d-o[e])/3,a[`cp1${e}`]=d-s,a[`cp1${n}`]=u-s*t[l]),c&&(s=(c[e]-d)/3,a[`cp2${e}`]=d+s,a[`cp2${n}`]=u+s*t[l])}}function Au(i,t="x"){let e=ec(t),n=i.length,r=Array(n).fill(0),s=Array(n),o,a,c,l=kn(i,0);for(o=0;o<n;++o)if(a=c,c=l,l=kn(i,o+1),!!c){if(l){let d=l[t]-c[t];r[o]=d!==0?(l[e]-c[e])/d:0}s[o]=a?l?st(r[o-1])!==st(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Eu(i,r,s),Tu(i,s,t)}function qi(i,t,e){return Math.max(Math.min(i,e),t)}function Ru(i,t){let e,n,r,s,o,a=ft(i[0],t);for(e=0,n=i.length;e<n;++e)o=s,s=a,a=e<n-1&&ft(i[e+1],t),s&&(r=i[e],o&&(r.cp1x=qi(r.cp1x,t.left,t.right),r.cp1y=qi(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=qi(r.cp2x,t.left,t.right),r.cp2y=qi(r.cp2y,t.top,t.bottom)))}function tc(i,t,e,n,r){let s,o,a,c;if(t.spanGaps&&(i=i.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")Au(i,r);else{let l=n?i[i.length-1]:i[0];for(s=0,o=i.length;s<o;++s)a=i[s],c=ku(l,a,i[Math.min(s+1,o-(n?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&Ru(i,e)}function or(){return typeof window<"u"&&typeof document<"u"}function ar(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qi(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var cr=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function Iu(i,t){return cr(i).getPropertyValue(t)}var Du=["top","right","bottom","left"];function an(i,t,e){let n={};e=e?"-"+e:"";for(let r=0;r<4;r++){let s=Du[r];n[s]=parseFloat(i[t+"-"+s+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Bu=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function Lu(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:s}=n,o=!1,a,c;if(Bu(r,s,i.target))a=r,c=s;else{let l=t.getBoundingClientRect();a=n.clientX-l.left,c=n.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Yt(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,r=cr(e),s=r.boxSizing==="border-box",o=an(r,"padding"),a=an(r,"border","width"),{x:c,y:l,box:d}=Lu(i,e),u=o.left+(d&&a.left),h=o.top+(d&&a.top),{width:m,height:g}=t;return s&&(m-=o.width+a.width,g-=o.height+a.height),{x:Math.round((c-u)/m*e.width/n),y:Math.round((l-h)/g*e.height/n)}}function Fu(i,t,e){let n,r;if(t===void 0||e===void 0){let s=i&&ar(i);if(!s)t=i.clientWidth,e=i.clientHeight;else{let o=s.getBoundingClientRect(),a=cr(s),c=an(a,"border","width"),l=an(a,"padding");t=o.width-l.width-c.width,e=o.height-l.height-c.height,n=Qi(a.maxWidth,s,"clientWidth"),r=Qi(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:n||Gi,maxHeight:r||Gi}}var Wt=i=>Math.round(i*10)/10;function nc(i,t,e,n){let r=cr(i),s=an(r,"margin"),o=Qi(r.maxWidth,i,"clientWidth")||Gi,a=Qi(r.maxHeight,i,"clientHeight")||Gi,c=Fu(i,t,e),{width:l,height:d}=c;if(r.boxSizing==="content-box"){let h=an(r,"border","width"),m=an(r,"padding");l-=m.width+h.width,d-=m.height+h.height}return l=Math.max(0,l-s.width),d=Math.max(0,n?l/n:d-s.height),l=Wt(Math.min(l,o,c.maxWidth)),d=Wt(Math.min(d,a,c.maxHeight)),l&&!d&&(d=Wt(l/2)),(t!==void 0||e!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,l=Wt(Math.floor(d*n))),{width:l,height:d}}function Es(i,t,e){let n=t||1,r=Wt(i.height*n),s=Wt(i.width*n);i.height=Wt(i.height),i.width=Wt(i.width);let o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(i.currentDevicePixelRatio=n,o.height=r,o.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var ic=(function(){let i=!1;try{let t={get passive(){return i=!0,!1}};or()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function Ts(i,t){let e=Iu(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function jt(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function rc(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function sc(i,t,e,n){let r={x:i.cp2x,y:i.cp2y},s={x:t.cp1x,y:t.cp1y},o=jt(i,r,e),a=jt(r,s,e),c=jt(s,t,e),l=jt(o,a,e),d=jt(a,c,e);return jt(l,d,e)}var Nu=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},zu=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function dn(i,t,e){return i?Nu(t,e):zu()}function As(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function Rs(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function oc(i){return i==="angle"?{between:Rn,compare:nu,normalize:ke}:{between:pt,compare:(t,e)=>t-e,normalize:t=>t}}function Ta({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:r}}function Uu(i,t,e){let{property:n,start:r,end:s}=e,{between:o,normalize:a}=oc(n),c=t.length,{start:l,end:d,loop:u}=i,h,m;if(u){for(l+=c,d+=c,h=0,m=c;h<m&&o(a(t[l%c][n]),r,s);++h)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:u,style:i.style}}function Is(i,t,e){if(!e)return[i];let{property:n,start:r,end:s}=e,o=t.length,{compare:a,between:c,normalize:l}=oc(n),{start:d,end:u,loop:h,style:m}=Uu(i,t,e),g=[],_=!1,y=null,C,M,S,w=()=>c(r,S,C)&&a(r,S)!==0,E=()=>a(s,C)===0||c(s,S,C),A=()=>_||w(),I=()=>!_||E();for(let R=d,D=d;R<=u;++R)M=t[R%o],!M.skip&&(C=l(M[n]),C!==S&&(_=c(C,r,s),y===null&&A()&&(y=a(C,r)===0?R:D),y!==null&&I()&&(g.push(Ta({start:y,end:R,loop:h,count:o,style:m})),y=null),D=R,S=C));return y!==null&&g.push(Ta({start:y,end:u,loop:h,count:o,style:m})),g}function Ds(i,t){let e=[],n=i.segments;for(let r=0;r<n.length;r++){let s=Is(n[r],i.points,t);s.length&&e.push(...s)}return e}function Vu(i,t,e,n){let r=0,s=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&i[s%t].skip;)s--;return s%=t,{start:r,end:s}}function ju(i,t,e,n){let r=i.length,s=[],o=t,a=i[t],c;for(c=t+1;c<=e;++c){let l=i[c%r];l.skip||l.stop?a.skip||(n=!1,s.push({start:t%r,end:(c-1)%r,loop:n}),t=o=l.stop?c:null):(o=c,a.skip&&(t=c)),a=l}return o!==null&&s.push({start:t%r,end:o%r,loop:n}),s}function ac(i,t){let e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];let s=!!i._loop,{start:o,end:a}=Vu(e,r,s,n);if(n===!0)return Aa(i,[{start:o,end:a,loop:s}],e,t);let c=a<o?a+r:a,l=!!i._fullLoop&&o===0&&a===r-1;return Aa(i,ju(e,o,c,l),e,t)}function Aa(i,t,e,n){return!n||!n.setContext||!e?t:Wu(i,t,e,n)}function Wu(i,t,e,n){let r=i._chart.getContext(),s=Ra(i.options),{_datasetIndex:o,options:{spanGaps:a}}=i,c=e.length,l=[],d=s,u=t[0].start,h=u;function m(g,_,y,C){let M=a?-1:1;if(g!==_){for(g+=c;e[g%c].skip;)g-=M;for(;e[_%c].skip;)_+=M;g%c!==_%c&&(l.push({start:g%c,end:_%c,loop:y,style:C}),d=C,u=_%c)}}for(let g of t){u=a?u:g.start;let _=e[u%c],y;for(h=u+1;h<=g.end;h++){let C=e[h%c];y=Ra(n.setContext(Tt(r,{type:"segment",p0:_,p1:C,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Hu(y,d)&&m(u,h-1,g.loop,d),_=C,d=y}u<h-1&&m(u,h-1,g.loop,d)}return l}function Ra(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Hu(i,t){if(!t)return!1;let e=[],n=function(r,s){return Ms(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(i,n)!==JSON.stringify(t,n)}function Ki(i,t,e){return i.options.clip?i[e]:t[e]}function $u(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:Ki(e,t,"left"),right:Ki(e,t,"right"),top:Ki(n,t,"top"),bottom:Ki(n,t,"bottom")}:t}function Bs(i,t){let e=t._clip;if(e.disabled)return!1;let n=$u(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var Ks=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){let s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ps.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let s=n.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),s.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},At=new Ks,cc="transparent",qu={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=Cs(i||cc),r=n.valid&&Cs(t||cc);return r&&r.valid?r.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},Ys=class{constructor(t,e,n,r){let s=e[n];r=Bn([t.to,r,s,t.from]);let o=Bn([t.from,s,r]);this._active=!0,this._fn=t.fn||qu[t.type||typeof o],this._easing=vn[t.easing]||vn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Bn([t.to,e,r,t.from]),this._from=Bn([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||e<n),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}c=e/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}},br=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$(t))return;let e=Object.keys(ie.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let s=t[r];if(!$(s))return;let o={};for(let a of e)o[a]=s[a];(ee(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,e){let n=e.options,r=Yu(t,n);if(!r)return[];let s=this._createAnimations(r,n);return n.$shared&&Ku(t.options.$animations,n).then(()=>{t.options=n},()=>{}),s}_createAnimations(t,e){let n=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(t,e));continue}let d=e[l],u=s[l],h=n.get(l);if(u)if(h&&u.active()){u.update(h,d,a);continue}else u.cancel();if(!h||!h.duration){t[l]=d;continue}s[l]=u=new Ys(h,t,l,d),r.push(u)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return At.add(this._chart,n),!0}};function Ku(i,t){let e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){let s=i[n[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function Yu(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function lc(i,t){let e=i&&i.options||{},n=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:n?s:r,end:n?r:s}}function Gu(i,t,e){if(e===!1)return!1;let n=lc(i,e),r=lc(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Xu(i){let t,e,n,r;return $(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:i===!1}}function cl(i,t){let e=[],n=i._getSortedDatasetMetas(t),r,s;for(r=0,s=n.length;r<s;++r)e.push(n[r].index);return e}function dc(i,t,e,n={}){let r=i.keys,s=n.mode==="single",o,a,c,l;if(t===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===e){if(d=!0,n.all)continue;break}l=i.values[c],oe(l)&&(s||t===0||st(t)===st(l))&&(t+=l)}return!d&&!n.all?0:t}function Qu(i,t){let{iScale:e,vScale:n}=t,r=e.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(i),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[r]:d,[s]:i[d]};return a}function Ls(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function Ju(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Zu(i){let{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function eh(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function uc(i,t,e,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let s=i[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function hc(i,t){let{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=n,c=s.axis,l=o.axis,d=Ju(s,o,n),u=t.length,h;for(let m=0;m<u;++m){let g=t[m],{[c]:_,[l]:y}=g,C=g._stacks||(g._stacks={});h=C[l]=eh(r,d,_),h[a]=y,h._top=uc(h,o,!0,n.type),h._bottom=uc(h,o,!1,n.type);let M=h._visualValues||(h._visualValues={});M[a]=y}}function Fs(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function th(i,t){return Tt(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function nh(i,t,e){return Tt(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function li(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let r of t){let s=r._stacks;if(!s||s[n]===void 0||s[n][e]===void 0)return;delete s[n][e],s[n]._visualValues!==void 0&&s[n]._visualValues[e]!==void 0&&delete s[n]._visualValues[e]}}}var Ns=i=>i==="reset"||i==="none",mc=(i,t)=>t?i:Object.assign({},i),ih=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:cl(e,!0),values:null},Xt=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ls(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&li(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,m,g,_)=>h==="x"?m:h==="r"?_:g,o=n.xAxisID=F(r.xAxisID,Fs(e,"x")),a=n.yAxisID=F(r.yAxisID,Fs(e,"y")),c=n.rAxisID=F(r.rAxisID,Fs(e,"r")),l=n.indexAxis,d=n.iAxisID=s(l,o,a,c),u=n.vAxisID=s(l,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&fs(this._data,this),e._stacked&&li(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if($(n)){let s=this._cachedMeta;this._data=Qu(n,s)}else if(r!==n){if(r){fs(r,this);let s=this._cachedMeta;li(s),s._parsed=[]}n&&Object.isExtensible(n)&&Wa(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=n._stacked;n._stacked=Ls(n.vScale,n),n.stack!==r.stack&&(s=!0,li(n),n.stack=r.stack),this._resyncElements(e),(s||o!==n._stacked)&&(hc(this,n._parsed),n._stacked=Ls(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],u,h,m;if(this._parsing===!1)r._parsed=s,r._sorted=!0,m=s;else{ee(s[e])?m=this.parseArrayData(r,s,e,n):$(s[e])?m=this.parseObjectData(r,s,e,n):m=this.parsePrimitiveData(r,s,e,n);let g=()=>h[c]===null||d&&h[c]<d[c];for(u=0;u<n;++u)r._parsed[u+e]=h=m[u],l&&(g()&&(l=!1),d=h);r._sorted=l}a&&hc(this,m)}parsePrimitiveData(e,n,r,s){let{iScale:o,vScale:a}=e,c=o.axis,l=a.axis,d=o.getLabels(),u=o===a,h=new Array(s),m,g,_;for(m=0,g=s;m<g;++m)_=m+r,h[m]={[c]:u||o.parse(d[_],_),[l]:a.parse(n[_],_)};return h}parseArrayData(e,n,r,s){let{xScale:o,yScale:a}=e,c=new Array(s),l,d,u,h;for(l=0,d=s;l<d;++l)u=l+r,h=n[u],c[l]={x:o.parse(h[0],u),y:a.parse(h[1],u)};return c}parseObjectData(e,n,r,s){let{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),u,h,m,g;for(u=0,h=s;u<h;++u)m=u+r,g=n[m],d[u]={x:o.parse(Et(g,c),m),y:a.parse(Et(g,l),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){let s=this.chart,o=this._cachedMeta,a=n[e.axis],c={keys:cl(s,!0),values:n._stacks[e.axis]._visualValues};return dc(c,a,o.index,{mode:r})}updateRangeFromParsed(e,n,r,s){let o=r[n.axis],a=o===null?NaN:o,c=s&&r._stacks[n.axis];s&&c&&(s.values=c,a=dc(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,a=s.length,c=this._getOtherScale(e),l=ih(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Zu(c),m,g;function _(){g=s[m];let y=g[c.axis];return!oe(g[e.axis])||u>y||h<y}for(m=0;m<a&&!(!_()&&(this.updateRangeFromParsed(d,e,g,l),o));++m);if(o){for(m=a-1;m>=0;--m)if(!_()){this.updateRangeFromParsed(d,e,g,l);break}}return d}getAllParsedValues(e){let n=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][e.axis],oe(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=Xu(F(this.options.clip,Gu(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],o=n.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,u;for(r.dataset&&r.dataset.draw(e,o,c,l),u=c;u<c+l;++u){let h=s[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,o))}for(u=0;u<a.length;++u)a[u].draw(e,o)}getStyle(e,n){let r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){let s=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];o=a.$context||(a.$context=nh(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=th(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){let s=n==="active",o=this._cachedDataOpts,a=e+"-"+n,c=o[a],l=this.enableOptionSharing&&Tn(r);if(c)return mc(c,l);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),g=Object.keys(ie.elements[e]),_=()=>this.getContext(r,s,n),y=d.resolveNamedOptions(m,g,_,h);return y.$shared&&(y.$shared=l,o[a]=Object.freeze(mc(y,l))),y}_resolveAnimations(e,n,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),m=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(m,this.getContext(e,r,n))}let d=new br(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ns(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:a}}updateElement(e,n,r,s){Ns(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Ns(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;let o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,r=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=r.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,r=!0){let s=this._cachedMeta,o=s.data,a=e+n,c,l=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(l(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(e,n);r._stacked&&li(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function rh(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let r=0,s=e.length;r<s;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=gs(n.sort((r,s)=>r-s))}return i._cache.$bar}function sh(i){let t=i.iScale,e=rh(t,i.type),n=t._length,r,s,o,a,c=()=>{o===32767||o===-32768||(Tn(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),c();return n}function oh(i,t,e,n){let r=e.barThickness,s,o;return j(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:t.pixels[i]-s/2}}function ah(i,t,e,n){let r=t.pixels,s=r[i],o=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null,c=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/n,ratio:e.barPercentage,start:l}}function ch(i,t,e,n){let r=e.parse(i[0],n),s=e.parse(i[1],n),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function ll(i,t,e,n){return ee(i)?ch(i,t,e,n):t[e.axis]=e.parse(i,n),t}function fc(i,t,e,n){let r=i.iScale,s=i.vScale,o=r.getLabels(),a=r===s,c=[],l,d,u,h;for(l=e,d=e+n;l<d;++l)h=t[l],u={},u[r.axis]=a||r.parse(o[l],l),c.push(ll(h,u,s,l));return c}function zs(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function lh(i,t,e){return i!==0?st(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function dh(i){let t,e,n,r,s;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:n,reverse:t,top:r,bottom:s}}function uh(i,t,e,n){let r=t.borderSkipped,s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=dh(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=l:(e._bottom||0)===n?r=d:(s[gc(d,o,a,c)]=!0,r=l)),s[gc(r,o,a,c)]=!0,i.borderSkipped=s}function gc(i,t,e,n){return n?(i=hh(i,t,e),i=pc(i,e,t)):i=pc(i,t,e),i}function hh(i,t,e){return i===t?e:i===e?t:i}function pc(i,t,e){return i==="start"?t:i==="end"?e:i}function mh(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var fh=(()=>{class i extends Xt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return fc(e,n,r,s)}parseArrayData(e,n,r,s){return fc(e,n,r,s)}parseObjectData(e,n,r,s){let{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,u=a.axis==="x"?c:l,h=[],m,g,_,y;for(m=r,g=r+s;m<g;++m)y=n[m],_={},_[o.axis]=o.parse(Et(y,d),m),h.push(ll(Et(y,u),_,a,m));return h}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);let o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(e),a=o._custom,c=zs(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,s);for(let g=n;g<n+r;g++){let _=this.getParsed(g),y=o||j(_[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),C=this._calculateBarIndexPixels(g,u),M=(_._stacks||{})[c.axis],S={horizontal:d,base:y.base,enableBorderRadius:!M||zs(_._custom)||a===M._top||a===M._bottom,x:d?y.head:C.center,y:d?C.center:y.head,height:d?C.size:Math.abs(y.size),width:d?Math.abs(y.size):C.size};m&&(S.options=h||this.resolveDataElementOptions(g,e[g].active?"active":s));let w=S.options||e[g].options;uh(S,w,M,a),mh(S,w,u.ratio),this.updateElement(e[g],g,S,s)}}_getStacks(e,n){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),l=c&&c[r.axis],d=u=>{let h=u._parsed.find(g=>g[r.axis]===l),m=h&&h[u.vScale.axis];if(j(m)||isNaN(m))return!0};for(let u of s)if(!(n!==void 0&&d(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)e[F(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){let s=this._getStacks(e,r),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){let e=this.options,n=this._cachedMeta,r=n.iScale,s=[],o,a;for(o=0,a=n.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=e.barThickness;return{min:c||sh(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(e),d=l._custom,u=zs(d),h=l[n.axis],m=0,g=r?this.applyStack(n,l,r):h,_,y;g!==h&&(m=g-h,g=h),u&&(h=d.barStart,g=d.barEnd-d.barStart,h!==0&&st(h)!==st(d.barEnd)&&(m=0),m+=h);let C=!j(o)&&!u?o:m,M=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(m+g):_=M,y=_-M,Math.abs(y)<a){y=lh(y,n,c)*a,h===c&&(M-=y/2);let S=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),E=Math.min(S,w),A=Math.max(S,w);M=Math.max(Math.min(M,A),E),_=M+y,r&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(_)-n.getValueForPixel(M))}if(M===n.getPixelForValue(c)){let S=st(y)*n.getLineWidthForValue(c)/2;M+=S,y-=S}return{size:y,base:M,head:_,center:_+y/2}}_calculateBarIndexPixels(e,n){let r=n.scale,s=this.options,o=s.skipNull,a=F(s.maxBarThickness,1/0),c,l,d=this._getAxisCount();if(n.grouped){let u=o?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?ah(e,n,s,u*d):oh(e,n,s,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(F(m,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+g;c=h.start+h.chunk*_+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return i})(),gh=(()=>{class i extends Xt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){let o=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,n,r,s){let o=super.parseArrayData(e,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=F(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(e,n,r,s){let o=super.parseObjectData(e,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=F(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,s),u=a.axis,h=c.axis;for(let m=n;m<n+r;m++){let g=e[m],_=!o&&this.getParsed(m),y={},C=y[u]=o?a.getPixelForDecimal(.5):a.getPixelForValue(_[u]),M=y[h]=o?c.getBasePixel():c.getPixelForValue(_[h]);y.skip=isNaN(C)||isNaN(M),d&&(y.options=l||this.resolveDataElementOptions(m,g.active?"active":s),o&&(y.options.radius=0)),this.updateElement(g,m,y,s)}}resolveDataElementOptions(e,n){let r=this.getParsed(e),s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=F(r&&r._custom,o),s}}return i})();function ph(i,t,e){let n=1,r=1,s=0,o=0;if(t<te){let a=i,c=a+t,l=Math.cos(a),d=Math.sin(a),u=Math.cos(c),h=Math.sin(c),m=(S,w,E)=>Rn(S,a,c,!0)?1:Math.max(w,w*e,E,E*e),g=(S,w,E)=>Rn(S,a,c,!0)?-1:Math.min(w,w*e,E,E*e),_=m(0,l,u),y=m(de,d,h),C=g(K,l,u),M=g(K+de,d,h);n=(_-C)/2,r=(y-M)/2,s=-(_+C)/2,o=-(y+M)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}var go=(()=>{class i extends Xt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data,{labels:{pointStyle:r,textAlign:s,color:o,useBorderRadius:a,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,d)=>{let h=e.getDatasetMeta(0).controller.getStyle(d);return{text:l,fillStyle:h.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(c||h.borderRadius),index:d}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if($(r[e])){let{key:l="value"}=this._parsing;o=d=>+Et(r[d],l)}let a,c;for(a=e,c=e+n;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Ze(this.options.rotation-90)}_getCircumference(){return Ze(this.options.circumference)}_getRotationExtents(){let e=te,n=-te;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),n=Math.max(n,o+a)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(Da(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:_,offsetY:y}=ph(h,u,l),C=(r.width-a)/m,M=(r.height-a)/g,S=Math.max(Math.min(C,M)/2,0),w=cs(this.options.radius,S),E=Math.max(w*l,0),A=(w-E)/this._getVisibleDatasetWeightTotal();this.offsetX=_*w,this.offsetY=y*w,s.total=this.calculateTotal(),this.outerRadius=w-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/te)}updateElements(e,n,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,u=(c.left+c.right)/2,h=(c.top+c.bottom)/2,m=o&&d.animateScale,g=m?0:this.innerRadius,_=m?0:this.outerRadius,{sharedOptions:y,includeOptions:C}=this._getSharedOptions(n,s),M=this._getRotation(),S;for(S=0;S<n;++S)M+=this._circumference(S,o);for(S=n;S<n+r;++S){let w=this._circumference(S,o),E=e[S],A={x:u+this.offsetX,y:h+this.offsetY,startAngle:M,endAngle:M+w,circumference:w,outerRadius:_,innerRadius:g};C&&(A.options=y||this.resolveDataElementOptions(S,E.active?"active":s)),M+=w,this.updateElement(E,S,A,s)}}calculateTotal(){let e=this._cachedMeta,n=e.data,r=0,s;for(s=0;s<n.length;s++){let o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?te*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=In(n._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let n=0,r=this.chart,s,o,a,c,l;if(!e){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,c=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){let o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(F(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),bh=(()=>{class i extends Xt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled,{start:c,count:l}=_s(n,s,a);this._drawStart=c,this._drawCount=l,ys(n)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(s,c,l,e)}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),m=a.axis,g=c.axis,{spanGaps:_,segment:y}=this.options,C=ln(_)?_:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||s==="none",S=n+r,w=e.length,E=n>0&&this.getParsed(n-1);for(let A=0;A<w;++A){let I=e[A],R=M?I:{};if(A<n||A>=S){R.skip=!0;continue}let D=this.getParsed(A),U=j(D[g]),N=R[m]=a.getPixelForValue(D[m],A),q=R[g]=o||U?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,D,l):D[g],A);R.skip=isNaN(N)||isNaN(q)||U,R.stop=A>0&&Math.abs(D[m]-E[m])>C,y&&(R.parsed=D,R.raw=d.data[A]),h&&(R.options=u||this.resolveDataElementOptions(A,I.active?"active":s)),M||this.updateElement(I,A,R,s),E=D}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),dl=(()=>{class i extends Xt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((o,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=In(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,n,r,s){return ks.bind(this)(e,n,r,s)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/e.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,n,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,m=d.getIndexAngle(0)-.5*K,g=m,_,y=360/this.countVisibleElements();for(_=0;_<n;++_)g+=this._computeAngle(_,s,y);for(_=n;_<n+r;_++){let C=e[_],M=g,S=g+this._computeAngle(_,s,y),w=a.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=S,o&&(l.animateScale&&(w=0),l.animateRotate&&(M=S=m));let E={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:M,endAngle:S,options:this.resolveDataElementOptions(_,C.active?"active":s)};this.updateElement(C,_,E,s)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Ze(this.resolveDataElementOptions(e,n).angle||r):0}}return i})(),_h=(()=>{class i extends go{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),yh=(()=>{class i extends Xt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return ks.bind(this)(e,n,r,s)}update(e){let n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=n;c<n+r;c++){let l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":s),u=o.getPointPositionForValue(c,this.getParsed(c).r),h=a?o.xCenter:u.x,m=a?o.yCenter:u.y,g={x:h,y:m,angle:u.angle,skip:isNaN(h)||isNaN(m),options:d};this.updateElement(l,c,g,s)}}}return i})(),Mh=(()=>{class i extends Xt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){let n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled,{start:o,count:a}=_s(n,r,s);if(this._drawStart=o,this._drawCount=a,ys(n)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),m=this.includeOptions(s,h),g=a.axis,_=c.axis,{spanGaps:y,segment:C}=this.options,M=ln(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||s==="none",w=n>0&&this.getParsed(n-1);for(let E=n;E<n+r;++E){let A=e[E],I=this.getParsed(E),R=S?A:{},D=j(I[_]),U=R[g]=a.getPixelForValue(I[g],E),N=R[_]=o||D?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[_],E);R.skip=isNaN(U)||isNaN(N)||D,R.stop=E>0&&Math.abs(I[g]-w[g])>M,C&&(R.parsed=I,R.raw=d.data[E]),m&&(R.options=h||this.resolveDataElementOptions(E,A.active?"active":s)),S||this.updateElement(A,E,R,s),w=I}this.updateSharedOptions(h,s,u)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;let o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}return i})(),Ch=Object.freeze({__proto__:null,BarController:fh,BubbleController:gh,DoughnutController:go,LineController:bh,PieController:_h,PolarAreaController:dl,RadarController:yh,ScatterController:Mh});function un(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Gs=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return un()}parse(){return un()}format(){return un()}add(){return un()}diff(){return un()}startOf(){return un()}endOf(){return un()}},xh={_date:Gs};function Ph(i,t,e,n){let{controller:r,data:s,_sorted:o}=i,a=r._cachedMeta.iScale,c=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){let l=a._reversePixels?Ua:mt;if(n){if(r._sharedOptions){let d=s[0],u=typeof d.getRange=="function"&&d.getRange(t);if(u){let h=l(s,t,e-u),m=l(s,t,e+u);return{lo:h.lo,hi:m.hi}}}}else{let d=l(s,t,e);if(c){let{vScale:u}=r._cachedMeta,{_parsed:h}=i,m=h.slice(0,d.lo+1).reverse().findIndex(_=>!j(_[u.axis]));d.lo-=Math.max(0,m);let g=h.slice(d.hi).findIndex(_=>!j(_[u.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:s.length-1}}function yi(i,t,e,n,r){let s=i.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:u,hi:h}=Ph(s[a],t,o,r);for(let m=u;m<=h;++m){let g=d[m];g.skip||n(g,l,m)}}}function Oh(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,r){let s=t?Math.abs(n.x-r.x):0,o=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Us(i,t,e,n,r){let s=[];return!r&&!i.isPointInArea(t)||yi(i,e,t,function(a,c,l){!r&&!ft(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function Sh(i,t,e,n){let r=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:u}=ms(o,{x:t.x,y:t.y});Rn(u,l,d)&&r.push({element:o,datasetIndex:a,index:c})}return yi(i,e,t,s),r}function vh(i,t,e,n,r,s){let o=[],a=Oh(e),c=Number.POSITIVE_INFINITY;function l(d,u,h){let m=d.inRange(t.x,t.y,r);if(n&&!m)return;let g=d.getCenterPoint(r);if(!(!!s||i.isPointInArea(g))&&!m)return;let y=a(t,g);y<c?(o=[{element:d,datasetIndex:u,index:h}],c=y):y===c&&o.push({element:d,datasetIndex:u,index:h})}return yi(i,e,t,l),o}function Vs(i,t,e,n,r,s){return!s&&!i.isPointInArea(t)?[]:e==="r"&&!n?Sh(i,t,e,r):vh(i,t,e,n,r,s)}function bc(i,t,e,n,r){let s=[],o=e==="x"?"inXRange":"inYRange",a=!1;return yi(i,e,t,(c,l,d)=>{c[o]&&c[o](t[e],r)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),n&&!a?[]:s}var wh={evaluateInteractionItems:yi,modes:{index(i,t,e,n){let r=Yt(t,i),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Us(i,r,s,n,o):Vs(i,r,s,!1,n,o),c=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,u=l.data[d];u&&!u.skip&&c.push({element:u,datasetIndex:l.index,index:d})}),c):[]},dataset(i,t,e,n){let r=Yt(t,i),s=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?Us(i,r,s,n,o):Vs(i,r,s,!1,n,o);if(a.length>0){let c=a[0].datasetIndex,l=i.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(i,t,e,n){let r=Yt(t,i),s=e.axis||"xy",o=e.includeInvisible||!1;return Us(i,r,s,n,o)},nearest(i,t,e,n){let r=Yt(t,i),s=e.axis||"xy",o=e.includeInvisible||!1;return Vs(i,r,s,e.intersect,n,o)},x(i,t,e,n){let r=Yt(t,i);return bc(i,r,"x",e.intersect,n)},y(i,t,e,n){let r=Yt(t,i);return bc(i,r,"y",e.intersect,n)}}},ul=["left","top","right","bottom"];function di(i,t){return i.filter(e=>e.pos===t)}function _c(i,t){return i.filter(e=>ul.indexOf(e.pos)===-1&&e.box.axis===t)}function ui(i,t){return i.sort((e,n)=>{let r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function kh(i){let t=[],e,n,r,s,o,a;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function Eh(i){let t={};for(let e of i){let{stack:n,pos:r,stackWeight:s}=e;if(!n||!ul.includes(r))continue;let o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function Th(i,t){let e=Eh(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t,s,o,a;for(s=0,o=i.length;s<o;++s){a=i[s];let{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*n:c&&t.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:c&&t.availableHeight)}return e}function Ah(i){let t=kh(i),e=ui(t.filter(l=>l.box.fullSize),!0),n=ui(di(t,"left"),!0),r=ui(di(t,"right")),s=ui(di(t,"top"),!0),o=ui(di(t,"bottom")),a=_c(t,"x"),c=_c(t,"y");return{fullSize:e,leftAndTop:n.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:di(t,"chartArea"),vertical:n.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function yc(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function hl(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Rh(i,t,e,n){let{pos:r,box:s}=e,o=i.maxPadding;if(!$(r)){e.size&&(i[r]-=e.size);let u=n[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?s.height:s.width),e.size=u.size/u.count,i[r]+=e.size}s.getPadding&&hl(o,s.getPadding());let a=Math.max(0,t.outerWidth-yc(o,i,"left","right")),c=Math.max(0,t.outerHeight-yc(o,i,"top","bottom")),l=a!==i.w,d=c!==i.h;return i.w=a,i.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function Ih(i){let t=i.maxPadding;function e(n){let r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Dh(i,t){let e=t.maxPadding;function n(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return n(i?["left","right"]:["top","bottom"])}function fi(i,t,e,n){let r=[],s,o,a,c,l,d;for(s=0,o=i.length,l=0;s<o;++s){a=i[s],c=a.box,c.update(a.width||t.w,a.height||t.h,Dh(a.horizontal,t));let{same:u,other:h}=Rh(t,e,a,n);l|=u&&r.length,d=d||h,c.fullSize||r.push(a)}return l&&fi(r,t,e,n)||d}function lr(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function Mc(i,t,e,n){let r=e.padding,{x:s,y:o}=t;for(let a of i){let c=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let u=t.w*d,h=l.size||c.height;Tn(l.start)&&(o=l.start),c.fullSize?lr(c,r.left,o,e.outerWidth-r.right-r.left,h):lr(c,t.left+l.placed,o,u,h),l.start=o,l.placed+=u,o=c.bottom}else{let u=t.h*d,h=l.size||c.width;Tn(l.start)&&(s=l.start),c.fullSize?lr(c,s,r.top,h,e.outerHeight-r.bottom-r.top):lr(c,s,t.top+l.placed,h,u),l.start=s,l.placed+=u,s=c.right}}t.x=s,t.y=o}var Be={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let r=Te(i.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=Ah(i.boxes),c=a.vertical,l=a.horizontal;G(i.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let d=c.reduce((_,y)=>y.box.options&&y.box.options.display===!1?_:_+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},r);hl(h,Te(n));let m=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),g=Th(c.concat(l),u);fi(a.fullSize,m,u,g),fi(c,m,u,g),fi(l,m,u,g)&&fi(c,m,u,g),Ih(m),Mc(a.leftAndTop,m,u,g),m.x+=m.w,m.y+=m.h,Mc(a.rightAndBottom,m,u,g),i.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},G(a.chartArea,_=>{let y=_.box;Object.assign(y,i.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},_r=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}},Xs=class extends _r{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},gr="$chartjs",Bh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cc=i=>i===null||i==="";function Lh(i,t){let e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[gr]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Cc(r)){let s=Ts(i,"width");s!==void 0&&(i.width=s)}if(Cc(n))if(i.style.height==="")i.height=i.width/(t||2);else{let s=Ts(i,"height");s!==void 0&&(i.height=s)}return i}var ml=ic?{passive:!0}:!1;function Fh(i,t,e){i&&i.addEventListener(t,e,ml)}function Nh(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,ml)}function zh(i,t){let e=Bh[i.type]||i.type,{x:n,y:r}=Yt(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function yr(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Uh(i,t,e){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||yr(a.addedNodes,n),o=o&&!yr(a.removedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Vh(i,t,e){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||yr(a.removedNodes,n),o=o&&!yr(a.addedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var pi=new Map,xc=0;function fl(){let i=window.devicePixelRatio;i!==xc&&(xc=i,pi.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function jh(i,t){pi.size||window.addEventListener("resize",fl),pi.set(i,t)}function Wh(i){pi.delete(i),pi.size||window.removeEventListener("resize",fl)}function Hh(i,t,e){let n=i.canvas,r=n&&ar(n);if(!r)return;let s=bs((a,c)=>{let l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(r),jh(i,s),o}function js(i,t,e){e&&e.disconnect(),t==="resize"&&Wh(i)}function $h(i,t,e){let n=i.canvas,r=bs(s=>{i.ctx!==null&&e(zh(s,i))},i);return Fh(n,t,r),r}var Qs=class extends _r{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Lh(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[gr])return!1;let n=e[gr].initial;["height","width"].forEach(s=>{let o=n[s];j(o)?e.removeAttribute(s):e.setAttribute(s,o)});let r=n.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[gr],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),o={attach:Uh,detach:Vh,resize:Hh}[e]||$h;r[e]=o(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:js,detach:js,resize:js}[e]||Nh)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return nc(t,e,n,r)}isAttached(t){let e=t&&ar(t);return!!(e&&e.isConnected)}};function qh(i){return!or()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Xs:Qs}var ot=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return ln(this.x)&&ln(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let r={};return t.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}};function Kh(i,t){let e=i.options.ticks,n=Yh(i),r=Math.min(e.maxTicksLimit||n,n),s=e.major.enabled?Xh(t):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return Qh(t,l,s,o/r),l;let d=Gh(s,t,r);if(o>0){let u,h,m=o>1?Math.round((c-a)/(o-1)):null;for(dr(t,l,d,j(m)?0:a-m,a),u=0,h=o-1;u<h;u++)dr(t,l,d,s[u],s[u+1]);return dr(t,l,d,c,j(m)?t.length:c+m),l}return dr(t,l,d),l}function Yh(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(n,r))}function Gh(i,t,e){let n=Jh(i),r=t.length/e;if(!n)return Math.max(r,1);let s=Fa(n);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function Xh(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Qh(i,t,e,n){let r=0,s=e[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===s&&(t.push(i[o]),r++,s=e[r*n])}function dr(i,t,e,n,r){let s=F(n,0),o=Math.min(F(r,i.length),i.length),a=0,c,l,d;for(e=Math.ceil(e),r&&(c=r-n,e=c/Math.floor(c/e)),d=s;d<0;)a++,d=Math.round(s+a*e);for(l=Math.max(s,0);l<o;l++)l===d&&(t.push(i[l]),a++,d=Math.round(s+a*e))}function Jh(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var Zh=i=>i==="left"?"right":i==="right"?"left":i,Pc=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Oc=(i,t)=>Math.min(t||i,i);function Sc(i,t){let e=[],n=i.length/t,r=i.length,s=0;for(;s<r;s+=n)e.push(i[Math.floor(s)]);return e}function em(i,t,e){let n=i.ticks.length,r=Math.min(t,n-1),s=i._startPixel,o=i._endPixel,a=1e-6,c=i.getPixelForTick(r),l;if(!(e&&(n===1?l=Math.max(c-s,o-c):t===0?l=(i.getPixelForTick(1)-c)/2:l=(c-i.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function tm(i,t){G(i,e=>{let n=e.gc,r=n.length/2,s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}})}function hi(i){return i.drawTicks?i.tickLength:0}function vc(i,t){if(!i.display)return 0;let e=_e(i.font,t),n=Te(i.padding);return(ee(i.text)?i.text.length:1)*e.lineHeight+n.height}function nm(i,t){return Tt(i,{scale:t,type:"scale"})}function im(i,t,e){return Tt(i,{tick:e,index:t,type:"tick"})}function rm(i,t,e){let n=tr(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Zh(n)),n}function sm(i,t,e,n){let{top:r,left:s,bottom:o,right:a,chart:c}=i,{chartArea:l,scales:d}=c,u=0,h,m,g,_=o-r,y=a-s;if(i.isHorizontal()){if(m=Ee(n,s,a),$(e)){let C=Object.keys(e)[0],M=e[C];g=d[C].getPixelForValue(M)+_-t}else e==="center"?g=(l.bottom+l.top)/2+_-t:g=Pc(i,e,t);h=a-s}else{if($(e)){let C=Object.keys(e)[0],M=e[C];m=d[C].getPixelForValue(M)-y+t}else e==="center"?m=(l.left+l.right)/2-y+t:m=Pc(i,e,t);g=Ee(n,o,r),u=e==="left"?-de:de}return{titleX:m,titleY:g,maxWidth:h,rotation:u}}var mn=class i extends ot{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=je(t,Number.POSITIVE_INFINITY),e=je(e,Number.NEGATIVE_INFINITY),n=je(n,Number.POSITIVE_INFINITY),r=je(r,Number.NEGATIVE_INFINITY),{min:je(t,n),max:je(e,r),minDefined:oe(t),maxDefined:oe(e)}}getMinMax(t){let{min:e,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:n};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(n=Math.max(n,o.max));return e=s&&e>n?n:e,n=r&&e>n?e:n,{min:je(e,je(n,e)),max:je(n,je(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Z(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Xa(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?Sc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Kh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Z(this.options.afterUpdate,[this])}beforeSetDimensions(){Z(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Z(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Z(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Z(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,r,s;for(n=0,r=t.length;n<r;n++)s=t[n],s.label=Z(e.callback,[s.value,n,t],this)}afterTickToLabelConversion(){Z(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Z(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=Oc(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation,o=r,a,c,l;if(!this._isVisible()||!e.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,m=xe(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:m/(n-1),u+6>a&&(a=m/(n-(t.offset?.5:1)),c=this.maxHeight-hi(t.grid)-e.padding-vc(t.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),o=Zi(Math.min(Math.asin(xe((d.highest.height+6)/a,-1,1)),Math.asin(xe(c/l,-1,1))-Math.asin(xe(h/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Z(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Z(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=vc(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=hi(s)+c):(t.height=this.maxHeight,t.width=hi(s)+c),n.display&&this.ticks.length){let{first:l,last:d,widest:u,highest:h}=this._getLabelSizes(),m=n.padding*2,g=Ze(this.labelRotation),_=Math.cos(g),y=Math.sin(g);if(a){let C=n.mirror?0:y*u.width+_*h.height;t.height=Math.min(this.maxHeight,t.height+C+m)}else{let C=n.mirror?0:_*u.width+y*h.height;t.width=Math.min(this.maxWidth,t.width+C+m)}this._calculatePadding(l,d,y,_)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),h=0,m=0;c?l?(h=r*t.width,m=n*e.height):(h=n*t.height,m=r*e.width):s==="start"?m=e.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,m=e.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-u+o)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;s==="start"?(d=0,u=t.height):s==="end"&&(d=e.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Z(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)j(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=Sc(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(e/Oc(e,n)),l=0,d=0,u,h,m,g,_,y,C,M,S,w,E;for(u=0;u<e;u+=c){if(g=t[u].label,_=this._resolveTickFontOptions(u),r.font=y=_.string,C=s[y]=s[y]||{data:{},gc:[]},M=_.lineHeight,S=w=0,!j(g)&&!ee(g))S=ri(r,C.data,C.gc,S,g),w=M;else if(ee(g))for(h=0,m=g.length;h<m;++h)E=g[h],!j(E)&&!ee(E)&&(S=ri(r,C.data,C.gc,S,E),w+=M);o.push(S),a.push(w),l=Math.max(S,l),d=Math.max(w,d)}tm(s,e);let A=o.indexOf(l),I=a.indexOf(d),R=D=>({width:o[D]||0,height:a[D]||0});return{first:R(0),last:R(e-1),widest:R(A),highest:R(I),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return za(this._alignToPixels?$t(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=im(this.getContext(),t,n))}return this.$context||(this.$context=nm(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Ze(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*n>a*r?a/n:c/r:c*r<a*n?c/n:a/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),h=hi(s),m=[],g=a.setContext(this.getContext()),_=g.display?g.width:0,y=_/2,C=function(re){return $t(n,re,_)},M,S,w,E,A,I,R,D,U,N,q,we;if(o==="top")M=C(this.bottom),I=this.bottom-h,D=M-y,N=C(t.top)+y,we=t.bottom;else if(o==="bottom")M=C(this.top),N=t.top,we=C(t.bottom)-y,I=M+y,D=this.top+h;else if(o==="left")M=C(this.right),A=this.right-h,R=M-y,U=C(t.left)+y,q=t.right;else if(o==="right")M=C(this.left),U=t.left,q=C(t.right)-y,A=M+y,R=this.left+h;else if(e==="x"){if(o==="center")M=C((t.top+t.bottom)/2+.5);else if($(o)){let re=Object.keys(o)[0],he=o[re];M=C(this.chart.scales[re].getPixelForValue(he))}N=t.top,we=t.bottom,I=M+y,D=I+h}else if(e==="y"){if(o==="center")M=C((t.left+t.right)/2);else if($(o)){let re=Object.keys(o)[0],he=o[re];M=C(this.chart.scales[re].getPixelForValue(he))}A=M-y,R=A-h,U=t.left,q=t.right}let $e=F(r.ticks.maxTicksLimit,u),Q=Math.max(1,Math.ceil(u/$e));for(S=0;S<u;S+=Q){let re=this.getContext(S),he=s.setContext(re),it=a.setContext(re),Re=he.lineWidth,yn=he.color,Ti=it.dash||[],Mn=it.dashOffset,Yn=he.tickWidth,Zt=he.tickColor,Gn=he.tickBorderDash||[],en=he.tickBorderDashOffset;w=em(this,S,c),w!==void 0&&(E=$t(n,w,Re),l?A=R=U=q=E:I=D=N=we=E,m.push({tx1:A,ty1:I,tx2:R,ty2:D,x1:U,y1:N,x2:q,y2:we,width:Re,color:yn,borderDash:Ti,borderDashOffset:Mn,tickWidth:Yn,tickColor:Zt,tickBorderDash:Gn,tickBorderDashOffset:en}))}return this._ticksLength=u,this._borderValue=M,m}_computeLabelItems(t){let e=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:u}=s,h=hi(n.grid),m=h+d,g=u?-d:m,_=-Ze(this.labelRotation),y=[],C,M,S,w,E,A,I,R,D,U,N,q,we="middle";if(r==="top")A=this.bottom-g,I=this._getXAxisLabelAlignment();else if(r==="bottom")A=this.top+g,I=this._getXAxisLabelAlignment();else if(r==="left"){let Q=this._getYAxisLabelAlignment(h);I=Q.textAlign,E=Q.x}else if(r==="right"){let Q=this._getYAxisLabelAlignment(h);I=Q.textAlign,E=Q.x}else if(e==="x"){if(r==="center")A=(t.top+t.bottom)/2+m;else if($(r)){let Q=Object.keys(r)[0],re=r[Q];A=this.chart.scales[Q].getPixelForValue(re)+m}I=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")E=(t.left+t.right)/2-m;else if($(r)){let Q=Object.keys(r)[0],re=r[Q];E=this.chart.scales[Q].getPixelForValue(re)}I=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(c==="start"?we="top":c==="end"&&(we="bottom"));let $e=this._getLabelSizes();for(C=0,M=a.length;C<M;++C){S=a[C],w=S.label;let Q=s.setContext(this.getContext(C));R=this.getPixelForTick(C)+s.labelOffset,D=this._resolveTickFontOptions(C),U=D.lineHeight,N=ee(w)?w.length:1;let re=N/2,he=Q.color,it=Q.textStrokeColor,Re=Q.textStrokeWidth,yn=I;o?(E=R,I==="inner"&&(C===M-1?yn=this.options.reverse?"left":"right":C===0?yn=this.options.reverse?"right":"left":yn="center"),r==="top"?l==="near"||_!==0?q=-N*U+U/2:l==="center"?q=-$e.highest.height/2-re*U+U:q=-$e.highest.height+U/2:l==="near"||_!==0?q=U/2:l==="center"?q=$e.highest.height/2-re*U:q=$e.highest.height-N*U,u&&(q*=-1),_!==0&&!Q.showLabelBackdrop&&(E+=U/2*Math.sin(_))):(A=R,q=(1-N)*U/2);let Ti;if(Q.showLabelBackdrop){let Mn=Te(Q.backdropPadding),Yn=$e.heights[C],Zt=$e.widths[C],Gn=q-Mn.top,en=0-Mn.left;switch(we){case"middle":Gn-=Yn/2;break;case"bottom":Gn-=Yn;break}switch(I){case"center":en-=Zt/2;break;case"right":en-=Zt;break;case"inner":C===M-1?en-=Zt:C>0&&(en-=Zt/2);break}Ti={left:en,top:Gn,width:Zt+Mn.width,height:Yn+Mn.height,color:Q.backdropColor}}y.push({label:w,font:D,textOffset:q,options:{rotation:_,color:he,strokeColor:it,strokeWidth:Re,textAlign:yn,textBaseline:we,translation:[E,A],backdrop:Ti}})}return y}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Ze(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,c=o.widest.width,l,d;return e==="left"?r?(d=this.right+s,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d=this.left)):e==="right"?r?(d=this.left+s,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,s,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),s,o,a=(c,l,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){let c=r[s];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,u,h;this.isHorizontal()?(l=$t(t,this.left,o)-o/2,d=$t(t,this.right,a)+a/2,u=h=c):(u=$t(t,this.top,o)-o/2,h=$t(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(l,u),e.lineTo(d,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&ai(n,r);let s=this.getLabelItems(t);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;qt(n,l,0,d,c,a)}r&&ci(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;let s=_e(n.font),o=Te(n.padding),a=n.align,c=s.lineHeight/2;e==="bottom"||e==="center"||$(e)?(c+=o.bottom,ee(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:u,rotation:h}=sm(this,c,e,a);qt(t,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:rm(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=F(t.grid&&t.grid.z,-1),r=F(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],s,o;for(s=0,o=e.length;s<o;++s){let a=e[s];a[n]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return _e(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Fn=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;cm(e)&&(n=this.register(e));let r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,om(t,o,n),this.override&&ie.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in ie[r]&&(delete ie[r][n],this.override&&delete Ht[n])}};function om(i,t,e){let n=wn(Object.create(null),[e?ie.get(e):{},ie.get(t),i.defaults]);ie.set(t,n),i.defaultRoutes&&am(t,i.defaultRoutes),i.descriptors&&ie.describe(t,i.descriptors)}function am(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),r=n.pop(),s=[i].concat(n).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");ie.route(s,r,c,a)})}function cm(i){return"id"in i&&"defaults"in i}var Js=class{constructor(){this.controllers=new Fn(Xt,"datasets",!0),this.elements=new Fn(ot,"elements"),this.plugins=new Fn(Object,"plugins"),this.scales=new Fn(mn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{let s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):G(r,o=>{let a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,n){let r=Ji(t);Z(n["before"+r],[],n),e[t](n),Z(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}},_t=new Js,Zs=class{constructor(){this._init=void 0}notify(t,e,n,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;let s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,n);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,e,n,r){r=r||{};for(let s of t){let o=s.plugin,a=o[n],c=[e,r,s.options];if(Z(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){j(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,r=F(n.options&&n.options.plugins,{}),s=lm(n);return r===!1&&!e?[]:um(t,s,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}};function lm(i){let t={},e=[],n=Object.keys(_t.plugins.items);for(let s=0;s<n.length;s++)e.push(_t.getPlugin(n[s]));let r=i.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function dm(i,t){return!t&&i===!1?null:i===!0?{}:i}function um(i,{plugins:t,localIds:e},n,r){let s=[],o=i.getContext();for(let a of t){let c=a.id,l=dm(n[c],r);l!==null&&s.push({plugin:a,options:hm(i.config,{plugin:a,local:e[c]},l,o)})}return s}function hm(i,{plugin:t,local:e},n,r){let s=i.pluginScopeKeys(t),o=i.getOptionScopes(n,s);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eo(i,t){let e=ie.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function mm(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function fm(i,t){return i===t?"_index_":"_value_"}function wc(i){if(i==="x"||i==="y"||i==="r")return i}function gm(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function to(i,...t){if(wc(i))return i;for(let e of t){let n=e.axis||gm(e.position)||i.length>1&&wc(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function kc(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function pm(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return kc(i,"x",e[0])||kc(i,"y",e[0])}return{}}function bm(i,t){let e=Ht[i.type]||{scales:{}},n=t.scales||{},r=eo(i.type,t),s=Object.create(null);return Object.keys(n).forEach(o=>{let a=n[o];if(!$(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=to(o,a,pm(o,i),ie.scales[a.type]),l=fm(c,r),d=e.scales||{};s[o]=En(Object.create(null),[{axis:c},a,d[c],d[l]])}),i.data.datasets.forEach(o=>{let a=o.type||i.type,c=o.indexAxis||eo(a,t),d=(Ht[a]||{}).scales||{};Object.keys(d).forEach(u=>{let h=mm(u,c),m=o[h+"AxisID"]||h;s[m]=s[m]||Object.create(null),En(s[m],[{axis:h},n[m],d[u]])})}),Object.keys(s).forEach(o=>{let a=s[o];En(a,[ie.scales[a.type],ie.scale])}),s}function gl(i){let t=i.options||(i.options={});t.plugins=F(t.plugins,{}),t.scales=bm(i,t)}function pl(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function _m(i){return i=i||{},i.data=pl(i.data),gl(i),i}var Ec=new Map,bl=new Set;function ur(i,t){let e=Ec.get(i);return e||(e=t(),Ec.set(i,e),bl.add(e)),e}var mi=(i,t,e)=>{let n=Et(t,e);n!==void 0&&i.add(n)},no=class{constructor(t){this._config=_m(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=pl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),gl(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ur(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ur(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ur(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return ur(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){let{options:r,type:s}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;let c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(u=>mi(c,t,u))),d.forEach(u=>mi(c,r,u)),d.forEach(u=>mi(c,Ht[s]||{},u)),d.forEach(u=>mi(c,ie,u)),d.forEach(u=>mi(c,nr,u))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),bl.has(e)&&o.set(e,l),l}chartOptionScopes(){let{options:t,type:e}=this;return[t,Ht[e]||{},ie.datasets[e]||{},{type:e},ie,nr]}resolveNamedOptions(t,e,n,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=Tc(this._resolverCache,t,r),c=o;if(Mm(o,e)){s.$shared=!1,n=wt(n)?n():n;let l=this.createResolver(t,n,a);c=cn(o,n,l)}for(let l of e)s[l]=c[l];return s}createResolver(t,e,n=[""],r){let{resolver:s}=Tc(this._resolverCache,t,n);return $(e)?cn(s,e,void 0,r):s}};function Tc(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let r=e.join(),s=n.get(r);return s||(s={resolver:sr(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,s)),s}var ym=i=>$(i)&&Object.getOwnPropertyNames(i).some(t=>wt(i[t]));function Mm(i,t){let{isScriptable:e,isIndexable:n}=Ss(i);for(let r of t){let s=e(r),o=n(r),a=(o||s)&&i[r];if(s&&(wt(a)||ym(a))||o&&ee(a))return!0}return!1}var Cm="4.5.1",xm=["top","bottom","left","right","chartArea"];function Ac(i,t){return i==="top"||i==="bottom"||xm.indexOf(i)===-1&&t==="x"}function Rc(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function Ic(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Z(e&&e.onComplete,[i],t)}function Pm(i){let t=i.chart,e=t.options.animation;Z(e&&e.onProgress,[i],t)}function _l(i){return or()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var pr={},Dc=i=>{let t=_l(i);return Object.values(pr).filter(e=>e.canvas===t).pop()};function Om(i,t,e){let n=Object.keys(i);for(let r of n){let s=+r;if(s>=t){let o=i[r];delete i[r],(e>0||s>t)&&(i[s+e]=o)}}}function Sm(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}var Pr=(()=>{class i{static defaults=ie;static instances=pr;static overrides=Ht;static registry=_t;static version=Cm;static getChart=Dc;static register(...e){_t.add(...e),Bc()}static unregister(...e){_t.remove(...e),Bc()}constructor(e,n){let r=this.config=new no(n),s=_l(e),o=Dc(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||qh(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;if(this.id=Ia(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zs,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ha(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],pr[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}At.listen(this,"complete",Ic),At.listen(this,"progress",Pm),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return j(e)?n&&o?o:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Es(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xs(this.canvas,this.ctx),this}stop(){return At.stop(this),this}resize(e,n){At.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Es(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Z(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};G(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){let e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];n&&(o=o.concat(Object.keys(n).map(a=>{let c=n[a],l=to(a,c),d=l==="r",u=l==="x";return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),G(o,a=>{let c=a.options,l=c.id,d=to(l,c),u=F(c.type,a.dtype);(c.position===void 0||Ac(c.position,d)!==Ac(a.dposition))&&(c.position=a.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{let m=_t.getScale(u);h=new m({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(c,e)}),G(s,(a,c)=>{a||delete r[c]}),G(r,a=>{Be.configure(this,a,a.options),Be.addBox(this,a)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Rc("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){let o=n[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||eo(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=_t.getController(c),{datasetElementType:d,dataElementType:u}=ie.datasets[c];Object.assign(l,{dataElementType:_t.getElement(u),datasetElementType:d&&_t.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){G(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:h}=this.getDatasetMeta(d),m=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(m),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||G(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Rc("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){G(this.scales,e=>{Be.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ls(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of n){let a=r==="_removeElements"?-o:o;Om(e,s,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!ls(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Be.update(this,this.width,this.height,e);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],G(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,wt(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(At.has(this)?this.attached&&!At.running(this)&&At.start(this):(this.draw(),Ic({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=Bs(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&ai(n,s),e.controller.draw(),s&&ci(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ft(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){let o=wh.modes[n];return typeof o=="function"?o(this,e,r,s):[]}getDatasetMeta(e){let n=this.data.datasets[e],r=this._metasets,s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Tt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){let r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){let s=r?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);Tn(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),At.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xs(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete pr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,r=(o,a)=>{n.addEventListener(this,o,a),e[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};G(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,r=(l,d)=>{n.addEventListener(this,l,d),e[l]=d},s=(l,d)=>{e[l]&&(n.removeEventListener(this,l,d),delete e[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){G(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},G(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){let s=r?"set":"remove",o,a,c,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],r=e.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!si(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){let s=this.options.hover,o=(l,d)=>l.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=o(n,e),c=r?e:o(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){let r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){let{_active:s=[],options:o}=this,a=n,c=this._getActiveElements(e,s,r,a),l=La(e),d=Sm(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Z(o.onHover,[e,c,this],this),l&&Z(o.onClick,[e,c,this],this));let u=!si(c,s);return(u||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}return i})();function Bc(){return G(Pr.instances,i=>i._plugins.invalidate())}function vm(i,t,e){let{startAngle:n,x:r,y:s,outerRadius:o,innerRadius:a,options:c}=t,{borderWidth:l,borderJoinStyle:d}=c,u=Math.min(l/o,ke(n-e));if(i.beginPath(),i.arc(r,s,o-l/2,n+u/2,e-u/2),a>0){let h=Math.min(l/a,ke(n-e));i.arc(r,s,a+l/2,e-h/2,n+h/2,!0)}else{let h=Math.min(l/2,o*ke(n-e));if(d==="round")i.arc(r,s,h,e-K/2,n+K/2,!0);else if(d==="bevel"){let m=2*h*h,g=-m*Math.cos(e+K/2)+r,_=-m*Math.sin(e+K/2)+s,y=m*Math.cos(n+K/2)+r,C=m*Math.sin(n+K/2)+s;i.lineTo(g,_),i.lineTo(y,C)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function wm(i,t,e){let{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=t,l=r/a;i.beginPath(),i.arc(s,o,a,n-l,e+l),c>r?(l=r/c,i.arc(s,o,c,e+l,n-l,!0)):i.arc(s,o,r,e+de,n-de),i.closePath(),i.clip()}function km(i){return rr(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Em(i,t,e,n){let r=km(i.options.borderRadius),s=(e-t)/2,o=Math.min(s,n*t/2),a=c=>{let l=(e-Math.min(s,c))*n/2;return xe(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:xe(r.innerStart,0,o),innerEnd:xe(r.innerEnd,0,o)}}function Ln(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function Mr(i,t,e,n,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,u=Math.max(t.outerRadius+n+e-l,0),h=d>0?d+n+e+l:0,m=0,g=r-c;if(n){let Q=d>0?d-n:0,re=u>0?u-n:0,he=(Q+re)/2,it=he!==0?g*he/(he+n):g;m=(g-it)/2}let _=Math.max(.001,g*u-e/K)/u,y=(g-_)/2,C=c+y+m,M=r-y-m,{outerStart:S,outerEnd:w,innerStart:E,innerEnd:A}=Em(t,h,u,M-C),I=u-S,R=u-w,D=C+S/I,U=M-w/R,N=h+E,q=h+A,we=C+E/N,$e=M-A/q;if(i.beginPath(),s){let Q=(D+U)/2;if(i.arc(o,a,u,D,Q),i.arc(o,a,u,Q,U),w>0){let Re=Ln(R,U,o,a);i.arc(Re.x,Re.y,w,U,M+de)}let re=Ln(q,M,o,a);if(i.lineTo(re.x,re.y),A>0){let Re=Ln(q,$e,o,a);i.arc(Re.x,Re.y,A,M+de,$e+Math.PI)}let he=(M-A/h+(C+E/h))/2;if(i.arc(o,a,h,M-A/h,he,!0),i.arc(o,a,h,he,C+E/h,!0),E>0){let Re=Ln(N,we,o,a);i.arc(Re.x,Re.y,E,we+Math.PI,C-de)}let it=Ln(I,C,o,a);if(i.lineTo(it.x,it.y),S>0){let Re=Ln(I,D,o,a);i.arc(Re.x,Re.y,S,C-de,D)}}else{i.moveTo(o,a);let Q=Math.cos(D)*u+o,re=Math.sin(D)*u+a;i.lineTo(Q,re);let he=Math.cos(U)*u+o,it=Math.sin(U)*u+a;i.lineTo(he,it)}i.closePath()}function Tm(i,t,e,n,r){let{fullCircles:s,startAngle:o,circumference:a}=t,c=t.endAngle;if(s){Mr(i,t,e,n,c,r);for(let l=0;l<s;++l)i.fill();isNaN(a)||(c=o+(a%te||te))}return Mr(i,t,e,n,c,r),i.fill(),c}function Am(i,t,e,n,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=c,g=c.borderAlign==="inner";if(!l)return;i.setLineDash(u||[]),i.lineDashOffset=h,g?(i.lineWidth=l*2,i.lineJoin=d||"round"):(i.lineWidth=l,i.lineJoin=d||"bevel");let _=t.endAngle;if(s){Mr(i,t,e,n,_,r);for(let y=0;y<s;++y)i.stroke();isNaN(a)||(_=o+(a%te||te))}g&&wm(i,t,_),c.selfJoin&&_-o>=K&&m===0&&d!=="miter"&&vm(i,t,_),s||(Mr(i,t,e,n,_,r),i.stroke())}var io=class extends ot{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let r=this.getProps(["x","y"],n),{angle:s,distance:o}=ms(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,m=F(u,c-a),g=Rn(s,a,c)&&a!==c,_=m>=te||g,y=pt(o,l+h,d+h);return _&&y}getCenterPoint(t){let{x:e,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+s)/2,u=(o+a+l+c)/2;return{x:e+Math.cos(d)*u,y:n+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>te?Math.floor(n/te):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(K,n||0)),l=r*c;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Tm(t,this,l,s,o),Am(t,this,l,s,o),t.restore()}};function yl(i,t,e=t){i.lineCap=F(e.borderCapStyle,t.borderCapStyle),i.setLineDash(F(e.borderDash,t.borderDash)),i.lineDashOffset=F(e.borderDashOffset,t.borderDashOffset),i.lineJoin=F(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=F(e.borderWidth,t.borderWidth),i.strokeStyle=F(e.borderColor,t.borderColor)}function Rm(i,t,e){i.lineTo(e.x,e.y)}function Im(i){return i.stepped?Ya:i.tension||i.cubicInterpolationMode==="monotone"?Ga:Rm}function Ml(i,t,e={}){let n=i.length,{start:r=0,end:s=n-1}=e,{start:o,end:a}=t,c=Math.max(r,o),l=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:n,start:c,loop:t.loop,ilen:l<c&&!d?n+l-c:l-c}}function Dm(i,t,e,n){let{points:r,options:s}=t,{count:o,start:a,loop:c,ilen:l}=Ml(r,e,n),d=Im(s),{move:u=!0,reverse:h}=n||{},m,g,_;for(m=0;m<=l;++m)g=r[(a+(h?l-m:m))%o],!g.skip&&(u?(i.moveTo(g.x,g.y),u=!1):d(i,_,g,h,s.stepped),_=g);return c&&(g=r[(a+(h?l:0))%o],d(i,_,g,h,s.stepped)),!!c}function Bm(i,t,e,n){let r=t.points,{count:s,start:o,ilen:a}=Ml(r,e,n),{move:c=!0,reverse:l}=n||{},d=0,u=0,h,m,g,_,y,C,M=w=>(o+(l?a-w:w))%s,S=()=>{_!==y&&(i.lineTo(d,y),i.lineTo(d,_),i.lineTo(d,C))};for(c&&(m=r[M(0)],i.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=r[M(h)],m.skip)continue;let w=m.x,E=m.y,A=w|0;A===g?(E<_?_=E:E>y&&(y=E),d=(u*d+w)/++u):(S(),i.lineTo(w,E),g=A,u=0,_=y=E),C=E}S()}function ro(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Bm:Dm}function Lm(i){return i.stepped?rc:i.tension||i.cubicInterpolationMode==="monotone"?sc:jt}function Fm(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),yl(i,t.options),i.stroke(r)}function Nm(i,t,e,n){let{segments:r,options:s}=t,o=ro(t);for(let a of r)yl(i,s,a.style),i.beginPath(),o(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var zm=typeof Path2D=="function";function Um(i,t,e,n){zm&&!t.options.segment?Fm(i,t,e,n):Nm(i,t,e,n)}var Or=(()=>{class i extends ot{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;tc(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ac(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){let r=this.options,s=e[n],o=this.points,a=Ds(this,{property:n,start:s,end:s});if(!a.length)return;let c=[],l=Lm(r),d,u;for(d=0,u=a.length;d<u;++d){let{start:h,end:m}=a[d],g=o[h],_=o[m];if(g===_){c.push(g);continue}let y=Math.abs((s-g[n])/(_[n]-g[n])),C=l(g,_,y,r.stepped);C[n]=e[n],c.push(C)}return c.length===1?c[0]:c}pathSegment(e,n,r){return ro(this)(e,this,n,r)}path(e,n,r){let s=this.segments,o=ro(this),a=this._loop;n=n||0,r=r||this.points.length-n;for(let c of s)a&=o(e,this,c,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Um(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function Lc(i,t,e,n){let r=i.options,{[e]:s}=i.getProps([e],n);return Math.abs(t-s)<r.radius+r.hitRadius}var Vm=(()=>{class i extends ot{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return Lc(this,e,"x",n)}inYRange(e,n){return Lc(this,e,"y",n)}getCenterPoint(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){let r=this.options;this.skip||r.radius<.1||!ft(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,ir(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function Cl(i,t){let{x:e,y:n,base:r,width:s,height:o}=i.getProps(["x","y","base","width","height"],t),a,c,l,d,u;return i.horizontal?(u=o/2,a=Math.min(e,r),c=Math.max(e,r),l=n-u,d=n+u):(u=s/2,a=e-u,c=e+u,l=Math.min(n,r),d=Math.max(n,r)),{left:a,top:l,right:c,bottom:d}}function Gt(i,t,e,n){return i?0:xe(t,e,n)}function jm(i,t,e){let n=i.options.borderWidth,r=i.borderSkipped,s=Os(n);return{t:Gt(r.top,s.top,0,e),r:Gt(r.right,s.right,0,t),b:Gt(r.bottom,s.bottom,0,e),l:Gt(r.left,s.left,0,t)}}function Wm(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Kt(r),o=Math.min(t,e),a=i.borderSkipped,c=n||$(r);return{topLeft:Gt(!c||a.top||a.left,s.topLeft,0,o),topRight:Gt(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Gt(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Gt(!c||a.bottom||a.right,s.bottomRight,0,o)}}function Hm(i){let t=Cl(i),e=t.right-t.left,n=t.bottom-t.top,r=jm(i,e/2,n/2),s=Wm(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Ws(i,t,e,n){let r=t===null,s=e===null,a=i&&!(r&&s)&&Cl(i,n);return a&&(r||pt(t,a.left,a.right))&&(s||pt(e,a.top,a.bottom))}function $m(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function qm(i,t){i.rect(t.x,t.y,t.w,t.h)}function Hs(i,t,e={}){let n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,s=(i.x+i.w!==e.x+e.w?t:0)-n,o=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+o,radius:i.radius}}var so=class extends ot{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=Hm(this),a=$m(o.radius)?Dn:qm;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Hs(o,e,s)),t.clip(),a(t,Hs(s,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Hs(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Ws(this,t,e,n)}inXRange(t,e){return Ws(this,t,null,e)}inYRange(t,e){return Ws(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},Km=Object.freeze({__proto__:null,ArcElement:io,BarElement:so,LineElement:Or,PointElement:Vm}),oo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fc=oo.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function xl(i){return oo[i%oo.length]}function Pl(i){return Fc[i%Fc.length]}function Ym(i,t){return i.borderColor=xl(t),i.backgroundColor=Pl(t),++t}function Gm(i,t){return i.backgroundColor=i.data.map(()=>xl(t++)),t}function Xm(i,t){return i.backgroundColor=i.data.map(()=>Pl(t++)),t}function Qm(i){let t=0;return(e,n)=>{let r=i.getDatasetMeta(n).controller;r instanceof go?t=Gm(e,t):r instanceof dl?t=Xm(e,t):r&&(t=Ym(e,t))}}function Nc(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function Jm(i){return i&&(i.borderColor||i.backgroundColor)}function Zm(){return ie.borderColor!=="rgba(0,0,0,0.1)"||ie.backgroundColor!=="rgba(0,0,0,0.1)"}var ef={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:r}=i.config,{elements:s}=r,o=Nc(n)||Jm(r)||s&&Nc(s)||Zm();if(!e.forceOverride&&o)return;let a=Qm(i);n.forEach(a)}};function tf(i,t,e,n,r){let s=r.samples||n;if(s>=e)return i.slice(t,t+e);let o=[],a=(e-2)/(s-2),c=0,l=t+e-1,d=t,u,h,m,g,_;for(o[c++]=i[d],u=0;u<s-2;u++){let y=0,C=0,M,S=Math.floor((u+1)*a)+1+t,w=Math.min(Math.floor((u+2)*a)+1,e)+t,E=w-S;for(M=S;M<w;M++)y+=i[M].x,C+=i[M].y;y/=E,C/=E;let A=Math.floor(u*a)+1+t,I=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:R,y:D}=i[d];for(m=g=-1,M=A;M<I;M++)g=.5*Math.abs((R-y)*(i[M].y-D)-(R-i[M].x)*(C-D)),g>m&&(m=g,h=i[M],_=M);o[c++]=h,d=_}return o[c++]=i[l],o}function nf(i,t,e,n){let r=0,s=0,o,a,c,l,d,u,h,m,g,_,y=[],C=t+e-1,M=i[t].x,w=i[C].x-M;for(o=t;o<t+e;++o){a=i[o],c=(a.x-M)/w*n,l=a.y;let E=c|0;if(E===d)l<g?(g=l,u=o):l>_&&(_=l,h=o),r=(s*r+a.x)/++s;else{let A=o-1;if(!j(u)&&!j(h)){let I=Math.min(u,h),R=Math.max(u,h);I!==m&&I!==A&&y.push(O(x({},i[I]),{x:r})),R!==m&&R!==A&&y.push(O(x({},i[R]),{x:r}))}o>0&&A!==m&&y.push(i[A]),y.push(a),d=E,s=0,g=_=l,u=h=m=o}}return y}function Ol(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function zc(i){i.data.datasets.forEach(t=>{Ol(t)})}function rf(i,t){let e=t.length,n=0,r,{iScale:s}=i,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(n=xe(mt(t,s.axis,o).lo,0,e-1)),l?r=xe(mt(t,s.axis,a).hi+1,n,e)-n:r=e-n,{start:n,count:r}}var sf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){zc(i);return}let n=i.width;i.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=i.getDatasetMeta(s),l=o||r.data;if(Bn([a,i.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=i.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||i.options.parsing)return;let{start:u,count:h}=rf(c,l),m=e.threshold||4*n;if(h<=m){Ol(r);return}j(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let g;switch(e.algorithm){case"lttb":g=tf(l,u,h,n,e);break;case"min-max":g=nf(l,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=g})},destroy(i){zc(i)}};function of(i,t,e){let n=i.segments,r=i.points,s=t.points,o=[];for(let a of n){let{start:c,end:l}=a;l=Sr(c,l,r);let d=ao(e,r[c],r[l],a.loop);if(!t.segments){o.push({source:a,target:d,start:r[c],end:r[l]});continue}let u=Ds(t,d);for(let h of u){let m=ao(e,s[h.start],s[h.end],h.loop),g=Is(a,r,m);for(let _ of g)o.push({source:_,target:h,start:{[e]:Uc(d,m,"start",Math.max)},end:{[e]:Uc(d,m,"end",Math.min)}})}}return o}function ao(i,t,e,n){if(n)return;let r=t[i],s=e[i];return i==="angle"&&(r=ke(r),s=ke(s)),{property:i,start:r,end:s}}function af(i,t){let{x:e=null,y:n=null}=i||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Sr(o,a,r);let c=r[o],l=r[a];n!==null?(s.push({x:c.x,y:n}),s.push({x:l.x,y:n})):e!==null&&(s.push({x:e,y:c.y}),s.push({x:e,y:l.y}))}),s}function Sr(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Uc(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function Sl(i,t){let e=[],n=!1;return ee(i)?(n=!0,e=i):e=af(i,t),e.length?new Or({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Vc(i){return i&&i.fill!==!1}function cf(i,t,e){let r=i[t].fill,s=[t],o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!oe(r))return r;if(o=i[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function lf(i,t,e){let n=mf(i);if($(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return oe(r)&&Math.floor(r)===r?df(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function df(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function uf(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:$(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function hf(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:$(i)?n=i.value:n=t.getBaseValue(),n}function mf(i){let t=i.options,e=t.fill,n=F(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function ff(i){let{scale:t,index:e,line:n}=i,r=[],s=n.segments,o=n.points,a=gf(t,e);a.push(Sl({x:null,y:t.bottom},n));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)pf(r,o[d],a)}return new Or({points:r,options:{}})}function gf(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let s=n[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function pf(i,t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],{first:o,last:a,point:c}=bf(s,t,"x");if(!(!c||o&&a)){if(o)n.unshift(c);else if(i.push(c),!a)break}}i.push(...n)}function bf(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let r=n[e],s=i.segments,o=i.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],u=o[d.start][e],h=o[d.end][e];if(pt(r,u,h)){a=r===u,c=r===h;break}}return{first:a,last:c,point:n}}var Cr=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:r,y:s,radius:o}=this;return e=e||{start:0,end:te},t.arc(r,s,o,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}};function _f(i){let{chart:t,fill:e,line:n}=i;if(oe(e))return yf(t,e);if(e==="stack")return ff(i);if(e==="shape")return!0;let r=Mf(i);return r instanceof Cr?r:Sl(r,n)}function yf(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function Mf(i){return(i.scale||{}).getPointPositionForValue?xf(i):Cf(i)}function Cf(i){let{scale:t={},fill:e}=i,n=uf(e,t);if(oe(n)){let r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function xf(i){let{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,s=n.reverse?t.max:t.min,o=hf(e,t,s),a=[];if(n.grid.circular){let c=t.getPointPositionForValue(0,s);return new Cr({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,o));return a}function $s(i,t,e){let n=_f(t),{chart:r,index:s,line:o,scale:a,axis:c}=t,l=o.options,d=l.fill,u=l.backgroundColor,{above:h=u,below:m=u}=d||{},g=r.getDatasetMeta(s),_=Bs(r,g);n&&o.points.length&&(ai(i,e),Pf(i,{line:o,target:n,above:h,below:m,area:e,scale:a,axis:c,clip:_}),ci(i))}function Pf(i,t){let{line:e,target:n,above:r,below:s,area:o,scale:a,clip:c}=t,l=e._loop?"angle":t.axis;i.save();let d=s;s!==r&&(l==="x"?(jc(i,n,o.top),qs(i,{line:e,target:n,color:r,scale:a,property:l,clip:c}),i.restore(),i.save(),jc(i,n,o.bottom)):l==="y"&&(Wc(i,n,o.left),qs(i,{line:e,target:n,color:s,scale:a,property:l,clip:c}),i.restore(),i.save(),Wc(i,n,o.right),d=r)),qs(i,{line:e,target:n,color:d,scale:a,property:l,clip:c}),i.restore()}function jc(i,t,e){let{segments:n,points:r}=t,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[Sr(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(d.x,e),i.lineTo(d.x,d.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(u.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Wc(i,t,e){let{segments:n,points:r}=t,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[Sr(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(e,d.y),i.lineTo(d.x,d.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(e,u.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function qs(i,t){let{line:e,target:n,property:r,color:s,scale:o,clip:a}=t,c=of(e,n,r);for(let{source:l,target:d,start:u,end:h}of c){let{style:{backgroundColor:m=s}={}}=l,g=n!==!0;i.save(),i.fillStyle=m,Of(i,o,a,g&&ao(r,u,h)),i.beginPath();let _=!!e.pathSegment(i,l),y;if(g){_?i.closePath():Hc(i,n,h,r);let C=!!n.pathSegment(i,d,{move:_,reverse:!0});y=_&&C,y||Hc(i,n,u,r)}i.closePath(),i.fill(y?"evenodd":"nonzero"),i.restore()}}function Of(i,t,e,n){let r=t.chart.chartArea,{property:s,start:o,end:a}=n||{};if(s==="x"||s==="y"){let c,l,d,u;s==="x"?(c=o,l=r.top,d=a,u=r.bottom):(c=r.left,l=o,d=r.right,u=a),i.beginPath(),e&&(c=Math.max(c,e.left),d=Math.min(d,e.right),l=Math.max(l,e.top),u=Math.min(u,e.bottom)),i.rect(c,l,d-c,u-l),i.clip()}}function Hc(i,t,e,n){let r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var Sf={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<n;++o)s=i.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof Or&&(c={visible:i.isDatasetVisible(o),index:o,fill:lf(a,o,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<n;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=cf(r,o,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&$s(i.ctx,a,s))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let s=n[r].$filler;Vc(s)&&$s(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!Vc(n)||e.drawTime!=="beforeDatasetDraw"||$s(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},$c=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},vf=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,xr=class extends ot{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Z(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,r=_e(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=$c(n,s),l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a,u=t;s.textAlign="left",s.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((g,_)=>{let y=n+e/2+s.measureText(g.text).width;(_===0||l[l.length-1]+y+2*a>o)&&(u+=d,l[l.length-(_>0?0:1)]=0,m+=d,h++),c[_]={left:0,top:m,row:h,width:y,height:r},l[l.length-1]+=y+a}),u}_fitCols(t,e,n,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-t,u=a,h=0,m=0,g=0,_=0;return this.legendItems.forEach((y,C)=>{let{itemWidth:M,itemHeight:S}=wf(n,e,s,y,r);C>0&&m+S+2*a>d&&(u+=h+a,l.push({width:h,height:m}),g+=h+a,_++,h=m=0),c[C]={left:g,top:m,col:_,width:M,height:S},h=Math.max(h,M),m+=S+a}),u+=h,l.push({width:h,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:s}}=this,o=dn(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Ee(n,this.left+r,this.right-this.lineWidths[a]);for(let l of e)a!==l.row&&(a=l.row,c=Ee(n,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=Ee(n,this.top+t+r,this.bottom-this.columnSizes[a].height);for(let l of e)l.col!==a&&(a=l.col,c=Ee(n,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;ai(t,this),this._draw(),ci(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:s,labels:o}=t,a=ie.color,c=dn(t.rtl,this.left,this.width),l=_e(o.font),{padding:d}=o,u=l.size,h=u/2,m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:g,boxHeight:_,itemHeight:y}=$c(o,u),C=function(A,I,R){if(isNaN(g)||g<=0||isNaN(_)||_<0)return;r.save();let D=F(R.lineWidth,1);if(r.fillStyle=F(R.fillStyle,a),r.lineCap=F(R.lineCap,"butt"),r.lineDashOffset=F(R.lineDashOffset,0),r.lineJoin=F(R.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=F(R.strokeStyle,a),r.setLineDash(F(R.lineDash,[])),o.usePointStyle){let U={radius:_*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:D},N=c.xPlus(A,g/2),q=I+h;Ps(r,U,N,q,o.pointStyleWidth&&g)}else{let U=I+Math.max((u-_)/2,0),N=c.leftForLtr(A,g),q=Kt(R.borderRadius);r.beginPath(),Object.values(q).some(we=>we!==0)?Dn(r,{x:N,y:U,w:g,h:_,radius:q}):r.rect(N,U,g,_),r.fill(),D!==0&&r.stroke()}r.restore()},M=function(A,I,R){qt(r,R.text,A,I+y/2,l,{strikethrough:R.hidden,textAlign:c.textAlign(R.textAlign)})},S=this.isHorizontal(),w=this._computeTitleHeight();S?m={x:Ee(s,this.left+d,this.right-n[0]),y:this.top+d+w,line:0}:m={x:this.left+d,y:Ee(s,this.top+w+d,this.bottom-e[0].height),line:0},As(this.ctx,t.textDirection);let E=y+d;this.legendItems.forEach((A,I)=>{r.strokeStyle=A.fontColor,r.fillStyle=A.fontColor;let R=r.measureText(A.text).width,D=c.textAlign(A.textAlign||(A.textAlign=o.textAlign)),U=g+h+R,N=m.x,q=m.y;c.setWidth(this.width),S?I>0&&N+U+d>this.right&&(q=m.y+=E,m.line++,N=m.x=Ee(s,this.left+d,this.right-n[m.line])):I>0&&q+E>this.bottom&&(N=m.x=N+e[m.line].width+d,m.line++,q=m.y=Ee(s,this.top+w+d,this.bottom-e[m.line].height));let we=c.x(N);if(C(we,q,A),N=$a(D,N+g+h,S?N+U:this.right,t.rtl),M(c.x(N),q,A),S)m.x+=U+d;else if(typeof A.text!="string"){let $e=l.lineHeight;m.y+=vl(A,$e)+d}else m.y+=E}),Rs(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=_e(e.font),r=Te(e.padding);if(!e.display)return;let s=dn(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=n.size/2,l=r.top+c,d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+l,u=Ee(t.align,u,this.right-h);else{let g=this.columnSizes.reduce((_,y)=>Math.max(_,y.height),0);d=l+Ee(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}let m=Ee(a,u,u+h);o.textAlign=s.textAlign(tr(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,qt(o,e.text,m,d,n)}_computeTitleHeight(){let t=this.options.title,e=_e(t.font),n=Te(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,s;if(pt(t,this.left,this.right)&&pt(e,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],pt(t,r.left,r.left+r.width)&&pt(e,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!Tf(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,s=vf(r,n);r&&!s&&Z(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!s&&Z(e.onHover,[t,n,this],this)}else n&&Z(e.onClick,[t,n,this],this)}};function wf(i,t,e,n,r){let s=kf(n,i,t,e),o=Ef(r,n,t.lineHeight);return{itemWidth:s,itemHeight:o}}function kf(i,t,e,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+n.measureText(r).width}function Ef(i,t,e){let n=i;return typeof t.text!="string"&&(n=vl(t,e)),n}function vl(i,t){let e=i.text?i.text.length:0;return t*e}function Tf(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var Af={id:"legend",_element:xr,start(i,t,e){let n=i.legend=new xr({ctx:i.ctx,options:e,chart:i});Be.configure(i,n,e),Be.addBox(i,n)},stop(i){Be.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;Be.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(e?0:void 0),d=Te(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},bi=class extends ot{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=ee(n.text)?n.text.length:1;this._padding=Te(n.padding);let s=r*_e(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,d,u;return this.isHorizontal()?(d=Ee(a,n,s),u=e+t,l=s-n):(o.position==="left"?(d=n+t,u=Ee(a,r,e),c=K*-.5):(d=s-t,u=Ee(a,e,r),c=K*.5),l=r-e),{titleX:d,titleY:u,maxWidth:l,rotation:c}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=_e(e.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);qt(t,e.text,0,0,n,{color:e.color,maxWidth:c,rotation:l,textAlign:tr(e.align),textBaseline:"middle",translation:[o,a]})}};function Rf(i,t){let e=new bi({ctx:i.ctx,options:t,chart:i});Be.configure(i,e,t),Be.addBox(i,e),i.titleBlock=e}var If={id:"title",_element:bi,start(i,t,e){Rf(i,e)},stop(i){let t=i.titleBlock;Be.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;Be.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},hr=new WeakMap,Df={id:"subtitle",start(i,t,e){let n=new bi({ctx:i.ctx,options:e,chart:i});Be.configure(i,n,e),Be.addBox(i,n),hr.set(i,n)},stop(i){Be.removeBox(i,hr.get(i)),hr.delete(i)},beforeUpdate(i,t,e){let n=hr.get(i);Be.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},gi={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,s=0;for(t=0,e=i.length;t<e;++t){let a=i[t].element;if(a&&a.hasValue()){let c=a.tooltipPosition();n.add(c.x),r+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,c)=>a+c)/n.size,y:r/s}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=i.length;s<o;++s){let c=i[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=Xi(t,l);d<r&&(r=d,a=c)}}if(a){let c=a.tooltipPosition();e=c.x,n=c.y}return{x:e,y:n}}};function bt(i,t){return t&&(ee(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Rt(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Bf(i,t){let{element:e,datasetIndex:n,index:r}=t,s=i.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:i,label:o,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function qc(i,t){let e=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:o,boxHeight:a}=t,c=_e(t.bodyFont),l=_e(t.titleFont),d=_e(t.footerFont),u=s.length,h=r.length,m=n.length,g=Te(t.padding),_=g.height,y=0,C=n.reduce((w,E)=>w+E.before.length+E.lines.length+E.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,u&&(_+=u*l.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),C){let w=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;_+=m*w+(C-m)*c.lineHeight+(C-1)*t.bodySpacing}h&&(_+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let M=0,S=function(w){y=Math.max(y,e.measureText(w).width+M)};return e.save(),e.font=l.string,G(i.title,S),e.font=c.string,G(i.beforeBody.concat(i.afterBody),S),M=t.displayColors?o+2+t.boxPadding:0,G(n,w=>{G(w.before,S),G(w.lines,S),G(w.after,S)}),M=0,e.font=d.string,G(i.footer,S),e.restore(),y+=g.width,{width:y,height:_}}function Lf(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function Ff(i,t,e,n){let{x:r,width:s}=n,o=e.caretSize+e.caretPadding;if(i==="left"&&r+s+o>t.width||i==="right"&&r-s-o<0)return!0}function Nf(i,t,e,n){let{x:r,width:s}=e,{width:o,chartArea:{left:a,right:c}}=i,l="center";return n==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),Ff(l,i,t,e)&&(l="center"),l}function Kc(i,t,e){let n=e.yAlign||t.yAlign||Lf(i,e);return{xAlign:e.xAlign||t.xAlign||Nf(i,t,e,n),yAlign:n}}function zf(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Uf(i,t,e){let{y:n,height:r}=i;return t==="top"?n+=e:t==="bottom"?n-=r+e:n-=r/2,n}function Yc(i,t,e,n){let{caretSize:r,caretPadding:s,cornerRadius:o}=i,{xAlign:a,yAlign:c}=e,l=r+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Kt(o),g=zf(t,a),_=Uf(t,c,l);return c==="center"?a==="left"?g+=l:a==="right"&&(g-=l):a==="left"?g-=Math.max(d,h)+r:a==="right"&&(g+=Math.max(u,m)+r),{x:xe(g,0,n.width-t.width),y:xe(_,0,n.height-t.height)}}function mr(i,t,e){let n=Te(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function Gc(i){return bt([],Rt(i))}function Vf(i,t,e){return Tt(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Xc(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var wl={beforeTitle:gt,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:gt,beforeBody:gt,beforeLabel:gt,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return j(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:gt,afterBody:gt,beforeFooter:gt,footer:gt,afterFooter:gt};function We(i,t,e,n){let r=i[t].call(e,n);return typeof r>"u"?wl[t].call(e,n):r}var Qc=(()=>{class i extends ot{static positioners=gi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new br(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Vf(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:r}=n,s=We(r,"beforeTitle",this,e),o=We(r,"title",this,e),a=We(r,"afterTitle",this,e),c=[];return c=bt(c,Rt(s)),c=bt(c,Rt(o)),c=bt(c,Rt(a)),c}getBeforeBody(e,n){return Gc(We(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:r}=n,s=[];return G(e,o=>{let a={before:[],lines:[],after:[]},c=Xc(r,o);bt(a.before,Rt(We(c,"beforeLabel",this,o))),bt(a.lines,We(c,"label",this,o)),bt(a.after,Rt(We(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,n){return Gc(We(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:r}=n,s=We(r,"beforeFooter",this,e),o=We(r,"footer",this,e),a=We(r,"afterFooter",this,e),c=[];return c=bt(c,Rt(s)),c=bt(c,Rt(o)),c=bt(c,Rt(a)),c}_createItems(e){let n=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=n.length;l<d;++l)c.push(Bf(this.chart,n[l]));return e.filter&&(c=c.filter((u,h,m)=>e.filter(u,h,m,r))),e.itemSort&&(c=c.sort((u,h)=>e.itemSort(u,h,r))),G(c,u=>{let h=Xc(e.callbacks,u);s.push(We(h,"labelColor",this,u)),o.push(We(h,"labelPointStyle",this,u)),a.push(We(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=gi[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=qc(this,r),d=Object.assign({},c,l),u=Kc(this.chart,r,d),h=Yc(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){let o=this.getCaretPosition(e,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:h}=Kt(c),{x:m,y:g}=e,{width:_,height:y}=n,C,M,S,w,E,A;return o==="center"?(E=g+y/2,s==="left"?(C=m,M=C-a,w=E+a,A=E-a):(C=m+_,M=C+a,w=E-a,A=E+a),S=C):(s==="left"?M=m+Math.max(l,u)+a:s==="right"?M=m+_-Math.max(d,h)-a:M=this.caretX,o==="top"?(w=g,E=w-a,C=M-a,S=M+a):(w=g+y,E=w+a,C=M+a,S=M-a),A=w),{x1:C,x2:M,x3:S,y1:w,y2:E,y3:A}}drawTitle(e,n,r){let s=this.title,o=s.length,a,c,l;if(o){let d=dn(r.rtl,this.x,this.width);for(e.x=mr(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=_e(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<o;++l)n.fillText(s[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=o,u=_e(o.bodyFont),h=mr(this,"left",o),m=s.x(h),g=l<u.lineHeight?(u.lineHeight-l)/2:0,_=n.y+g;if(o.usePointStyle){let y={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=s.leftForLtr(m,d)+d/2,M=_+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,ir(e,y,C,M),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ir(e,y,C,M)}else{e.lineWidth=$(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let y=s.leftForLtr(m,d),C=s.leftForLtr(s.xPlus(m,1),d-2),M=Kt(a.borderRadius);Object.values(M).some(S=>S!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Dn(e,{x:y,y:_,w:d,h:l,radius:M}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Dn(e,{x:C,y:_+1,w:d-2,h:l-2,radius:M}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(y,_,d,l),e.strokeRect(y,_,d,l),e.fillStyle=a.backgroundColor,e.fillRect(C,_+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=r,h=_e(r.bodyFont),m=h.lineHeight,g=0,_=dn(r.rtl,this.x,this.width),y=function(D){n.fillText(D,_.x(e.x+g),e.y+m/2),e.y+=m+o},C=_.textAlign(a),M,S,w,E,A,I,R;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=mr(this,C,r),n.fillStyle=r.bodyColor,G(this.beforeBody,y),g=c&&C!=="right"?a==="center"?d/2+u:d+2+u:0,E=0,I=s.length;E<I;++E){for(M=s[E],S=this.labelTextColors[E],n.fillStyle=S,G(M.before,y),w=M.lines,c&&w.length&&(this._drawColorBox(n,e,E,_,r),m=Math.max(h.lineHeight,l)),A=0,R=w.length;A<R;++A)y(w[A]),m=h.lineHeight;G(M.after,y)}g=0,m=h.lineHeight,G(this.afterBody,y),e.y-=o}drawFooter(e,n,r){let s=this.footer,o=s.length,a,c;if(o){let l=dn(r.rtl,this.x,this.width);for(e.x=mr(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=_e(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:u}=r,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:_}=Kt(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+h,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(c+d-m,l),n.quadraticCurveTo(c+d,l,c+d,l+m),a==="center"&&o==="right"&&this.drawCaret(e,n,r,s),n.lineTo(c+d,l+u-_),n.quadraticCurveTo(c+d,l+u,c+d-_,l+u),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(c+g,l+u),n.quadraticCurveTo(c,l+u,c,l+u-g),a==="center"&&o==="left"&&this.drawCaret(e,n,r,s),n.lineTo(c,l+h),n.quadraticCurveTo(c,l,c+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=gi[e.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=qc(this,e),l=Object.assign({},a,this._size),d=Kc(n,e,l),u=Yc(e,l,d,n);(s._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Te(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,n),As(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Rs(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let r=this._active,s=e.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!si(r,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,r),c=this._positionChanged(a,e),l=n||!si(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){let o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,n){let{caretX:r,caretY:s,options:o}=this,a=gi[o.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}return i})(),jf={id:"tooltip",_element:Qc,positioners:gi,afterInit(i,t,e){e&&(i.tooltip=new Qc({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",O(x({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Wf=Object.freeze({__proto__:null,Colors:ef,Decimation:sf,Filler:Sf,Legend:Af,SubTitle:Df,Title:If,Tooltip:jf}),Hf=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function $f(i,t,e,n){let r=i.indexOf(t);if(r===-1)return Hf(i,t,e,n);let s=i.lastIndexOf(t);return r!==s?e:r}var qf=(i,t)=>i===null?null:xe(Math.round(i),0,t);function Jc(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var Kf=(()=>{class i extends mn{static id="category";static defaults={ticks:{callback:Jc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(j(e))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:$f(r,e,F(n,e),this._addedLabels),qf(n,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let e=this.min,n=this.max,r=this.options.offset,s=[],o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return Jc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Yf(i,t){let e=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:u,includeBounds:h}=i,m=s||1,g=d-1,{min:_,max:y}=t,C=!j(o),M=!j(a),S=!j(l),w=(y-_)/(u+1),E=ds((y-_)/g/m)*m,A,I,R,D;if(E<1e-14&&!C&&!M)return[{value:_},{value:y}];D=Math.ceil(y/E)-Math.floor(_/E),D>g&&(E=ds(D*E/g/m)*m),j(c)||(A=Math.pow(10,c),E=Math.ceil(E*A)/A),r==="ticks"?(I=Math.floor(_/E)*E,R=Math.ceil(y/E)*E):(I=_,R=y),C&&M&&s&&Na((a-o)/s,E/1e3)?(D=Math.round(Math.min((a-o)/E,d)),E=(a-o)/D,I=o,R=a):S?(I=C?o:I,R=M?a:R,D=l-1,E=(R-I)/D):(D=(R-I)/E,An(D,Math.round(D),E/1e3)?D=Math.round(D):D=Math.ceil(D));let U=Math.max(hs(E),hs(I));A=Math.pow(10,j(c)?U:c),I=Math.round(I*A)/A,R=Math.round(R*A)/A;let N=0;for(C&&(h&&I!==o?(e.push({value:o}),I<o&&N++,An(Math.round((I+N*E)*A)/A,o,Zc(o,w,i))&&N++):I<o&&N++);N<D;++N){let q=Math.round((I+N*E)*A)/A;if(M&&q>a)break;e.push({value:q})}return M&&h&&R!==a?e.length&&An(e[e.length-1].value,a,Zc(a,w,i))?e[e.length-1].value=a:e.push({value:a}):(!M||R===a)&&e.push({value:R}),e}function Zc(i,t,{horizontal:e,minRotation:n}){let r=Ze(n),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+i).length;return Math.min(t/s,o)}var Nn=class extends mn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return j(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=e?r:c,a=c=>s=n?s:c;if(t){let c=st(r),l=st(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),t||o(r-c)}this.min=r,this.max=s}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=Yf(r,s);return t.bounds==="ticks"&&us(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return In(t,this.chart.options.locale,this.options.ticks.format)}},co=class extends Nn{static id="linear";static defaults={ticks:{callback:oi.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?t:0,this.max=oe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=Ze(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},_i=i=>Math.floor(kt(i)),hn=(i,t)=>Math.pow(10,_i(i)+t);function el(i){return i/Math.pow(10,_i(i))===1}function tl(i,t,e){let n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function Gf(i,t){let e=t-i,n=_i(e);for(;tl(i,t,n)>10;)n++;for(;tl(i,t,n)<10;)n--;return Math.min(n,_i(i))}function Xf(i,{min:t,max:e}){t=je(i.min,t);let n=[],r=_i(t),s=Gf(t,e),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((t-c)*o)/o,d=Math.floor((t-c)/a/10)*a*10,u=Math.floor((l-d)/Math.pow(10,s)),h=je(i.min,Math.round((c+d+u*Math.pow(10,s))*o)/o);for(;h<e;)n.push({value:h,major:el(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),h=Math.round((c+d+u*Math.pow(10,s))*o)/o;let m=je(i.max,h);return n.push({value:m,major:el(m),significand:u}),n}var lo=class extends mn{static id="logarithmic";static defaults={ticks:{callback:oi.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Nn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return oe(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?Math.max(0,t):null,this.max=oe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!oe(this._userMin)&&(this.min=t===hn(this.min,0)?hn(this.min,-1):hn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,r=this.max,s=a=>n=t?n:a,o=a=>r=e?r:a;n===r&&(n<=0?(s(1),o(10)):(s(hn(n,-1)),o(hn(r,1)))),n<=0&&s(hn(r,-1)),r<=0&&o(hn(n,1)),this.min=n,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=Xf(e,this);return t.bounds==="ticks"&&us(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":In(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=kt(t),this._valueRange=kt(this.max)-kt(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(kt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function uo(i){let t=i.ticks;if(t.display&&i.display){let e=Te(t.backdropPadding);return F(t.font&&t.font.size,ie.font.size)+e.height}return 0}function Qf(i,t,e){return e=ee(e)?e:[e],{w:Ka(i,t.string,e),h:e.length*t.lineHeight}}function nl(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function Jf(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],s=i._pointLabels.length,o=i.options.pointLabels,a=o.centerPointLabels?K/s:0;for(let c=0;c<s;c++){let l=o.setContext(i.getPointLabelContext(c));r[c]=l.padding;let d=i.getPointPosition(c,i.drawingArea+r[c],a),u=_e(l.font),h=Qf(i.ctx,u,i._pointLabels[c]);n[c]=h;let m=ke(i.getIndexAngle(c)+a),g=Math.round(Zi(m)),_=nl(g,d.x,h.w,0,180),y=nl(g,d.y,h.h,90,270);Zf(e,t,m,_,y)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=ng(i,n,r)}function Zf(i,t,e,n,r){let s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,c=0;n.start<t.l?(a=(t.l-n.start)/s,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/s,i.r=Math.max(i.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/o,i.t=Math.min(i.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/o,i.b=Math.max(i.b,t.b+c))}function eg(i,t,e){let n=i.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=e,c=i.getPointPosition(t,n+r+o,s),l=Math.round(Zi(ke(c.angle+de))),d=sg(c.y,a.h,l),u=ig(l),h=rg(c.x,a.w,u);return{visible:!0,x:c.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function tg(i,t){if(!t)return!0;let{left:e,top:n,right:r,bottom:s}=i;return!(ft({x:e,y:n},t)||ft({x:e,y:s},t)||ft({x:r,y:n},t)||ft({x:r,y:s},t))}function ng(i,t,e){let n=[],r=i._pointLabels.length,s=i.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:uo(s)/2,additionalAngle:o?K/r:0},l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];let u=eg(i,d,c);n.push(u),a==="auto"&&(u.visible=tg(u,l),u.visible&&(l=u))}return n}function ig(i){return i===0||i===180?"center":i<180?"left":"right"}function rg(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function sg(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function og(i,t,e){let{left:n,top:r,right:s,bottom:o}=e,{backdropColor:a}=t;if(!j(a)){let c=Kt(t.borderRadius),l=Te(t.backdropPadding);i.fillStyle=a;let d=n-l.left,u=r-l.top,h=s-n+l.width,m=o-r+l.height;Object.values(c).some(g=>g!==0)?(i.beginPath(),Dn(i,{x:d,y:u,w:h,h:m,radius:c}),i.fill()):i.fillRect(d,u,h,m)}}function ag(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){let s=i._pointLabelItems[r];if(!s.visible)continue;let o=n.setContext(i.getPointLabelContext(r));og(e,o,s);let a=_e(o.font),{x:c,y:l,textAlign:d}=s;qt(e,i._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function kl(i,t,e,n){let{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,te);else{let s=i.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=i.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function cg(i,t,e,n,r){let s=i.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!n||!a||!c||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),kl(i,e,o,n),s.closePath(),s.stroke(),s.restore())}function lg(i,t,e){return Tt(i,{label:e,index:t,type:"pointLabel"})}var ho=class extends Nn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:oi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Te(uo(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=oe(t)&&!isNaN(t)?t:0,this.max=oe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/uo(this.options))}generateTickLabels(t){Nn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let r=Z(this.options.pointLabels.callback,[e,n],this);return r||r===0?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?Jf(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){let e=te/(this._pointLabels.length||1),n=this.options.startAngle||0;return ke(t*e+Ze(n))}getDistanceFromCenterForValue(t){if(j(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(j(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return lg(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let r=this.getIndexAngle(t)-de+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:s}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),kl(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:r,border:s}=e,o=this._pointLabels.length,a,c,l;if(e.pointLabels.display&&ag(this,o),r.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(u),m=r.setContext(h),g=s.setContext(h);cg(this,m,c,o,g)}}),n.display){for(t.save(),a=o-1;a>=0;a--){let d=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:h}=d;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let r=this.getIndexAngle(0),s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let l=n.setContext(this.getContext(c)),d=_e(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;let u=Te(l.backdropPadding);t.fillRect(-o/2-u.left,-s-d.size/2-u.top,o+u.width,d.size+u.height)}qt(t,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},vr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},He=Object.keys(vr);function il(i,t){return i-t}function rl(i,t){if(j(t))return null;let e=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts,o=t;return typeof n=="function"&&(o=n(o)),oe(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(ln(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function sl(i,t,e,n){let r=He.length;for(let s=He.indexOf(i);s<r-1;++s){let o=vr[He[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=n)return He[s]}return He[r-1]}function dg(i,t,e,n,r){for(let s=He.length-1;s>=He.indexOf(e);s--){let o=He[s];if(vr[o].common&&i._adapter.diff(r,n,o)>=t-1)return o}return He[e?He.indexOf(e):0]}function ug(i){for(let t=He.indexOf(i)+1,e=He.length;t<e;++t)if(vr[He[t]].common)return He[t]}function ol(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:r}=er(e,t),s=e[n]>=t?e[n]:e[r];i[s]=!0}}function hg(i,t,e,n){let r=i._adapter,s=+r.startOf(t[0].value,n),o=t[t.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,n))c=e[a],c>=0&&(t[c].major=!0);return t}function al(i,t,e){let n=[],r={},s=t.length,o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,n.push({value:a,major:!1});return s===0||!e?n:hg(i,n,r,e)}var mo=(()=>{class i extends mn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let r=e.time||(e.time={}),s=this._adapter=new xh._date(e.adapters.date);s.init(n),En(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:rl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,r=e.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=oe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=oe(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){let e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=Va(s,o,a);return this._unit=n.unit||(r.autoSkip?sl(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):dg(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ug(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),al(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=xe(n,0,a),r=xe(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let e=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||sl(o.minUnit,n,r,this._getLabelCapacity(n)),c=F(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=ln(l)||l===!0,u={},h=n,m,g;if(d&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,d?"day":a),e.diff(r,n,a)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+a);let _=s.ticks.source==="data"&&this.getDataTimestamps();for(m=h,g=0;m<r;m=+e.add(m,c,a),g++)ol(u,m,_);return(m===r||s.bounds==="ticks"||g===1)&&ol(u,m,_),Object.keys(u).sort(il).map(y=>+y)}getLabelForValue(e){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){let s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){let o=this.options,a=o.ticks.callback;if(a)return Z(a,[e,n,r],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,u=l&&c[l],h=d&&c[d],m=r[n],g=d&&h&&m&&m.major;return this._adapter.format(e,s||(g?h:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,r=this.ctx.measureText(e).width,s=Ze(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(e){let n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,al(this,[e],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,r;if(e.length)return e;let s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(rl(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gs(e.sort(il))}}return i})();function fr(i,t,e){let n=0,r=i.length-1,s,o,a,c;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=mt(i,"pos",t)),{pos:s,time:a}=i[n],{pos:o,time:c}=i[r]):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=mt(i,"time",t)),{time:s,pos:a}=i[n],{time:o,pos:c}=i[r]);let l=o-s;return l?a+(c-a)*(t-s)/l:a}var fo=class extends mo{static id="timeseries";static defaults=mo.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=fr(e,this.min),this._tableRange=fr(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,r=[],s=[],o,a,c,l,d;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],l=r[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(fr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return fr(this._table,n*this._tableRange+this._minPos,!0)}},mg=Object.freeze({__proto__:null,CategoryScale:Kf,LinearScale:co,LogarithmicScale:lo,RadialLinearScale:ho,TimeScale:mo,TimeSeriesScale:fo}),El=[Ch,Km,Wf,mg];var Tl=[{id:"deep-nested",name:"Deep Nested Updates",description:"Updates to deeply nested state (15 levels)",operations:"1000 updates",complexity:"High",selected:!0,category:"core",purpose:"Measures surgical update performance in complex object hierarchies",frequencyWeight:2.5,realWorldFrequency:"Very High - Forms, settings, nested UI components",architecturalTradeOffs:"Direct mutation excels with deep updates vs immutable rebuilding",enhancers:{required:["withBatching"],optional:["withShallowMemoization"],rationale:"Batching prevents excessive notifications; shallow memoization helps with object updates"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"linear"}},{id:"large-array",name:"Large Array Mutations",description:"Array operations on large datasets",operations:"Size \xD7 10",complexity:"Medium",selected:!1,category:"core",purpose:"Tests O(1) direct mutation vs O(n) immutable array rebuilding",frequencyWeight:1.8,realWorldFrequency:"High - Lists, tables, data grids, search results",architecturalTradeOffs:"Direct mutation provides massive advantages for large arrays vs immutable rebuilding",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"High-performance batching essential for rapid array updates; memoization counterproductive"},dataRequirements:{minSize:1e3,maxSize:1e5,defaultSize:1e4,scalesWith:"linear"}},{id:"computed-chains",name:"Complex Computed Chains",description:"Cascading computed values with dependencies",operations:"500 computations",complexity:"High",selected:!1,category:"core",purpose:"Evaluates dependency graph resolution and computed value performance",frequencyWeight:2.2,realWorldFrequency:"High - Derived state, calculated fields, data transformations",architecturalTradeOffs:"Granular reactivity prevents unnecessary recalculations vs coarse invalidation",enhancers:{required:["withBatching","withShallowMemoization"],optional:[],rationale:"Batching reduces cascading updates; memoization prevents redundant computations"},dataRequirements:{minSize:100,maxSize:1e3,defaultSize:500,scalesWith:"logarithmic"}},{id:"batch-updates",name:"Batched Operations",description:"Multiple simultaneous state updates",operations:"100 batches",complexity:"Medium",selected:!1,category:"core",purpose:"Tests batching system efficiency and transaction-like behavior",frequencyWeight:2,realWorldFrequency:"Common - Form saves, bulk edits, transaction-like updates",architecturalTradeOffs:"Batching reduces render thrashing vs individual update overhead",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"Core batching functionality being tested - no other enhancers needed"},dataRequirements:{minSize:50,maxSize:1e3,defaultSize:100,scalesWith:"linear"}},{id:"selector-memoization",name:"Selector/Memoization",description:"Memoized selector performance",operations:"1000 selections",complexity:"Low",selected:!1,category:"core",purpose:"Evaluates memoization effectiveness and cache hit rates",frequencyWeight:2.8,realWorldFrequency:"Very High - Data filtering, searching, computed UI state",architecturalTradeOffs:"Memoization prevents expensive recalculations vs memory overhead",enhancers:{required:["withLightweightMemoization"],optional:["withBatching"],rationale:"Testing memoization system - lightweight version for better performance"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"serialization",name:"Serialization (Snapshot + JSON)",description:"Convert state to plain JSON (unwrap + stringify)",operations:"Per iteration",complexity:"Medium",selected:!1,category:"core",purpose:"Measures serialization overhead and JSON conversion performance",frequencyWeight:.8,realWorldFrequency:"Low - State persistence, debugging, server-side rendering",architecturalTradeOffs:"Direct JSON serialization vs complex immutable structure traversal",enhancers:{required:["withSerialization","withMemoization","withHighPerformanceBatching"],optional:[],rationale:"Testing serialization feature; memoization and batching for stable baseline"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"exponential"}},{id:"concurrent-updates",name:"Rapid Sequential Updates",description:"High-frequency sequential modifications",operations:"50 concurrent",complexity:"Extreme",selected:!1,category:"core",purpose:"Tests performance under high-frequency update pressure",frequencyWeight:.4,realWorldFrequency:"Rare - Gaming, real-time data streams, intensive animations",architecturalTradeOffs:"Direct mutation handles rapid updates vs immutable bottlenecks",enhancers:{required:["withBatching"],optional:[],rationale:"Batching essential to prevent overwhelming the reactivity system"},dataRequirements:{minSize:50,maxSize:500,defaultSize:50,scalesWith:"linear"}},{id:"subscriber-scaling",name:"Subscriber Scaling",description:"Performance with increasing numbers of subscribers to a single state node",operations:"1000 updates with N subscribers",complexity:"High",selected:!0,category:"core",purpose:"Measures update fanout performance and scalability as subscriber count increases",frequencyWeight:1.5,realWorldFrequency:"Medium-High - Reactive UIs, data binding, multiple components",architecturalTradeOffs:"Direct mutation scales better with many subscribers vs immutable notification overhead",enhancers:{required:[],optional:["withBatching"],rationale:"Testing core reactivity scaling; batching may help with fanout"},dataRequirements:{minSize:10,maxSize:1e3,defaultSize:100,scalesWith:"linear"}},{id:"undo-redo",name:"Undo/Redo Operations",description:"Time-travel through state history",operations:"100 undo/redo",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel functionality and history navigation performance",frequencyWeight:.6,realWorldFrequency:"Low - Text editors, design tools, debugging workflows",architecturalTradeOffs:"Time-travel requires immutable snapshots vs direct mutation benefits",enhancers:{required:["withTimeTravel"],optional:["withBatching"],rationale:"Time-travel enhancer required; batching may improve performance"},dataRequirements:{minSize:50,maxSize:500,defaultSize:100,scalesWith:"linear"}},{id:"history-size",name:"Large History Size",description:"Performance with large history buffers",operations:"1000 history entries",complexity:"High",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel performance with large history buffers",frequencyWeight:.3,realWorldFrequency:"Rare - Development tools, complex debugging workflows",architecturalTradeOffs:"Large history requires significant memory vs lightweight state tracking",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer with large history size configuration"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"logarithmic"}},{id:"jump-to-state",name:"Jump to State",description:"Jumping to arbitrary points in history",operations:"50 jumps",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests random access performance in time-travel history",frequencyWeight:.2,realWorldFrequency:"Very Rare - Advanced debugging, development tools",architecturalTradeOffs:"Random state access requires indexed history vs linear traversal",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer for state jumping functionality"},dataRequirements:{minSize:25,maxSize:200,defaultSize:50,scalesWith:"linear"}},{id:"single-middleware",name:"Single Middleware",description:"Performance impact of one middleware",operations:"1000 operations",complexity:"Low",selected:!1,category:"middleware",purpose:"Measures overhead of middleware layer on performance",frequencyWeight:1.2,realWorldFrequency:"Medium - Logging, analytics, error tracking",architecturalTradeOffs:"Middleware adds flexibility vs direct performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing middleware impact"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"multiple-middleware",name:"Multiple Middleware",description:"Stack of multiple middleware layers",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance impact of middleware stack depth",frequencyWeight:.7,realWorldFrequency:"Low - Enterprise apps with complex middleware stacks",architecturalTradeOffs:"Middleware composition flexibility vs cumulative performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing cumulative middleware overhead"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"conditional-middleware",name:"Conditional Middleware",description:"Middleware with conditional logic",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance of conditional middleware execution paths",frequencyWeight:.5,realWorldFrequency:"Rare - Advanced middleware with conditional logic",architecturalTradeOffs:"Conditional middleware provides smart optimization vs branching overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing conditional middleware logic"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}}];var zn={type:null,entityIds:null,skip:!1,payload:null},po=!1;function bo(){po=!1}function Ye(i,t,e){Pe(i,t,e),po=!0}function Pe(i,t,e){po===!1&&(zn.type=i,zn.entityIds=t,zn.payload=e)}function _o(i,t){return function(e,n,r){let s=r.value;return r.value=function(...o){return Ye(i,t),s.apply(this,o)},r}}function yt(i,t){return i.hasOwnProperty(t)}function et(i){return Array.isArray(i)}function Mi(i){return i.hasOwnProperty("active")}function wr(i){return et(i)}function Ci({active:i,ids:t,entities:e}){return wr(i)?Al(i,t):yt(e,i)===!1?null:i}function Al(i,t){let e=i.filter(n=>t.indexOf(n)>-1);return e.length===i.length?i:e}function yo({state:i,entities:t,idKey:e,options:n={},preAddEntity:r}){let s={},o=[],a=!1;for(let c of t)if(yt(i.entities,c[e])===!1){let l=r(c),d=l[e];s[d]=l,n.prepend?o.unshift(d):o.push(d),a=!0}return a?{newState:O(x({},i),{entities:x(x({},i.entities),s),ids:n.prepend?[...o,...i.ids]:[...i.ids,...o]}),newIds:o}:null}function Se(i){return i==null}function me(i){return Se(i)?[]:Array.isArray(i)?i:[i]}function Mt(i){return et(i)?i.length===0:!1}function ne(i){return typeof i=="function"}function It(i){let t=typeof i;return i!=null&&(t=="object"||t=="function")}var Rl={resettable:!1,ttl:null,producerFn:void 0};function Un(){return Rl}function Il(){return Rl.producerFn}function gn(i){return Se(i)===!1}var Mo=new ye,xi=new Ri(50,5e3),Dl=new ye;function Bl(i){Mo.next(i)}function Ll(i){xi.next(i)}function Fl(i,t){Dl.next({storeName:i,action:t})}var Pi=typeof window<"u";var Le={},Nl={};Pi&&(window.$$stores=Le,window.$$queries=Nl);var Qt=(function(i){return i.Set="Set",i.Add="Add",i.Update="Update",i.Remove="Remove",i})(Qt||{});var kr=!0;function ae(){return kr}function Co(i,t,e){let n;if(et(i))n=i;else if(It(i)){if(Se(e))return;i=Object.assign({wrap:!0},i);let r=t.indexOf(e);if(i.prev){let s=r===0;if(s&&!i.wrap)return;n=s?t[t.length-1]:t[r-1]}else if(i.next){let s=t.length===r+1;if(s&&!i.wrap)return;n=s?t[0]:t[r+1]}}else{if(i===e)return;n=i}return n}var xo=()=>({entities:{},ids:[],loading:!0,error:null});function at(i){return i===void 0}function Po({state:i,ids:t}){if(Se(t))return Ul(i);let e=i.entities,n={};for(let s of i.ids)t.includes(s)===!1&&(n[s]=e[s]);let r=O(x({},i),{entities:n,ids:i.ids.filter(s=>t.includes(s)===!1)});return Mi(i)&&(r.active=Ci(r)),r}function Ul(i){return O(x({},i),{entities:{},ids:[],active:wr(i.active)?[]:null})}function Oo(i,t,e){let n={entities:{},ids:[]};for(let r of i){let s=e(r);n.entities[s[t]]=s,n.ids.push(s[t])}return n}function jl(i){return i.entities&&i.ids}function Vl(i,t){let e={};for(let n of Object.keys(i))e[n]=t(i[n]);return e}function So({state:i,entities:t,idKey:e,preAddEntity:n,isNativePreAdd:r}){let s,o;if(et(t)){let c=Oo(t,e,n);s=c.entities,o=c.ids}else jl(t)?(s=r?t.entities:Vl(t.entities,n),o=t.ids):(s=r?t:Vl(t,n),o=Object.keys(s).map(c=>isNaN(c)?c:Number(c)));let a=O(x({},i),{entities:s,ids:o,loading:!1});return Mi(i)&&(a.active=Ci(a)),a}function vo(i){Object.freeze(i);let t=typeof i=="function",e=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(i).forEach(function(n){e.call(i,n)&&(!t||n!=="caller"&&n!=="callee"&&n!=="arguments")&&i[n]!==null&&(typeof i[n]=="object"||typeof i[n]=="function")&&!Object.isFrozen(i[n])&&vo(i[n])}),i}function Wl(i,t){i||console.error(`@StoreConfig({ name }) is missing in ${t}`)}function Dt(i){return i!=null&&`${i}`!="false"}function Vn(i){return Dt(i)&&i.constructor.name==="Object"}var pn="akitaConfig";function ct(i){return function(t){t[pn]={idKey:"id"};for(let e=0,n=Object.keys(i);e<n.length;e++){let r=n[e];r==="name"?t[pn].storeName=i[r]:t[pn][r]=i[r]}}}var _g=new ye,Hl=new qe(!1),Bt={activeTransactions:0,batchTransaction:null};function $l(){Er()||(Bt.batchTransaction=new ye),Bt.activeTransactions++,Hl.next(!0)}function ql(){--Bt.activeTransactions===0&&(Bt.batchTransaction.next(!0),Bt.batchTransaction.complete(),Hl.next(!1),_g.next(!0))}function Er(){return Bt.activeTransactions>0}function wo(){return Bt.batchTransaction?Bt.batchTransaction.asObservable():Hr(!0)}function Oi(i,t=void 0){$l();try{return i.apply(t)}finally{Ye("@Transaction"),ql()}}function Tr(){return function(i,t,e){let n=e.value;return e.value=function(...r){return Oi(()=>n.apply(this,r),this)},e}}var Ct=class{constructor(t,e={}){this.options=e,this.inTransaction=!1,this.cache={active:new qe(!1),ttl:null},this.onInit(t)}setLoading(t=!1){t!==this._value().loading&&(ae()&&Pe("Set Loading"),this._setState(e=>O(x({},e),{loading:t})))}setHasCache(t,e={restartTTL:!1}){if(t!==this.cache.active.value&&this.cache.active.next(t),e.restartTTL){let n=this.getCacheTTL();n&&(this.cache.ttl!==null&&clearTimeout(this.cache.ttl),this.cache.ttl=setTimeout(()=>this.setHasCache(!1),n))}}getValue(){return this.storeValue}setError(t){t!==this._value().error&&(ae()&&Pe("Set Error"),this._setState(e=>O(x({},e),{error:t})))}_select(t){return this.store.asObservable().pipe(Ue(e=>t(e.state)),xn())}_value(){return this.storeValue}_cache(){return this.cache.active}get config(){return this.constructor[pn]||{}}get storeName(){return this.config.storeName||this.options.storeName||this.options.name}get deepFreeze(){return this.config.deepFreezeFn||this.options.deepFreezeFn||vo}get cacheConfig(){return this.config.cache||this.options.cache}get _producerFn(){return this.config.producerFn||this.options.producerFn||Il()}get resettable(){return gn(this.config.resettable)?this.config.resettable:this.options.resettable}_setState(t,e=!0){if(ne(t)){let n=t(this._value());this.storeValue=kr?this.deepFreeze(n):n}else this.storeValue=t;if(!this.store){this.store=new qe({state:this.storeValue}),ae()&&this.store.subscribe(({action:n})=>{n&&Fl(this.storeName,n)});return}if(Er()){this.handleTransaction();return}this.dispatch(this.storeValue,e)}reset(){this.isResettable()&&(ae()&&Pe("Reset"),this._setState(()=>Object.assign({},this._initialState)),this.setHasCache(!1))}update(t){ae()&&Pe("Update");let e,n=this._value();ne(t)?e=ne(this._producerFn)?this._producerFn(n,t):t(n):e=t;let r=this.akitaPreUpdate(n,x(x({},n),e)),s=Vn(n)?r:new n.constructor(r);this._setState(s)}updateStoreConfig(t){this.options=x(x({},this.options),t)}akitaPreUpdate(t,e){return e}destroy(){!(Pi?window.hmrEnabled:!1)&&this===Le[this.storeName]&&(delete Le[this.storeName],Bl(this.storeName),this.setHasCache(!1),this.cache.active.complete(),this.store.complete())}onInit(t){Le[this.storeName]=this,this._setState(()=>t),Ll(this.storeName),this.isResettable()&&(this._initialState=t),ae()&&Wl(this.storeName,this.constructor.name)}dispatch(t,e=!0){let n;e&&(n=zn,bo()),this.store.next({state:t,action:n})}watchTransaction(){wo().subscribe(()=>{this.inTransaction=!1,this.dispatch(this._value())})}isResettable(){return this.resettable===!1?!1:this.resettable||Un().resettable}handleTransaction(){this.inTransaction||(this.watchTransaction(),this.inTransaction=!0)}getCacheTTL(){return this.cacheConfig&&this.cacheConfig.ttl||Un().ttl}};function ko({state:i,ids:t,idKey:e,newStateOrFn:n,preUpdateEntity:r,producerFn:s,onEntityIdChanges:o}){let a={},c=!1,l;for(let m of t){if(yt(i.entities,m)===!1)continue;let g=i.entities[m],_;ne(n)?_=ne(s)?s(g,n):n(g):_=n;let y=_.hasOwnProperty(e)&&_[e]!==g[e],C;l=m,y&&(c=!0,l=_[e]);let M=x(x({},g),_);Vn(g)?C=M:Vn(_)?C=new g.constructor(M):C=new _.constructor(M),a[l]=r(g,C)}let d=i.ids,u=i.entities;if(c){let[m]=t,h=i.entities,{[m]:g}=h;u=Ai(h,[Ho(m)]),d=i.ids.map(y=>y===m?l:y),o(m,l)}return O(x({},i),{entities:x(x({},u),a),ids:d})}var Kl,Ae=class i extends Ct{constructor(t={},e={}){super(x(x({},xo()),t),e),this.options=e,this.entityActions=new ye,this.entityIdChanges=new ye}get selectEntityAction$(){return this.entityActions.asObservable()}get selectEntityIdChanges$(){return this.entityIdChanges.asObservable()}get idKey(){return this.config.idKey||this.options.idKey||"id"}set(t,e={}){if(Se(t))return;ae()&&Pe("Set Entity");let n=this.akitaPreAddEntity===i.prototype.akitaPreAddEntity;this.setHasCache(!0,{restartTTL:!0}),this._setState(r=>{let s=So({state:r,entities:t,idKey:this.idKey,preAddEntity:this.akitaPreAddEntity.bind(this),isNativePreAdd:n});return at(e.activeId)===!1&&(s.active=e.activeId),s}),this.hasInitialUIState()&&this.handleUICreation(),this.entityActions.next({type:Qt.Set,ids:this.ids})}add(t,e={loading:!1}){let n=me(t);if(Mt(n))return;let r=yo({state:this._value(),preAddEntity:this.akitaPreAddEntity.bind(this),entities:n,idKey:this.idKey,options:e});r&&(ae()&&Pe("Add Entity"),r.newState.loading=e.loading,this._setState(()=>r.newState),this.hasInitialUIState()&&this.handleUICreation(!0),this.entityActions.next({type:Qt.Add,ids:r.newIds}))}update(t,e){if(at(e)){super.update(t);return}let n=[];if(ne(t)?n=this.ids.filter(s=>t(this.entities[s])):n=Se(t)?this.ids:me(t),Mt(n))return;ae()&&Pe("Update Entity",n);let r;this._setState(s=>ko({idKey:this.idKey,ids:n,preUpdateEntity:this.akitaPreUpdateEntity.bind(this),state:s,newStateOrFn:e,producerFn:this._producerFn,onEntityIdChanges:(o,a)=>{r={oldId:o,newId:a},this.entityIdChanges.next(O(x({},r),{pending:!0}))}})),r&&this.entityIdChanges.next(O(x({},r),{pending:!1})),this.entityActions.next({type:Qt.Update,ids:n})}upsert(t,e,n,r={}){let s=me(t),o=u=>h=>yt(this.entities,h)===u,a=ne(n)?r.baseClass:n?n.baseClass:void 0,c=ne(a),l=s.filter(o(!0)),d=s.filter(o(!1)).map(u=>{let h=typeof e=="function"?e({}):e,m=ne(n)?n(u,h):h,g=O(x({},m),{[this.idKey]:u});return c?new a(g):g});this.update(l,e),this.add(d),ae()&&Ye("Upsert Entity")}upsertMany(t,e={}){let n=[],r=[],s={};for(let o of t){let a=this.akitaPreCheckEntity(o),c=a[this.idKey];if(yt(this.entities,c)){let l=this._value().entities[c],d=x(x({},this._value().entities[c]),a),u=e.baseClass?new e.baseClass(d):d,h=this.akitaPreUpdateEntity(l,u),m=h[this.idKey];s[m]=h,r.push(m)}else{let l=e.baseClass?new e.baseClass(a):a,d=this.akitaPreAddEntity(l),u=d[this.idKey];n.push(u),s[u]=d}}ae()&&Ye("Upsert Many"),this._setState(o=>O(x({},o),{ids:n.length?[...o.ids,...n]:o.ids,entities:x(x({},o.entities),s),loading:!!e.loading})),r.length&&this.entityActions.next({type:Qt.Update,ids:r}),n.length&&this.entityActions.next({type:Qt.Add,ids:n}),n.length&&this.hasUIStore()&&this.handleUICreation(!0)}replace(t,e){let n=me(t);if(Mt(n))return;let r={};for(let s of n)r[s]=O(x({},e),{[this.idKey]:s});ae()&&Pe("Replace Entity",t),this._setState(s=>O(x({},s),{entities:x(x({},s.entities),r)}))}move(t,e){let n=this.ids.slice();n.splice(e<0?n.length+e:e,0,n.splice(t,1)[0]),ae()&&Pe("Move Entity"),this._setState(r=>O(x({},r),{entities:x({},r.entities),ids:n}))}remove(t){if(Mt(this.ids))return;let e=gn(t),n=[];ne(t)?n=this.ids.filter(r=>t(this.entities[r])):n=e?me(t):this.ids,!Mt(n)&&(ae()&&Pe("Remove Entity",n),this._setState(r=>Po({state:r,ids:n})),e||this.setHasCache(!1),this.handleUIRemove(n),this.entityActions.next({type:Qt.Remove,ids:n}))}updateActive(t){let e=me(this.active);ae()&&Pe("Update Active",e),this.update(e,t)}setActive(t){let e=Co(t,this.ids,this.active);e!==void 0&&(ae()&&Pe("Set Active",e),this._setActive(e))}addActive(t){let e=me(t);Mt(e)||e.every(r=>this.active.indexOf(r)>-1)||(ae()&&Pe("Add Active",t),this._setState(r=>{let s=Array.from(new Set([...r.active,...e]));return O(x({},r),{active:s})}))}removeActive(t){let e=me(t);Mt(e)||!e.some(r=>this.active.indexOf(r)>-1)||(ae()&&Pe("Remove Active",t),this._setState(r=>O(x({},r),{active:Array.isArray(r.active)?r.active.filter(s=>e.indexOf(s)===-1):null})))}toggleActive(t){let e=me(t),n=o=>a=>this.active.includes(a)===o,r=e.filter(n(!0)),s=e.filter(n(!1));this.removeActive(r),this.addActive(s),ae()&&Ye("Toggle Active")}createUIStore(t={},e={}){let n={name:`UI/${this.storeName}`,idKey:this.idKey};return this.ui=new Si(t,x(x({},n),e)),this.ui}destroy(){super.destroy(),this.ui instanceof i&&this.ui.destroy(),this.entityActions.complete()}akitaPreUpdateEntity(t,e){return e}akitaPreAddEntity(t){return t}akitaPreCheckEntity(t){return t}get ids(){return this._value().ids}get entities(){return this._value().entities}get active(){return this._value().active}_setActive(t){this._setState(e=>O(x({},e),{active:t}))}handleUICreation(t=!1){let e=this.ids,n=ne(this.ui._akitaCreateEntityFn),r,s=o=>{let a=this.entities[o],c=n?this.ui._akitaCreateEntityFn(a):this.ui._akitaCreateEntityFn;return x({[this.idKey]:a[this.idKey]},c)};t?r=this.ids.filter(o=>at(this.ui.entities[o])).map(s):r=e.map(s),t?this.ui.add(r):this.ui.set(r)}hasInitialUIState(){return this.hasUIStore()&&at(this.ui._akitaCreateEntityFn)===!1}handleUIRemove(t){this.hasUIStore()&&this.ui.remove(t)}hasUIStore(){return this.ui instanceof Si}};Xn([Tr(),rt("design:type",Function),rt("design:paramtypes",[Object,Object,Object,Object]),rt("design:returntype",void 0)],Ae.prototype,"upsert",null);Xn([Tr(),rt("design:type",Function),rt("design:paramtypes",[typeof(Kl=typeof T<"u"&&T)=="function"?Kl:Object]),rt("design:returntype",void 0)],Ae.prototype,"toggleActive",null);var Si=class extends Ae{constructor(t={},e={}){super(t,e)}setInitialEntityState(t){this._akitaCreateEntityFn=t}};function Eo(){return xt(i=>i!=null)}function jn(i){return typeof i=="string"}function Wn(i,t){return t.split(".").length===1?i:t.split(".").slice(1).join(".").split(".").reduce((n,r)=>n&&n[r],i)}function vi(i,t,e,n=!1){let r=t.split(".");if(r.length===1)return x(x({},i),e);i=x({},i);let s=r.length-2;return t.split(".").slice(1).reduce((a,c,l)=>l!==s?(a[c]=x({},a[c]),a&&a[c]):(a[c]=n||Array.isArray(a[c])||!It(a[c])?e:x(x({},a[c]),e),a&&a[c]),i),i}var Og=!1,SM=new Ri(1);function To(i){Og=i}var Jt=class{constructor(t,e){this.query=t,e&&e.resetFn&&Un().resettable&&this.onReset(e.resetFn)}getQuery(){return this.query}getStore(){return this.getQuery().__store__}isEntityBased(t){return Dt(t)}selectSource(t,e){return this.isEntityBased(t)?this.getQuery().selectEntity(t).pipe(Eo()):e?this.getQuery().select(n=>Wn(n,this.withStoreName(e))):this.getQuery().select()}getSource(t,e){if(this.isEntityBased(t))return this.getQuery().getEntity(t);let n=this.getQuery().getValue();return e?Wn(n,this.withStoreName(e)):n}withStoreName(t){return`${this.storeName}.${t}`}get storeName(){return this.getStore().storeName}updateStore(t,e,n,r=!1){if(this.isEntityBased(e)){let s=this.getStore();r?s.replace(e,t):s.update(e,t)}else{if(n){this.getStore()._setState(o=>vi(o,this.withStoreName(n),t,!0));return}let s=r?t:o=>x(x({},o),t);this.getStore()._setState(s)}}onReset(t){let e=this.getStore().reset;this.getStore().reset=(...n)=>{setTimeout(()=>{e.apply(this.getStore(),n),t()})}}};var kg={pagesControls:!1,range:!1,startWith:1,cacheTimeout:void 0,clearStoreWithCache:!0},Ar=class extends Jt{constructor(t,e={}){super(t,{resetFn:()=>{this.initial=!1,this.destroy({clearCache:!0,currentPage:1})}}),this.query=t,this.config=e,this.metadata=new Map,this.pages=new Map,this.pagination={currentPage:1,perPage:0,total:0,lastPage:0,data:[]},this.initial=!0,this.isLoading$=this.query.selectLoading().pipe(Ko(0)),this.config=x(x({},kg),e);let{startWith:n,cacheTimeout:r}=this.config;this.page=new qe(n),Ii(r)&&(this.clearCacheSubscription=r.subscribe(()=>this.clearCache()))}get pageChanges(){return this.page.asObservable()}get currentPage(){return this.pagination.currentPage}get isFirst(){return this.currentPage===1}get isLast(){return this.currentPage===this.pagination.lastPage}withControls(){return this.config.pagesControls=!0,this}withRange(){return this.config.range=!0,this}setLoading(t=!0){this.getStore().setLoading(t)}update(t){this.pagination=t,this.addPage(t.data)}addPage(t){this.pages.set(this.currentPage,{ids:t.map(e=>e[this.getStore().idKey])}),this.getStore().upsertMany(t)}clearCache(t={}){this.initial||(Ye("@Pagination - Clear Cache"),t.clearStore!==!1&&(this.config.clearStoreWithCache||t.clearStore)&&this.getStore().remove(),this.pages=new Map,this.metadata=new Map),this.initial=!1}clearPage(t){this.pages.delete(t)}destroy({clearCache:t,currentPage:e}={}){this.clearCacheSubscription&&this.clearCacheSubscription.unsubscribe(),t&&this.clearCache(),at(e)||this.setPage(e),this.initial=!0}isPageActive(t){return this.currentPage===t}setPage(t){(t!==this.currentPage||!this.hasPage(t))&&this.page.next(this.pagination.currentPage=t)}nextPage(){this.currentPage!==this.pagination.lastPage&&this.setPage(this.pagination.currentPage+1)}prevPage(){this.pagination.currentPage>1&&this.setPage(this.pagination.currentPage-1)}setLastPage(){this.setPage(this.pagination.lastPage)}setFirstPage(){this.setPage(1)}hasPage(t){return this.pages.has(t)}getPage(t){let e=this.pagination.currentPage;return this.hasPage(e)?this.selectPage(e):(this.setLoading(!0),Wr(t()).pipe(Bi(n=>(e=n.currentPage,Oi(()=>{this.setLoading(!1),this.update(n)}),this.selectPage(e)))))}getQuery(){return this.query}refreshCurrentPage(){Se(this.currentPage)===!1&&(this.clearPage(this.currentPage),this.setPage(this.currentPage))}getFrom(){return this.isFirst?1:(this.currentPage-1)*this.pagination.perPage+1}getTo(){return this.isLast?this.pagination.total:this.currentPage*this.pagination.perPage}selectPage(t){return this.query.selectAll({asObject:!0}).pipe(dt(1),Ue(e=>{let n=O(x({},this.pagination),{data:this.pages.get(t).ids.map(o=>e[o])}),{range:r,pagesControls:s}=this.config;return isNaN(this.pagination.total)&&(n.lastPage===1?n.total=n.data?n.data.length:0:n.total=n.perPage*n.lastPage,this.pagination.total=n.total),r&&(n.from=this.getFrom(),n.to=this.getTo()),s&&(n.pageControls=Eg(this.pagination.total,this.pagination.perPage)),n}))}};Xn([_o("@Pagination - New Page"),rt("design:type",Function),rt("design:paramtypes",[Object]),rt("design:returntype",void 0)],Ar.prototype,"update",null);function Eg(i,t){let e=Math.ceil(i/t),n=[];for(let r=0;r<e;r++)n.push(r+1);return n}var Ao=(function(i){return i.Update="UPDATE",i})(Ao||{}),RC={[Ao.Update]:"update"},Lt=(function(i){return i.Update="UPDATE",i.AddEntities="ADD_ENTITIES",i.SetEntities="SET_ENTITIES",i.UpdateEntities="UPDATE_ENTITIES",i.RemoveEntities="REMOVE_ENTITIES",i.UpsertEntities="UPSERT_ENTITIES",i.UpsertManyEntities="UPSERT_MANY_ENTITIES",i})(Lt||{}),IC={[Lt.Update]:"update",[Lt.AddEntities]:"add",[Lt.SetEntities]:"set",[Lt.UpdateEntities]:"update",[Lt.RemoveEntities]:"remove",[Lt.UpsertEntities]:"upsert",[Lt.UpsertManyEntities]:"upsertMany"};var Rr=class{getStoresSnapshot(t=[]){let e={},r=t.length>0?t:Object.keys(Le);for(let s=0;s<r.length;s++){let o=r[s];o!=="router"&&(e[o]=Le[o]._value())}return e}setStoresSnapshot(t,e){let n=x({skipStorageUpdate:!1,lazy:!1},e);n.skipStorageUpdate&&To(!0);let r=t;jn(t)&&(r=JSON.parse(r));let s=Object.keys(r).length;if(n.lazy)xi.pipe(xt(o=>r.hasOwnProperty(o)),dt(s)).subscribe(o=>Le[o]._setState(()=>r[o]));else for(let o=0,a=Object.keys(r);o<a.length;o++){let c=a[o];Le[c]&&Le[c]._setState(()=>r[c])}n.skipStorageUpdate&&To(!1)}},Ag=new Rr;function tt(){return performance?.memory?.usedJSHeapSize??null}var Ir=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}yieldToUI=ht();runSingleMiddlewareBenchmark(t){return v(this,null,function*(){class e extends Ct{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(a,c){let l=c.counter>-1;return c}}let n=new e,r=performance.now();for(let o=0;o<t;o++)n.update(a=>O(x({},a),{counter:a.counter+1}));let s=performance.now()-r;return this.toResult(s)})}runMultipleMiddlewareBenchmark(t,e){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Unsupported scenario for Akita"}})}runConditionalMiddlewareBenchmark(t){return v(this,null,function*(){class e extends Ct{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(a,c){if(c.counter%2===0){let l=0;for(let d=0;d<20;d++)l+=d}return c}}let n=new e,r=performance.now();for(let o=0;o<t;o++)o%2===0?n.update(c=>O(x({},c),{counter:c.counter+1})):n.update(c=>O(x({},c),{data:"modified"}));let s=performance.now()-r;return this.toResult(s)})}runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Math.min(t,k.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let o=0;o<n;o++)r.push(new Promise(a=>setTimeout(a,0)));yield Promise.all(r);let s=performance.now()-e;return this.toResult(s)})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(s=>setTimeout(s,0)));yield Promise.all(n);let r=performance.now()-e;return this.toResult(r)})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=[];for(let s=0;s<t;s++)n.push(setTimeout(()=>{},10));for(let s=0;s<Math.floor(t/2);s++)clearTimeout(n[s]);yield new Promise(s=>setTimeout(s,10));let r=performance.now()-e;return this.toResult(r)})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=k.DATA_GENERATION.NESTED_DEPTH){let r=l=>l===0?{value:0,data:"test"}:{level:r(l-1)},s=r(e),o=(l,d,u)=>d===0?O(x({},l),{value:u}):O(x({},l),{level:o(l.level??{},d-1,u)}),a=performance.now();for(let l=0;l<Math.min(t,k.ITERATIONS.DEEP_NESTED);l++)s=o(s,e-1,l);s?.level?.level;let c=performance.now()-a;return this.toResult(c)})}runArrayBenchmark(t){return v(this,null,function*(){let e=class extends Ae{constructor(){super({})}};e=lt([ct({name:"akita-bench-items",idKey:"id"})],e);let n=new e;n.add(Array.from({length:t},(c,l)=>({id:l,value:Math.random()*1e3})));let r=performance.now(),s=Math.min(k.ITERATIONS.ARRAY_UPDATES,t);for(let c=0;c<s;c++){let l=c%t;n.update(l,{value:Math.random()*1e3})}n.getValue().ids?.length;let a=performance.now()-r;return this.toResult(a)})}runComputedBenchmark(t){return v(this,null,function*(){let e={value:0,factors:Array.from({length:k.DATA_GENERATION.FACTOR_COUNT},(o,a)=>a+1)},n=()=>{let o=0;for(let a of e.factors)o+=Math.sin(e.value*a)*Math.cos(a);return o},r=performance.now();for(let o=0;o<Math.min(t,k.ITERATIONS.COMPUTED);o++)e=O(x({},e),{value:o}),n();let s=performance.now()-r;return this.toResult(s)})}runBatchUpdatesBenchmark(){return v(this,arguments,function*(t=k.ITERATIONS.BATCH_UPDATES,e=k.ITERATIONS.BATCH_SIZE){let n=class extends Ae{constructor(){super({})}};n=lt([ct({name:"akita-bench-batch",idKey:"id"})],n);let r=new n;r.add(Array.from({length:e},(a,c)=>({id:c,value:c})));let s=performance.now();for(let a=0;a<t;a++)r.update(Array.from({length:e},(c,l)=>l),c=>({value:c.value+1|0}));let o=performance.now()-s;return this.toResult(o)})}runSelectorBenchmark(t){return v(this,null,function*(){let e=class extends Ae{constructor(){super({})}};e=lt([ct({name:"akita-bench-select",idKey:"id"})],e);let n=new e;n.add(Array.from({length:t},(m,g)=>({id:g,flag:g%2===0,value:Math.random()*100,metadata:{category:g%5,priority:g%3}})));let r=performance.now(),s,o,a,c=0,l=()=>{let m=n.getValue(),g=m.ids??[],_=m.entities??{},y=g.length;if(s!==void 0&&y===c)return s;let C=0;for(let M of g)_[M]?.flag&&C++;return s=C,c=y,C},d=()=>{let m=n.getValue(),g=m.ids??[],_=m.entities??{},y=g.length;if(o!==void 0&&y===c)return o;let C=0;for(let M of g)_[M]?.value&&_[M].value>50&&C++;return o=C,C},u=()=>{let m=n.getValue(),g=m.ids??[],_=m.entities??{},y=g.length;if(a!==void 0&&y===c)return a;let C={};for(let M of g){let S=_[M];if(S?.metadata){let w=S.metadata.category;C[w]=(C[w]||0)+1}}return a=C,C};for(let m=0;m<k.ITERATIONS.SELECTOR;m++)if(l(),d(),u(),(m&k.YIELD_FREQUENCY.SELECTOR)===0){let g=m%t,y=n.getValue().entities?.[g];y&&(n.update(g,{flag:!y.flag}),s=void 0,o=void 0,a=void 0,c++)}let h=performance.now()-r;return this.toResult(h)})}runSerializationBenchmark(t){return v(this,null,function*(){let e=class extends Ae{constructor(){super({})}};e=lt([ct({name:"akita-serialize",idKey:"id"})],e);let n=new e,r=Array.from({length:Math.max(100,Math.min(1e3,t))},(l,d)=>({id:d,name:`User ${d}`,roles:d%5===0?["admin","user"]:["user"],active:d%3===0,meta:{createdAt:new Date(2020,0,1+d%28)}}));n.set(r);for(let l=0;l<10;l++){let d=l%r.length;n.update(d,u=>O(x({},u),{active:!u.active}))}let s=performance.now(),o=n.getValue();JSON.stringify({data:o});let c=performance.now()-s;return this.toResult(c)})}runConcurrentUpdatesBenchmark(){return v(this,arguments,function*(t=k.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=class extends Ae{constructor(){super({})}};n=lt([ct({name:"akita-bench-conc",idKey:"id"})],n);let r=new n;r.add(Array.from({length:t},(d,u)=>({id:u,value:0})));let s=performance.now();for(let d=0;d<e;d++)r.update(Array.from({length:t},(u,h)=>h),u=>({value:u.value+1|0}));(r.getValue().entities??{})[0]?.value;let l=performance.now()-s;return this.toResult(l)})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=tt(),n=class extends Ae{constructor(){super({})}};n=lt([ct({name:"akita-bench-mem",idKey:"id"})],n);let r=Math.max(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),s=Math.max(10,Math.min(200,Math.floor(r/250))),o=new n;o.add(Array.from({length:r},(h,m)=>({id:m,score:m*13%997,tags:m%7===0?["hot","new"]:["cold"],group:m%s})));let a=performance.now(),c=Math.max(100,Math.floor(r*.01));for(let h=0;h<c;h++){let m=h%r;o.update(m,g=>({score:g.score+1|0,tags:(h&k.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?g.tags.includes("hot")?["cold"]:["hot"]:g.tags}))}let l=performance.now()-a,d=tt(),u;return e!=null&&d!=null&&(u=(d-e)/(1024*1024)),this.toResult(l,u)})}runDataFetchingBenchmark(t){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Unsupported scenario for Akita"}})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=tt(),n=performance.now(),r=class extends Ae{constructor(){super({}),this.add({id:"main",activeUsers:0,totalSessions:0,pageViews:0,serverLoad:0,responseTime:0})}};r=lt([ct({name:"akita-metrics",idKey:"id"})],r);let s=class extends Ae{constructor(){super({})}};s=lt([ct({name:"akita-events",idKey:"id"})],s);let o=class extends Ae{constructor(){super({})}};o=lt([ct({name:"akita-notifications",idKey:"id"})],o);let a=new r,c=new s,l=new o,d=Math.min(k.ITERATIONS.REAL_TIME_UPDATES,t);for(let g=0;g<d;g++){let _=a.getValue().entities?.main;if(_&&a.update("main",{activeUsers:_.activeUsers+Math.floor(Math.random()*10-5),pageViews:_.pageViews+Math.floor(Math.random()*20),serverLoad:Math.random(),responseTime:50+Math.random()*200}),(g&k.YIELD_FREQUENCY.DATA_FETCHING)===0){c.add({id:g,type:"user_action",timestamp:Date.now(),data:`event${g}`});let y=c.getValue().entities;if(y){let C=Object.values(y);if(C.length>100){let M=C.slice(0,C.length-100).map(S=>S.id);c.remove(M)}}}if((g&k.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0){l.add({id:g,message:`Notification ${g}`,priority:"normal",timestamp:Date.now()});let y=l.getValue().entities;if(y){let C=Object.values(y);if(C.length>10){let M=C.slice(0,C.length-10).map(S=>S.id);l.remove(M)}}}}let u=performance.now()-n,h=tt(),m;return e!=null&&h!=null&&(m=(h-e)/(1024*1024)),this.toResult(u,m)})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Unsupported scenario for Akita"}})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){class e extends Ct{constructor(){super({counter:0,data:{value:"initial"}})}}let n=new e,r=[];for(let a=0;a<t;a++){let c=n._select(l=>l.counter).subscribe(l=>{let d=l*(a+1)+Math.sin(l*.1)});r.push(c)}let s=performance.now(),o=Math.min(1e3,k.ITERATIONS.SUBSCRIBER_SCALING||1e3);for(let a=0;a<o;a++)n.update(c=>O(x({},c),{counter:a}));return r.forEach(a=>a.unsubscribe()),performance.now()-s})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"})};function Rg(...i){let t={config:{},state:{}};for(let{config:e,props:n}of i)Object.assign(t.config,e),Object.assign(t.state,n);return t}var Jl=new qe(!1),Ig=Jl.asObservable().pipe(xt(i=>!i),dt(1));var Hn={},Ro=class{registerPreStoreUpdate(t){Hn.preStoreUpdate=t}registerPreStateInit(t){Hn.preStateInit=t}},pP=new Ro,Zl=new Map,Do=new ye,bP=Do.asObservable();function Dg(i){Zl.set(i.name,i),Do.next({type:"add",store:i})}function Bg(i){Zl.delete(i.name),Do.next({type:"remove",store:i})}var Dr=[];function Lg(i){Dr.push(i)}function Ql(i){Dr.length&&Dr.forEach(t=>i.next(t)),Dr=[]}var Io=class extends qe{constructor(t){super(t.state),this.storeDef=t,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new ye,this.context={config:this.getConfig(),setEvent:e=>{Lg(e)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(t.state),this.initialState=this.getValue(),Dg(this)}get name(){return this.storeDef.name}getInitialState(t){return Hn.preStateInit?Hn.preStateInit(t,this.name):t}getConfig(){return this.storeDef.config}query(t){return t(this.getValue())}update(...t){let e=this.getValue(),n=t.reduce((r,s)=>(r=s(r,this.context),r),e);Hn.preStoreUpdate&&(n=Hn.preStoreUpdate(e,n,this.name)),n!==e&&(this.state=n,Jl.getValue()?this.batchInProgress||(this.batchInProgress=!0,Ig.subscribe(()=>{super.next(this.state),Ql(this.events),this.batchInProgress=!1})):(super.next(this.state),Ql(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(t){let e=!0,n={};return new Cn(r=>{for(let[s,o]of Object.entries(t))r.add(o.subscribe(a=>{n[s]=a,e=!0}));return this.subscribe({next(){e&&(r.next(x({},n)),e=!1)},error(s){r.error(s)},complete(){r.complete()}})})}destroy(){Bg(this),this.reset()}next(t){this.update(()=>t)}error(){}complete(){}};function Fe(i,...t){let{state:e,config:n}=Rg(...t),{name:r}=i;return new Io({name:r,state:e,config:n})}function wi(i){return Array.isArray(i)?i:[i]}function Br(i){return typeof i=="function"}function ki(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Fg(i){return typeof i=="object"&&!Array.isArray(i)&&i!==null}function ed(i){return $o(Ue(i),xn())}function Bo(i,{initialValue:t,config:e}){let n=t,r=ki(i);return{[`with${r}`](s=n){return{props:{[i]:s},config:e}},[`set${r}InitialValue`](s){n=s},[`set${r}`](s){return function(o){let a=Br(s)?s(o):s;return a===o[i]?o:O(x({},o),{[i]:a})}},[`update${r}`](s){return function(o){let a=Br(s)?s(o):s;return a===o[i]?o:O(x({},o),{[i]:Fg(a)?x(x({},o[i]),a):a})}},[`reset${r}`](){return function(s){return O(x({},s),{[i]:n})}},[`select${r}`](){return ed(s=>s[i])},[`get${r}`](s){return s[i]}}}function td(i,t){let e=ki(i),n=Bo(i,t);return O(x({},n),{[`add${e}`](r){return function(s){return O(x({},s),{[i]:Ng(s[i],r)})}},[`remove${e}`](r){return function(s){return O(x({},s),{[i]:zg(s[i],r)})}},[`toggle${e}`](r){return function(s){return O(x({},s),{[i]:Ug(s[i],r)})}},[`update${e}`](r,s){return function(o){return O(x({},o),{[i]:jg(o[i],r,s)})}},[`in${e}`](r){return s=>Vg(s[i],r)}})}function Ng(i,t){return[...i,...wi(t)]}function zg(i,t){let e=wi(t);return i.filter(n=>!e.includes(n))}function Ug(i,t){let e=wi(t),n=[...i];return e.forEach(r=>{let s=n.indexOf(r);s>-1?n.splice(s,1):n.push(r)}),n}function Vg(i,t){return i.includes(t)}function jg(i,t,e){return i.map(n=>n===t?e:n)}function nd(i,t){let e={},n=[];for(let r of i){let s=r[t];n.push(s),e[s]=r}return{ids:n,asObject:e}}function Wg(i,t){return i.config[t.idKeyRef]}var Lo=class{constructor(t){this.entitiesKey=void 0,this.idsKey=void 0,this.idKeyRef="idKey",this.entitiesKey=t.entitiesKey,this.idsKey=t.idsKey,this.idKeyRef=t.idKeyRef}};function id(i){let t=i?`idKey${ki(i)}`:"idKey",e=new Lo({entitiesKey:i?`${i}Entities`:"entities",idsKey:i?`${i}Ids`:"ids",idKeyRef:t});function n(r){let s={},o=[],a=r?.idKey||"id";return r?.initialValue&&({ids:o,asObject:s}=nd(r.initialValue,a)),{props:{[e.entitiesKey]:s,[e.idsKey]:o},config:{[t]:a}}}return{[`${i}EntitiesRef`]:e,[`with${ki(i)}Entities`]:n}}var{withEntities:Ne,EntitiesRef:$n}=id(""),{UIEntitiesRef:OP,withUIEntities:SP}=id("UI");function ze(i,t={}){return function(e,n){let{ref:r=$n}=t,{entitiesKey:s,idsKey:o}=r,{ids:a,asObject:c}=nd(i,Wg(n,r));return n.setEvent({type:"set",ids:a}),O(x({},e),{[s]:c,[o]:a})}}function Ge(i={}){let{ref:{entitiesKey:t,idsKey:e}=$n}=i;return function(n){return n[e].map(r=>n[t][r])}}function Hg(i,t={}){return function(e){let{ref:{entitiesKey:n}=$n}=t;return e[n][i]}}function $g(i,t={}){return function(e){let{ref:{entitiesKey:n}=$n}=t;return Reflect.has(e[n],i)}}function qg(i,t){return Br(i)?i(t):x(x({},t),i)}function Ft(i,t,e={}){return function(n,r){let s=wi(i);if(!s.length)return n;let{ref:{entitiesKey:o}=$n}=e,a={};for(let c of s)$g(c,e)(n)&&(a[c]=qg(t,Hg(c,e)(n)));return r.setEvent({type:"update",ids:s}),O(x({},n),{[o]:x(x({},n[o]),a)})}}function Fo(i,t={}){return function(e,n){let{ref:{idsKey:r}=$n}=t;return Ft(e[r],i,t)(e,n)}}var{selectActiveId:vP,setActiveId:wP,withActiveId:kP,resetActiveId:EP,getActiveId:TP}=Bo("activeId",{initialValue:void 0});var{setActiveIds:AP,resetActiveIds:RP,withActiveIds:IP,selectActiveIds:DP,toggleActiveIds:BP,removeActiveIds:LP,addActiveIds:FP,getActiveIds:NP}=td("activeIds",{initialValue:[]});var Lr=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}yieldToUI=ht();runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Math.min(t,k.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let o=0;o<n;o++)r.push(new Promise(a=>setTimeout(a,0)));yield Promise.all(r);let s=performance.now()-e;return this.toResult(s)})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(s=>setTimeout(s,0)));yield Promise.all(n);let r=performance.now()-e;return this.toResult(r)})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=[];for(let s=0;s<t;s++)n.push(setTimeout(()=>{},10));for(let s=0;s<Math.floor(t/2);s++)clearTimeout(n[s]);yield new Promise(s=>setTimeout(s,10));let r=performance.now()-e;return this.toResult(r)})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=k.DATA_GENERATION.NESTED_DEPTH){let r=l=>l===0?{value:0,data:"test"}:{level:r(l-1)},s=r(e),o=(l,d,u)=>d===0?O(x({},l),{value:u}):O(x({},l),{level:o(l.level??{},d-1,u)}),a=performance.now();for(let l=0;l<Math.min(t,k.ITERATIONS.DEEP_NESTED);l++)s=o(s,e-1,l);s?.level?.value;let c=performance.now()-a;return this.toResult(c)})}runArrayBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-bench-items"},Ne());e.update(ze(Array.from({length:t},(a,c)=>({id:c,value:Math.random()*1e3}))));let n=performance.now(),r=Math.min(k.ITERATIONS.ARRAY_UPDATES,t);for(let a=0;a<r;a++){let c=a%t;e.update(Ft(c,l=>O(x({},l),{value:Math.random()*1e3})))}e.query(Ge()).length;let o=performance.now()-n;return this.toResult(o)})}runComputedBenchmark(t){return v(this,null,function*(){let e={value:0,factors:Array.from({length:k.DATA_GENERATION.FACTOR_COUNT},(o,a)=>a+1)},n=()=>{let o=0;for(let a of e.factors)o+=Math.sin(e.value*a)*Math.cos(a);return o},r=performance.now();for(let o=0;o<Math.min(t,k.ITERATIONS.COMPUTED);o++)e=O(x({},e),{value:o}),n();let s=performance.now()-r;return this.toResult(s)})}runBatchUpdatesBenchmark(){return v(this,arguments,function*(t=k.ITERATIONS.BATCH_UPDATES,e=k.ITERATIONS.BATCH_SIZE){let n=Fe({name:"elf-bench-batch"},Ne());n.update(ze(Array.from({length:e},(o,a)=>({id:a,value:a}))));let r=performance.now();for(let o=0;o<t;o++)n.update(Fo(a=>O(x({},a),{value:a.value+1|0})));let s=performance.now()-r;return this.toResult(s)})}runSelectorBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-bench-select"},Ne());e.update(ze(Array.from({length:t},(h,m)=>({id:m,flag:m%2===0,value:Math.random()*100,metadata:{category:m%5,priority:m%3}}))));let n=performance.now(),r,s,o,a,c=()=>{let h=e.query(Ge());if(h===a&&r!==void 0)return r;let m=0;for(let g of h)g.flag&&m++;return a=h,r=m,m},l=()=>{let h=e.query(Ge());if(h===a&&s!==void 0)return s;let m=0;for(let g of h)g.value>50&&m++;return s=m,m},d=()=>{let h=e.query(Ge());if(h===a&&o!==void 0)return o;let m={};for(let g of h){let _=g.metadata.category;m[_]=(m[_]||0)+1}return o=m,m};for(let h=0;h<k.ITERATIONS.SELECTOR;h++)if(c(),l(),d(),(h&k.YIELD_FREQUENCY.SELECTOR)===0){let m=h%t;e.update(Ft(m,g=>O(x({},g),{flag:!g.flag}))),r=void 0,s=void 0,o=void 0,a=void 0}let u=performance.now()-n;return this.toResult(u)})}runSerializationBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-serialize"},Ne()),n=Array.from({length:Math.max(k.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(k.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}}));e.update(ze(n));for(let c=0;c<10;c++){let l=c%n.length;e.update(Ft(l,d=>O(x({},d),{active:!d.active})))}let r=performance.now(),s=e.getValue();JSON.stringify({data:s});let a=performance.now()-r;return this.toResult(a)})}runConcurrentUpdatesBenchmark(){return v(this,arguments,function*(t=k.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=Fe({name:"elf-bench-conc"},Ne());n.update(ze(Array.from({length:t},(a,c)=>({id:c,value:0}))));let r=performance.now();for(let a=0;a<e;a++)n.update(Fo(c=>O(x({},c),{value:c.value+1|0})));let s=n.query(Ge())[0];s&&s.value;let o=performance.now()-r;return this.toResult(o)})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-bench-mem"},Ne()),n=Math.max(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),r=Math.max(10,Math.min(200,Math.floor(n/250)));e.update(ze(Array.from({length:n},(c,l)=>({id:l,score:l*13%997,tags:l%7===0?["hot","new"]:["cold"],group:l%r}))));let s=performance.now(),o=Math.max(100,Math.floor(n*.01));for(let c=0;c<o;c++){let l=c%n;e.update(Ft(l,d=>O(x({},d),{score:d.score+1|0,tags:(c&k.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?d.tags.includes("hot")?["cold"]:["hot"]:d.tags})))}let a=performance.now()-s;return this.toResult(a)})}runDataFetchingBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-users"},Ne()),n=performance.now(),r=Array.from({length:k.ITERATIONS.DATA_FETCHING},(u,h)=>({id:h+1,name:`User ${h+1}`,email:`user${h+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));e.update(ze(r));let o=e.query(Ge()).filter(u=>u.isActive);Fe({name:"elf-active-users"},Ne()).update(ze(o));let c=o.reduce((u,h)=>(u[h.department]||(u[h.department]=[]),u[h.department].push(h),u),{}),l={};Object.entries(c).forEach(([u,h])=>{l[u]=Fe({name:`elf-dept-${u}`},Ne()),l[u].update(ze(h))});let d=performance.now()-n;return e.query(Ge()).length,this.toResult(d)})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-metrics"},Ne()),n=Fe({name:"elf-messages"},Ne()),r=performance.now();for(let o=0;o<k.ITERATIONS.REAL_TIME_UPDATES;o++){let a={id:o,activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1,timestamp:Date.now()};if(o===0?e.update(ze([a])):e.update(Ft(0,()=>a)),(o&k.YIELD_FREQUENCY.DATA_FETCHING)===0){let c={id:o,content:`Real-time message ${o}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"},l=n.query(Ge());n.update(ze([...l,c]))}}let s=performance.now()-r;return e.query(Ge()).length,this.toResult(s)})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-large-data"},Ne()),n=performance.now(),r=Array.from({length:1e4},(u,h)=>({id:h+1,title:`Item ${h+1}`,description:`Description for item ${h+1} with some additional text to make it realistic`,category:`Category ${Math.floor(h/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${h%10}`,`tag${h%7}`,`tag${h%5}`],score:Math.random()*100}}));e.update(ze(r));let o=e.query(Ge()).filter(u=>u.status==="active");Fe({name:"elf-active-items"},Ne()).update(ze(o));let c=[...o].sort((u,h)=>h.metadata.score-u.metadata.score);Fe({name:"elf-sorted-items"},Ne()).update(ze(c));for(let u=0;u<k.ITERATIONS.STATE_SIZE_SCALING;u++){let h=Math.floor(Math.random()*r.length);e.update(Ft(h+1,m=>O(x({},m),{metadata:O(x({},m.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})})))}let d=performance.now()-n;return e.query(Ge()).length,this.toResult(d)})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){let e=Fe({name:"elf-subscriber-scaling"},Ne());e.update(ze([{id:1,counter:0,data:{value:"initial"}}]));let n=[];for(let a=0;a<t;a++){let c=e.pipe(Ue(()=>e.query(Ge())[0]?.counter||0)).subscribe(l=>{let d=l*(a+1)+Math.sin(l*.1)});n.push(c)}let r=performance.now(),s=Math.min(1e3,1e3);for(let a=0;a<s;a++)e.update(Ft(1,c=>O(x({},c),{counter:a})));n.forEach(a=>a.unsubscribe());let o=performance.now()-r;return this.toResult(o)})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"})};var rd={};function J(i,t){if(rd[i]=(rd[i]||0)+1,typeof t=="function")return No(i,(...n)=>O(x({},t(...n)),{type:i}));switch(t?t._as:"empty"){case"empty":return No(i,()=>({type:i}));case"props":return No(i,n=>O(x({},n),{type:i}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function No(i,t){return Object.defineProperty(t,"type",{value:i,writable:!1})}function Kg(i,t){if(i==null)throw new Error(`${t} must be defined.`)}var Yg="@ngrx/store/init",Wo=(()=>{let t=class t extends qe{constructor(){super({type:Yg})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac});let i=t;return i})();var Gg=new ut("@ngrx/store Internal Root Guard");var Xg=new ut("@ngrx/store Initial State"),Qg=new ut("@ngrx/store Reducer Factory");var Jg=new ut("@ngrx/store Initial Reducers");var Zg=new ut("@ngrx/store Internal Store Features");var ep=new ut("@ngrx/store Feature Reducers");var od=new ut("@ngrx/store Check if Action types are unique"),Fr=new ut("@ngrx/store Root Store Provider"),zo=new ut("@ngrx/store Feature State Provider");function tp(i,t){return Object.keys(i).filter(e=>e!==t).reduce((e,n)=>Object.assign(e,{[n]:i[n]}),{})}function ad(...i){return function(t){if(i.length===0)return t;let e=i[i.length-1];return i.slice(0,-1).reduceRight((r,s)=>s(r),e(t))}}function np(i,t){return Array.isArray(t)&&t.length>0&&(i=ad.apply(null,[...t,i])),(e,n)=>{let r=i(e);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function ip(i){let t=Array.isArray(i)&&i.length>0?ad(...i):e=>e;return(e,n)=>(e=t(e),(r,s)=>(r=r===void 0?n:r,e(r,s)))}var Uo=class extends Cn{},Vo=class extends Wo{},rp="@ngrx/store/update-reducers",cd=(()=>{let t=class t extends qe{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:l,key:d})=>{let u=typeof o=="function"?ip(c)(o,l):np(a,c)(o,l);return s[d]=u,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=x(x({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=tp(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:rp,features:n})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(r){return new(r||t)(Pt(Vo),Pt(Xg),Pt(Jg),Pt(Qg))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac});let i=t;return i})();var ld=(()=>{let t=class t extends ye{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=Go(t)))(s||t)}})(),t.\u0275prov=Ve({token:t,factory:t.\u0275fac});let i=t;return i})();var jo=class extends Cn{};var dd=(()=>{let t=class t extends Cn{constructor(n,r,s,o){super(),this.actionsObserver=r,this.reducerManager=s,this.injector=o,this.source=n,this.state=n.state}select(n,...r){return sp.call(null,n,...r)(this)}selectSignal(n,r){return L(()=>n(this.state()),r)}lift(n){let r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n,r){if(typeof n=="function")return this.processDispatchFn(n,r);this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}processDispatchFn(n,r){Kg(this.injector,"Store Injector");let s=r?.injector??op()??this.injector;return rn(()=>{let o=n();Pn(()=>this.dispatch(o))},{injector:s})}};t.\u0275fac=function(r){return new(r||t)(Pt(jo),Pt(Wo),Pt(cd),Pt(Qn))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac});let i=t;return i})();function sp(i,t,...e){return function(r){let s;if(typeof i=="string"){let o=[t,...e].filter(Boolean);s=r.pipe(Yo(i,...o))}else if(typeof i=="function")s=r.pipe(Ue(o=>i(o,t)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return s.pipe(xn())}}function op(){try{return se(Qn)}catch{return}}function sd(i,t){return i===t}function ap(i,t,e){for(let n=0;n<i.length;n++)if(!e(i[n],t[n]))return!0;return!1}function ud(i,t=sd,e=sd){let n=null,r=null,s;function o(){n=null,r=null}function a(d=void 0){s={result:d}}function c(){s=void 0}function l(){if(s!==void 0)return s.result;if(!n)return r=i.apply(null,arguments),n=arguments,r;if(!ap(arguments,n,t))return r;let d=i.apply(null,arguments);return n=arguments,e(r,d)?r:(r=d,d)}return{memoized:l,reset:o,setResult:a,clearResult:c}}function qn(...i){return lp(ud)(...i)}function cp(i,t,e,n){if(e===void 0){let s=t.map(o=>o(i));return n.memoized.apply(null,s)}let r=t.map(s=>s(i,e));return n.memoized.apply(null,[...r,e])}function lp(i,t={stateFn:cp}){return function(...e){let n=e;if(Array.isArray(n[0])){let[d,...u]=n;n=[...d,...u]}else n.length===1&&dp(n[0])&&(n=up(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(d=>d.release&&typeof d.release=="function"),a=i(function(...d){return s.apply(null,d)}),c=ud(function(d,u){return t.stateFn.apply(null,[d,r,u,a])});function l(){c.reset(),a.reset(),o.forEach(d=>d.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function dp(i){return!!i&&typeof i=="object"&&Object.values(i).every(t=>typeof t=="function")}function up(i){let t=Object.values(i),e=Object.keys(i),n=(...r)=>e.reduce((s,o,a)=>O(x({},s),{[o]:r[a]}),{});return[...t,n]}function hp(i){return typeof i=="function"?i():i}function mp(){se(Wo),se(Uo),se(ld),se(dd),se(Gg,{optional:!0}),se(od,{optional:!0})}var dO=[{provide:Fr,useFactory:mp},Kr(()=>se(Fr))];function fp(){se(Fr);let i=se(Zg),t=se(ep),e=se(cd);se(od,{optional:!0});let n=i.map((r,s)=>{let a=t.shift()[s];return O(x({},r),{reducers:a,initialState:hp(r.initialState)})});e.addFeatures(n)}var uO=[{provide:zo,useFactory:fp},Kr(()=>se(zo))];function fe(...i){let t=i.pop(),e=i.map(n=>n.type);return{reducer:t,types:e}}function nt(i,...t){let e=new Map;for(let n of t)for(let r of n.types){let s=e.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);e.set(r,o)}else e.set(r,n.reducer)}return function(n=i,r){let s=e.get(r.type);return s?s(n,r):n}}function Nr(...i){return xt(t=>i.some(e=>typeof e=="string"?e===t.type:e.type===t.type))}var gp="@ngrx/effects/init",xO=J(gp);var hd=J("[Benchmark] Set Users",ue()),md=J("[Benchmark] Set Filtered Users",ue()),fd=J("[Benchmark] Set Department Groups",ue()),gd=J("[Benchmark] Update Metrics",ue()),pd=J("[Benchmark] Add Message",ue()),bd=J("[Benchmark] Set Large Dataset",ue()),_d=J("[Benchmark] Set Active Items",ue()),yd=J("[Benchmark] Set Sorted Items",ue()),Md=J("[Benchmark] Update Item",ue()),Nt=nt({groups:[],posts:[],users:[]},fe(hd,(i,{payload:t})=>O(x({},i),{users:t})),fe(md,(i,{payload:t})=>O(x({},i),{filteredUsers:t})),fe(fd,(i,{payload:t})=>O(x({},i),{departmentGroups:t})),fe(gd,(i,{payload:t})=>O(x({},i),{metrics:t})),fe(pd,(i,{payload:t})=>O(x({},i),{messages:[...i.messages||[],t]})),fe(bd,(i,{payload:t})=>O(x({},i),{largeDataset:t})),fe(_d,(i,{payload:t})=>O(x({},i),{activeItems:t})),fe(yd,(i,{payload:t})=>O(x({},i),{sortedItems:t})),fe(Md,(i,{payload:t})=>O(x({},i),{largeDataset:i.largeDataset?.map((e,n)=>n===t.index?t.item:e)}))),zr=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}static PerfWithMemory={};yieldToUI=ht();runSingleMiddlewareBenchmark(t){return v(this,null,function*(){let e=J("[Test] Increment"),n=nt({counter:0,data:"test"},fe(e,l=>O(x({},l),{counter:l.counter+1}))),s=(l=>(d,u)=>{if(d){let h=d.counter>-1}return l(d,u)})(n),o=performance.now(),a={counter:0,data:"test"};for(let l=0;l<t;l++)a=s(a,e());let c=performance.now()-o;return this.toResult(c,void 0,"NgRx single middleware")})}runMultipleMiddlewareBenchmark(t,e){return v(this,null,function*(){let n=J("[Test] Increment"),r=nt({counter:0,data:"test"},fe(n,d=>O(x({},d),{counter:d.counter+1}))),s=()=>d=>(u,h)=>{if(u){let m=0;for(let g=0;g<10;g++)m+=g}return d(u,h)},o=r;for(let d=0;d<t;d++)o=s()(o);let a=performance.now(),c={counter:0,data:"test"};for(let d=0;d<e;d++)c=o(c,n());let l=performance.now()-a;return this.toResult(l,void 0,"NgRx multiple middleware")})}runConditionalMiddlewareBenchmark(t){return v(this,null,function*(){let e=J("[Test] Increment"),n=J("[Test] Other"),r=nt({counter:0,data:"test"},fe(e,d=>O(x({},d),{counter:d.counter+1})),fe(n,d=>O(x({},d),{data:"modified"}))),o=(d=>(u,h)=>{if(h.type===e.type&&u&&u.counter%2===0){let m=0;for(let g=0;g<20;g++)m+=g}return d(u,h)})(r),a=performance.now(),c={counter:0,data:"test"};for(let d=0;d<t;d++){let u=d%2===0?e():n();c=o(c,u)}let l=performance.now()-a;return this.toResult(l,void 0,"NgRx conditional middleware")})}runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=J("[Async] Trigger",ue()),n=J("[Async] Complete",ue()),r=new ye,o=r.pipe(Nr(e),Di(h=>$r(0).pipe(Ue(()=>n({id:h.id})),dt(1)))),a=Math.min(t,k.ITERATIONS.ASYNC_WORKFLOW),c=0,l=new Promise(h=>{o.subscribe(m=>{m.type===n.type&&(c++,c>=a&&h())})}),d=performance.now();for(let h=0;h<a;h++)r.next(e({id:h}));yield l;let u=performance.now()-d;return this.toResult(u,void 0,"NgRx async workflow")})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=J("[Task] Start",ue()),n=J("[Task] Cancel",ue()),r=J("[Task] Complete",ue()),s=new ye,o=s,a=new Set,c=o.pipe(Nr(e),Di(m=>{let g=o.pipe(Nr(n),qr(_=>{_.id===m.id&&a.add(m.id)}));return qo($r(10).pipe(Ue(()=>r({id:m.id}))),g.pipe(dt(1),Bi(()=>[])))})),l=0,d=new Promise(m=>{c.subscribe(g=>{g.type===r.type&&(l++,l+a.size>=t&&m())})}),u=performance.now();for(let m=0;m<t;m++)s.next(e({id:m}));for(let m=0;m<Math.floor(t/2);m++)s.next(n({id:m}));yield d;let h=performance.now()-u;return this.toResult(h,void 0,"NgRx async cancellation")})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=k.DATA_GENERATION.NESTED_DEPTH){let r=performance.now(),s=J("[Test] Update",ue()),o=m=>m===0?{value:0,data:"test"}:{level:o(m-1)},a=o(e),c=(m,g,_)=>g===0?O(x({},m),{value:_}):O(x({},m),{level:c(m.level??{},g-1,_)}),l=nt(a,fe(s,(m,{value:g})=>c(m,e-1,g))),d=a,u=Math.min(t,k.ITERATIONS.DEEP_NESTED);for(let m=0;m<u;m++)d=l(d,s({value:m}));let h=performance.now()-r;return this.toResult(h,void 0,"NgRx deep nested")})}runArrayBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=J("[Test] Update Item",ue()),r={items:Array.from({length:t},(l,d)=>({id:d,value:Math.random()*1e3}))},s=nt(r,fe(n,(l,{index:d,value:u})=>O(x({},l),{items:l.items.map((h,m)=>m===d?O(x({},h),{value:u}):h)}))),o=r,a=Math.min(k.ITERATIONS.ARRAY_UPDATES,t);for(let l=0;l<a;l++)o=s(o,n({index:l%t,value:Math.random()*1e3}));let c=performance.now()-e;return this.toResult(c,void 0,"NgRx array updates")})}runComputedBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=J("[Test] Update",ue()),r={value:0,factors:Array.from({length:k.DATA_GENERATION.FACTOR_COUNT},(l,d)=>d+1)},s=nt(r,fe(n,(l,{value:d})=>O(x({},l),{value:d}))),o=r,a=l=>{let d=0;for(let u of l.factors)d+=Math.sin(l.value*u)*Math.cos(u);return d};for(let l=0;l<Math.min(t,k.ITERATIONS.COMPUTED);l++)o=s(o,n({value:l})),a(o);let c=performance.now()-e;return this.toResult(c,void 0,"NgRx computed chains")})}runBatchUpdatesBenchmark(t=100,e=1e3){return v(this,null,function*(){let n=performance.now(),r=J("[Test] Apply Batch",ue()),s={items:Array.from({length:e},(l,d)=>d)},o=nt(s,fe(r,(l,{items:d})=>O(x({},l),{items:d}))),a=s;for(let l=0;l<t;l++){let d=a.items.map(u=>u+1|0);a=o(a,r({items:d}))}let c=performance.now()-n;return this.toResult(c,void 0,"NgRx batch updates")})}runSelectorBenchmark(t){return v(this,null,function*(){let e=performance.now(),n={items:Array.from({length:t},(d,u)=>({id:u,flag:u%2===0,value:Math.random()*100,metadata:{category:u%5,priority:u%3}}))},s=qn(d=>d,d=>d.items),o=qn(s,d=>d.filter(u=>u.flag).length),a=qn(s,d=>d.filter(u=>u.value>50).length),c=qn(s,d=>d.reduce((u,h)=>{let m=h.metadata.category;return u[m]=(u[m]||0)+1,u},{}));for(let d=0;d<k.ITERATIONS.SELECTOR;d++)if(o(n),a(n),c(n),(d&k.YIELD_FREQUENCY.SELECTOR)===0){let u=d%n.items.length;n=O(x({},n),{items:n.items.map((h,m)=>m===u?O(x({},h),{flag:!h.flag}):h)})}let l=performance.now()-e;return this.toResult(l,void 0,"NgRx selector memoization")})}runSerializationBenchmark(t){return v(this,null,function*(){let n={users:Array.from({length:Math.max(100,Math.min(1e3,t))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(c,l)=>[l,l%2===0]))}};for(let c=0;c<10;c++){let l=c%n.users.length;n.users[l].active=!n.users[l].active}let r=performance.now();JSON.stringify({data:n});let a=performance.now()-r;return this.toResult(a,void 0,"NgRx serialization")})}runConcurrentUpdatesBenchmark(t=50,e=200){return v(this,null,function*(){let n=J("[Test] Bump",ue()),r={counters:Array.from({length:t},()=>({value:0}))},s=nt(r,fe(n,(l,{index:d})=>O(x({},l),{counters:l.counters.map((u,h)=>h===d?{value:u.value+1}:u)}))),o=r,a=performance.now();for(let l=0;l<e;l++){for(let d=0;d<t;d++)o=s(o,n({index:d}));l&31}o.counters[0].value;let c=performance.now()-a;return this.toResult(c,void 0,"NgRx concurrent updates")})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Math.max(1e3,Math.min(5e4,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r={groups:Array.from({length:n},(u,h)=>({id:h,items:Array.from({length:Math.floor(e/n)},(m,g)=>({id:h*1e6+g,score:g*13%997,tags:g%7===0?["hot","new"]:["cold"]}))}))},s=J("[Test] Touch",ue()),o=nt(r,fe(s,(u,{group:h,index:m})=>O(x({},u),{groups:u.groups.map((g,_)=>_!==h?g:O(x({},g),{items:g.items.map((y,C)=>C!==m?y:O(x({},y),{score:y.score+1,tags:(m&63)===0?y.tags.includes("hot")?["cold"]:["hot"]:y.tags}))}))}))),a=r,c=performance.now(),l=Math.max(100,Math.floor(e*.01));for(let u=0;u<l;u++){let h=u%n,m=u%a.groups[h].items.length;a=o(a,s({group:h,index:m}))}let d=performance.now()-c;return a.groups.length,this.toResult(d,void 0,"NgRx memory efficiency")})}runDataFetchingBenchmark(t){return v(this,null,function*(){let n={groups:[],posts:[],users:[]},r=performance.now(),s=Array.from({length:1e3},(l,d)=>({id:d+1,name:`User ${d+1}`,email:`user${d+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));n=Nt(n,hd({payload:s}));let o=s.filter(l=>l.isActive);n=Nt(n,md({payload:o}));let a=o.reduce((l,d)=>(l[d.department]||(l[d.department]=[]),l[d.department].push(d),l),{});n=Nt(n,fd({payload:a}));let c=performance.now()-r;return n.users?.length,this.toResult(c,void 0,"NgRx data fetching")})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let n={groups:[],posts:[],users:[],metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0}},r=performance.now();for(let o=0;o<k.ITERATIONS.REAL_TIME_UPDATES;o++){let a={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(n=Nt(n,gd({payload:a})),(o&k.YIELD_FREQUENCY.DATA_FETCHING)===0){let c={id:o,content:`Real-time message ${o}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};n=Nt(n,pd({payload:c}))}}let s=performance.now()-r;return n.metrics&&Object.keys(n.metrics).length,this.toResult(s,void 0,"NgRx real-time updates")})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let n={groups:[],posts:[],users:[]},r=performance.now(),s=Array.from({length:1e4},(l,d)=>({id:d+1,title:`Item ${d+1}`,description:`Description for item ${d+1} with some additional text to make it realistic`,category:`Category ${Math.floor(d/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${d%10}`,`tag${d%7}`,`tag${d%5}`],score:Math.random()*100}}));n=Nt(n,bd({payload:s}));let o=s.filter(l=>l.status==="active");n=Nt(n,_d({payload:o}));let a=[...o].sort((l,d)=>d.metadata.score-l.metadata.score);n=Nt(n,yd({payload:a}));for(let l=0;l<k.ITERATIONS.BATCH_UPDATES;l++){let d=Math.floor(Math.random()*s.length),u=O(x({},s[d]),{metadata:O(x({},s[d].metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})});n=Nt(n,Md({payload:{index:d,item:u}}))}let c=performance.now()-r;return n.largeDataset?.length,this.toResult(c,void 0,"NgRx state size scaling")})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){let e=J("[Subscriber] Update Counter",ue()),n={counter:0,data:{value:"initial"}},r=nt(n,fe(e,(u,{value:h})=>O(x({},u),{counter:h}))),s=u=>u.counter,o=[];for(let u=0;u<t;u++){let h=qn(s,m=>m*(u+1)+Math.sin(m*.1));o.push(h)}let a=n,c=performance.now(),l=k.ITERATIONS.SUBSCRIBER_SCALING;for(let u=0;u<l;u++){a=r(a,e({value:u}));for(let h of o)h(a)}let d=performance.now()-c;return this.toResult(d,void 0,"NgRx subscriber scaling")})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"})};var Cd=Symbol("DEEP_SIGNAL");function xd(i){return new Proxy(i,{has(t,e){return!!this.get(t,e,void 0)},get(t,e){let n=Pn(t);return!bp(n)||!(e in n)?(Yr(t[e])&&t[e][Cd]&&delete t[e],t[e]):(Yr(t[e])||(Object.defineProperty(t,e,{value:L(()=>t()[e]),configurable:!0}),t[e][Cd]=!0),xd(t[e]))}})}var pp=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function bp(i){if(i===null||typeof i!="object"||_p(i))return!1;let t=Object.getPrototypeOf(i);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(pp.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function _p(i){return typeof i?.[Symbol.iterator]=="function"}var yp=new WeakMap,Kn=Symbol("STATE_SOURCE");function ve(i,...t){let e=Pn(()=>Pd(i)),n=t.reduce((o,a)=>x(x({},o),typeof a=="function"?a(o):a),e),r=i[Kn],s=Reflect.ownKeys(i[Kn]);for(let o of Reflect.ownKeys(n))if(s.includes(o)){let a=o;e[a]!==n[a]&&r[a].set(n[a])}Cp(i)}function Pd(i){let t=i[Kn];return Reflect.ownKeys(i[Kn]).reduce((e,n)=>{let r=t[n]();return O(x({},e),{[n]:r})},{})}function Mp(i){return yp.get(i[Kn])||[]}function Cp(i){let t=Mp(i);for(let e of t){let n=Pn(()=>Pd(i));e(n)}}function Xe(i){let t=Reflect.ownKeys(i),e=t.reduce((r,s)=>O(x({},r),{[s]:ge(i[s])}),{}),n=L(()=>t.reduce((r,s)=>O(x({},r),{[s]:e[s]()}),{}));Object.defineProperty(n,Kn,{value:e});for(let r of t)Object.defineProperty(n,r,{value:xd(e[r])});return n}var Ur=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runInitializationBenchmark(){return v(this,null,function*(){let{runTimed:t}=yield import("./chunk-DFAJYDGV.js"),e=()=>({deepNested:{},largeArray:[],computedValues:{base:0,factors:[]},batchData:{}}),n=yield t(()=>{Xe(e())},{operations:1,trackMemory:!0,label:"ngrx-signals-init"});return{durationMs:n.durationMs,memoryDeltaMB:typeof n.memoryDeltaMB=="number"?n.memoryDeltaMB:"N/A"}})}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}static PerfWithMemory={};yieldToUI=ht();runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Math.min(t,k.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let o=0;o<n;o++)r.push(new Promise(a=>setTimeout(a,0)));yield Promise.all(r);let s=performance.now()-e;return this.toResult(s)})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(s=>setTimeout(s,0)));yield Promise.all(n);let r=performance.now()-e;return this.toResult(r)})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=[];for(let s=0;s<t;s++)n.push(setTimeout(()=>{},10));for(let s=0;s<Math.floor(t/2);s++)clearTimeout(n[s]);yield new Promise(s=>setTimeout(s,10));let r=performance.now()-e;return this.toResult(r)})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=k.DATA_GENERATION.NESTED_DEPTH){let r=l=>l===0?{value:0,data:"test"}:{level:r(l-1)},s=Xe(r(e));L(()=>{let l=s();for(let d=0;d<e;d++)l=l.level;return l?.value})();let a=performance.now();for(let l=0;l<Math.min(t,k.ITERATIONS.DEEP_NESTED);l++)ve(s,d=>{let u=(h,m)=>m===0?O(x({},h),{value:l}):O(x({},h),{level:u(h.level??{},m-1)});return u(d,e-1)});let c=performance.now()-a;return this.toResult(c)})}runArrayBenchmark(t){return v(this,null,function*(){let e=Xe({items:Array.from({length:t},(o,a)=>({id:a,value:Math.random()*1e3}))}),n=performance.now(),r=Math.min(k.ITERATIONS.ARRAY_UPDATES,t);for(let o=0;o<r;o++){let a=o%t;ve(e,c=>O(x({},c),{items:c.items.map((l,d)=>d===a?O(x({},l),{value:Math.random()*1e3}):l)}))}let s=performance.now()-n;return this.toResult(s)})}runComputedBenchmark(t){return v(this,null,function*(){let e=Xe({value:0,factors:Array.from({length:k.DATA_GENERATION.FACTOR_COUNT},(o,a)=>a+1)}),n=L(()=>{let o=e().value,a=0;for(let c of e().factors)a+=Math.sin(o*c)*Math.cos(c);return a});n();let r=performance.now();for(let o=0;o<Math.min(t,k.ITERATIONS.COMPUTED);o++)ve(e,a=>O(x({},a),{value:o})),n();let s=performance.now()-r;return this.toResult(s)})}runBatchUpdatesBenchmark(){return v(this,arguments,function*(t=k.ITERATIONS.BATCH_UPDATES,e=k.ITERATIONS.BATCH_SIZE){let n=Xe({items:Array.from({length:e},(o,a)=>a)}),r=performance.now();for(let o=0;o<t;o++)ve(n,a=>O(x({},a),{items:a.items.map(c=>c+1|0)}));let s=performance.now()-r;return this.toResult(s)})}runSelectorBenchmark(t){return v(this,null,function*(){let e=Xe({items:Array.from({length:t},(c,l)=>({id:l,flag:l%2===0,value:Math.random()*100,metadata:{category:l%5,priority:l%3}}))}),n=L(()=>e().items.filter(c=>c.flag).length),r=L(()=>e().items.filter(c=>c.value>50).length),s=L(()=>e().items.reduce((l,d)=>{let u=d.metadata.category;return l[u]=(l[u]||0)+1,l},{})),o=performance.now();for(let c=0;c<k.ITERATIONS.SELECTOR;c++)if(n(),r(),s(),(c&k.YIELD_FREQUENCY.SELECTOR)===0){let l=c%e().items.length;ve(e,d=>({items:d.items.map((u,h)=>h===l?O(x({},u),{flag:!u.flag}):u)}))}let a=performance.now()-o;return this.toResult(a)})}runSerializationBenchmark(t){return v(this,null,function*(){let e=Xe({users:Array.from({length:Math.max(k.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(k.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(a,c)=>({id:c,name:`User ${c}`,roles:c%5===0?["admin","user"]:["user"],active:c%3===0,meta:{createdAt:new Date(2020,0,1+c%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(a,c)=>[c,c%2===0]))}});for(let a=0;a<10;a++){let c=a%e().users.length;ve(e,l=>O(x({},l),{users:l.users.map((d,u)=>u===c?O(x({},d),{active:!d.active}):d)}))}let n=performance.now(),r=e();JSON.stringify({data:r});let o=performance.now()-n;return this.toResult(o)})}runConcurrentUpdatesBenchmark(){return v(this,arguments,function*(t=k.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=Xe({counters:Array.from({length:t},()=>({value:0}))}),r=performance.now();for(let o=0;o<e;o++)for(let a=0;a<t;a++){let c=a;ve(n,l=>O(x({},l),{counters:l.counters.map((d,u)=>u===c?{value:d.value+1|0}:d)}))}n().counters[0].value;let s=performance.now()-r;return this.toResult(s)})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Math.max(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r=tt(),s=Xe({groups:Array.from({length:n},(u,h)=>({id:h,items:Array.from({length:Math.floor(e/n)},(m,g)=>({id:h*1e6+g,score:g*13%997,tags:g%7===0?["hot","new"]:["cold"]}))}))}),o=performance.now(),a=Math.max(100,Math.floor(e*.01));for(let u=0;u<a;u++){let h=u%n,m=u%s().groups[h].items.length;ve(s,g=>O(x({},g),{groups:g.groups.map((_,y)=>y!==h?_:O(x({},_),{items:_.items.map((C,M)=>M!==m?C:O(x({},C),{score:C.score+1|0,tags:(u&k.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?C.tags.includes("hot")?["cold"]:["hot"]:C.tags}))}))}))}let c=performance.now()-o,l=tt(),d;return r!=null&&l!=null&&(d=(l-r)/(1024*1024)),this.toResult(c,d)})}runDataFetchingBenchmark(t){return v(this,null,function*(){let e=Xe({users:[],filteredUsers:[],departmentGroups:{}}),n=tt(),r=performance.now(),s=Array.from({length:k.ITERATIONS.DATA_FETCHING},(u,h)=>({id:h+1,name:`User ${h+1}`,email:`user${h+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));ve(e,{users:s});let o=s.filter(u=>u.isActive);ve(e,{filteredUsers:o});let a=o.reduce((u,h)=>(u[h.department]||(u[h.department]=[]),u[h.department].push(h),u),{});ve(e,{departmentGroups:a});let c=performance.now()-r,l=tt(),d;return n!=null&&l!=null&&(d=(l-n)/(1024*1024)),e.users().length,this.toResult(c,d)})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=Xe({metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0},messages:[]}),n=tt(),r=performance.now();for(let c=0;c<k.ITERATIONS.REAL_TIME_UPDATES;c++){let l={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(ve(e,{metrics:l}),(c&k.YIELD_FREQUENCY.DATA_FETCHING)===0){let d={id:c,content:`Real-time message ${c}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};ve(e,u=>({messages:[...u.messages,d]}))}}let s=performance.now()-r,o=tt(),a;return n!=null&&o!=null&&(a=(o-n)/(1024*1024)),e.metrics().activeUsers,this.toResult(s,a)})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let e=Xe({largeDataset:[],activeItems:[],sortedItems:[]}),n=performance.memory?.usedJSHeapSize??null,r=performance.now(),s=Array.from({length:k.DATA_SIZE_LIMITS.LARGE_DATASET.MAX},(u,h)=>({id:h+1,title:`Item ${h+1}`,description:`Description for item ${h+1} with some additional text to make it realistic`,category:`Category ${Math.floor(h/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${h%10}`,`tag${h%7}`,`tag${h%5}`],score:Math.random()*100}}));ve(e,{largeDataset:s});let o=s.filter(u=>u.status==="active");ve(e,{activeItems:o});let a=[...o].sort((u,h)=>h.metadata.score-u.metadata.score);ve(e,{sortedItems:a});for(let u=0;u<k.ITERATIONS.STATE_SIZE_SCALING;u++){let h=Math.floor(Math.random()*s.length);ve(e,m=>({largeDataset:m.largeDataset.map((g,_)=>_===h?O(x({},g),{metadata:O(x({},g.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})}):g)}))}let c=performance.now()-r,l=performance.memory?.usedJSHeapSize??null,d;return n!=null&&l!=null&&(d=(l-n)/(1024*1024)),e.largeDataset().length,this.toResult(c,d)})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"})};var Vr=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:e,notes:n}}yieldBetweenBenchmarks(){return v(this,null,function*(){return new Promise(t=>{requestAnimationFrame(()=>{setTimeout(t,0)})})})}yieldToUI=ht();getRuntimeMemoMode(){try{let t=window.__SIGNALTREE_MEMO_MODE;if(t==="off"||t==="light"||t==="shallow"||t==="full")return t}catch{}return"light"}applyConfiguredEnhancers(t,e){try{let n=window.__SIGNALTREE_ACTIVE_ENHANCERS__,r=[];if(n&&Array.isArray(n)&&n.length>0)for(let s of n)switch(s){case"withBatching":r.push(Qe());break;case"withHighPerformanceBatching":r.push(St());break;case"withLightweightMemoization":r.push(sn());break;case"withShallowMemoization":r.push(On());break;case"withMemoization":r.push(zi());break;case"withComputedMemoization":r.push(Jr());break;case"withSelectorMemoization":r.push(Qr());break;case"withSerialization":r.push(Ui());break;case"withTimeTravel":r.push(Zn());break;case"enterprise":break;default:break}if(r.length>0)return t.with(...r);if(e&&Array.isArray(e)&&e.length>0)return t.with(...e)}catch{}return t}runDeepNestedBenchmark(t,e=15){return v(this,null,function*(){let n=performance.now(),r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=X(r(e)),o=this.applyConfiguredEnhancers(s,[Qe(),On()]);for(let c=0;c<Math.min(t,k.ITERATIONS.DEEP_NESTED);c++){let l=o.state;for(let d=0;d<e&&l?.level;d++)l=l.level;l?.value&&typeof l.value.set=="function"?l.value.set(c):typeof l?.value=="function"&&l.value(c)}let a=performance.now()-n;return this.toResult(a,void 0,"SignalTree deep nested updates")})}runArrayBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({items:Array.from({length:t},(a,c)=>({id:c,value:Math.random()*1e3}))}),r=this.applyConfiguredEnhancers(n,[St()]),s=Math.min(k.ITERATIONS.ARRAY_UPDATES,t);for(let a=0;a<s;a++){let c=a%t;r.state.items.update(l=>(l[c].value=Math.random()*1e3,l))}let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree array updates")})}runComputedBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({value:0,factors:Array.from({length:50},(a,c)=>c+1)}),r=this.applyConfiguredEnhancers(n,[Qe(),Jr()]),s=L(()=>{let a=r.state.value(),c=0;for(let l of r.state.factors())c+=Math.sin(a*l)*Math.cos(l);return c});for(let a=0;a<Math.min(t,k.ITERATIONS.COMPUTED);a++)r.state.value.set(a),s(),a&1023;let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree computed chains")})}runBatchUpdatesBenchmark(t=100,e=1e3){return v(this,null,function*(){let n=performance.now(),r=X({items:Array.from({length:e},(a,c)=>c)}),s=this.applyConfiguredEnhancers(r,[St()]);for(let a=0;a<t;a++)s.state.items.update(c=>{for(let l=0;l<e;l++)c[l]=c[l]+1|0;return c});let o=performance.now()-n;return this.toResult(o,void 0,"SignalTree batch updates")})}runSelectorBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({items:Array.from({length:t},(l,d)=>({id:d,flag:d%2===0,value:Math.random()*100,metadata:{category:d%5,priority:d%3}}))}),r=this.applyConfiguredEnhancers(n,[Qr()]),s=L(()=>r.state.items().filter(l=>l.flag).length),o=L(()=>r.state.items().filter(l=>l.value>50).length),a=L(()=>r.state.items().reduce((d,u)=>{let h=u.metadata.category;return d[h]=(d[h]||0)+1,d},{}));for(let l=0;l<k.ITERATIONS.SELECTOR;l++)s(),o(),a(),(l&k.YIELD_FREQUENCY.SELECTOR)===0&&r.state.items.update(d=>{let u=l%d.length;return d[u].flag=!d[u].flag,d});let c=performance.now()-e;return this.toResult(c,void 0,"SignalTree selector memoization")})}runSerializationBenchmark(t){return v(this,null,function*(){let e=X({users:Array.from({length:Math.max(k.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(k.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(l,d)=>({id:d,name:`User ${d}`,roles:d%5===0?["admin","user"]:["user"],active:d%3===0,meta:{createdAt:new Date(2020,0,1+d%28)}})),settings:{theme:"dark",flags:{a:!0,b:!1,c:r(8).reduce((l,d)=>O(x({},l),{[d]:d%2===0}),{})}}}),n=this.applyConfiguredEnhancers(e,[zi(),St(),Ui({preserveTypes:!1,includeMetadata:!1})]);function r(l){return Array.from({length:l},(d,u)=>u)}for(let l=0;l<10;l++)n.state.users.update(d=>{let u=l%d.length;return d[u].active=!d[u].active,d});let s=performance.now(),o=n.snapshot();JSON.stringify({data:o.data});let c=performance.now()-s;return this.toResult(c,void 0,"SignalTree serialization")})}runConcurrentUpdatesBenchmark(t=50,e=200){return v(this,null,function*(){let n=X({counters:Array.from({length:t},()=>({value:0}))}),r=this.applyConfiguredEnhancers(n,[Qe()]),s=performance.now();for(let a=0;a<e;a++)for(let c=0;c<t;c++){let l=c;r.state.counters.update(d=>d.map((u,h)=>h===l?O(x({},u),{value:u.value+1|0}):u))}let o=performance.now()-s;return this.toResult(o,void 0,"SignalTree concurrent updates")})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Math.max(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(k.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r=X({groups:Array.from({length:n},(l,d)=>({id:d,items:Array.from({length:Math.floor(e/n)},(u,h)=>({id:d*1e6+h,score:h*13%997,tags:h%7===0?["hot","new"]:["cold"]}))}))}),s=this.applyConfiguredEnhancers(r,[sn(),Qe()]),o=performance.now(),a=Math.max(100,Math.floor(e*.01));for(let l=0;l<a;l++){let d=l%n;s.state.groups.update(u=>{let h=[...u],m=h[d];return m&&m.items&&(h[d]=O(x({},m),{items:m.items.map((g,_)=>{let y=l%m.items.length;return _===y?O(x({},g),{score:g.score+1|0,tags:(l&63)===0?g.tags.includes("hot")?["cold"]:["hot"]:g.tags}):g})})),h})}let c=performance.now()-o;return this.toResult(c,void 0,"SignalTree memory efficiency")})}runDataFetchingBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:Math.min(t,k.DATA_SIZE_LIMITS.USER_SIMULATION.MAX)},(a,c)=>({id:c,title:`Item ${c}`,description:`Description for item ${c}`,tags:[`tag${c%10}`,`category${c%5}`],meta:{createdAt:new Date(2023,0,1+c%365),updatedAt:new Date(2023,6,1+c%180),views:Math.floor(Math.random()*1e3),rating:Math.random()*5},relations:{authorId:Math.floor(c/10),parentId:c>0?c-1:null,childIds:c<t-1?[c+1]:[]}})),r=X({items:[],metadata:{total:0,loaded:!1,lastFetch:null},filters:{search:"",category:"",tags:[]},pagination:{page:1,size:50,total:0}}),s=this.applyConfiguredEnhancers(r,[Qe(),On()]);s.state.metadata.loaded.set(!1),s.state.items.set(n),s.state.metadata.total.set(n.length),s.state.metadata.lastFetch.set(new Date),s.state.metadata.loaded.set(!0);for(let a=0;a<Math.min(k.ITERATIONS.BATCH_UPDATES,t/10);a++){s.state.filters.search.set(`search${a}`),s.state.filters.category.set(`cat${a%5}`);let c=s.state.items().filter(l=>l.title.includes(s.state.filters.search())||l.tags.includes(s.state.filters.category()));s.state.pagination.total.set(c.length)}let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree data fetching")})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({liveMetrics:{activeUsers:0,totalSessions:0,pageViews:0,serverLoad:0,responseTime:0},recentEvents:[],notifications:[],alerts:[]}),r=this.applyConfiguredEnhancers(n,[St(),sn()]),s=Math.min(k.ITERATIONS.REAL_TIME_UPDATES,t);for(let a=0;a<s;a++)r.state.liveMetrics.activeUsers.update(c=>c+Math.floor(Math.random()*10-5)),r.state.liveMetrics.pageViews.update(c=>c+Math.floor(Math.random()*20)),r.state.liveMetrics.serverLoad.set(Math.random()),r.state.liveMetrics.responseTime.set(50+Math.random()*200),(a&k.YIELD_FREQUENCY.DATA_FETCHING)===0&&r.state.recentEvents.update(c=>[...c.slice(-99),{id:a,type:"user_action",timestamp:Date.now(),data:`event${a}`}]),(a&k.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0&&r.state.notifications.update(c=>[...c.slice(-9),{id:a,message:`Notification ${a}`,priority:"normal",timestamp:Date.now()}]);let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree real-time updates")})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:Math.min(t*k.DATA_SIZE_LIMITS.LARGE_DATASET.MULTIPLIER,k.DATA_SIZE_LIMITS.LARGE_DATASET.MAX)},(c,l)=>({id:l,name:`Entity ${l}`,properties:Array.from({length:20},(d,u)=>({key:`prop_${u}`,value:`value_${l}_${u}`,metadata:{type:"string",indexed:u%3===0}})),relations:Array.from({length:Math.min(5,l)},(d,u)=>({targetId:l-u-1,type:"reference"}))})),r=X({entities:n,indices:{},cache:{},stats:{size:0,lastUpdate:null}}),s=this.applyConfiguredEnhancers(r,[sn(),Qe()]);s.state.stats.size.set(n.length),s.state.stats.lastUpdate.set(new Date);let o=Math.min(k.ITERATIONS.STATE_SIZE_SCALING,t/5);for(let c=0;c<o;c++){let l=c%n.length;s.state.entities.update(d=>{let u=d[l];return u&&(u.properties[0].value=`updated_${Date.now()}`),d}),(c&k.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0&&s.state.cache.update(d=>O(x({},d),{[`cache_${c}`]:{computed:Math.random(),timestamp:Date.now()}}))}let a=performance.now()-e;return this.toResult(a,void 0,"SignalTree state size scaling")})}runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=X({items:[],loading:!1,error:null}),n=this.applyConfiguredEnhancers(e,[St()]),r=_=>v(this,null,function*(){return yield new Promise(y=>setTimeout(y,k.TIMING.ASYNC_DELAY_MS)),Array.from({length:_},(y,C)=>({id:C,value:C}))}),s=performance.now(),o=Math.min(Math.max(1,Math.floor(t/10)),k.ITERATIONS.ASYNC_WORKFLOW),a=Math.min(8,Math.max(1,o)),c=Math.max(1,Math.floor(t/Math.max(o,10))),l=new Array(t),d=0;function u(_,y){return v(this,null,function*(){let C=0;for(;C<_.length;){let M=_.slice(C,C+a);yield Promise.all(M.map(S=>y(S))),C+=a}})}n.state.loading.set(!0),n.state.error.set(null);let h=()=>v(this,null,function*(){try{let _=yield r(Math.min(c,t)),y=n.preallocateArray;if(y){let C=y("items",l.length);for(let M=0;M<_.length;M++){let S=(d+M)%l.length;C.update(S,_[M])}C.commit(),d=(d+_.length)%l.length}else if(n.batch)n.batch(()=>{for(let C=0;C<_.length;C++){let M=(d+C)%l.length;l[M]=_[C]}n.state.items.set(l),d=(d+_.length)%l.length});else{let C=d;for(let M=0;M<_.length;M++){let S=(C+M)%l.length;l[S]=_[M]}n.state.items.set(l.slice()),d=(d+_.length)%l.length}}catch(_){n.state.error.set(_?.message??String(_))}}),m=Array.from({length:o},(_,y)=>y);yield u(m,h),n.state.loading.set(!1);let g=performance.now()-s;return this.toResult(g,void 0,"SignalTree async workflow")})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=X({results:[],activeOperations:0}),n=a=>v(null,null,function*(){e.state.activeOperations.update(l=>l+1),yield new Promise(l=>setTimeout(l,Math.random()*k.TIMING.RANDOM_DELAY_MAX_MS));let c={id:a,value:Math.random()};e.state.results.update(l=>[...l,c]),e.state.activeOperations.update(l=>l-1)}),r=performance.now(),s=Array.from({length:t},(a,c)=>n(c));yield Promise.all(s);let o=performance.now()-r;return this.toResult(o,void 0,"SignalTree concurrent async")})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=X({activeRequest:null,result:null,cancelled:0}),n=performance.now();for(let s=0;s<t;s++){let o=e.state.activeRequest();o&&(o.abort(),e.state.cancelled.update(c=>c+1));let a=new AbortController;e.state.activeRequest.set(a);try{yield new Promise((c,l)=>{let d=setTimeout(()=>{a.signal.aborted||(e.state.result.set({id:s,data:"completed"}),c(null))},5);a.signal.addEventListener("abort",()=>{clearTimeout(d),l(new Error("Cancelled"))})})}catch{}}let r=performance.now()-n;return this.toResult(r,void 0,"SignalTree async cancellation")})}runUndoRedoBenchmark(t){return v(this,null,function*(){let e=X({counter:0,data:{value:"initial"}}),n=this.applyConfiguredEnhancers(e,[Zn()]),r=performance.now();for(let o=0;o<t;o++)n.state.counter.set(o),n.state.data({value:`step_${o}`});for(let o=0;o<t/2;o++)n.undo?.();for(let o=0;o<t/4;o++)n.redo?.();let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree undo/redo")})}runHistorySizeBenchmark(t){return v(this,null,function*(){let e=X({value:0,data:{content:"initial"}}),n=this.applyConfiguredEnhancers(e,[Zn({maxHistorySize:t})]),r=performance.now();for(let o=0;o<t;o++)n.state.value.set(o),n.state.data({content:`step_${o}`});let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree history size")})}runJumpToStateBenchmark(t){return v(this,null,function*(){let e=X({currentState:0,data:{value:"initial"}}),n=this.applyConfiguredEnhancers(e,[Zn()]),r=performance.now();for(let o=0;o<t;o++)n.state.currentState.set(o),n.state.data({value:`state_${o}`});for(let o=0;o<t;o++){let a=Math.floor(Math.random()*t);n.jumpToStep?.(a)}let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree jump-to-state")})}runSingleMiddlewareBenchmark(t){return v(this,null,function*(){let e=X({value:0,middlewareLog:[]}),n=(o,a)=>{e.state.middlewareLog.update(c=>[...c.slice(-100),`${o}:${a}`])},r=performance.now();for(let o=0;o<t;o++)n("setValue",o),e.state.value.set(o);let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree single middleware")})}runMultipleMiddlewareBenchmark(t,e){return v(this,null,function*(){let n=X({value:0,logs:Array.from({length:t},()=>[])}),r=Array.from({length:t},(a,c)=>(l,d)=>{n.state.logs()[c].push(`MW${c}:${l}:${d}`)}),s=performance.now();for(let a=0;a<e;a++)r.forEach(c=>c("setValue",a)),n.state.value.set(a);let o=performance.now()-s;return this.toResult(o,void 0,"SignalTree multiple middleware")})}runConditionalMiddlewareBenchmark(t){return v(this,null,function*(){let e=X({value:0,conditionalLog:[],condition:!0}),n=(o,a)=>{e.state.condition()&&e.state.conditionalLog.update(c=>[...c.slice(-50),`${o}:${a}`])},r=performance.now();for(let o=0;o<t;o++)(o&k.YIELD_FREQUENCY.DATA_FETCHING)===0&&e.state.condition.set(!e.state.condition()),n("setValue",o),e.state.value.set(o);let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree conditional middleware")})}runAllFeaturesEnabledBenchmark(t){return v(this,null,function*(){let e=X({data:[],loading:!1,history:[],middlewareLog:[]}),n=this.applyConfiguredEnhancers(e,[zi(),Qe(),Ui()]),r=performance.now(),s=Math.min(t/100,k.ITERATIONS.ASYNC_WORKFLOW);for(let a=0;a<s;a++)n.state.loading.set(!0),yield new Promise(c=>setTimeout(c,k.TIMING.TIMEOUT_DELAY_MS)),n.state.data.update(c=>[...c,{id:a,value:Math.random()}]),n.state.loading.set(!1),n.state.history.update(c=>[...c.slice(-20),{action:"update",id:a}]),n.state.middlewareLog.update(c=>[...c.slice(-30),`action_${a}`]);let o=performance.now()-r;return this.toResult(o,void 0,"SignalTree all features enabled")})}runEnhancedArrayBenchmark(t){return v(this,null,function*(){let e={operations:Math.min(k.ITERATIONS.ARRAY_UPDATES,t),warmup:10,measurementSamples:30,yieldEvery:k.YIELD_FREQUENCY.ARRAY_UPDATES,trackMemory:!0,removeOutliers:!0,forceGC:!0,label:"SignalTree Array Updates",minDurationMs:100},n=X({items:Array.from({length:t},(s,o)=>({id:o,value:Math.random()*1e3}))}),r=this.applyConfiguredEnhancers(n,[St()]);return Vi(s=>v(this,null,function*(){let o=s%t;r.state.items.update(a=>{let c=[...a];return c[o]=O(x({},c[o]),{value:Math.random()*1e3}),c})}),e)})}runEnhancedSelectorBenchmark(t){return v(this,null,function*(){let e=X({items:Array.from({length:t},(o,a)=>({id:a,flag:a%2===0}))}),n=this.applyConfiguredEnhancers(e,[sn()]),r=L(()=>n.state.items().filter(o=>o.flag).length);return Vi(()=>v(this,null,function*(){r()}),{operations:1e3,warmup:5,measurementSamples:50,yieldEvery:64,trackMemory:!1,removeOutliers:!0,label:"SignalTree Selector (Memoized)",minDurationMs:50})})}runEnhancedDeepNestedBenchmark(t,e=15){return v(this,null,function*(){let n=a=>a===0?{value:0,data:"test"}:{level:n(a-1)},r=X(n(e)),s=this.applyConfiguredEnhancers(r,[Qe(),On()]),o={operations:Math.min(t,1e3),warmup:5,measurementSamples:20,yieldEvery:1024,trackMemory:!0,removeOutliers:!0,forceGC:!0,label:"SignalTree Deep Nested Updates",minDurationMs:100};return Vi(a=>v(this,null,function*(){s.update(c=>{let l=(d,u)=>u===0?O(x({},d),{value:a}):O(x({},d),{level:l(d.level??{},u-1)});return l(c,e-1)})}),o)})}runPureArrayBenchmark(t){return v(this,null,function*(){let e=X({items:Array.from({length:t},(o,a)=>({id:a,value:Math.random()*1e3}))}),n=this.applyConfiguredEnhancers(e,[St()]),r=Math.min(k.ITERATIONS.ARRAY_UPDATES,t),s=performance.now();for(let o=0;o<r;o++){let a=o%t;n.state.items.update(c=>{let l=[...c];return l[a]=O(x({},l[a]),{value:Math.random()*1e3}),l})}return performance.now()-s})}runPureSelectorBenchmark(t){return v(this,null,function*(){let e=X({items:Array.from({length:t},(o,a)=>({id:a,flag:a%2===0}))}),n=this.applyConfiguredEnhancers(e,[sn()]),r=L(()=>n.state.items().filter(o=>o.flag).length),s=performance.now();for(let o=0;o<k.ITERATIONS.SELECTOR;o++)r();return performance.now()-s})}runPureDeepNestedBenchmark(t,e=15){return v(this,null,function*(){let n=c=>c===0?{value:0,data:"test"}:{level:n(c-1)},r=X(n(e)),s=this.applyConfiguredEnhancers(r,[Qe(),On()]),o=Math.min(t,k.ITERATIONS.DEEP_NESTED),a=performance.now();for(let c=0;c<o;c++)s.update(l=>{let d=(u,h)=>h===0?O(x({},u),{value:c}):O(x({},u),{level:d(u.level??{},h-1)});return d(l,e-1)});return performance.now()-a})}runPureBenchmarkSuite(t){return v(this,null,function*(){let e=performance.now();yield this.yieldBetweenBenchmarks();let n=yield this.runPureArrayBenchmark(t);yield this.yieldBetweenBenchmarks();let r=yield this.runPureSelectorBenchmark(t);yield this.yieldBetweenBenchmarks();let s=yield this.runPureDeepNestedBenchmark(t),o=performance.now()-e;return{arrayBenchmark:n,selectorBenchmark:r,deepNestedBenchmark:s,totalTime:o}})}validateBenchmarkEnvironment(){return v(this,null,function*(){let t=yield Zr.validateEnvironment(),e=yield Zr.detectPerformanceThrottling();return O(x({},t),{performanceMetrics:{isThrottled:e.isThrottled,opsPerMs:e.opsPerMs}})})}static compareWithLibrary(t,e,n){return fa.compareBenchmarks(t,"SignalTree",e,n,.95)}runComprehensiveBenchmarkSuite(t){return v(this,null,function*(){let e=performance.now(),n=yield this.validateBenchmarkEnvironment(),r=yield this.runEnhancedArrayBenchmark(t),s=yield this.runEnhancedSelectorBenchmark(t),o=yield this.runEnhancedDeepNestedBenchmark(t),a=performance.now()-e,c=(r.sampleCount??r.samples?.length??0)+(s.sampleCount??s.samples?.length??0)+(o.sampleCount??o.samples?.length??0),l=[r.reliability,s.reliability,o.reliability],d="medium";l.every(h=>h==="high")?d="high":l.some(h=>h==="low")&&(d="low");let u=[];return n.isReady||u.push(...n.recommendations),{arrayBenchmark:r,selectorBenchmark:s,deepNestedBenchmark:o,environment:n,summary:{overallReliability:d,totalSamples:c,totalRuntime:a,recommendations:u}}})}demonstrateEnhancedBenchmarking(t=1e3){return v(this,null,function*(){(yield this.validateBenchmarkEnvironment()).isReady;let n=yield this.runEnhancedArrayBenchmark(t),r=yield this.runEnhancedSelectorBenchmark(t);i.compareWithLibrary(n,r,"Selector Benchmark")})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({counter:0,data:{value:"initial"}}),r=this.applyConfiguredEnhancers(n,[Qe()]),s=[];for(let a=0;a<t;a++){let c=L(()=>{let l=r.state.counter();return l*(a+1)+Math.sin(l*.1)});s.push(c)}let o=Math.min(1e3,k.ITERATIONS.SUBSCRIBER_SCALING||1e3);for(let a=0;a<o;a++){r.state.counter.set(a);for(let c of s)c()}return performance.now()-e})}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"})};var Pp=["combinedChart"],Ei=(i,t)=>t.name,_n=(i,t)=>t.id,Op=(i,t)=>t.presetId,Od=(i,t)=>t.scenarioName,Sd=(i,t)=>t.libraryName;function Sp(i,t){if(i&1&&(p(0,"div",19)(1,"span",123),b(2),f(),p(3,"span",124),b(4),f(),p(5,"span",125),b(6),f()()),i&2){let e=t.$implicit;P(2),z(e.name),P(),Ie("positive",e.impact>0)("negative",e.impact<0),P(),Ot(" ",e.impact>0?"+":"","",e.impact," "),P(2),z(e.reason)}}function vp(i,t){i&1&&(zt(),p(0,"svg",22),pe(1,"path",126),f())}function wp(i,t){i&1&&pe(0,"div",23)}function kp(i,t){if(i&1&&(p(0,"div",134),zt(),p(1,"svg",135),pe(2,"path",136),f(),b(3),f()),i&2){let e=t.$implicit;P(3),V(" ",e," ")}}function Ep(i,t){if(i&1&&(p(0,"div",133),Me(1,kp,4,1,"div",134,Xo),f()),i&2){let e=B(2);P(),Ce(e.calibrationWarnings())}}function Tp(i,t){if(i&1&&(p(0,"div",24)(1,"h3"),b(2,"Calibration Results"),f(),p(3,"div",127)(4,"div",128)(5,"span",129),b(6,"CPU Performance"),f(),p(7,"span",130),b(8),be(9,"number"),f(),p(10,"div",131),pe(11,"div",132),f()(),p(12,"div",128)(13,"span",129),b(14,"Memory Available"),f(),p(15,"span",130),b(16),be(17,"number"),f(),p(18,"div",131),pe(19,"div",132),f()(),p(20,"div",128)(21,"span",129),b(22,"Recommended Test Size"),f(),p(23,"span",130),b(24),be(25,"number"),f()(),p(26,"div",128)(27,"span",129),b(28,"Recommended Iterations"),f(),p(29,"span",130),b(30),f()()(),W(31,Ep,3,0,"div",133),f()),i&2){let e,n,r,s,o,a,c=B();P(8),V("",De(9,9,(e=c.calibrationData())==null?null:e.cpuOpsPerMs,"1.0-0")," ops/ms"),P(3),Ke("width",(n=c.calibrationData())==null?null:n.cpuScore,"%"),P(5),V("",De(17,12,(r=c.calibrationData())==null?null:r.availableMemoryMB,"1.0-0")," MB"),P(3),Ke("width",(s=c.calibrationData())==null?null:s.memoryScore,"%"),P(5),V("",Jn(25,15,(o=c.calibrationData())==null?null:o.recommendedSize)," items"),P(6),z((a=c.calibrationData())==null?null:a.recommendedIterations),P(),H(c.calibrationWarnings().length>0?31:-1)}}function Ap(i,t){if(i&1&&(p(0,"div",141)(1,"span",143),b(2),f(),p(3,"span",143),b(4),be(5,"number"),f()()),i&2){let e=B().$implicit;P(2),V("Bundle: ",e.stats.bundleSize),P(2),V("Stars: ",Jn(5,2,e.stats.githubStars))}}function Rp(i,t){i&1&&(p(0,"div",142),b(1,"Baseline"),f())}function Ip(i,t){if(i&1){let e=nn();p(0,"div",137),Y("click",function(){let r=ce(e).$implicit,s=B();return le(s.toggleLibrary(r))})("keydown",function(r){let s=ce(e).$implicit,o=B();return le(o.onLibraryCardKeydown(r,s))}),p(1,"div",138)(2,"input",139),Y("ngModelChange",function(r){let s=ce(e).$implicit,o=B();return le(o.onLibraryCheckboxChange(s,r))})("click",function(r){return ce(e),le(r.stopPropagation())})("change",function(r){return ce(e),le(r.stopPropagation())}),f()(),p(3,"div",140)(4,"h3"),b(5),f(),p(6,"p"),b(7),f(),W(8,Ap,6,4,"div",141),f(),W(9,Rp,2,0,"div",142),f()}if(i&2){let e=t.$implicit;Ke("--lib-color",e.color),Ie("selected",e.selected)("disabled",e.id==="signaltree"),tn("data-test-id","lib-"+e.id+"-card")("aria-pressed",e.selected),P(2),Oe("ngModel",e.selected)("disabled",e.id==="signaltree"),tn("data-test-id","lib-"+e.id+"-checkbox")("aria-label",e.name+" selection"),P(3),z(e.name),P(2),z(e.description),P(),H(e.stats?8:-1),P(),H(e.id==="signaltree"?9:-1)}}function Dp(i,t){if(i&1){let e=nn();p(0,"div",144),Y("click",function(){let r=ce(e).$implicit,s=B();return le(s.applyScenarioPreset(r.id))}),p(1,"h4"),b(2),f(),p(3,"p"),b(4),f(),p(5,"div",145),b(6),f()()}if(i&2){let e=t.$implicit,n=B();P(2),z(e.name),P(2),z(e.description),P(2),V("",n.presetCount(e)," tests")}}function Bp(i,t){if(i&1&&(p(0,"span",147),b(1),f()),i&2){let e=t.$implicit;P(),V(" ",e.name," ")}}function Lp(i,t){if(i&1&&(p(0,"div",88)(1,"h3"),b(2,"Active SignalTree Enhancers"),f(),p(3,"div",146),Me(4,Bp,2,1,"span",147,Ei),f(),p(6,"p",148),b(7),f()()),i&2){let e=B();P(4),Ce(e.activeEnhancers()),P(3),V(" ",e.enhancerExplanation()," ")}}function Fp(i,t){if(i&1){let e=nn();p(0,"div",150)(1,"div",151)(2,"strong"),b(3),f(),p(4,"span",152),b(5),be(6,"number"),f()(),p(7,"p",153),b(8),f(),p(9,"button",154),Y("click",function(){let r=ce(e).$implicit,s=B(2);return le(s.applySuggestedPreset(r.presetId))}),b(10),f()()}if(i&2){let e=t.$implicit;P(3),z(e.presetName),P(2),V("",De(6,4,e.confidence,"1.0-0"),"% match"),P(3),z(e.reason),P(2),V(" Apply ",e.presetName," Weights ")}}function Np(i,t){if(i&1&&(p(0,"div",104)(1,"h4"),b(2,"\u{1F4A1} Suggested Presets for Your Selection:"),f(),p(3,"div",149),Me(4,Fp,11,7,"div",150,Op),f()()),i&2){let e=B();P(4),Ce(e.suggestedPresets())}}function zp(i,t){if(i&1&&(p(0,"span",157),b(1),f()),i&2){let e=B().$implicit;P(),V(" ",e.disabledReason," ")}}function Up(i,t){if(i&1&&(p(0,"div",163)(1,"h5"),b(2,"\u{1F3D7}\uFE0F Architecture Impact:"),f(),p(3,"p",170),b(4),f()()),i&2){let e=B().$implicit;P(4),z(e.architecturalTradeOffs)}}function Vp(i,t){if(i&1){let e=nn();p(0,"div",155),Y("click",function(){let r=ce(e).$implicit,s=B();return le(s.toggleScenario(r))})("keydown",function(r){let s=ce(e).$implicit,o=B();return le(o.onScenarioCardKeydown(r,s))}),p(1,"div",2)(2,"input",156),Y("click",function(r){return ce(e),le(r.stopPropagation())}),f(),p(3,"h3"),b(4),f(),W(5,zp,2,1,"span",157),f(),p(6,"div",158)(7,"span",159),b(8,"Usage"),f(),p(9,"div",160),pe(10,"div",161),f(),p(11,"span",162),b(12),f()(),p(13,"p"),b(14),f(),W(15,Up,5,1,"div",163),p(16,"div",164)(17,"span",165),b(18),f(),p(19,"span",165),b(20),f(),p(21,"div",166)(22,"label",167),b(23,"Impact Weight:"),f(),p(24,"input",168),Y("input",function(r){let s=ce(e).$implicit,o=B();return le(o.updateTestCaseWeight(s.id,r))})("click",function(r){return ce(e),le(r.stopPropagation())}),f(),p(25,"span",169),b(26),f()()()()}if(i&2){let e=t.$implicit,n=B();Ie("selected",e.selected)("disabled",e.disabledReason),tn("aria-pressed",e.selected),P(2),Oe("checked",e.selected),P(2),z(e.name),P(),H(e.disabledReason?5:-1),P(),tn("data-frequency",e.frequencyWeight),P(4),Ke("width",n.getFrequencyBarWidth(e.frequencyWeight||1),"%"),P(2),z(n.getFrequencyLabel(e.frequencyWeight||1)),P(2),z(e.description),P(),H(e.architecturalTradeOffs?15:-1),P(3),V("Operations: ",e.operations),P(2),V("Complexity: ",e.complexity),P(2),Oe("for",Xr("weight-",e.id)),P(2),Oe("id",Xr("weight-",e.id))("value",e.frequencyWeight),P(2),V("",e.frequencyWeight,"x")}}function jp(i,t){if(i&1&&(p(0,"div",119),pe(1,"span",171),p(2,"span"),b(3),f()()),i&2){let e=B();P(3),Ot("Benchmarks running\u2026 ",e.completedTests(),"/",e.totalTests()," complete")}}function Wp(i,t){i&1&&(p(0,"p"),b(1,"Please calibrate environment first"),f())}function Hp(i,t){if(i&1&&(p(0,"p"),b(1),f()),i&2){let e=B(2);P(),V("Select at least one library to compare with ",e.baselineName())}}function $p(i,t){i&1&&(p(0,"p"),b(1,"Select at least one test scenario"),f())}function qp(i,t){if(i&1&&(p(0,"div",120),W(1,Wp,2,0,"p"),W(2,Hp,2,1,"p"),W(3,$p,2,0,"p"),f()),i&2){let e=B();P(),H(e.calibrationData()?-1:1),P(),H(e.selectedLibraries().length<2?2:-1),P(),H(e.selectedScenarios().length===0?3:-1)}}function Kp(i,t){if(i&1){let e=nn();p(0,"div",121)(1,"div",172)(2,"h2"),b(3,"Running Benchmarks"),f(),p(4,"div",173)(5,"span",174),b(6),f(),p(7,"span",175),b(8),f(),p(9,"span",176),b(10),f()(),p(11,"div",177)(12,"div",178),pe(13,"div",179),f(),p(14,"span",180),b(15),be(16,"number"),f()(),p(17,"div",181)(18,"div",143)(19,"span",182),b(20,"Elapsed"),f(),p(21,"span",183),b(22),f()(),p(23,"div",143)(24,"span",182),b(25,"Estimated"),f(),p(26,"span",183),b(27),f()(),p(28,"div",143)(29,"span",182),b(30,"Tests Complete"),f(),p(31,"span",183),b(32),f()()(),p(33,"button",184),Y("click",function(){ce(e);let r=B();return le(r.cancelBenchmarks())}),b(34," Cancel "),f()()()}if(i&2){let e=B();P(6),z(e.currentLibrary()),P(2),z(e.currentScenario()),P(2),Ot("Iteration ",e.currentIteration()," / ",e.config().iterations),P(3),Ke("width",e.progressPercent(),"%"),P(2),V("",De(16,11,e.progressPercent(),"1.0-0"),"%"),P(7),z(e.elapsedTime()),P(5),V("~",e.remainingTime()),P(5),Ot("",e.completedTests()," / ",e.totalTests())}}function Yp(i,t){if(i&1&&(p(0,"span",226),b(1),be(2,"number"),f()),i&2){let e=B().$implicit;P(),Ot(" #",e.rank," (",De(2,2,e.weightedScore,"1.1-1")," pts) ")}}function Gp(i,t){i&1&&(p(0,"span",227),b(1,"Incomplete"),f())}function Xp(i,t){if(i&1&&(p(0,"div",229)(1,"span",230),b(2),f(),p(3,"span",231),b(4),f(),p(5,"span",232),b(6),be(7,"number"),f()()),i&2){let e=t.$implicit;P(2),z(e.scenarioName),P(2),V("",e.weight,"x"),P(2),V("",De(7,3,e.contribution,"1.1-1")," pts")}}function Qp(i,t){if(i&1&&(p(0,"div",224)(1,"div",225)(2,"h4"),b(3),f(),W(4,Yp,3,5,"span",226),W(5,Gp,2,0,"span",227),f(),p(6,"div",228),Me(7,Xp,8,6,"div",229,Od),f()()),i&2){let e=t.$implicit;Ke("--card-color",e.color),Ie("weighted-winner",e.rank===1),P(3),z(e.name),P(),H(e.weightedScore!==-1?4:-1),P(),H(e.weightedScore===-1?5:-1),P(2),Ce(e.breakdown)}}function Jp(i,t){if(i&1&&(p(0,"div",235)(1,"span",238),b(2,"Unsupported"),f(),p(3,"small",239),b(4),f()()),i&2){let e=B().$implicit;P(4),z(e.disabledReason)}}function Zp(i,t){if(i&1&&(p(0,"div",233)(1,"span",234),b(2),f(),p(3,"span",169),b(4),f(),W(5,Jp,5,1,"div",235),p(6,"div",236),pe(7,"div",237),f()()),i&2){let e=t.$implicit;Ie("disabled",e.disabledReason),P(2),z(e.name),P(2),V("",e.frequencyWeight||1,"x"),P(),H(e.disabledReason?5:-1),P(2),Ke("width",(e.frequencyWeight||1)/3*100,"%")}}function e0(i,t){if(i&1&&(p(0,"span",249),b(1),f()),i&2){let e=B().$implicit;P(),Ot(" ",e.rankChange>0?"\u2197\uFE0F":"\u2198\uFE0F"," ",e.rankChange>0?e.rankChange:-e.rankChange," ")}}function t0(i,t){if(i&1&&(p(0,"div",246)(1,"span",247),b(2),f(),p(3,"span",248),b(4),W(5,e0,2,2,"span",249),f()()),i&2){let e=t.$implicit;Ie("ranking-improved",e.rankChange>0)("ranking-declined",e.rankChange<0),P(2),z(e.libraryName),P(2),Ot(" #",e.rawRank," \u2192 #",e.weightedRank," "),P(),H(e.rankChange!==0?5:-1)}}function n0(i,t){if(i&1&&(p(0,"div",243)(1,"h5"),b(2,"\u{1F4C8} Ranking Changes Due to Weighting:"),f(),p(3,"div",244),Me(4,t0,6,8,"div",245,Sd),f()()),i&2){let e=B();P(4),Ce(e.rankingChanges)}}function i0(i,t){if(i&1&&(p(0,"div",200)(1,"h4"),b(2,"\u{1F52C} Weight Impact Analysis"),f(),p(3,"div",240)(4,"div",241)(5,"strong"),b(6),be(7,"uppercase"),f(),b(8," impact from frequency weighting "),f(),p(9,"div",242),b(10),f()(),W(11,n0,6,0,"div",243),f()),i&2){let e=t;P(4),Gr("impact-"+e.weightingSignificance),P(2),z(Jn(7,5,e.weightingSignificance)),P(4),V(" ",e.totalScenariosAnalyzed," scenarios analyzed "),P(),H(e.rankingChanges?11:-1)}}function r0(i,t){if(i&1&&(p(0,"div",259)(1,"div",260)(2,"span",230),b(3),f(),p(4,"span",261),b(5),f()(),p(6,"div",262)(7,"span",231),b(8),f(),p(9,"span",263),b(10),be(11,"number"),f(),p(12,"span",264),b(13),be(14,"number"),f()()()),i&2){let e=t.$implicit;P(3),z(e.scenarioName),P(2),z(e.realWorldFrequency),P(3),V("",e.weight,"x"),P(2),z(De(11,5,e.rawScore,"1.0-0")),P(3),z(De(14,8,e.weightedScore,"1.0-0"))}}function s0(i,t){if(i&1&&(p(0,"div",252)(1,"div",253)(2,"h4"),b(3),f(),p(4,"div",254)(5,"div",255),b(6),be(7,"number"),f(),p(8,"div",256),b(9),be(10,"number"),f(),p(11,"div",257),b(12),be(13,"number"),f()()(),p(14,"div",258),Me(15,r0,15,11,"div",259,Od),f()()),i&2){let e=t.$implicit;Ke("--card-color",e.color),P(3),z(e.libraryName),P(3),V(" Raw: ",De(7,11,e.rawAverage,"1.0-0")," ops/sec "),P(3),V(" Weighted: ",De(10,14,e.weightedAverage,"1.0-0")," ops/sec "),P(2),Ie("positive-impact",e.weightingImpact>0)("negative-impact",e.weightingImpact<0),P(),Ot(" ",e.weightingImpact>0?"+":"","",De(13,17,e.weightingImpact,"1.1-1"),"% "),P(3),Ce(e.scenarioBreakdown)}}function o0(i,t){i&1&&(p(0,"div",201)(1,"h3"),b(2,"\u{1F4CB} Detailed Performance Breakdown"),f(),p(3,"div",250),Me(4,s0,17,20,"div",251,Sd),f()()),i&2&&(P(4),Ce(t.libraryAnalysis))}function a0(i,t){if(i&1&&(p(0,"span",266),b(1),f()),i&2){let e=B().$implicit;P(),V("#",e.rank)}}function c0(i,t){i&1&&(p(0,"span",267),b(1,"Not Implemented"),f())}function l0(i,t){if(i&1&&(p(0,"span",130),b(1),f()),i&2){let e=B().$implicit,n=B(2);P(),z(n.formatTime(e.median))}}function d0(i,t){i&1&&(p(0,"span",270),b(1,"N/A"),f())}function u0(i,t){if(i&1&&(p(0,"span",130),b(1),f()),i&2){let e=B().$implicit,n=B(2);P(),z(n.formatTime(e.p95))}}function h0(i,t){i&1&&(p(0,"span",270),b(1,"N/A"),f())}function m0(i,t){if(i&1&&(p(0,"span",130),b(1),be(2,"number"),f()),i&2){let e=B().$implicit;P(),V(" ",De(2,1,e.opsPerSecond,"1.0-0")," ")}}function f0(i,t){i&1&&(p(0,"span",270),b(1,"N/A"),f())}function g0(i,t){if(i&1&&(p(0,"span",130),b(1),be(2,"number"),f()),i&2){let e=B().$implicit;Ie("faster",e.relativeSpeed>1)("slower",e.relativeSpeed<1),P(),V(" ",De(2,5,e.relativeSpeed,"1.1-1"),"x ")}}function p0(i,t){i&1&&(p(0,"span",270),b(1,"N/A"),f())}function b0(i,t){if(i&1&&(p(0,"div",265)(1,"div",225)(2,"h3"),b(3),f(),W(4,a0,2,1,"span",266),W(5,c0,2,0,"span",267),f(),p(6,"div",268)(7,"div",269)(8,"span",129),b(9,"Median"),f(),W(10,l0,2,1,"span",130),W(11,d0,2,0,"span",270),f(),p(12,"div",269)(13,"span",129),b(14,"P95"),f(),W(15,u0,2,1,"span",130),W(16,h0,2,0,"span",270),f(),p(17,"div",269)(18,"span",129),b(19,"Ops/sec"),f(),W(20,m0,3,4,"span",130),W(21,f0,2,0,"span",270),f(),p(22,"div",269)(23,"span",129),b(24),f(),W(25,g0,3,8,"span",271),W(26,p0,2,0,"span",270),f()()()),i&2){let e=t.$implicit,n=B(2);Ke("--card-color",e.color),P(3),z(e.name),P(),H(e.median!==-1?4:-1),P(),H(e.median===-1?5:-1),P(5),H(e.median!==-1?10:-1),P(),H(e.median===-1?11:-1),P(4),H(e.p95!==-1?15:-1),P(),H(e.p95===-1?16:-1),P(4),H(e.opsPerSecond!==-1&&n.isFinite(e.opsPerSecond)?20:-1),P(),H(e.opsPerSecond===-1||!n.isFinite(e.opsPerSecond)?21:-1),P(3),V("vs ",n.baselineName()),P(),H(e.relativeSpeed!==-1?25:-1),P(),H(e.relativeSpeed===-1?26:-1)}}function _0(i,t){if(i&1&&(p(0,"th"),b(1),f()),i&2){let e=t.$implicit;Ke("color",e.color),P(),V(" ",e.name," ")}}function y0(i,t){if(i&1&&(p(0,"span",273),b(1),f()),i&2){let e=B().$implicit,n=B().$implicit,r=B(2);P(),V(" ",r.getScenarioRankEmoji(n.id,e.id)," ")}}function M0(i,t){if(i&1&&(p(0,"span",276),b(1),f()),i&2){let e=B().$implicit,n=B().$implicit,r=B(2);P(),V(" ",r.getRelativePerformance(n.id,e.id)," ")}}function C0(i,t){if(i&1&&(p(0,"td"),W(1,y0,2,1,"span",273),p(2,"span",274),b(3),f(),p(4,"span",275),b(5),f(),W(6,M0,2,1,"span",276),f()),i&2){let e=t.$implicit,n=B().$implicit,r=B(2);Gr(r.getScenarioRankClass(n.id,e.id)),Ke("--cell-color",e.color),Ie("winner",r.isScenarioWinner(n.id,e.id)),P(),H(r.getScenarioRankEmoji(n.id,e.id)?1:-1),P(2),z(r.getScenarioTime(n.id,e.id)),P(2),V("",r.getScenarioOps(n.id,e.id)," ops/s"),P(),H(e.id!=="signaltree"?6:-1)}}function x0(i,t){if(i&1&&(p(0,"tr")(1,"td",230),b(2),p(3,"small"),b(4),f()(),Me(5,C0,7,10,"td",272,_n),f()),i&2){let e=t.$implicit,n=B(2);P(2),V(" ",e.name," "),P(2),z(e.description),P(),Ce(n.librariesWithResults())}}function P0(i,t){if(i&1&&(p(0,"div",215)(1,"h4"),b(2),f(),p(3,"div",277)(4,"span"),b(5,"Sample Size:"),f(),p(6,"span"),b(7),f()(),p(8,"div",277)(9,"span"),b(10,"T-Statistic:"),f(),p(11,"span"),b(12),be(13,"number"),f()(),p(14,"div",277)(15,"span"),b(16,"P-Value:"),f(),p(17,"span"),b(18),be(19,"number"),f()(),p(20,"div",278)(21,"span"),b(22,"Conclusion:"),f(),p(23,"span"),b(24),f()()()),i&2){let e=t.$implicit;P(2),z(e.name),P(5),z(e.sampleSize),P(5),z(De(13,7,e.tStatistic,"1.2-2")),P(5),Ie("significant",e.pValue<.05),P(),V(" ",De(19,10,e.pValue,"1.4-4")," "),P(6),z(e.conclusion)}}function O0(i,t){if(i&1){let e=nn();p(0,"section",122)(1,"h2"),b(2,"Benchmark Results"),f(),p(3,"div",185)(4,"h4",186),b(5," \u{1F4A1} Understanding Selector/Memoization Performance "),f(),p(6,"p",187)(7,"strong"),b(8,"Why SignalTree benchmarks use enhancers:"),f(),b(9," SignalTree's architecture showcases "),p(10,"strong"),b(11,"developer-friendly enhancers"),f(),b(12," (memoization, batching, serialization, time-travel) that compose together. Benchmarks intentionally use these enhancers to demonstrate real-world usage patterns. "),f(),p(13,"p",187)(14,"strong"),b(15,"The trade-off:"),f(),b(16," Angular's "),p(17,"code",188),b(18,"computed()"),f(),b(19," adds ~2\u03BCs per call vs NgRx's reference checks (~0.3\u03BCs). However, memoization "),p(20,"strong"),b(21,"prevents expensive re-renders"),f(),b(22,", saving 100-1000x more time in real applications. The benchmarks test "),p(23,"em"),b(24,"cache efficiency"),f(),b(25,", not just speed. "),f(),p(26,"p",189)(27,"strong"),b(28,"Fair comparison:"),f(),b(29," All libraries now update state during tests (98% cache hits + 2% recomputation), testing real-world selector behavior where data changes occasionally. "),f()(),p(30,"div",190)(31,"h3"),b(32,"\u{1F3AF} Real-World Weighted Performance"),f(),p(33,"p",191),b(34," Results below are weighted by real-world usage frequency. "),p(35,"strong"),b(36,"This reflects how different architectures perform in typical applications."),f()(),p(37,"div",192),Me(38,Qp,9,7,"div",193,Ei),f(),p(40,"div",194)(41,"h4"),b(42,"\u{1F4CA} Current Weights Applied:"),f(),p(43,"div",195),Me(44,Zp,8,7,"div",196,_n),f(),p(46,"div",197)(47,"button",198),Y("click",function(){ce(e);let r=B();return le(r.applySmartWeightAdjustments())}),b(48," \u{1F9E0} Apply Research-Based Weights "),f(),p(49,"span",199),b(50,"Based on real-world usage studies"),f()()(),W(51,i0,12,7,"div",200),f(),W(52,o0,6,0,"div",201),p(53,"div",202),Me(54,b0,27,14,"div",203,Ei),f(),p(56,"div",204)(57,"div",205)(58,"div",206)(59,"button",207),Y("click",function(){ce(e);let r=B();return le(r.setChartMode("scenarios"))}),b(60," Scenarios "),f(),p(61,"button",208),Y("click",function(){ce(e);let r=B();return le(r.setChartMode("distribution"))}),b(62," Distribution "),f(),p(63,"button",209),Y("click",function(){ce(e);let r=B();return le(r.setChartMode("percentiles"))}),b(64," Percentiles "),f(),p(65,"button",210),Y("click",function(){ce(e);let r=B();return le(r.setChartMode("timeseries"))}),b(66," Time Series "),f()(),pe(67,"canvas",null,0),f()(),p(69,"div",211)(70,"h3"),b(71,"Detailed Results by Scenario"),f(),p(72,"table")(73,"thead")(74,"tr")(75,"th"),b(76,"Scenario"),f(),Me(77,_0,2,3,"th",212,_n),f()(),p(79,"tbody"),Me(80,x0,7,2,"tr",null,_n),f()()(),p(82,"div",213)(83,"h3"),b(84,"Statistical Analysis"),f(),p(85,"div",214),Me(86,P0,25,13,"div",215,Ei),f()(),p(88,"div",216)(89,"h3"),b(90,"Export Results"),f(),p(91,"div",217)(92,"button",218),Y("click",function(){ce(e);let r=B();return le(r.exportCSV())}),zt(),p(93,"svg",22),pe(94,"path",219),f(),b(95," Export CSV "),f(),Li(),p(96,"button",220),Y("click",function(){ce(e);let r=B();return le(r.exportJSON())}),zt(),p(97,"svg",22),pe(98,"path",221),f(),b(99," Export JSON "),f(),Li(),p(100,"button",222),Y("click",function(){ce(e);let r=B();return le(r.shareResults())}),zt(),p(101,"svg",22),pe(102,"path",223),f(),b(103," Share Results "),f()()()()}if(i&2){let e,n,r=B();P(38),Ce(r.weightedLibrarySummaries()),P(6),Ce(r.visibleScenarios()),P(7),H((e=r.weightedResultsAnalysis())?51:-1,e),P(),H((n=r.weightedResultsAnalysis())?52:-1,n),P(2),Ce(r.librarySummaries()),P(5),Ie("active",r.chartMode()==="scenarios"),P(2),Ie("active",r.chartMode()==="distribution"),P(2),Ie("active",r.chartMode()==="percentiles"),P(2),Ie("active",r.chartMode()==="timeseries"),P(12),Ce(r.librariesWithResults()),P(3),Ce(r.completedScenarios()),P(6),Ce(r.statisticalComparisons())}}Pr.register(...El);var jr=class i{combinedChartRef;destroy$=new ye;charts=[];chartMode=ge("scenarios");config=ge({dataSize:1e4,complexity:"moderate",iterations:50,warmupRuns:10});memoMode=ge(this._readMemoModeFromUrl());includeEnterpriseEnhancer=ge(!1);setIncludeEnterpriseEnhancer(t){let e=typeof t=="boolean"?t:t?.value==="true";this.includeEnterpriseEnhancer.set(!!e)}includeEnterpriseAutoRun=ge(!1);setIncludeEnterpriseAutoRun(t){let e=typeof t=="boolean"?t:t?.value==="true";this.includeEnterpriseAutoRun.set(!!e)}_memoModeEffect=rn(()=>{window.__SIGNALTREE_MEMO_MODE=this.memoMode()});_readMemoModeFromUrl(){try{let e=new URLSearchParams(window.location.search).get("memo");if(e==="off"||e==="light"||e==="shallow"||e==="full")return e}catch{}return"light"}setMemoMode(t){let e=typeof t=="string"?t:t?.value;if(e==="off"||e==="light"||e==="shallow"||e==="full"){this.memoMode.set(e);try{let n=new URL(window.location.href);n.searchParams.set("memo",e),history.replaceState(null,"",n.toString()),window.__SIGNALTREE_MEMO_MODE=e}catch{}}}calibrationData=ge(null);isCalibrating=ge(!1);isRunning=ge(!1);currentLibrary=ge("");currentScenario=ge("");currentIteration=ge(0);startTime=ge(0);completedTests=ge(0);elapsedTimeTimer=ge(0);timerInterval;scenarioPresets=[{id:"core-performance",name:"Core Performance",description:"Essential state management operations",scenarios:["deep-nested","large-array","computed-chains","batch-updates","selector-memoization","serialization","concurrent-updates"]},{id:"real-world",name:"Real-World Usage",description:"Common application patterns",scenarios:["memory-efficiency"]},{id:"advanced-features",name:"Advanced Features",description:"Time travel, middleware, and complex workflows",scenarios:["single-middleware","multiple-middleware","conditional-middleware"]},{id:"performance-stress",name:"Performance Stress",description:"Heavy load and scaling tests",scenarios:["concurrent-updates","memory-efficiency","history-size","conditional-middleware"]},{id:"all-tests",name:"All Tests",description:"Complete benchmark suite",scenarios:[]}];results=ge([]);selectionVersion=ge(0);scenarioSelectionVersion=ge(0);baselineName=L(()=>this.availableLibraries.find(t=>t.id==="signaltree")?.name||"SignalTree");stBench=se(Vr);ngrxBench=se(zr);ngrxSignalsBench=se(Ur);akitaBench=se(Ir);elfBench=se(Lr);ngxsBench=se(ga);realisticBenchmarkService=se(ma);availableLibraries=[{id:"signaltree",name:"SignalTree",description:"Granular reactive state with direct mutation",color:"#3b82f6",selected:!0,stats:{bundleSize:"7.3KB",githubStars:2800}},{id:"ngrx-store",name:"NgRx Store",description:"Redux pattern with immutable updates",color:"#ef4444",selected:!1,stats:{bundleSize:"25KB",githubStars:7900}},{id:"ngrx-signals",name:"NgRx SignalStore",description:"Signal-based store with immutable patterns",color:"#10b981",selected:!1,stats:{bundleSize:"12KB",githubStars:7900}},{id:"akita",name:"Akita",description:"Entity-focused state management",color:"#f59e0b",selected:!1,stats:{bundleSize:"~40KB",githubStars:3500}},{id:"elf",name:"Elf",description:"Modular reactive state",color:"#8b5cf6",selected:!1,stats:{bundleSize:"~5KB",githubStars:1500}},{id:"ngxs",name:"NgXs",description:"CQRS-inspired state management with actions, reducers, and selectors",color:"#f97316",selected:!1,stats:{bundleSize:"~30KB",githubStars:3400}}];testCases=Tl;hiddenScenarioIds=new Set(["undo-redo","history-size","jump-to-state"]);selectedLibraries=L(()=>(this.selectionVersion(),this.availableLibraries.filter(t=>t.selected)));_autoDisableUnsupportedScenarios=rn(()=>{let t=this.selectedLibraries(),e={signaltree:this.stBench,"ngrx-store":this.ngrxBench,"ngrx-signals":this.ngrxSignalsBench,akita:this.akitaBench,elf:this.elfBench,ngxs:this.ngxsBench},n={"deep-nested":"runDeepNestedBenchmark","large-array":"runArrayBenchmark","computed-chains":"runComputedBenchmark","batch-updates":"runBatchUpdatesBenchmark","selector-memoization":"runSelectorBenchmark",serialization:"runSerializationBenchmark","concurrent-updates":"runConcurrentUpdatesBenchmark","memory-efficiency":"runMemoryEfficiencyBenchmark","data-fetching":"runDataFetchingBenchmark","real-time-updates":"runRealTimeUpdatesBenchmark","state-size-scaling":"runStateSizeScalingBenchmark","subscriber-scaling":"runSubscriberScalingBenchmark","undo-redo":"runUndoRedoBenchmark","history-size":"runHistorySizeBenchmark","jump-to-state":"runJumpToStateBenchmark","single-middleware":"runSingleMiddlewareBenchmark","multiple-middleware":"runMultipleMiddlewareBenchmark","conditional-middleware":"runConditionalMiddlewareBenchmark","async-workflow":"runAsyncWorkflowBenchmark","async-workflow-scheduling":"runAsyncWorkflowBenchmark","async-workflow-hydration":"runAsyncWorkflowHydrationBenchmark","concurrent-async":"runConcurrentAsyncBenchmark","async-cancellation":"runAsyncCancellationBenchmark"},r={akita:["multiple-middleware","data-fetching","state-size-scaling"]};this.testCases.forEach(s=>{let o=[];if(t.forEach(l=>{r[l.id]?.includes(s.id)&&o.push(l.name)}),o.length>0){let l=s;l.disabledReason=`Not supported by ${o.join(", ")}`,l.selected&&(l.selected=!1);return}let a=n[s.id]||null;if(!a){delete s.disabledReason;return}let c=[];if(t.forEach(l=>{let d=e[l.id];if(!d)return;d[a]||c.push(l.name)}),this.hiddenScenarioIds.has(s.id)){let l=s;l.disabledReason="Hidden (SignalTree-only)",l.selected&&(l.selected=!1);return}if(c.length>0){let l=`Unsupported by ${c.join(", ")}`,d=s;d.disabledReason=l,d.selected&&(d.selected=!1)}else delete s.disabledReason}),this.scenarioSelectionVersion.update(s=>s+1)});scenarioEnhancerMap={"deep-nested":["withBatching","withShallowMemoization"],"large-array":["withHighPerformanceBatching"],"computed-chains":["withBatching","withShallowMemoization"],"batch-updates":["withHighPerformanceBatching"],"selector-memoization":["withLightweightMemoization"],serialization:["withMemoization","withHighPerformanceBatching"],"concurrent-updates":["withBatching"],"memory-efficiency":["withLightweightMemoization","withBatching"],"data-fetching":["withBatching","withShallowMemoization"],"real-time-updates":["withHighPerformanceBatching","withLightweightMemoization"],"state-size-scaling":["withLightweightMemoization","withBatching"],"undo-redo":["withTimeTravel"],"history-size":["withTimeTravel"],"jump-to-state":["withTimeTravel"],"single-middleware":[],"multiple-middleware":[],"conditional-middleware":[]};activeEnhancers=L(()=>{let t=this.selectedScenarios(),e=new Map;return t.forEach(n=>{n.enhancers.required.forEach(r=>{let s=e.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.required++,s.scenarios.push(n.name),s.rationales.includes(n.enhancers.rationale)||s.rationales.push(n.enhancers.rationale),e.set(r,s)}),n.enhancers.optional.forEach(r=>{let s=e.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.optional++,s.scenarios.push(n.name),e.set(r,s)})}),Array.from(e.entries()).map(([n,r])=>O(x({name:n},r),{priority:r.required>0?"required":"optional"}))});enhancerExplanation=L(()=>{let t=this.activeEnhancers();if(this.selectedScenarios().length===0)return"Select scenarios to see which enhancers will be used in the actual tests.";if(t.length===0)return"Selected tests use bare SignalTree instances without enhancers for optimal performance comparison.";let n={withBatching:"groups multiple state updates for better performance",withHighPerformanceBatching:"optimized batching for high-frequency operations",withMemoization:"full memoization with deep equality checks",withShallowMemoization:"lightweight memoization for object structures",withLightweightMemoization:"minimal caching overhead for intensive workloads",withSerialization:"state persistence and snapshot capabilities",withTimeTravel:"undo/redo functionality with history management"};return`Active enhancers: ${t.map(s=>`${s.name} (${s.priority==="required"?"required":"optional"})`).join(", ")}. These enhance SignalTree with ${t.map(s=>n[s.name]||s.name).join(", ")}.`});applyScenarioPreset(t){let e=this.scenarioPresets.find(n=>n.id===t);e&&(this.testCases.forEach(n=>n.selected=!1),t==="all-tests"?this.testCases.forEach(n=>{let r=n;r.selected=!r.disabledReason}):e.scenarios.forEach(n=>{let r=this.testCases.find(s=>s.id===n);r&&!r.disabledReason&&(r.selected=!0)}),this.scenarioSelectionVersion.update(n=>n+1))}presetCount(t){return t.id==="all-tests"?this.visibleScenarios().length:(t.scenarios||[]).filter(n=>!this.hiddenScenarioIds.has(n)&&this.testCases.some(r=>r.id===n)).length}selectedScenarios=L(()=>(this.scenarioSelectionVersion(),this.testCases.filter(t=>t.selected&&!t.disabledReason)));visibleScenarios=L(()=>(this.scenarioSelectionVersion(),this.testCases.filter(t=>!this.hiddenScenarioIds.has(t.id))));suggestedPresets=L(()=>{let t=this.selectedScenarios();if(t.length===0)return[];let e=[],n=["selector-memoization","computed-chains","data-fetching","large-array"],r=t.filter(u=>n.includes(u.id)).length;r>=2&&e.push({presetId:"crud-app",presetName:"CRUD Application",confidence:Math.min(95,r/n.length*100),reason:`${r} scenarios match typical CRUD app patterns`});let s=["large-array","concurrent-updates","real-time-updates","batch-updates"],o=t.filter(u=>s.includes(u.id)).length;o>=2&&e.push({presetId:"real-time",presetName:"Real-Time Application",confidence:Math.min(95,o/s.length*100),reason:`${o} scenarios match real-time app patterns`});let a=["deep-nested","computed-chains","selector-memoization","serialization"],c=t.filter(u=>a.includes(u.id)).length;c>=2&&e.push({presetId:"forms",presetName:"Forms-Heavy Application",confidence:Math.min(95,c/a.length*100),reason:`${c} scenarios match forms-heavy patterns`});let l=["serialization","undo-redo","computed-chains","selector-memoization"],d=t.filter(u=>l.includes(u.id)).length;return d>=2&&e.push({presetId:"enterprise",presetName:"Enterprise Application",confidence:Math.min(95,d/l.length*100),reason:`${d} scenarios match enterprise patterns`}),e.sort((u,h)=>h.confidence-u.confidence).slice(0,2)});librariesWithResults=L(()=>{let t=this.results();if(t.length===0)return[];let e=new Set(t.map(n=>n.libraryId));return this.availableLibraries.filter(n=>e.has(n.id))});reliabilityScore=L(()=>{if(!this.calibrationData())return 0;let e=this.environmentFactors(),n=100,r=e.reduce((s,o)=>s+o.impact,0);return Math.max(0,Math.min(100,n+r))});environmentFactors=L(()=>{let t=[];this.isDevToolsOpen()&&t.push({name:"DevTools Open",impact:-15,reason:"V8 debugging overhead, disabled optimizations, memory pressure"});let e=navigator.hardwareConcurrency||4;e<4?t.push({name:"Limited CPU Cores",impact:-12,reason:`${e} logical cores - insufficient for concurrent operations`}):e>=16?t.push({name:"High-Performance CPU",impact:8,reason:`${e} logical cores - excellent parallel processing capacity`}):e>=8&&t.push({name:"Multi-Core CPU",impact:5,reason:`${e} logical cores - good for concurrent workloads`});let n=navigator.deviceMemory;n?n<4?t.push({name:"Low Memory",impact:-15,reason:`${n}GB RAM - may trigger GC pressure, swap usage`}):n>=32?t.push({name:"High Memory",impact:8,reason:`${n}GB RAM - excellent for large datasets, minimal GC pressure`}):n>=16&&t.push({name:"Ample Memory",impact:5,reason:`${n}GB RAM - sufficient for complex benchmarks`}):t.push({name:"Memory Unknown",impact:-3,reason:"Cannot assess memory constraints or GC behavior"});let r=navigator.userAgent,s=/Chrome\/(\d+)/.test(r),o=/Firefox\/(\d+)/.test(r),a=/Safari/.test(r)&&!/Chrome/.test(r),c=/Edg\/(\d+)/.test(r);if(s){let _=r.match(/Chrome\/(\d+)/)?.[1],y=_?parseInt(_):0;y>=100?t.push({name:"Modern V8 Engine",impact:8,reason:`Chrome ${y} - latest V8 optimizations, Sparkplug compiler`}):y>=90?t.push({name:"Current V8 Engine",impact:5,reason:`Chrome ${y} - good V8 performance, established optimizations`}):t.push({name:"Older V8 Engine",impact:-5,reason:`Chrome ${y} - missing recent V8 optimizations`})}else o?t.push({name:"SpiderMonkey Engine",impact:0,reason:"Firefox SpiderMonkey - different optimization patterns than V8"}):a?t.push({name:"JavaScriptCore Engine",impact:-3,reason:"Safari JSC - conservative optimizations, different GC behavior"}):c?t.push({name:"Edge Chromium",impact:6,reason:"Edge with Chromium engine - V8 optimizations with Edge enhancements"}):t.push({name:"Unknown Browser",impact:-8,reason:"Untested JavaScript engine - unpredictable performance characteristics"});document.hasFocus()||t.push({name:"Background Tab",impact:-10,reason:"Browser throttling active - reduced timer resolution, CPU limits"});let l=navigator.platform.toLowerCase();l.includes("win")?t.push({name:"Windows Platform",impact:0,reason:"Windows - standard performance baseline"}):l.includes("mac")?t.push({name:"macOS Platform",impact:3,reason:"macOS - generally consistent performance, good memory management"}):l.includes("linux")&&t.push({name:"Linux Platform",impact:2,reason:"Linux - minimal overhead, efficient resource utilization"});let d=navigator.connection;d&&((d.effectiveType==="slow-2g"||d.effectiveType==="2g")&&t.push({name:"Slow Network",impact:-5,reason:"Poor connectivity may affect resource loading and system responsiveness"}),d.downlink&&d.downlink<1&&t.push({name:"Limited Bandwidth",impact:-3,reason:`${d.downlink}Mbps - may impact background resource usage`}));let u=document.createElement("canvas"),h=u.getContext("webgl2")||u.getContext("webgl");if(h){let _=h.getExtension("WEBGL_debug_renderer_info");if(_){let y=h.getParameter(_.UNMASKED_RENDERER_WEBGL);y.includes("Intel")?t.push({name:"Integrated Graphics",impact:-2,reason:"Intel integrated GPU - may share system memory, limited parallel compute"}):(y.includes("NVIDIA")||y.includes("AMD"))&&t.push({name:"Dedicated Graphics",impact:3,reason:"Discrete GPU - hardware acceleration available, dedicated memory"})}}else t.push({name:"No WebGL Support",impact:-5,reason:"Limited hardware acceleration - software rendering only"});navigator?.getBattery&&t.push({name:"Mobile/Laptop Device",impact:-3,reason:"Battery-powered device - potential thermal throttling, power management"});let g=Intl.DateTimeFormat().resolvedOptions().timeZone;return(g.includes("Asia")||g.includes("Europe"))&&t.push({name:"Complex Timezone",impact:-1,reason:`${g} - complex DST rules may affect date operations`}),t});calibrationWarnings=L(()=>{let t=[],e=this.reliabilityScore(),n=this.environmentFactors();e<60&&t.push(`Low reliability score (${e}%) - Results may have high variance due to environmental factors`),this.isDevToolsOpen()&&t.push("Close DevTools to eliminate V8 debugging overhead and enable full JIT optimizations"),document.hasFocus()||t.push("Focus this tab to prevent browser throttling - background tabs have reduced timer resolution");let r=this.calibrationData();r&&(r.cpuOpsPerMs<100&&t.push(`CPU performance below baseline (${r.cpuOpsPerMs.toFixed(0)} ops/ms) - consider reducing data size`),r.availableMemoryMB<512&&t.push(`Low available memory (${r.availableMemoryMB}MB) - may trigger garbage collection during tests`));let s=n.some(u=>u.name==="DevTools Open"),o=n.some(u=>u.name==="Background Tab"),a=n.some(u=>u.name.includes("Low Memory")),c=n.some(u=>u.name==="Unknown Browser");s&&o&&t.push("Multiple performance impacts detected - close DevTools and focus tab for accurate results"),a&&t.push("Limited system memory detected - consider smaller data sizes to avoid memory pressure"),c&&t.push("Untested browser environment - results may not be comparable with established baselines");let l=n.some(u=>u.name==="Integrated Graphics"),d=n.some(u=>u.name==="Limited CPU Cores");return l&&d&&t.push("Low-end hardware detected - consider reducing complexity for meaningful comparisons"),t});totalOperations=L(()=>{let t=this.config(),e=this.selectedLibraries(),n=this.selectedScenarios(),r=0;for(let s of n){let o=this.getOperationsPerIteration(s.id,t.dataSize);r+=o*t.iterations*e.length,r+=o*t.warmupRuns*e.length}return r});getOperationsPerIteration(t,e){switch(t){case"deep-nested":return Math.min(e,1e3);case"large-array":return Math.min(1e3,e);case"computed-chains":return Math.min(e,500);case"batch-updates":return Math.min(e,100);case"selector-memoization":return 1e3;case"serialization":return 1;case"concurrent-updates":{let n=Math.max(10,Math.min(100,Math.floor(e/1e3))),r=Math.max(50,Math.min(500,Math.floor(200)));return n*r}case"memory-efficiency":return e;case"data-fetching":return Math.min(1e3,e)+Math.min(100,e/10);case"real-time-updates":return Math.min(500,e);case"state-size-scaling":return Math.min(200,e/5);default:return e}}estimatedDuration=L(()=>{let t=this.config(),e=this.selectedLibraries(),n=this.selectedScenarios(),r=this.getComplexityMultiplier(t.complexity);if(e.length===0||n.length===0)return"0s";let a=e.length*n.length*15*r;a*=1.3;let c=Math.ceil(a/1e3);if(c<60)return`${c} seconds`;let l=Math.floor(c/60),d=c%60;return`${l}m ${d}s`});estimatedMemory=L(()=>{let t=this.config(),e=this.selectedScenarios(),n=0;for(let r of e)n+=this.getScenarioMemoryUsage(r.id,t.dataSize);return Math.ceil(n)});getScenarioMemoryUsage(t,e){switch(t){case"deep-nested":return e*200*15/(1024*1024);case"large-array":return e*64/(1024*1024);case"computed-chains":return .0003814697265625+.5;case"batch-updates":return 2;case"selector-memoization":return 1;case"serialization":return e*64/1048576*2;case"concurrent-updates":return 5;case"memory-efficiency":return e*128/(1024*1024);case"data-fetching":return Math.min(1e3,e)*200/(1024*1024)+1;case"real-time-updates":return 3;case"state-size-scaling":return Math.min(e*10,1e4)*2048/(1024*1024);default:return e*64/(1024*1024)}}totalTests=L(()=>this.selectedLibraries().length*this.selectedScenarios().length);progressPercent=L(()=>{let t=this.totalTests();return t===0?0:this.completedTests()/t*100});elapsedTime=L(()=>{if(!this.isRunning())return"0s";this.elapsedTimeTimer();let t=performance.now()-this.startTime();return this.formatDuration(t)});remainingTime=L(()=>{let t=this.progressPercent();if(t===0)return"Calculating...";this.elapsedTimeTimer();let e=performance.now()-this.startTime(),r=e/(t/100)-e;return this.formatDuration(r)});canRunBenchmarks=L(()=>this.calibrationData()!==null&&this.selectedLibraries().length>=2&&this.selectedScenarios().length>0&&!this.isRunning());hasResults=L(()=>this.results().length>0);completedScenarios=L(()=>{let t=this.results(),e=[...new Set(t.map(n=>n.scenarioId))];return this.testCases.filter(n=>e.includes(n.id))});librarySummaries=L(()=>{let t=this.results(),n=this.selectedLibraries().map(a=>{let c=t.filter(m=>m.libraryId===a.id);if(c.length===0)return null;let l=c.filter(m=>m.median!==-1);if(l.length===0)return{name:a.name,color:a.color,rank:999,median:-1,p95:-1,opsPerSecond:-1,relativeSpeed:-1};let d=l.map(m=>m.median),u=l.map(m=>m.p95),h=l.map(m=>m.opsPerSecond);return{name:a.name,color:a.color,rank:0,median:this.average(d),p95:this.average(u),opsPerSecond:this.average(h),relativeSpeed:1}}).filter(a=>a!==null),r=n.filter(a=>a.median!==-1),s=n.filter(a=>a.median===-1);r.sort((a,c)=>a.median-c.median),r.forEach((a,c)=>a.rank=c+1);let o=r.find(a=>a.name==="SignalTree");return o&&r.forEach(a=>{a.relativeSpeed=o.median/a.median}),[...r,...s]});weightedResultsAnalysis=L(()=>{let t=this.results(),e=this.selectedLibraries();if(t.length===0||e.length===0)return null;let n=e.map(o=>{let a=t.filter(_=>_.libraryId===o.id),c=0,l=0,d=0,u=a.map(_=>{let y=this.testCases.find(w=>w.id===_.scenarioId),C=y?.frequencyWeight||1,M=_.opsPerSecond>0?_.opsPerSecond:0,S=M*C;return c+=M,l+=S,d+=C,{scenarioId:_.scenarioId,scenarioName:y?.name||_.scenarioId,weight:C,rawScore:M,weightedScore:S,impactOnTotal:d>0?S/d*100:0,realWorldFrequency:y?.realWorldFrequency||"Unknown"}}),h=a.length>0?c/a.length:0,m=d>0?l/d:0,g=h>0?(m-h)/h*100:0;return{libraryId:o.id,libraryName:o.name,color:o.color,rawAverage:h,weightedAverage:m,weightingImpact:g,scenarioBreakdown:u,rank:0}});n.sort((o,a)=>a.weightedAverage-o.weightedAverage),n.forEach((o,a)=>{o.rank=a+1});let r=[...n].sort((o,a)=>a.rawAverage-o.rawAverage),s=n.map(o=>{let a=r.findIndex(l=>l.libraryId===o.libraryId)+1,c=o.rank;return{libraryName:o.libraryName,rawRank:a,weightedRank:c,rankChange:a-c}});return{libraryAnalysis:n,rankingChanges:s,totalScenariosAnalyzed:t.length>0?new Set(t.map(o=>o.scenarioId)).size:0,weightingSignificance:this.calculateWeightingSignificance(n)}});calculateWeightingSignificance(t){let e=t.reduce((n,r)=>n+Math.abs(r.weightingImpact),0)/t.length;return e<5?"low":e<15?"medium":"high"}statisticalComparisons=L(()=>{let t=this.results(),e=this.selectedLibraries();if(e.length<2)return[];let n=[];return e.find(s=>s.id==="signaltree")&&e.filter(s=>s.id!=="signaltree").forEach(s=>{let o=t.filter(u=>u.libraryId==="signaltree"),a=t.filter(u=>u.libraryId===s.id);if(o.length===0||a.length===0)return;let c=o.flatMap(u=>u.samples),l=a.flatMap(u=>u.samples),d=this.calculateTTest(c,l);n.push({name:`${this.baselineName()} vs ${s.name}`,sampleSize:Math.min(c.length,l.length),tStatistic:d.tStatistic,pValue:d.pValue,conclusion:d.pValue<.05?"Statistically significant difference":"No significant difference"})}),n});constructor(){let t=this.scenarioPresets.find(e=>e.id==="all-tests");t&&(t.scenarios=this.testCases.map(e=>e.id)),rn(()=>{this.hasResults()&&queueMicrotask(()=>requestAnimationFrame(()=>setTimeout(()=>this.updateCharts(),0)))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.charts.forEach(t=>t.destroy()),this.stopElapsedTimer()}runCalibration(){return v(this,null,function*(){this.isCalibrating.set(!0);try{let t=yield this.benchmarkCPU(),e=this.checkMemory(),n=Math.min(100,t/1e3*100),r=Math.min(100,e/1e3*100),s=t>500?5e4:t>200?1e4:t>100?5e3:1e3,o=t>500?100:t>200?75:t>100?50:25;this.calibrationData.set({cpuOpsPerMs:t,cpuScore:n,availableMemoryMB:e,memoryScore:r,recommendedSize:s,recommendedIterations:o,timestamp:new Date}),this.config.update(a=>O(x({},a),{dataSize:s,iterations:o}))}finally{this.isCalibrating.set(!1)}})}benchmarkCPU(){return v(this,null,function*(){let e=performance.now(),n=0,r=new Array(1e3).fill(0).map((a,c)=>c);for(let a=0;a<1e5;a++){n+=Math.sqrt(a)*Math.sin(a)*Math.cos(a);let c=a%r.length;r[c]=r[c]*1.001+.1,a%5e3===0&&(yield new Promise(l=>setTimeout(l,0)))}return Number.isNaN(n)||r.length,1e5/(performance.now()-e)})}submitBenchmarkResults(){return v(this,null,function*(){try{let e=(performance.now()-this.startTime())/1e3,n=yield this.realisticBenchmarkService.getBatteryInfo(),r=this.realisticBenchmarkService.getMachineInfo();n&&(r.battery=n);let s=this.calibrationData();if(!s)return;let o={reliabilityScore:this.reliabilityScore(),mathOpsPerMs:s.cpuOpsPerMs,memoryOpsPerMs:s.availableMemoryMB,environmentFactors:this.environmentFactors(),throttlingDetected:this.environmentFactors().some(M=>M.name.includes("throttl")||M.name.includes("Thermal")),backgroundLoad:Math.max(0,100-this.reliabilityScore()),timestamp:s.timestamp.toISOString()},a=this.selectedLibraries().map(M=>M.id),c=this.testCases.filter(M=>M.selected).map(M=>M.id),l={dataSize:this.config().dataSize,iterations:this.config().iterations,samplesPerTest:this.config().iterations,selectedLibraries:a,selectedScenarios:c,weightingPreset:this.detectCurrentPreset()},{getLibraryVersionsSync:d}=yield import("./chunk-UJGQQWFQ.js"),u=d(this.selectedLibraries().map(M=>M.id));this.selectedLibraries().forEach(M=>{if(!u[M.id]||u[M.id]==="unknown"){let S=window;S.__LIBRARY_VERSIONS__?.[M.id]&&(u[M.id]=S.__LIBRARY_VERSIONS__[M.id])}});let h={libraries:{},libraryVersions:u};this.selectedLibraries().forEach(M=>{let S={};this.results().forEach(w=>{if(w.libraryId===M.id){let E=this.testCases.find(A=>A.id===w.scenarioId);E&&(S[w.scenarioId]={scenarioId:w.scenarioId,scenarioName:E.name,samples:w.samples,median:w.median,mean:w.mean,min:w.min,max:w.max,p95:w.p95,p99:w.p99,stdDev:w.stdDev,opsPerSec:w.opsPerSecond,heapDelta:w.memoryDeltaMB,relativeToBaseline:100,rank:this.getScenarioRank(w.scenarioId,M.id)})}}),h.libraries[M.id]={name:M.name,enabled:!0,version:u[M.id]||"unknown",scenarios:S}});let m=this.weightedLibrarySummaries(),g={libraries:{},totalScenariosRun:this.completedScenarios().length,totalTestsExecuted:this.completedTests(),totalDuration:e};m.forEach(M=>{let S=this.selectedLibraries().find(w=>w.name===M.name);S&&(g.libraries[S.id]={rawScore:M.weightedScore,weightedScore:M.weightedScore,rank:M.rank,scenarioBreakdown:M.breakdown.map(w=>({scenarioName:w.scenarioName,weight:w.weight,rawScore:w.opsPerSecond,weightedContribution:w.contribution}))})});let _={};this.testCases.forEach(M=>{M.selected&&(_[M.id]=M.frequencyWeight||1)});let y={id:this.realisticBenchmarkService.getSessionId()+"-"+Date.now(),timestamp:new Date().toISOString(),version:"3.0.2",sessionId:this.realisticBenchmarkService.getSessionId(),consentGiven:!0,calibration:o,machineInfo:r,config:l,results:h,weightedResults:g,weights:_},C=yield this.realisticBenchmarkService.submitBenchmark(y);C.success}catch(t){console.warn("Benchmark submission failed:",t)}})}executeBenchmark(t,e,n,r){return v(this,null,function*(){let s=this.getBenchmarkService(t);if(!s)return-1;let o=this.testCases.find(c=>c.id===e);if(o&&o.signalTreeOnly&&t!=="signaltree")return-1;let a=c=>v(this,null,function*(){if(!c)return-1;let l=yield c;if(typeof l=="number")return l;if(l&&(typeof l.durationMs=="number"||Array.isArray(l.samples)||Array.isArray(l.rawSamples))){try{let d=window.__LAST_BENCHMARK_EXTENDED_RESULTS__||{};window.__LAST_BENCHMARK_EXTENDED_RESULTS__=d,d[t]=d[t]||{};let u=Array.isArray(l.samples)?l.samples.slice():Array.isArray(l.rawSamples)?l.rawSamples.slice():typeof l.durationMs=="number"?[l.durationMs]:[];d[t][e]=O(x({},typeof l=="object"?l:{durationMs:l}),{appliedEnhancers:window.__SIGNALTREE_ACTIVE_ENHANCERS__||[],rawSamples:u,persistedAt:new Date().toISOString()})}catch(d){}if(typeof l.durationMs=="number")return l.durationMs;if(typeof l.median=="number")return l.median;if(Array.isArray(l.samples)&&l.samples.length)return this.percentile(l.samples,50);if(Array.isArray(l.rawSamples)&&l.rawSamples.length)return this.percentile(l.rawSamples,50)}return-1});if(t==="signaltree")try{let c=(this.activeEnhancers()||[]).map(d=>d.name);(r?.overrideEnterprise??this.includeEnterpriseEnhancer?.())&&c.push("enterprise");try{window.__SIGNALTREE_ACTIVE_ENHANCERS=c}catch{}window.__SIGNALTREE_ACTIVE_ENHANCERS__=c}catch(c){}try{switch(e){case"deep-nested":return s.runDeepNestedBenchmark?yield a(s.runDeepNestedBenchmark(n.dataSize)):-1;case"large-array":return s.runArrayBenchmark?yield a(s.runArrayBenchmark(n.dataSize)):-1;case"computed-chains":return s.runComputedBenchmark?yield a(s.runComputedBenchmark(n.dataSize)):-1;case"batch-updates":return s.runBatchUpdatesBenchmark?yield a(s.runBatchUpdatesBenchmark(k.ITERATIONS.BATCH_UPDATES,k.ITERATIONS.BATCH_SIZE)):-1;case"selector-memoization":return s.runSelectorBenchmark?yield a(s.runSelectorBenchmark(n.dataSize)):-1;case"serialization":return s.runSerializationBenchmark?yield a(s.runSerializationBenchmark(n.dataSize)):-1;case"concurrent-updates":{if(!s.runConcurrentUpdatesBenchmark)return-1;let c=Math.max(10,Math.min(100,Math.floor(n.dataSize/1e3))),l=Math.max(50,Math.min(500,Math.floor(n.iterations*4)));return yield a(s.runConcurrentUpdatesBenchmark(c,l))}case"memory-efficiency":return s.runMemoryEfficiencyBenchmark?yield a(s.runMemoryEfficiencyBenchmark(n.dataSize)):-1;case"data-fetching":return s.runDataFetchingBenchmark?yield a(s.runDataFetchingBenchmark(n.dataSize)):-1;case"real-time-updates":return s.runRealTimeUpdatesBenchmark?yield a(s.runRealTimeUpdatesBenchmark(n.dataSize)):-1;case"state-size-scaling":return s.runStateSizeScalingBenchmark?yield a(s.runStateSizeScalingBenchmark(n.dataSize)):-1;case"subscriber-scaling":{if(!s.runSubscriberScalingBenchmark)return-1;let c=Math.max(10,Math.min(2e3,Math.floor(n.dataSize/10)));return yield a(s.runSubscriberScalingBenchmark(c))}case"concurrent-async":return s.runConcurrentAsyncBenchmark?yield a(s.runConcurrentAsyncBenchmark(k.ITERATIONS.ASYNC_WORKFLOW)):-1;case"async-cancellation":return s.runAsyncCancellationBenchmark?yield a(s.runAsyncCancellationBenchmark(k.ITERATIONS.ASYNC_WORKFLOW)):-1;case"undo-redo":return s.runUndoRedoBenchmark?yield a(s.runUndoRedoBenchmark(k.ITERATIONS.BATCH_UPDATES)):-1;case"history-size":return s.runHistorySizeBenchmark?yield a(s.runHistorySizeBenchmark(k.ITERATIONS.SELECTOR)):-1;case"jump-to-state":return s.runJumpToStateBenchmark?yield a(s.runJumpToStateBenchmark(k.ITERATIONS.ASYNC_WORKFLOW)):-1;case"single-middleware":return s.runSingleMiddlewareBenchmark?yield a(s.runSingleMiddlewareBenchmark(k.ITERATIONS.SELECTOR)):-1;case"multiple-middleware":return s.runMultipleMiddlewareBenchmark?yield a(s.runMultipleMiddlewareBenchmark(5,k.ITERATIONS.SELECTOR)):-1;case"conditional-middleware":return s.runConditionalMiddlewareBenchmark?yield a(s.runConditionalMiddlewareBenchmark(k.ITERATIONS.SELECTOR)):-1;default:return-1}}catch{return-1}})}getBenchmarkService(t){switch(t){case"signaltree":return this.stBench;case"ngrx-store":return this.ngrxBench;case"ngrx-signals":return this.ngrxSignalsBench;case"akita":return this.akitaBench;case"elf":return this.elfBench;case"ngxs":return this.ngxsBench;default:return null}}checkMemory(){let t=performance;if(t.memory){let{jsHeapSizeLimit:n,usedJSHeapSize:r}=t.memory,s=n-r;return Math.round(s/(1024*1024))}let e=navigator.deviceMemory;return e?e*1024*.7:2048}toggleLibrary(t){t.id!=="signaltree"&&(t.selected=!t.selected,this.selectionVersion.update(e=>e+1))}onLibraryCheckboxChange(t,e){t.id!=="signaltree"&&(t.selected=e,this.selectionVersion.update(n=>n+1))}toggleAllLibraries(){let t=this.allLibrariesSelected();this.availableLibraries.forEach(e=>{e.id!=="signaltree"&&(e.selected=!t)}),this.selectionVersion.update(e=>e+1)}allLibrariesSelected(){return this.availableLibraries.filter(t=>t.id!=="signaltree").every(t=>t.selected)}toggleScenario(t){t.selected=!t.selected,this.scenarioSelectionVersion.update(e=>e+1)}startElapsedTimer(){this.stopElapsedTimer(),this.timerInterval=window.setInterval(()=>{this.elapsedTimeTimer.update(t=>t+1)},500)}stopElapsedTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=void 0)}runBenchmarks(){return v(this,null,function*(){if(!this.canRunBenchmarks())return;this.isRunning.set(!0),this.startTime.set(performance.now()),this.completedTests.set(0),this.results.set([]),this.startElapsedTimer();let t=this.selectedLibraries(),e=this.selectedScenarios(),n=this.config();try{for(let r of e){if(!this.isRunning())break;for(let s of t){if(!this.isRunning())break;if(this.currentLibrary.set(s.name),this.currentScenario.set(r.name),s.id==="signaltree"&&this.includeEnterpriseAutoRun()){let o=yield this.runSingleBenchmark(s,r,n,{overrideEnterprise:!1,variantLabel:"baseline"});this.results.update(c=>[...c,o]),this.completedTests.update(c=>c+1);let a=yield this.runSingleBenchmark(s,r,n,{overrideEnterprise:!0,variantLabel:"enterprise"});this.results.update(c=>[...c,a]),this.completedTests.update(c=>c+1)}else{let o=yield this.runSingleBenchmark(s,r,n);this.results.update(a=>[...a,o]),this.completedTests.update(a=>a+1)}}}}catch(r){console.warn("Benchmark execution failed:",r)}finally{this.isRunning.set(!1),this.stopElapsedTimer(),yield this.submitBenchmarkResults()}})}runSingleBenchmark(t,e,n,r){return v(this,null,function*(){let s=[],o=performance,a=e.id==="memory-efficiency"&&!!o.memory,c=a&&o.memory?o.memory.usedJSHeapSize:void 0;for(let m=0;m<n.warmupRuns&&this.isRunning();m++)yield this.executeBenchmark(t.id,e.id,n,{overrideEnterprise:r?.overrideEnterprise}),this.currentIteration.set(m+1);for(let m=0;m<n.iterations&&this.isRunning();m++){this.currentIteration.set(m+1);let g=yield this.executeBenchmark(t.id,e.id,n,{overrideEnterprise:r?.overrideEnterprise});if(g===-1)return{libraryId:t.id,scenarioId:e.id,samples:[],median:-1,mean:-1,p95:-1,p99:-1,min:-1,max:-1,stdDev:-1,opsPerSecond:-1,memoryDeltaMB:void 0};s.push(g),m%10===0&&(yield new Promise(_=>setTimeout(_,0)))}s.sort((m,g)=>m-g);let l=a&&o.memory?o.memory.usedJSHeapSize:void 0,d=a&&c!==void 0&&l!==void 0?(l-c)/(1024*1024):void 0,u=this.percentile(s,50),h={libraryId:t.id,scenarioId:r?.variantLabel?`${e.id}::${r.variantLabel}`:e.id,samples:s,median:u,mean:this.average(s),p95:this.percentile(s,95),p99:this.percentile(s,99),min:s[0],max:s[s.length-1],stdDev:this.standardDeviation(s),opsPerSecond:u>0?Math.round(1e3/u):0,memoryDeltaMB:d};try{let m=window.__LAST_BENCHMARK_EXTENDED_RESULTS__||{};window.__LAST_BENCHMARK_EXTENDED_RESULTS__=m,m[t.id]=m[t.id]||{},m[t.id][h.scenarioId]=O(x({},h),{appliedEnhancers:window.__SIGNALTREE_ACTIVE_ENHANCERS__||[],rawSamples:s.slice(),timestamp:new Date().toISOString()})}catch(m){}return h})}getComplexityMultiplier(t){switch(t){case"basic":return 1;case"moderate":return 2;case"complex":return 4;case"extreme":return 8;default:return 1}}cancelBenchmarks(){this.isRunning.set(!1),this.stopElapsedTimer()}onDataSizeChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(x({},n),{dataSize:Number(e)})),this.updateEstimates()}onComplexityChange(t){this.config.update(e=>O(x({},e),{complexity:t})),this.updateEstimates()}onIterationsChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(x({},n),{iterations:Number(e)})),this.updateEstimates()}onWarmupChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(x({},n),{warmupRuns:Number(e)})),this.updateEstimates()}onLibraryCardKeydown(t,e){(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),this.toggleLibrary(e))}onScenarioCardKeydown(t,e){(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),this.toggleScenario(e))}isScenarioWinner(t,e){return this.getScenarioRank(t,e)===1}getScenarioRank(t,e){let n=this.results().filter(o=>o.scenarioId===t&&o.median!==-1&&o.opsPerSecond>0&&isFinite(o.opsPerSecond));if(n.length===0)return 0;let s=[...n].sort((o,a)=>o.median-a.median).findIndex(o=>o.libraryId===e);return s>=0?s+1:0}getScenarioRankClass(t,e){let n=this.getScenarioRank(t,e);return n===0?"":n===1?"rank-first":n===2?"rank-second":n===3?"rank-third":""}getScenarioRankEmoji(t,e){let n=this.getScenarioRank(t,e);return n===1?"\u{1F947}":n===2?"\u{1F948}":n===3?"\u{1F949}":""}getScenarioTime(t,e){let n=this.results().find(r=>r.scenarioId===t&&r.libraryId===e);return n?n.median===-1?"N/A":this.formatTime(n.median):"-"}getScenarioOps(t,e){let n=this.results().find(r=>r.scenarioId===t&&r.libraryId===e);return n?n.opsPerSecond===-1||n.opsPerSecond===0||!isFinite(n.opsPerSecond)?"N/A":Math.round(n.opsPerSecond).toLocaleString():"-"}isFinite(t){return Number.isFinite(t)}getRelativePerformance(t,e){let n=this.results().find(s=>s.scenarioId===t&&s.libraryId===e),r=this.results().find(s=>s.scenarioId===t&&s.libraryId==="signaltree");return!n||!r||n.median===-1||r.median===-1||n.opsPerSecond===0||n.opsPerSecond===-1?"N/A":n.median>r.median?`+${((n.median-r.median)/r.median*100).toFixed(1)}% slower`:`+${((r.median-n.median)/n.median*100).toFixed(1)}% faster`}updateCharts(){if(this.hasResults())if(this.charts.forEach(t=>{try{t.destroy()}catch(e){console.warn("Chart cleanup failed:",e)}}),this.charts=[],this.combinedChartRef?.nativeElement){let t=this.combinedChartRef.nativeElement.getContext("2d");t&&t.clearRect(0,0,t.canvas.width,t.canvas.height),this.createCombinedChart()}else setTimeout(()=>this.updateCharts(),10)}setChartMode(t){this.chartMode.set(t),this.updateCharts()}createCombinedChart(){let t=this.combinedChartRef?.nativeElement.getContext("2d");if(!t)return;let e=this.chartMode(),n=this.selectedLibraries(),r=this.results();if(n.length===0||r.length===0)return;let s;if(e==="distribution")s={type:"bar",data:{datasets:n.map(c=>{let d=r.filter(h=>h.libraryId===c.id).flatMap(h=>h.samples),u=this.createHistogramBins(d,20);return{label:c.name,data:u.map(h=>({x:h.center,y:h.count})),backgroundColor:c.color+"40",borderColor:c.color,borderWidth:2}})},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Time (ms)"}},y:{title:{display:!0,text:"Frequency"}}}}};else if(e==="percentiles"){let a=[10,25,50,75,90,95,99],c=n.map(l=>{let u=r.filter(h=>h.libraryId===l.id).flatMap(h=>h.samples).sort((h,m)=>h-m);return{label:l.name,data:a.map(h=>this.percentile(u,h)),borderColor:l.color,backgroundColor:l.color+"20",borderWidth:2,tension:.3}});s={type:"line",data:{labels:a.map(l=>`P${l}`),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else if(e==="scenarios"){let a=this.completedScenarios(),c=n.map(l=>{let d=a.map(u=>{let h=r.find(m=>m.libraryId===l.id&&m.scenarioId===u.id);return h?h.median:0});return{label:l.name,data:d,backgroundColor:l.color+"80",borderColor:l.color,borderWidth:2}});s={type:"bar",data:{labels:a.map(l=>l.name),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else s={type:"line",data:{datasets:n.map(c=>{let l=r.filter(u=>u.libraryId===c.id),d=[];return l.forEach(u=>{d=d.concat(u.samples)}),{label:c.name,data:d.map((u,h)=>({x:h+1,y:u})),borderColor:c.color,backgroundColor:c.color+"20",borderWidth:2,pointRadius:1,pointHoverRadius:4,tension:.1,fill:!1}})},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{tooltip:{position:"nearest"}},scales:{x:{title:{display:!0,text:"Iteration #"},type:"linear"},y:{title:{display:!0,text:"Time (ms)"},beginAtZero:!0}}}};let o=new Pr(t,s);this.charts.push(o),requestAnimationFrame(()=>{o.resize(),o.update("none")})}exportCSV(){let t=this.results(),e=this.availableLibraries,n=this.completedScenarios(),r=`Library,Scenario,Median (ms),Mean (ms),P95 (ms),P99 (ms),Min (ms),Max (ms),Std Dev,Ops/sec,Memory Delta (MB)
`;for(let s of t){let o=e.find(c=>c.id===s.libraryId),a=n.find(c=>c.id===s.scenarioId);r+=`${o?.name},${a?.name},${s.median===-1?-1:s.median.toFixed(3)},`,r+=`${s.mean===-1?-1:s.mean.toFixed(3)},${s.p95===-1?-1:s.p95.toFixed(3)},`,r+=`${s.p99===-1?-1:s.p99.toFixed(3)},${s.min===-1?-1:s.min.toFixed(3)},`,r+=`${s.max===-1?-1:s.max.toFixed(3)},${s.stdDev===-1?-1:s.stdDev.toFixed(3)},`,r+=`${s.opsPerSecond===-1||!isFinite(s.opsPerSecond)?-1:Math.round(s.opsPerSecond)},`,r+=`${typeof s.memoryDeltaMB=="number"?s.memoryDeltaMB.toFixed(2):""}
`}this.downloadFile(r,"benchmark-results.csv","text/csv")}exportJSON(){let t={timestamp:new Date().toISOString(),environment:{userAgent:navigator.userAgent,cores:navigator.hardwareConcurrency,memory:navigator.deviceMemory,reliability:this.reliabilityScore(),factors:this.environmentFactors()},configuration:this.config(),calibration:this.calibrationData(),results:this.results(),summaries:this.librarySummaries(),statistics:this.statisticalComparisons()};try{t.extendedResults=window.__LAST_BENCHMARK_EXTENDED_RESULTS__||{}}catch(n){}let e=JSON.stringify(t,null,2);try{window.__LAST_BENCHMARK_RESULTS__=e,window.__LAST_BENCHMARK_RESULTS_OBJ__=t,window.__LAST_BENCHMARK_RESULTS_TS__=new Date().toISOString()}catch(n){console.warn("Failed to set window benchmark results:",n)}this.downloadFile(e,"benchmark-results.json","application/json")}shareResults(){return v(this,null,function*(){let t=window.location.href,e=`Check out these benchmark results: ${this.baselineName()} vs ${this.selectedLibraries().slice(1).map(n=>n.name).join(", ")}`;if(navigator.share)try{yield navigator.share({title:"Benchmark Results",text:e,url:t})}catch(n){console.warn("Failed to share results:",n)}else navigator.clipboard.writeText(`${e}
${t}`),alert("Link copied to clipboard!")})}updateEstimates(){}isDevToolsOpen(){let t=window.outerWidth-window.innerWidth>160,e=window.outerHeight-window.innerHeight>160;return t||e}formatTime(t){return t<1?`${(t*1e3).toFixed(0)}\u03BCs`:t<1e3?`${t.toFixed(2)}ms`:`${(t/1e3).toFixed(2)}s`}formatDuration(t){let e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`}scoreCircumference(){let e=2*Math.PI*45;return`${e} ${e}`}scoreOffset(){let e=2*Math.PI*45,n=this.reliabilityScore();return(e-n/100*e).toString()}percentile(t,e){if(t.length===0)return 0;let n=[...t].sort((s,o)=>s-o),r=Math.ceil(e/100*n.length)-1;return n[Math.max(0,r)]}average(t){return t.length===0?0:t.reduce((e,n)=>e+n,0)/t.length}standardDeviation(t){let e=this.average(t),n=t.map(s=>Math.pow(s-e,2)),r=this.average(n);return Math.sqrt(r)}calculateTTest(t,e){let n=this.average(t),r=this.average(e),s=this.standardDeviation(t),o=this.standardDeviation(e),a=t.length,c=e.length,l=Math.sqrt(((a-1)*s*s+(c-1)*o*o)/(a+c-2)),d=(n-r)/(l*Math.sqrt(1/a+1/c)),u=a+c-2,h=this.approximatePValue(Math.abs(d),u);return{tStatistic:d,pValue:h}}approximatePValue(t,e){return e<0,t>3.5?.001:t>3?.01:t>2.5?.02:t>2?.05:t>1.5?.1:.5}createHistogramBins(t,e){if(t.length===0)return[];let n=Math.min(...t),s=(Math.max(...t)-n)/e,o=Array.from({length:e},(a,c)=>({min:n+c*s,max:n+(c+1)*s,center:n+(c+.5)*s,count:0}));return t.forEach(a=>{let c=Math.min(Math.floor((a-n)/s),e-1);o[c].count++}),o}downloadFile(t,e,n){let r=new Blob([t],{type:n}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=e,o.click(),URL.revokeObjectURL(s)}applyWeightingPreset(t){let n={"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,"subscriber-scaling":2.5,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,"subscriber-scaling":1.5,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"time-travel-debugging":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"subscriber-scaling":1.5,"memory-efficiency":1},equal:{}}[t];n&&(this.testCases=this.testCases.map(r=>O(x({},r),{frequencyWeight:t==="equal"?1:n[r.id]||1})))}updateTestCaseWeight(t,e){let n=e.target,r=parseFloat(n.value);this.testCases=this.testCases.map(s=>s.id===t?O(x({},s),{frequencyWeight:r}):s)}applySmartWeightAdjustments(){let t={"selector-memoization":2.9,"deep-nested":2.7,"computed-chains":2.4,"large-array":2.1,"batch-updates":2,"subscriber-scaling":2.2,"async-via-middleware":2.3,"memory-efficiency":1.8,"concurrent-updates":.6,serialization:.9,"single-middleware":1.3,"multiple-middleware":.7,"conditional-middleware":.4,"undo-redo":.8,"history-size":.3,"jump-to-state":.2};this.testCases=this.testCases.map(e=>{let n=t[e.id]||1,r=this.selectedScenarios(),s=this.analyzeCategoryDistribution(r);return s.core>.5&&e.category==="core"&&(n*=1.1),s.middleware>.3&&e.category==="middleware"&&(n*=1.2),s["time-travel"]>.2&&e.category==="time-travel"&&(n*=1.3),O(x({},e),{frequencyWeight:Math.round(n*10)/10})})}analyzeCategoryDistribution(t){if(t.length===0)return{};let e={};t.forEach(r=>{e[r.category]=(e[r.category]||0)+1});let n={};return Object.keys(e).forEach(r=>{n[r]=e[r]/t.length}),n}getFrequencyLabel(t){return t>=2.5?"Very High":t>=2?"High":t>=1.5?"Medium":t>=1?"Normal":t>=.5?"Low":"Very Low"}getFrequencyBarWidth(t){let e=Math.max(.1,Math.min(3,t));return Math.round((e-.1)/(3-.1)*90+10)}applySuggestedPreset(t){this.applyWeightingPreset(t)}lastScenarioSelectionHash="";checkForScenarioChanges(){let t=this.selectedScenarios().map(n=>n.id).sort().join(","),e=t!==this.lastScenarioSelectionHash;return this.lastScenarioSelectionHash=t,e}shouldShowSuggestions=L(()=>{let t=this.suggestedPresets();return t.length===0?!1:t.some(e=>{let n=this.getPresetWeights(e.presetId);if(!n)return!1;let r=this.selectedScenarios(),s=0,o=0;return r.forEach(c=>{let l=c.frequencyWeight||1,d=n[c.id]||1;s+=Math.abs(l-d),o++}),(o>0?s/o:0)>.2})});getPresetWeights(t){return{"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,"subscriber-scaling":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,"subscriber-scaling":2.5,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,"subscriber-scaling":1.5,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"undo-redo":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"subscriber-scaling":1.5,"memory-efficiency":1}}[t]||null}detectCurrentPreset(){let t={"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,"subscriber-scaling":2.5,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,"subscriber-scaling":1.5,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"undo-redo":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"subscriber-scaling":1.5,"memory-efficiency":1},equal:{}};for(let[e,n]of Object.entries(t)){let r=!0;for(let s of this.testCases){let o=s.frequencyWeight||1,a=n[s.id]||1;if(Math.abs(o-a)>.01){r=!1;break}}if(r)return e}return"custom"}weightedLibrarySummaries=L(()=>{let t=this.results();if(this.scenarioSelectionVersion(),!t||t.length===0)return[];let e=new Map;t.forEach(s=>{e.has(s.libraryId)||e.set(s.libraryId,[]);let o=e.get(s.libraryId);o&&o.push(s)});let n=new Map;t.forEach(s=>{if(s.median!==-1&&s.opsPerSecond>0){let o=n.get(s.scenarioId)||0;n.set(s.scenarioId,Math.max(o,s.opsPerSecond))}});let r=Array.from(e.entries()).map(([s,o])=>{let a=this.selectedLibraries().find(u=>u.id===s),c=0,l=0,d=[];return o.forEach(u=>{let h=this.testCases.find(C=>C.id===u.scenarioId);if(!h)return;if(u.median===-1||u.opsPerSecond===-1||u.opsPerSecond===0){d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:h.frequencyWeight||1,median:-1,weightedScore:0,contribution:0,opsPerSecond:-1});return}let m=h.frequencyWeight||1,g=n.get(u.scenarioId)||1,_=u.opsPerSecond/g*100,y=_*m;c+=y,l+=m,d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:m,median:u.median,weightedScore:_,contribution:y,opsPerSecond:u.opsPerSecond})}),{name:a?.name||s,color:a?.color||"#666",weightedScore:l>0?c/l:-1,breakdown:d,rank:0}});return r.filter(s=>s.weightedScore!==-1).sort((s,o)=>o.weightedScore-s.weightedScore).forEach((s,o)=>{s.rank=o+1}),r});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Fi({type:i,selectors:[["app-benchmark-orchestrator"]],viewQuery:function(e,n){if(e&1&&Qo(Pp,5),e&2){let r;Jo(r=Zo())&&(n.combinedChartRef=r.first)}},decls:511,vars:48,consts:[["combinedChart",""],[1,"benchmark-container"],[1,"benchmark-header"],[1,"subtitle"],[1,"performance-warning",2,"background","#fff3cd","border","2px solid #ffc107","border-radius","8px","padding","1rem","margin","1rem 0"],[2,"margin","0 0 0.5rem 0","color","#856404","font-size","1.1rem"],[2,"margin","0","color","#856404","font-size","0.9rem"],[1,"performance-disclaimer"],[1,"calibration-section"],[1,"calibration-header"],[1,"reliability-indicator"],[1,"score-circle"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",1,"score-bg"],["cx","50","cy","50","r","45",1,"score-fill"],[1,"score-text"],[1,"score-value"],[1,"score-label"],[1,"score-details"],[1,"detail-item"],[1,"calibration-controls"],[1,"btn","btn-calibrate",3,"click","disabled"],["viewBox","0 0 24 24",1,"btn-icon"],[1,"spinner"],[1,"calibration-results"],[1,"library-section"],[1,"library-selection-header"],["type","button",1,"btn","btn-select-all",3,"click","disabled"],[1,"library-grid"],["tabindex","0","role","button",1,"library-card",3,"selected","disabled","--lib-color"],[1,"bundle-disclaimer"],[1,"performance-tradeoffs"],[1,"tradeoff-grid"],[1,"tradeoff-item","advantage"],[1,"tradeoff-item","known-limitation"],[1,"explanation"],[1,"mitigation"],[1,"config-section"],[1,"config-grid"],[1,"config-group"],["for","data-size"],["title","Number of items to process in each benchmark. Larger sizes reveal performance differences but take longer to run.",1,"tooltip"],["id","data-size",3,"ngModelChange","ngModel"],[3,"value"],["for","complexity"],["title","Complexity affects how many operations and edge cases each test includes. Higher complexity reveals differences in real-world usage patterns.",1,"tooltip"],["id","complexity",3,"ngModelChange","ngModel"],["value","basic"],["value","moderate"],["value","complex"],["value","extreme"],["for","iterations"],["title","Number of times each test runs to collect timing samples. More iterations provide better statistical significance but take longer.",1,"tooltip"],["type","number","id","iterations","min","10","max","1000",3,"ngModelChange","change","ngModel"],["for","warmup"],["title","Number of 'practice' runs before actual measurement to warm up the JavaScript engine and get stable results.",1,"tooltip"],["type","number","id","warmup","min","5","max","50",3,"ngModelChange","change","ngModel"],["for","memo-mode"],["title","Switch memoization strategy for in-browser A/B tests",1,"tooltip"],["id","memo-mode",3,"ngModelChange","ngModel","disabled"],["value","light"],["value","off"],["value","shallow"],["value","full"],["for","include-enterprise"],["type","checkbox","id","include-enterprise",3,"ngModelChange","ngModel","disabled"],[1,"test-estimates"],[1,"estimate-grid"],[1,"estimate"],[1,"estimate-label"],[1,"estimate-value"],[1,"info-section","memoization-info"],[1,"info-card"],[1,"info-header"],[1,"info-badge"],[1,"info-content"],[1,"info-intro"],[1,"presets-info-grid"],[1,"preset-info-card"],[1,"preset-code"],[1,"preset-details"],[1,"preset-note"],[1,"usage-example"],[1,"info-footer"],[1,"benchmarks-section"],[1,"preset-section"],[1,"presets-grid"],["tabindex","0","role","button",1,"preset-card"],[1,"enhancers-display"],[1,"frequency-weighting-section"],[1,"weighting-explanation"],[1,"weighting-details"],[1,"weight-categories"],[1,"category-grid"],[1,"category-item","very-high"],[1,"weight-range"],[1,"frequency"],[1,"examples"],[1,"category-item","high"],[1,"category-item","medium"],[1,"category-item","low"],[1,"category-item","rare"],[1,"methodology-note"],[1,"weighting-presets"],[1,"smart-suggestions"],[1,"preset-buttons"],[1,"btn","btn-preset",3,"click"],[1,"architectural-insights"],[1,"insights-grid"],[1,"insight-card"],[1,"pros-cons"],[1,"pros"],[1,"cons"],[1,"all-benchmarks"],[1,"benchmarks-grid"],["tabindex","0","role","button",1,"benchmark-card",3,"selected","disabled"],[1,"controls-section"],["data-test-id","run-benchmarks",1,"btn","btn-run",3,"click","disabled"],["d","M8 5v14l11-7z"],["aria-live","polite",1,"controls-running"],[1,"controls-info"],["data-test-id","progress-modal",1,"progress-modal"],[1,"results-section"],[1,"factor-name"],[1,"factor-impact"],[1,"factor-reason"],["d","M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41m11.32-11.32l1.41-1.41"],[1,"calibration-grid"],[1,"calibration-metric"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"metric-fill"],[1,"calibration-warnings"],[1,"warning-item"],["viewBox","0 0 24 24",1,"warning-icon"],["d","M12 2L2 22h20L12 2zm0 6l1.5 7h-3L12 8zm0 9.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"],["tabindex","0","role","button",1,"library-card",3,"click","keydown"],[1,"library-checkbox"],["type","checkbox",3,"ngModelChange","click","change","ngModel","disabled"],[1,"library-info"],[1,"library-stats"],[1,"library-badge"],[1,"stat"],["tabindex","0","role","button",1,"preset-card",3,"click"],[1,"preset-count"],[1,"enhancers-list"],[1,"enhancer-tag"],[1,"enhancers-note"],[1,"suggestion-cards"],[1,"suggestion-card"],[1,"suggestion-header"],[1,"confidence-badge"],[1,"suggestion-reason"],[1,"btn","btn-suggestion",3,"click"],["tabindex","0","role","button",1,"benchmark-card",3,"click","keydown"],["type","checkbox",3,"click","checked"],[1,"unsupported-badge"],[1,"frequency-indicator"],[1,"frequency-label"],[1,"frequency-bar"],[1,"frequency-fill"],[1,"frequency-text"],[1,"architectural-note"],[1,"benchmark-details"],[1,"detail"],[1,"weight-control"],[3,"for"],["type","range","min","0","max","3","step","0.1",3,"input","click","id","value"],[1,"weight-value"],[1,"tradeoff-text"],[1,"dot"],[1,"progress-content"],[1,"progress-current"],["data-test-id","progress-current-library",1,"current-library"],["data-test-id","progress-current-scenario",1,"current-scenario"],["data-test-id","progress-current-iteration",1,"current-iteration"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"progress-stats"],[1,"stat-label"],[1,"stat-value"],["data-test-id","progress-cancel",1,"btn","btn-cancel",3,"click"],[1,"architectural-note",2,"background","#e3f2fd","border-left","4px solid #2196f3","padding","1rem 1.5rem","margin","1rem 0","border-radius","4px"],[2,"margin","0 0 0.5rem 0","color","#1976d2","font-size","1rem"],[2,"margin","0.5rem 0","color","#424242","font-size","0.9rem"],[2,"background","#fff","padding","2px 4px","border-radius","3px"],[2,"margin","0.5rem 0 0 0","color","#424242","font-size","0.9rem"],[1,"weighted-results-section"],[1,"weighting-note"],[1,"weighted-summary-grid"],[1,"weighted-summary-card",3,"--card-color","weighted-winner"],[1,"weighting-transparency"],[1,"weight-display"],[1,"weight-item",3,"disabled"],[1,"smart-weighting-tools"],["type","button",1,"smart-adjust-btn",3,"click"],[1,"smart-help"],[1,"weight-impact-analysis"],[1,"detailed-analysis"],[1,"summary-grid"],[1,"summary-card",3,"--card-color"],[1,"charts-grid"],[1,"chart-container"],[1,"chart-toolbar"],["data-test-id","chart-scenarios",1,"btn","btn-export",3,"click"],["data-test-id","chart-distribution",1,"btn","btn-export",3,"click"],["data-test-id","chart-percentiles",1,"btn","btn-export",3,"click"],["data-test-id","chart-timeseries",1,"btn","btn-export",3,"click"],[1,"results-table"],[3,"color"],[1,"statistics-section"],[1,"statistics-grid"],[1,"stat-card"],[1,"export-section"],[1,"export-buttons"],["data-test-id","export-csv",1,"btn","btn-export",3,"click"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12,19L8,15H10.5V12H13.5V15H16L12,19Z"],["data-test-id","export-json",1,"btn","btn-export",3,"click"],["d","M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"],["data-test-id","share-results",1,"btn","btn-export",3,"click"],["d","M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z"],[1,"weighted-summary-card"],[1,"summary-header"],[1,"weighted-rank"],[1,"weighted-rank","unsupported"],[1,"weighted-breakdown"],[1,"breakdown-item"],[1,"scenario-name"],[1,"weight"],[1,"contribution"],[1,"weight-item"],[1,"scenario"],[1,"scenario-disabled"],[1,"weight-bar"],[1,"weight-fill"],[1,"unsupported-label"],[1,"unsupported-reason"],[1,"impact-summary"],[1,"impact-level"],[1,"scenarios-count"],[1,"ranking-changes"],[1,"ranking-grid"],[1,"ranking-change-item",3,"ranking-improved","ranking-declined"],[1,"ranking-change-item"],[1,"library-name"],[1,"rank-change"],[1,"change-indicator"],[1,"library-analysis-grid"],[1,"library-analysis-card",3,"--card-color"],[1,"library-analysis-card"],[1,"analysis-header"],[1,"score-comparison"],[1,"raw-score"],[1,"weighted-score"],[1,"impact"],[1,"scenario-breakdown"],[1,"scenario-item"],[1,"scenario-info"],[1,"frequency-note"],[1,"scenario-scores"],[1,"raw"],[1,"weighted"],[1,"summary-card"],[1,"summary-rank"],[1,"summary-rank","unsupported"],[1,"summary-metrics"],[1,"metric"],[1,"metric-value","unsupported"],[1,"metric-value",3,"faster","slower"],[3,"winner","class","--cell-color"],[1,"rank-badge"],[1,"time"],[1,"ops"],[1,"relative"],[1,"stat-row"],[1,"stat-row","conclusion"]],template:function(e,n){e&1&&(p(0,"div",1)(1,"header",2)(2,"h1"),b(3,"Benchmarks vs Alternatives"),f(),p(4,"p",3),b(5," SignalTree compared to NgRx Store and NgRx SignalStore - Understanding trade-offs with real-world usage weighting "),f(),p(6,"div",4)(7,"h3",5),b(8," \u26A0\uFE0F Performance Notice "),f(),p(9,"p",6)(10,"strong"),b(11,"Benchmarks are computationally intensive."),f(),b(12,' You may see a "Page Unresponsive" warning during test execution. This is expected behavior. Please click '),p(13,"strong"),b(14,'"Wait"'),f(),b(15," and allow the benchmarks to complete. The tests are designed to stress-test performance under heavy load. "),f()(),p(16,"div",7)(17,"p"),b(18," While raw speed is important, the true purpose of these benchmarks is to show that "),p(19,"strong"),b(20,"SignalTree is architected with developer experience at its core, strategically rebalancing performance toward the most commonly used actions without compromise."),f(),pe(21,"br")(22,"br"),p(23,"strong"),b(24,"The goals:"),f(),pe(25,"br"),b(26," Create a state management system that embraces dot notation, type inference, and JSON\u2019s natural key-value structure. The outcome is a framework that feels both intuitive and efficient \u2014 delivering a streamlined DX while optimizing performance where it matters most. "),f()()(),p(27,"section",8)(28,"div",9)(29,"h2"),b(30,"Environment Calibration"),f(),p(31,"div",10)(32,"div",11),zt(),p(33,"svg",12),pe(34,"circle",13)(35,"circle",14),f(),Li(),p(36,"div",15)(37,"span",16),b(38),f(),p(39,"span",17),b(40,"Reliability"),f()()(),p(41,"div",18),Me(42,Sp,7,8,"div",19,Ei),f()()(),p(44,"div",20)(45,"button",21),Y("click",function(){return n.runCalibration()}),W(46,vp,2,0,":svg:svg",22),W(47,wp,1,0,"div",23),b(48),f(),W(49,Tp,32,17,"div",24),f()(),p(50,"section",25)(51,"div",26)(52,"h2"),b(53,"Select Libraries to Compare"),f(),p(54,"button",27),Y("click",function(){return n.toggleAllLibraries()}),b(55),f()(),p(56,"div",28),Me(57,Ip,10,16,"div",29,_n),f(),p(59,"div",30)(60,"p")(61,"strong"),b(62,"Note:"),f(),b(63," Bundle sizes are approximate and depend on usage patterns, tree-shaking, and build configuration. Actual production bundles may vary significantly based on which features you import and use. "),f()(),p(64,"div",31)(65,"h3"),b(66,"\u{1F4CA} Performance Trade-offs"),f(),p(67,"div",32)(68,"div",33)(69,"h4"),b(70,"\u2705 SignalTree Advantages"),f(),p(71,"ul")(72,"li")(73,"strong"),b(74,"25-65% faster"),f(),b(75," state updates and reads in most scenarios "),f(),p(76,"li")(77,"strong"),b(78,"85% memory reduction"),f(),b(79," through lazy signal creation "),f(),p(80,"li")(81,"strong"),b(82,"Automatic optimization"),f(),b(83," of reactive computations with intelligent caching "),f(),p(84,"li")(85,"strong"),b(86,"Fine-grained reactivity"),f(),b(87," for minimal re-renders and targeted updates "),f(),p(88,"li")(89,"strong"),b(90,"Zero-cost abstractions"),f(),b(91," with compile-time callable syntax transforms "),f(),p(92,"li")(93,"strong"),b(94,"Surgical updates"),f(),b(95," without parent object rebuilding for deep nested changes "),f(),p(96,"li")(97,"strong"),b(98,"Direct access patterns"),f(),b(99," eliminate complex selectors and reducers "),f(),p(100,"li")(101,"strong"),b(102,"Batching optimizations"),f(),b(103," prevent render thrashing in high-frequency scenarios "),f()()(),p(104,"div",34)(105,"h4"),b(106,"\u26A0\uFE0F Known Performance Trade-off"),f(),p(107,"p")(108,"strong"),b(109,"Serialization is ~2-3x slower"),f(),b(110," than libraries storing plain objects. "),f(),p(111,"p",35),b(112,' SignalTree stores reactive signals that must be "unwrapped" during serialization, while other libraries can serialize plain objects directly. This is by choice. Serialization takes very little time and by the sacrifice here enables the significant performance gains in all other operations. '),f(),p(113,"div",36)(114,"strong"),b(115,"Mitigation:"),f(),b(116," Built-in caching automatically optimizes storage I/O, and debounced auto-save reduces serialization frequency. "),f()()()()(),p(117,"section",37)(118,"h2"),b(119,"Test Configuration"),f(),p(120,"div",38)(121,"div",39)(122,"label",40),b(123,"Data Size "),p(124,"span",41)(125,"i"),b(126,"\u24D8"),f()()(),p(127,"select",42),Y("ngModelChange",function(s){return n.onDataSizeChange(s)}),p(128,"option",43),b(129,"Small (1,000 items) - Quick test"),f(),p(130,"option",43),b(131,"Medium (10,000 items) - Balanced"),f(),p(132,"option",43),b(133,"Large (50,000 items) - Thorough"),f(),p(134,"option",43),b(135," Extreme (100,000 items) - Stress test "),f()(),p(136,"small"),b(137,"Larger datasets provide more accurate measurements"),f()(),p(138,"div",39)(139,"label",44),b(140,"Test Complexity "),p(141,"span",45)(142,"i"),b(143,"\u24D8"),f()()(),p(144,"select",46),Y("ngModelChange",function(s){return n.onComplexityChange(s)}),p(145,"option",47),b(146,"Basic - Simple state updates"),f(),p(147,"option",48),b(148," Moderate - Nested updates + computeds "),f(),p(149,"option",49),b(150,"Complex - Deep nesting + selectors"),f(),p(151,"option",50),b(152," Extreme - All features + stress patterns "),f()(),p(153,"small"),b(154,"Higher complexity tests more realistic scenarios"),f()(),p(155,"div",39)(156,"label",51),b(157,"Measurement Iterations "),p(158,"span",52)(159,"i"),b(160,"\u24D8"),f()()(),p(161,"input",53),Y("ngModelChange",function(s){return n.onIterationsChange(s)})("change",function(){return n.updateEstimates()}),f(),p(162,"small"),b(163,"More iterations improve statistical significance"),f()(),p(164,"div",39)(165,"label",54),b(166,"Warmup Runs "),p(167,"span",55)(168,"i"),b(169,"\u24D8"),f()()(),p(170,"input",56),Y("ngModelChange",function(s){return n.onWarmupChange(s)})("change",function(){return n.updateEstimates()}),f(),p(171,"small"),b(172,"Warmup runs allow JIT optimization"),f()(),p(173,"div",39)(174,"label",57),b(175,"Memoization Mode "),p(176,"span",58)(177,"i"),b(178,"?"),f()()(),p(179,"select",59),Y("ngModelChange",function(s){return n.setMemoMode(s)}),p(180,"option",60),b(181,"Light (default)"),f(),p(182,"option",61),b(183,"Off"),f(),p(184,"option",62),b(185,"Shallow"),f(),p(186,"option",63),b(187,"Full"),f()(),p(188,"small"),b(189,"Toggle memoization strategy for exporter A/B testing (updates URL param)"),f()(),p(190,"div",39)(191,"label",64),b(192,"Include Enterprise Enhancer"),f(),p(193,"input",65),Y("ngModelChange",function(s){return n.setIncludeEnterpriseEnhancer(s)}),f(),p(194,"small"),b(195," When enabled, the 'enterprise' enhancer is added to SignalTree runs (audit/time-travel features). For fair baseline comparisons, run benchmarks with this disabled and then enabled to compare overhead. "),f()()(),p(196,"div",66)(197,"h3"),b(198),f(),p(199,"div",67)(200,"div",68)(201,"span",69),b(202,"Total Operations"),f(),p(203,"span",70),b(204),be(205,"number"),f()(),p(206,"div",68)(207,"span",69),b(208,"Estimated Duration"),f(),p(209,"span",70),b(210),f()(),p(211,"div",68)(212,"span",69),b(213,"Memory Required"),f(),p(214,"span",70),b(215),f()(),p(216,"div",68)(217,"span",69),b(218,"Scenarios to Run"),f(),p(219,"span",70),b(220),f()()()()(),p(221,"section",71)(222,"div",72)(223,"div",73)(224,"h3"),b(225,"\u{1F4CA} Benchmark Fairness: Memoization Presets"),f(),p(226,"span",74),b(227,"New in v3.0.2"),f()(),p(228,"div",75)(229,"p",76)(230,"strong"),b(231,"Benchmark what you ship, ship what you benchmark."),f(),b(232," All performance optimizations used in these benchmarks are publicly available in the "),p(233,"code"),b(234,"@signaltree/memoization"),f(),b(235," package. "),f(),p(236,"div",77)(237,"div",78)(238,"h4"),b(239,"\u{1F3AF} Selector Memoization"),f(),p(240,"code",79),b(241,"withSelectorMemoization()"),f(),p(242,"ul",80)(243,"li")(244,"strong"),b(245,"Equality:"),f(),b(246," Reference (~0.3\u03BCs)"),f(),p(247,"li")(248,"strong"),b(249,"Cache Size:"),f(),b(250," 10 entries"),f(),p(251,"li")(252,"strong"),b(253,"Use Case:"),f(),b(254," Fast selector caching for frequently accessed derived state "),f()(),p(255,"p",81),b(256,"Used in Selector Benchmarks"),f()(),p(257,"div",78)(258,"h4"),b(259,"\u26A1 Computed Memoization"),f(),p(260,"code",79),b(261,"withComputedMemoization()"),f(),p(262,"ul",80)(263,"li")(264,"strong"),b(265,"Equality:"),f(),b(266," Shallow (~5-15\u03BCs)"),f(),p(267,"li")(268,"strong"),b(269,"Cache Size:"),f(),b(270," 100 entries"),f(),p(271,"li")(272,"strong"),b(273,"Use Case:"),f(),b(274," Computed properties with object/array dependencies "),f()(),p(275,"p",81),b(276,"Used in Computed Benchmarks"),f()(),p(277,"div",78)(278,"h4"),b(279,"\u{1F50D} Deep State Memoization"),f(),p(280,"code",79),b(281,"withDeepStateMemoization()"),f(),p(282,"ul",80)(283,"li")(284,"strong"),b(285,"Equality:"),f(),b(286," Deep (~50-200\u03BCs)"),f(),p(287,"li")(288,"strong"),b(289,"Cache Size:"),f(),b(290," 50 entries"),f(),p(291,"li")(292,"strong"),b(293,"Use Case:"),f(),b(294," Complex nested state with deep equality checks "),f()(),p(295,"p",81),b(296,"Available for your use"),f()(),p(297,"div",78)(298,"h4"),b(299,"\u{1F680} High Frequency Memoization"),f(),p(300,"code",79),b(301,"withHighFrequencyMemoization()"),f(),p(302,"ul",80)(303,"li")(304,"strong"),b(305,"Equality:"),f(),b(306," Shallow (~5-15\u03BCs)"),f(),p(307,"li")(308,"strong"),b(309,"Cache Size:"),f(),b(310," 500 entries"),f(),p(311,"li")(312,"strong"),b(313,"Use Case:"),f(),b(314," High-frequency operations with large working sets "),f()(),p(315,"p",81),b(316,"Available for your use"),f()()(),p(317,"div",82)(318,"h4"),b(319,"\u{1F4BB} How to Use"),f(),p(320,"pre")(321,"code"),b(322,`import { signalTree } from '@signaltree/core';
import { withSelectorMemoization } from '@signaltree/memoization';

const tree = signalTree(state).with(withSelectorMemoization());`),f()()(),p(323,"div",83)(324,"p")(325,"strong"),b(326,"Bundle Impact:"),f(),b(327," ~0.3KB gzipped per preset \u2022 "),p(328,"strong"),b(329,"Algorithm:"),f(),b(330," Optimized shallow equality with zero allocations \u2022 "),p(331,"strong"),b(332,"Performance:"),f(),b(333," +40-60 pts expected gain "),f()()()()(),p(334,"section",84)(335,"h2"),b(336,"Test Scenarios"),f(),p(337,"div",85)(338,"h3"),b(339,"Quick Select Presets"),f(),p(340,"div",86),Me(341,Dp,7,3,"div",87,_n),f()(),W(343,Lp,8,1,"div",88),p(344,"div",89)(345,"h3"),b(346,"\u{1F3AF} Real-World Usage Weighting"),f(),p(347,"p",90),b(348," Different operations happen at different frequencies in real applications. Our weighting system applies research-based multipliers to benchmark results, reflecting actual usage patterns from 40,000+ developers and enterprise application analysis. "),f(),p(349,"div",91)(350,"div",92)(351,"h4"),b(352,"\u{1F4CA} Frequency Categories"),f(),p(353,"div",93)(354,"div",94)(355,"span",95),b(356,"2.5-3.0x"),f(),p(357,"span",96),b(358," Very High"),f(),p(359,"span",97),b(360," Forms, selectors, computed values"),f()(),p(361,"div",98)(362,"span",95),b(363,"2.0-2.4x"),f(),p(364,"span",96),b(365," High"),f(),p(366,"span",97),b(367," Arrays, batching, async (via middleware)"),f()(),p(368,"div",99)(369,"span",95),b(370,"1.0-1.9x"),f(),p(371,"span",96),b(372," Medium"),f(),p(373,"span",97),b(374," Memory efficiency, middleware"),f()(),p(375,"div",100)(376,"span",95),b(377,"0.5-0.9x"),f(),p(378,"span",96),b(379," Low"),f(),p(380,"span",97),b(381," Serialization, complex stacks"),f()(),p(382,"div",101)(383,"span",95),b(384,"0.1-0.4x"),f(),p(385,"span",96),b(386," Rare"),f(),p(387,"span",97),b(388," Time-travel, debugging tools"),f()()()(),p(389,"p",102)(390,"strong"),b(391,"Research Methodology:"),f(),b(392," Weights derived from State of JS 2023 survey data, GitHub repository analysis of 10,000+ applications, enterprise profiling studies, and React DevTools usage patterns. "),f()(),p(393,"div",103),W(394,Np,6,0,"div",104),p(395,"h4"),b(396,"Quick Presets:"),f(),p(397,"div",105)(398,"button",106),Y("click",function(){return n.applyWeightingPreset("crud-app")}),b(399," \u{1F4CA} CRUD App "),p(400,"small"),b(401,"Heavy reads, occasional updates"),f()(),p(402,"button",106),Y("click",function(){return n.applyWeightingPreset("real-time")}),b(403," \u26A1 Real-time Dashboard "),p(404,"small"),b(405,"Frequent targeted updates"),f()(),p(406,"button",106),Y("click",function(){return n.applyWeightingPreset("forms")}),b(407," \u{1F4DD} Complex Forms "),p(408,"small"),b(409,"Deep nested updates, validation"),f()(),p(410,"button",106),Y("click",function(){return n.applyWeightingPreset("enterprise")}),b(411," \u{1F3E2} Enterprise App "),p(412,"small"),b(413,"Audit trails, time-travel debugging"),f()(),p(414,"button",106),Y("click",function(){return n.applyWeightingPreset("equal")}),b(415," \u2696\uFE0F Equal Weight "),p(416,"small"),b(417,"No frequency bias"),f()()()(),p(418,"div",107)(419,"h4"),b(420,"\u{1F3D7}\uFE0F Architectural Trade-offs to Consider:"),f(),p(421,"div",108)(422,"div",109)(423,"h5"),b(424,"Direct Mutation (SignalTree)"),f(),p(425,"div",110)(426,"div",111)(427,"strong"),b(428,"\u2705 Helps when:"),f(),p(429,"ul")(430,"li"),b(431,"Frequent targeted updates"),f(),p(432,"li"),b(433,"Large nested objects"),f(),p(434,"li"),b(435,"Real-time data streams"),f(),p(436,"li"),b(437,"Interactive editors"),f()()(),p(438,"div",112)(439,"strong"),b(440,"\u274C Costs:"),f(),p(441,"ul")(442,"li"),b(443,"Slower serialization (signals must be unwrapped)"),f()()()()(),p(444,"div",109)(445,"h5"),b(446,"Immutable Updates (NgRx/Redux)"),f(),p(447,"div",110)(448,"div",111)(449,"strong"),b(450,"\u2705 Helps when:"),f(),p(451,"ul")(452,"li"),b(453,"Predictable state flow needed"),f(),p(454,"li"),b(455,"Time-travel debugging"),f(),p(456,"li"),b(457,"Large team coordination"),f(),p(458,"li"),b(459,"Audit requirements"),f()()(),p(460,"div",112)(461,"strong"),b(462,"\u274C Costs:"),f(),p(463,"ul")(464,"li"),b(465,"More boilerplate"),f(),p(466,"li"),b(467,"Full object recreation"),f(),p(468,"li"),b(469,"Learning curve"),f()()()()(),p(470,"div",109)(471,"h5"),b(472,"Entity Stores (Akita/Elf)"),f(),p(473,"div",110)(474,"div",111)(475,"strong"),b(476,"\u2705 Helps when:"),f(),p(477,"ul")(478,"li"),b(479,"Managing entity collections"),f(),p(480,"li"),b(481,"CRUD operations"),f(),p(482,"li"),b(483,"Normalized data"),f(),p(484,"li"),b(485,"Caching patterns"),f()()(),p(486,"div",112)(487,"strong"),b(488,"\u274C Costs:"),f(),p(489,"ul")(490,"li"),b(491,"Domain-specific"),f(),p(492,"li"),b(493,"Less general-purpose"),f(),p(494,"li"),b(495,"Learning overhead"),f()()()()()()()(),p(496,"div",113)(497,"h3"),b(498,"Benchmarks"),f(),p(499,"div",114),Me(500,Vp,27,22,"div",115,_n),f()()(),p(502,"section",116)(503,"button",117),Y("click",function(){return n.runBenchmarks()}),zt(),p(504,"svg",22),pe(505,"path",118),f(),b(506," Run Benchmarks "),f(),W(507,jp,4,2,"div",119),W(508,qp,4,3,"div",120),f(),W(509,Kp,35,14,"div",121),W(510,O0,104,10,"section",122),f()),e&2&&(tn("aria-busy",n.isRunning()),P(31),Ie("excellent",n.reliabilityScore()>=90)("good",n.reliabilityScore()>=75)("fair",n.reliabilityScore()>=60)("poor",n.reliabilityScore()<60),tn("data-score",n.reliabilityScore()),P(4),Ke("stroke-dasharray",n.scoreCircumference())("stroke-dashoffset",n.scoreOffset()),P(3),z(n.reliabilityScore()),P(4),Ce(n.environmentFactors()),P(3),Oe("disabled",n.isCalibrating()),P(),H(n.isCalibrating()?-1:46),P(),H(n.isCalibrating()?47:-1),P(),V(" ",n.isCalibrating()?"Calibrating...":"Calibrate Environment"," "),P(),H(n.calibrationData()?49:-1),P(5),Oe("disabled",n.isRunning()),P(),V(" ",n.allLibrariesSelected()?"Deselect All":"Select All"," "),P(2),Ce(n.availableLibraries),P(70),Oe("ngModel",n.config().dataSize),P(),Oe("value",1e3),P(2),Oe("value",1e4),P(2),Oe("value",5e4),P(2),Oe("value",1e5),P(10),Oe("ngModel",n.config().complexity),P(17),Oe("ngModel",n.config().iterations),P(9),Oe("ngModel",n.config().warmupRuns),P(9),Oe("ngModel",n.memoMode())("disabled",n.isRunning()),P(14),Oe("ngModel",n.includeEnterpriseEnhancer())("disabled",n.isRunning()),P(5),V("Test Estimates (\u2248",n.estimatedDuration(),")"),P(6),z(Jn(205,46,n.totalOperations())),P(6),z(n.estimatedDuration()),P(5),V("~",n.estimatedMemory()," MB"),P(5),z(n.selectedScenarios().length),P(121),Ce(n.scenarioPresets),P(2),H(n.selectedScenarios().length>0?343:-1),P(51),H(n.shouldShowSuggestions()&&n.suggestedPresets().length>0?394:-1),P(106),Ce(n.visibleScenarios()),P(3),Oe("disabled",!n.canRunBenchmarks()),P(4),H(n.isRunning()?507:-1),P(),H(n.canRunBenchmarks()?-1:508),P(),H(n.isRunning()?509:-1),P(),H(n.hasResults()?510:-1))},dependencies:[Ni,ha,ca,la,ia,oa,na,aa,ra,ua,da,sa,ea,ta],styles:['@charset "UTF-8";.benchmark-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.benchmark-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.benchmark-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#1f2937;margin-bottom:.5rem}.benchmark-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem}.calibration-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]{margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:2rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.excellent[_ngcontent-%COMP%]{--score-color: #10b981}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.good[_ngcontent-%COMP%]{--score-color: #3b82f6}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.fair[_ngcontent-%COMP%]{--score-color: #f59e0b}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.poor[_ngcontent-%COMP%]{--score-color: #ef4444}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{position:relative;width:120px;height:120px}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke-width:8}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-bg[_ngcontent-%COMP%]{stroke:#fff3}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-fill[_ngcontent-%COMP%]{stroke:var(--score-color, #3b82f6);stroke-linecap:round;transition:stroke-dashoffset .5s ease}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr auto 3fr;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact[_ngcontent-%COMP%]{font-weight:600}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.positive[_ngcontent-%COMP%]{color:#86efac}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.negative[_ngcontent-%COMP%]{color:#fca5a5}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-reason[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]{margin-top:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;stroke:currentColor;fill:none;stroke-width:2}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,.1);border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#ffffff1a;border-radius:8px}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;opacity:.9;margin-bottom:.25rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]{height:4px;background:#fff3;border-radius:2px;overflow:hidden}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]   .metric-fill[_ngcontent-%COMP%]{height:100%;background:#fff;transition:width .5s ease}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]{margin-top:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fb923c33;border-radius:4px;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:#fed7aa}.library-section[_ngcontent-%COMP%]{margin-bottom:2rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#3b82f6;color:#fff;font-size:.875rem;padding:.5rem 1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;position:relative}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]:hover{border-color:var(--lib-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.library-section[_ngcontent-%COMP%]   .library-card.selected[_ngcontent-%COMP%]{border-color:var(--lib-color);background:linear-gradient(to bottom,rgba(var(--lib-color-rgb),.05),#fff)}.library-section[_ngcontent-%COMP%]   .library-card.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.8}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:.5rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]{display:flex;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;background:#3b82f6;color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.2);border-radius:8px}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#1f293705;border:1px solid #e5e7eb;border-radius:12px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#1f2937;font-size:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}@media (max-width: 768px){.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item[_ngcontent-%COMP%]{padding:1.25rem;border-radius:8px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]{background:#10b9810d;border:1px solid rgba(16,185,129,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#085b40;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#042c1f;font-size:.875rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]{background:#f59e0b0d;border:1px solid rgba(245,158,11,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#945f06;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#634004;font-size:.875rem;line-height:1.5}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p.explanation[_ngcontent-%COMP%]{margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]{padding:.75rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.15);border-radius:6px;font-size:.8rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.config-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #e5e7eb;border-radius:6px;font-size:1rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.25rem;color:#6b7280;font-size:.75rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]{padding:1.5rem;background:#f9fafb;border-radius:8px}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]{text-align:center}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280;margin-bottom:.25rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937;font-size:1.25rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .presets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem;margin-bottom:1.5rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;text-align:center}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f626}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#6b7280;font-size:.875rem;line-height:1.4}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   .preset-count[_ngcontent-%COMP%]{font-size:.75rem;color:#3b82f6;font-weight:600;background:#3b82f61a;padding:.25rem .75rem;border-radius:12px;display:inline-block}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancer-tag[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:.375rem .75rem;border-radius:6px;font-size:.875rem;font-weight:500;font-family:Monaco,Menlo,Ubuntu Mono,monospace}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-note[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#6b7280;font-style:italic}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]{margin-bottom:3rem}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.375rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:2px solid rgba(59,130,246,.2)}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:1.5rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605;border-left:4px solid #3b82f6}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#4b5563;font-size:.875rem;line-height:1.5}.benchmarks-section[_ngcontent-%COMP%]   .benchmarks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;border:2px solid #e5e7eb;transition:all .2s}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px)}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f60d}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none;background:#1f293705}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:not-allowed}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   .unsupported-badge[_ngcontent-%COMP%]{margin-left:auto;background:#ef44440f;color:#ef4444;font-weight:800;padding:.25rem .5rem;border-radius:6px;font-size:.75rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.controls-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;margin-bottom:2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;font-size:1.125rem;padding:1rem 2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:24px;height:24px;fill:currentColor}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]{margin-top:1rem}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]{margin-top:.75rem;display:inline-flex;align-items:center;gap:.5rem;color:#6b7280}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#3b82f6;animation:_ngcontent-%COMP%_pulse 1.2s ease-in-out infinite}.progress-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000bf;display:flex;align-items:center;justify-content:center;z-index:1000}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;width:90%;max-width:500px}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span.current-library[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:1.125rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#8b5cf6);transition:width .3s ease}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{position:absolute;right:0;top:-1.5rem;font-size:.875rem;color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;width:100%;background:#ef4444;color:#fff}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]{margin-top:3rem}.results-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;color:#1f2937;text-align:center}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#fff;display:flex;align-items:center;gap:2rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-trophy[_ngcontent-%COMP%]{font-size:4rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9}.results-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .summary-rank[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.faster[_ngcontent-%COMP%]{color:#10b981}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.slower[_ngcontent-%COMP%]{color:#ef4444}.results-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]   .btn-export.active[_ngcontent-%COMP%]{border-color:#3b82f6;color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:100%;width:100%!important;height:420px!important;max-height:420px;display:block}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;background:#f9fafb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]{font-weight:500}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:.75rem;font-weight:400}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]{background:#10b9811a;position:relative}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]:before{content:"\\1f3c6";position:absolute;top:.25rem;right:.25rem;font-size:.75rem}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-first[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70026,#ffd7000d);border-left:3px solid #ffd700}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-second[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c0c0c026,#c0c0c00d);border-left:3px solid #c0c0c0}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-third[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cd7f3226,#cd7f320d);border-left:3px solid #cd7f32}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{display:inline-block;font-size:1.25rem;margin-right:.5rem;vertical-align:middle}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .ops[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:1rem;background:#f9fafb;border-radius:8px}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.25rem 0;font-size:.875rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row.conclusion[_ngcontent-%COMP%]{margin-top:.5rem;padding-top:.5rem;border-top:1px solid #e5e7eb;font-weight:600}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .significant[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;text-align:center}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#1f2937;border:2px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover{border-color:#3b82f6;color:#3b82f6}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:currentColor}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:.6}50%{transform:scale(1);opacity:1}to{transform:scale(.9);opacity:.6}}@media (max-width: 768px){.benchmark-container[_ngcontent-%COMP%]{padding:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.library-grid[_ngcontent-%COMP%], .config-grid[_ngcontent-%COMP%], .benchmarks-grid[_ngcontent-%COMP%], .summary-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%], .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reliability-indicator[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.reliability-indicator[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{margin:0 auto}.results-table[_ngcontent-%COMP%]{font-size:.875rem}.results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:300px!important;max-height:300px}}.tooltip[_ngcontent-%COMP%]{position:relative;cursor:help}.tooltip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;background:#3b82f6;color:#fff;text-align:center;line-height:16px;font-size:12px;font-style:normal;margin-left:4px}.tooltip[_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:125%;left:50%;transform:translate(-50%);background:#1f2937;color:#fff;padding:8px 12px;border-radius:6px;font-size:12px;white-space:nowrap;max-width:250px;white-space:normal;width:max-content;max-width:300px;z-index:1000;box-shadow:0 4px 12px #00000026}.tooltip[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:115%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:#1f2937;z-index:1000}.performance-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;text-align:start;background:#fff;border:1px solid rgb(156.5219512195,192.1951219512,250.4780487805);border-radius:8px}.performance-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;line-height:1.5;color:#094fc2}.performance-disclaimer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#073b91}.unsupported[_ngcontent-%COMP%]{color:#f59e0b!important;font-style:italic}.summary-rank.unsupported[_ngcontent-%COMP%]{background:#f59e0b;color:#fff;font-size:.75rem;padding:2px 6px;border-radius:4px}.metric-value.unsupported[_ngcontent-%COMP%]{opacity:.6}.frequency-weighting-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);border:2px solid #3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-explanation[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937;line-height:1.6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]{margin-bottom:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:.75rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.75rem;border-radius:8px;text-align:center;border:2px solid transparent}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8;line-height:1.3}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]{background:#63f1c2;border-color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0d9467}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]{background:#63e4fb;border-color:#06b6d4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0592aa}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]{background:#faca79;border-color:#f59e0b}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#b87708}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]{background:#bfa5fa;border-color:#8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#5d1cf2}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]{background:#f69898;border-color:#ef4444}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#e21313}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:6px;border-left:4px solid #3b82f6;font-size:.9rem;line-height:1.5;color:#1f2937;margin-top:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#e8f2ff);border:2px solid #4dabf7;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1864ab;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #bee3f8;border-radius:8px;padding:1rem;transition:all .2s ease}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #4dabf726;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1864ab;font-size:1.1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   .confidence-badge[_ngcontent-%COMP%]{background:#4dabf7;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem;font-size:.9rem;line-height:1.4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#4dabf7;color:#fff;border:none;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover{background:#339af0;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6;border:2px solid #3b82f6;flex-direction:column;text-align:center;min-width:160px}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;font-weight:400;opacity:.8}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid #8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8b5cf6;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ef4444}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:auto;font-size:.8rem;width:100%}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ef4444,#f59e0b 35%,#06b6d4 65%,#10b981);transition:width .3s ease}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%]{font-weight:600;min-width:50px}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]{margin:1rem 0;padding:.75rem;background:#8b5cf61a;border-radius:6px;border-left:3px solid #8b5cf6}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#8b5cf6;font-size:.9rem}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%]{margin:0;font-size:.85rem;line-height:1.4;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.5rem;background:#3b82f60d;border-radius:4px}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1;height:6px;-webkit-appearance:none;appearance:none;background:#e5e7eb;border-radius:3px;outline:none}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;border:none;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#3b82f6;min-width:35px}.weighted-results-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#fef7cd,#fbbf24 20%,#f59e0b);border:2px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#322002;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighting-note[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px;margin-bottom:1.5rem;border-left:4px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border:2px solid transparent}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#ecfdf5,#d1fae5)}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#10b981}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{background:#10b981;color:#fff;font-weight:700}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{padding:.3rem .8rem;border-radius:12px;background:var(--card-color, #3b82f6);color:#fff;font-size:.8rem;font-weight:600}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3rem 0;border-bottom:1px solid #e5e7eb;font-size:.85rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%]{flex:1;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;margin:0 .5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .contribution[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600;min-width:50px;text-align:right}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#322002}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(229,231,235,.5)}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .scenario[_ngcontent-%COMP%], .weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .benchmark[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-weight:600;color:#f59e0b;min-width:40px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]{width:100px;height:8px;background:#e5e7eb80;border-radius:4px;overflow:hidden}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]   .weight-fill[_ngcontent-%COMP%]{height:100%;background:#f59e0b;transition:width .3s ease}.disclaimer-points[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0}.disclaimer-points[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-left:3px solid #3b82f6;padding:.5rem 0 .5rem 1rem;margin:.5rem 0}.key-insight[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:8px;margin-top:1rem;border-left:4px solid #3b82f6;font-style:italic}.smart-weighting-tools[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#10b9811a;border-radius:8px;display:flex;align-items:center;gap:1rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#10b981;color:#fff;font-size:.9rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover{background:#0c8a60}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-help[_ngcontent-%COMP%]{color:#065f46;font-size:.875rem;font-style:italic}.weight-impact-analysis[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#8b5cf60d;border-radius:12px;border:1px solid rgba(139,92,246,.2)}.weight-impact-analysis[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:1.5rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;font-weight:600;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-low[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-medium[_ngcontent-%COMP%]{background:#f59e0b33;color:#92400e}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-high[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .scenarios-count[_ngcontent-%COMP%], .weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .benchmarks-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e5e7eb}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-improved[_ngcontent-%COMP%]{border-left:4px solid #10b981;background:#10b9810d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-declined[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;background:#f59e0b0d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .library-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:600;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.detailed-analysis[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto;gap:1rem;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .raw-score[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{padding:.5rem;background:#e5e7eb4d;border-radius:6px;text-align:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{background:rgba(var(--card-color),.1);font-weight:600}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.5rem;border-radius:6px;font-weight:600;min-width:80px}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.positive-impact[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.negative-impact[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto auto;gap:1rem;padding:.75rem 0;border-bottom:1px solid #e5e7eb;align-items:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child, .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937;margin-bottom:.25rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-style:italic}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]{display:contents}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-size:.875rem;text-align:right}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-weight:600;color:var(--card-color)}.memoization-info[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #e5e7eb}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:1.5rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:.375rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);padding:1rem;border-radius:8px;margin-bottom:1.5rem;font-size:1rem;line-height:1.6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3b82f6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#1f29371a;padding:.125rem .375rem;border-radius:4px;font-family:Courier New,monospace;font-size:.9em}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;border-radius:8px;padding:1rem;transition:all .2s}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f626;transform:translateY(-2px)}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#1f2937;font-size:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-code[_ngcontent-%COMP%]{display:block;background:#1f29370d;padding:.5rem;border-radius:4px;font-family:Courier New,monospace;font-size:.85rem;color:#8b5cf6;margin-bottom:.75rem;word-break:break-all}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 .75rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.875rem;color:#4b5563}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-note[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#3b82f6;font-weight:600;padding-top:.5rem;border-top:1px solid #e5e7eb}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]{background:#1f2937;padding:1rem;border-radius:8px;margin-bottom:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin:0 0 .75rem;font-size:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;overflow-x:auto}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:#e5e7eb;font-family:Courier New,monospace;font-size:.875rem;line-height:1.5}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]{background:#06b6d41a;padding:1rem;border-radius:8px;border-left:4px solid #06b6d4}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#4b5563;line-height:1.6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937}']})};var vd=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Fi({type:i,selectors:[["app-realistic-comparison"]],decls:1,vars:0,template:function(e,n){e&1&&pe(0,"app-benchmark-orchestrator")},dependencies:[Ni,jr],encapsulation:2})};export{vd as RealisticComparisonComponent};
