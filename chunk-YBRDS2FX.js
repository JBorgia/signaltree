import{a as X}from"./chunk-3OZB67SK.js";import{b as j,c as $,f as W,h as U,j as q,k as J,l as K,m as Y,n as G,o as Q}from"./chunk-E35SIG4Y.js";import{Eb as L,Fb as H,Hb as i,Ia as l,Ib as h,Jb as g,Nb as B,Ob as T,Pb as D,Xa as P,aa as N,ga as b,ha as u,hb as m,ib as p,kb as O,lb as v,mb as w,nb as k,ob as a,pb as o,pc as A,qb as R,ra as x,rb as y,sb as _,vb as E,vc as I,xb as f,zb as c}from"./chunk-MVZBW2TQ.js";import{a as V,b as z,j as S}from"./chunk-A3ECCK3J.js";var ie=(n,t)=>t.name;function re(n,t){if(n&1&&(y(0,"th"),i(1),_()),n&2){let e=t.$implicit,r=c(2);L("color",r.getLibraryColorValue(e)),l(),g(" ",e," ")}}function ae(n,t){n&1&&(y(0,"span",6),i(1,"\u{1F947}"),_())}function oe(n,t){n&1&&(y(0,"span",6),i(1,"\u{1F948}"),_())}function le(n,t){n&1&&(y(0,"span",6),i(1,"\u{1F949}"),_())}function se(n,t){if(n&1&&(y(0,"span",9),i(1),_()),n&2){let e=c().$implicit,r=c().$implicit,s=c(2);l(),g(" ",s.getRelativePerformance(r,e),"x vs SignalTree ")}}function ce(n,t){if(n&1&&(y(0,"span",10),i(1),_()),n&2){let e=c(2).$implicit;l(),g(" +",(e.marginOfVictory==null?null:e.marginOfVictory.toFixed(1))||"0","% faster ")}}function de(n,t){n&1&&(y(0,"span",11),i(1,"\u26A0 Unstable"),_())}function me(n,t){if(n&1&&(y(0,"td"),m(1,ae,2,0,"span",6),m(2,oe,2,0,"span",6),m(3,le,2,0,"span",6),y(4,"div",7)(5,"span",8),i(6),_(),m(7,se,2,1,"span",9),m(8,ce,2,1,"span",10),_(),m(9,de,2,0,"span",11),_()),n&2){let e=t.$implicit,r=c().$implicit,s=c(2);L("--cell-color",s.getLibraryColorValue(e)),H("winner",r.winner===e)("second",s.getLibraryRank(r,e)===2)("third",s.getLibraryRank(r,e)===3),l(),p(s.getLibraryRank(r,e)===1?1:-1),l(),p(s.getLibraryRank(r,e)===2?2:-1),l(),p(s.getLibraryRank(r,e)===3?3:-1),l(3),g(" ",s.formatOpsPerSec(s.getLibraryOps(r,e))," ops/s "),l(),p(e!==r.winner&&r.winner==="signaltree"?7:-1),l(),p(r.winner===e&&e!=="signaltree"?8:-1),l(),p(!r.reliable&&r.winner===e?9:-1)}}function pe(n,t){if(n&1&&(y(0,"tr")(1,"td",4)(2,"strong"),i(3),_()(),v(4,me,10,15,"td",5,O),_()),n&2){let e=t.$implicit,r=c(2);l(3),h(e.name),l(),w(r.getUniqueLibraries())}}function ge(n,t){if(n&1&&(y(0,"table",1)(1,"thead")(2,"tr")(3,"th"),i(4,"Scenario"),_(),v(5,re,2,3,"th",3,O),_()(),y(7,"tbody"),v(8,pe,6,1,"tr",null,ie),_()()),n&2){let e=c();l(5),w(e.getUniqueLibraries()),l(3),w(e.results)}}function be(n,t){n&1&&(y(0,"p",2),i(1,"No test results available"),_())}var F=class n{results=[];compact=!1;getUniqueLibraries(){if(!this.results||this.results.length===0)return[];let t=new Set;return this.results.forEach(e=>{e.libraryResults&&Object.keys(e.libraryResults).forEach(r=>t.add(r))}),Array.from(t).sort()}getLibraryColorValue(t){return{signaltree:"#1976d2",ngrx:"#7b1fa2","ngrx-signals":"#0097a7",akita:"#ef6c00",elf:"#2e7d32",ngxs:"#6a1b9a"}[t.toLowerCase()]||"#757575"}getLibraryOps(t,e){return!t.libraryResults||!t.libraryResults[e]?0:t.libraryResults[e].opsPerSec||0}getLibraryRank(t,e){return t.libraryResults?Object.entries(t.libraryResults).map(([d,C])=>({name:d,ops:C.opsPerSec||0})).sort((d,C)=>C.ops-d.ops).findIndex(d=>d.name===e)+1:999}getRelativePerformance(t,e){if(!t.libraryResults||!t.libraryResults.signaltree||!t.libraryResults[e])return"N/A";let r=t.libraryResults.signaltree.opsPerSec,s=t.libraryResults[e].opsPerSec;return r===0?"N/A":(r/s).toFixed(2)}formatOpsPerSec(t){return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(0)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["app-benchmark-results-table"]],inputs:{results:"results",compact:"compact"},decls:3,vars:3,consts:[[1,"results-table-wrapper"],[1,"results-table"],[1,"no-data"],[3,"color"],[1,"scenario-name"],[3,"winner","second","third","--cell-color"],[1,"rank-badge"],[1,"cell-content"],[1,"ops-value"],[1,"relative"],[1,"relative","winner-margin"],[1,"unreliable-badge"]],template:function(e,r){e&1&&(y(0,"div",0),m(1,ge,10,0,"table",1)(2,be,2,0,"p",2),_()),e&2&&(H("compact",r.compact),l(),p(r.results.length>0?1:2))},dependencies:[I],styles:[".results-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;border:1px solid var(--border, #e0e0e0)}.results-table-wrapper.compact[_ngcontent-%COMP%]{font-size:.8125rem}.results-table-wrapper.compact[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .results-table-wrapper.compact[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.625rem .75rem}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--background-secondary, #f5f5f5);position:sticky;top:0;z-index:5}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:center;font-size:.875rem;font-weight:600;white-space:nowrap;border-bottom:2px solid var(--border, #e0e0e0)}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left;position:sticky;left:0;background:var(--background-secondary, #f5f5f5);z-index:6}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--border, #e0e0e0)}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00000005}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:center;vertical-align:middle}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]{text-align:left;font-weight:500;color:var(--text, #212121);position:sticky;left:0;background:var(--card-background, #ffffff);z-index:1;min-width:200px}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary, #757575);display:block}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70026,#ffd7000d);border-left:3px solid #ffd700;font-weight:600}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.second[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c0c0c01f,#c0c0c008)}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.third[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cd7f321f,#cd7f3208)}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{display:inline-block;font-size:1.25rem;margin-bottom:.25rem}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:center}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .ops-value[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;font-size:.9375rem;color:var(--cell-color, var(--text, #212121))}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #757575);font-weight:500}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .relative.winner-margin[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .unreliable-badge[_ngcontent-%COMP%]{display:inline-block;margin-top:.25rem;padding:.125rem .5rem;background:#fff3e0;color:#ef6c00;border-radius:8px;font-size:.7rem;font-weight:600}.no-data[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-secondary, #757575);font-style:italic}@media (prefers-color-scheme: dark){.results-table-wrapper[_ngcontent-%COMP%]{border-color:#404040}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#2a2a2a;border-color:#404040}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{background:#2a2a2a}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#404040}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff0d}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]{background:#2a2a2a;color:#e0e0e0}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-data[_ngcontent-%COMP%]{color:#b0b0b0}}@media (max-width: 768px){.results-table[_ngcontent-%COMP%]{font-size:.75rem}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.results-table[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{font-size:1rem!important}.results-table[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .ops-value[_ngcontent-%COMP%]{font-size:.8125rem!important}}"]})};var ue=(n,t)=>t.createdAt,_e=(n,t)=>t.name;function he(n,t){n&1&&(a(0,"div",3),R(1,"div",10),a(2,"p"),i(3,"Loading benchmark history..."),o()())}function ye(n,t){if(n&1){let e=E();a(0,"div",4)(1,"span",11),i(2,"\u26A0\uFE0F"),o(),i(3),a(4,"button",12),f("click",function(){b(e);let s=c();return u(s.loadBenchmarks())}),i(5,"Retry"),o()()}if(n&2){let e=c();l(3),g(" ",e.error()," ")}}function fe(n,t){if(n&1&&(a(0,"option",18),i(1),o()),n&2){let e=t.$implicit;k("value",e),l(),g(" ",e," ")}}function xe(n,t){if(n&1&&(a(0,"option",18),i(1),o()),n&2){let e=t.$implicit;k("value",e),l(),g(" ",e," ")}}function Ce(n,t){if(n&1){let e=E();a(0,"div",5)(1,"div",13)(2,"div",14)(3,"label",15),i(4,"Library Winner:"),o(),a(5,"select",16),D("ngModelChange",function(s){b(e);let d=c();return T(d.selectedLibrary,s)||(d.selectedLibrary=s),u(s)}),f("change",function(s){b(e);let d=c();return u(d.selectedLibrary.set(s.target.value))}),a(6,"option",17),i(7,"All Libraries"),o(),v(8,fe,2,2,"option",18,O),o()(),a(10,"div",14)(11,"label",19),i(12,"Machine Type:"),o(),a(13,"select",20),D("ngModelChange",function(s){b(e);let d=c();return T(d.selectedMachineType,s)||(d.selectedMachineType=s),u(s)}),f("change",function(s){b(e);let d=c();return u(d.selectedMachineType.set(s.target.value))}),a(14,"option",17),i(15,"All Machines"),o(),v(16,xe,2,2,"option",18,O),o()(),a(18,"div",14)(19,"label",21),i(20,"Min Reliability:"),o(),a(21,"input",22),D("ngModelChange",function(s){b(e);let d=c();return T(d.minReliability,s)||(d.minReliability=s),u(s)}),f("change",function(s){b(e);let d=c();return d.minReliability.set(s.target.value),u(d.loadBenchmarks())}),o()()(),a(22,"div",23)(23,"button",12),f("click",function(){b(e);let s=c();return u(s.exportResults())}),i(24," \u{1F4E5} Export JSON "),o(),a(25,"button",12),f("click",function(){b(e);let s=c();return u(s.exportCSV())}),i(26,"\u{1F4CA} Export CSV"),o(),a(27,"button",24),f("click",function(){b(e);let s=c();return u(s.loadBenchmarks())}),i(28,"\u{1F504} Refresh"),o()()()}if(n&2){let e=c();l(5),B("ngModel",e.selectedLibrary),l(3),w(e.uniqueLibraries),l(5),B("ngModel",e.selectedMachineType),l(3),w(e.uniqueMachineTypes),l(5),B("ngModel",e.minReliability)}}function ke(n,t){if(n&1&&(a(0,"div",6)(1,"p"),i(2," Showing "),a(3,"strong"),i(4),o(),i(5," of "),a(6,"strong"),i(7),o(),i(8," benchmarks "),o()()),n&2){let e=c();l(4),h(e.filteredBenchmarks.length),l(3),h(e.benchmarks().length)}}function ve(n,t){if(n&1){let e=E();a(0,"tr",27)(1,"td",28),i(2),o(),a(3,"td")(4,"span",29),i(5),o()(),a(6,"td",30),i(7),o(),a(8,"td")(9,"span",31),i(10),o()(),a(11,"td",32),i(12),o(),a(13,"td",33),i(14),o(),a(15,"td",34),i(16),o(),a(17,"td",23)(18,"button",35),f("click",function(){let s=b(e).$implicit,d=c(2);return u(d.viewDetails(s))}),i(19," View Details "),o()()()}if(n&2){let e=t.$implicit,r=c(2);l(2),h(r.formatDate(e.createdAt)),l(2),k("ngClass",r.getLibraryColor(e.summary.winnerLibrary)),l(),g(" ",e.summary.winnerLibrary," "),l(2),g(" ",e.summary.winnerScore.toFixed(1)," pts "),l(2),k("ngClass",r.getReliabilityColor(e.summary.reliabilityScore)),l(),g(" ",e.summary.reliabilityScore,"% "),l(2),h(e.summary.machineType),l(2),h(e.summary.totalTests),l(2),g(" ",r.formatDuration(e.summary.duration)," ")}}function we(n,t){if(n&1){let e=E();a(0,"div",7)(1,"table",25)(2,"thead")(3,"tr")(4,"th",26),f("click",function(){b(e);let s=c();return u(s.toggleSort("date"))}),i(5),o(),a(6,"th"),i(7,"Winner"),o(),a(8,"th",26),f("click",function(){b(e);let s=c();return u(s.toggleSort("score"))}),i(9),o(),a(10,"th",26),f("click",function(){b(e);let s=c();return u(s.toggleSort("reliability"))}),i(11),o(),a(12,"th"),i(13,"Machine Type"),o(),a(14,"th"),i(15,"Tests"),o(),a(16,"th"),i(17,"Duration"),o(),a(18,"th"),i(19,"Actions"),o()()(),a(20,"tbody"),v(21,ve,20,9,"tr",27,ue),o()()()}if(n&2){let e=c();l(5),g(" Date ",e.getSortIcon("date")," "),l(4),g(" Score ",e.getSortIcon("score")," "),l(2),g(" Reliability ",e.getSortIcon("reliability")," "),l(10),w(e.filteredBenchmarks)}}function Me(n,t){n&1&&(a(0,"p"),i(1," No benchmark results have been submitted yet. Run the "),a(2,"a",37),i(3,"realistic comparison benchmarks"),o(),i(4," to contribute! "),o())}function Se(n,t){n&1&&(a(0,"p"),i(1," No benchmarks match your current filters. Try adjusting your filter criteria. "),o())}function Oe(n,t){if(n&1&&(a(0,"div",8)(1,"div",36),i(2,"\u{1F4CA}"),o(),a(3,"h3"),i(4,"No Benchmarks Found"),o(),m(5,Me,5,0,"p"),m(6,Se,2,0,"p"),o()),n&2){let e=c();l(5),p(e.benchmarks().length===0?5:-1),l(),p(e.benchmarks().length>0?6:-1)}}function Ee(n,t){if(n&1&&(a(0,"section",43)(1,"h3"),i(2,"\u{1F4CA} Summary"),o(),a(3,"div",46)(4,"div",47)(5,"span",48),i(6,"Date"),o(),a(7,"span",49),i(8),o()(),a(9,"div",47)(10,"span",48),i(11,"Winner"),o(),a(12,"span",49)(13,"span",29),i(14),o()()(),a(15,"div",47)(16,"span",48),i(17,"Score"),o(),a(18,"span",50),i(19),o()(),a(20,"div",47)(21,"span",48),i(22,"Reliability"),o(),a(23,"span",49)(24,"span",31),i(25),o()()(),a(26,"div",47)(27,"span",48),i(28,"Machine Type"),o(),a(29,"span",49),i(30),o()(),a(31,"div",47)(32,"span",48),i(33,"Total Tests"),o(),a(34,"span",49),i(35),o()(),a(36,"div",47)(37,"span",48),i(38,"Duration"),o(),a(39,"span",49),i(40),o()()()()),n&2){let e=t,r=c(2);l(8),h(r.formatDate(e.createdAt)),l(5),k("ngClass",r.getLibraryColor(e.summary.winnerLibrary)),l(),g(" ",e.summary.winnerLibrary," "),l(5),g(" ",e.summary.winnerScore.toFixed(2)," pts "),l(5),k("ngClass",r.getReliabilityColor(e.summary.reliabilityScore)),l(),g(" ",e.summary.reliabilityScore,"% "),l(5),h(e.summary.machineType),l(5),h(e.summary.totalTests),l(5),g(" ",r.formatDuration(e.summary.duration)," ")}}function Pe(n,t){n&1&&(a(0,"div",44),R(1,"div",10),a(2,"p"),i(3,"Loading detailed results..."),o()())}function Re(n,t){if(n&1&&(a(0,"div",45)(1,"span",11),i(2,"\u26A0\uFE0F"),o(),a(3,"span"),i(4),o()()),n&2){let e=c(2);l(4),h(e.detailsError())}}function Be(n,t){if(n&1&&(a(0,"div",47)(1,"span",48),i(2,"Browser"),o(),a(3,"span",49),i(4),o()()),n&2){let e=c(2);l(4),h(e.machineInfo.browser)}}function Te(n,t){if(n&1&&(a(0,"div",47)(1,"span",48),i(2,"Operating System"),o(),a(3,"span",49),i(4),o()()),n&2){let e=c(2);l(4),h(e.machineInfo.os)}}function De(n,t){if(n&1&&(a(0,"div",47)(1,"span",48),i(2,"CPU Cores"),o(),a(3,"span",49),i(4),o()()),n&2){let e=c(2);l(4),h(e.machineInfo.cpuCores)}}function Ie(n,t){if(n&1&&(a(0,"div",47)(1,"span",48),i(2,"Memory"),o(),a(3,"span",49),i(4),o()()),n&2){let e=c(2);l(4),h(e.machineInfo.memory)}}function Fe(n,t){if(n&1&&(a(0,"div",51)(1,"span",48),i(2,"User Agent"),o(),a(3,"span",52),i(4),o()()),n&2){let e=c(2);l(4),h(e.machineInfo.userAgent)}}function Ve(n,t){if(n&1&&(a(0,"section",43)(1,"h3"),i(2,"\u{1F4BB} Environment"),o(),a(3,"div",46),m(4,Be,5,1,"div",47),m(5,Te,5,1,"div",47),m(6,De,5,1,"div",47),m(7,Ie,5,1,"div",47),m(8,Fe,5,1,"div",51),o()()),n&2){let e=c();l(4),p(e.machineInfo.browser?4:-1),l(),p(e.machineInfo.os?5:-1),l(),p(e.machineInfo.cpuCores?6:-1),l(),p(e.machineInfo.memory?7:-1),l(),p(e.machineInfo.userAgent?8:-1)}}function Le(n,t){if(n&1&&(a(0,"section",43)(1,"h3"),i(2,"\u{1F3C6} Test Results"),o(),R(3,"app-benchmark-results-table",53),o()),n&2){let e=c();l(3),k("results",e.transformedResults)}}function He(n,t){n&1&&(a(0,"span",57),i(1,"\u{1F3C6} Winner"),o())}function ze(n,t){if(n&1&&(a(0,"div",55)(1,"div",56)(2,"span",29),i(3),o(),m(4,He,2,0,"span",57),o(),a(5,"div",58),i(6),o(),a(7,"div",59)(8,"span",60),i(9),o(),a(10,"span",60),i(11),o()()()),n&2){let e=t.$implicit,r=c(4);k("ngClass",e.rank===1?"winner":""),l(2),k("ngClass",r.getLibraryColor(e.name)),l(),g(" ",e.name," "),l(),p(e.rank===1?4:-1),l(2),g("",e.weightedScore.toFixed(2)," pts"),l(3),g(" Rank #",e.rank," "),l(2),g(" Raw: ",e.rawScore.toFixed(2)," ")}}function Ne(n,t){if(n&1&&(a(0,"section",43)(1,"h3"),i(2,"\u{1F4C8} Library Scores"),o(),a(3,"div",54),v(4,ze,12,7,"div",55,_e),o()()),n&2){let e=c(),r=c(2);l(4),w(r.getWeightedResultsArray(e.weightedResults.libraries))}}function Ae(n,t){if(n&1&&(m(0,Ve,9,5,"section",43),m(1,Le,4,1,"section",43),m(2,Ne,6,0,"section",43)),n&2){let e=t;p(e.machineInfo?0:-1),l(),p(e.transformedResults&&e.transformedResults.length>0?1:-1),l(),p(e.weightedResults!=null&&e.weightedResults.libraries?2:-1)}}function je(n,t){if(n&1){let e=E();a(0,"div",38),f("click",function(){b(e);let s=c();return u(s.closeDetails())}),a(1,"div",39),f("click",function(s){return b(e),u(s.stopPropagation())}),a(2,"div",40)(3,"h2"),i(4,"Benchmark Details"),o(),a(5,"button",41),f("click",function(){b(e);let s=c();return u(s.closeDetails())}),i(6,"\xD7"),o()(),a(7,"div",42),m(8,Ee,41,9,"section",43),m(9,Pe,4,0,"div",44),m(10,Re,5,1,"div",45),m(11,Ae,3,3),o()()()}if(n&2){let e,r,s=c();l(8),p((e=s.selectedBenchmark())?8:-1,e),l(),p(s.detailsLoading()?9:-1),l(),p(s.detailsError()?10:-1),l(),p((r=s.selectedBenchmarkFull())?11:-1,r)}}var Z=class n{benchmarkService=N(X);benchmarks=x([]);loading=x(!0);error=x("");detailsOpen=x(!1);detailsLoading=x(!1);detailsError=x("");selectedBenchmark=x(null);selectedBenchmarkFull=x(null);selectedLibrary=x("all");selectedMachineType=x("all");minReliability=x(0);sortBy=x("date");sortDirection=x("desc");ngOnInit(){return S(this,null,function*(){yield this.loadBenchmarks()})}loadBenchmarks(){return S(this,null,function*(){this.loading.set(!0),this.error.set("");try{let t=yield this.benchmarkService.getBenchmarkHistory({limit:100,minReliability:this.minReliability()>0?this.minReliability():void 0});t.success?this.benchmarks.set(t.benchmarks):this.error.set("Failed to load benchmark history.")}catch{this.error.set("Failed to load benchmark history. Please try again later.")}finally{this.loading.set(!1)}})}get filteredBenchmarks(){let t=this.benchmarks();return this.selectedLibrary()!=="all"&&(t=t.filter(e=>e.summary.winnerLibrary===this.selectedLibrary())),this.selectedMachineType()!=="all"&&(t=t.filter(e=>e.summary.machineType===this.selectedMachineType())),t.sort((e,r)=>{let s=0;switch(this.sortBy()){case"date":s=new Date(r.createdAt).getTime()-new Date(e.createdAt).getTime();break;case"score":s=r.summary.winnerScore-e.summary.winnerScore;break;case"reliability":s=r.summary.reliabilityScore-e.summary.reliabilityScore;break}return this.sortDirection()==="asc"?-s:s}),t}get uniqueLibraries(){let t=new Set(this.benchmarks().map(e=>e.summary.winnerLibrary));return Array.from(t).sort()}get uniqueMachineTypes(){let t=new Set(this.benchmarks().map(e=>e.summary.machineType));return Array.from(t).sort()}toggleSort(t){this.sortBy()===t?this.sortDirection.set(this.sortDirection()==="asc"?"desc":"asc"):(this.sortBy.set(t),this.sortDirection.set("desc"))}getSortIcon(t){return this.sortBy()!==t?"\u2195\uFE0F":this.sortDirection()==="asc"?"\u2191":"\u2193"}formatDate(t){return new Date(t).toLocaleString()}formatDuration(t){if(t<60)return`${t.toFixed(1)}s`;let e=Math.floor(t/60),r=t%60;return`${e}m ${r.toFixed(0)}s`}getReliabilityColor(t){return t>=90?"excellent":t>=75?"good":t>=60?"fair":"poor"}getLibraryColor(t){return{signaltree:"primary",ngrx:"secondary","ngrx-signals":"info",akita:"warning",elf:"success",ngxs:"purple"}[t.toLowerCase()]||"default"}exportResults(){return S(this,null,function*(){let t=this.filteredBenchmarks,e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=`signaltree-benchmark-history-${new Date().toISOString()}.json`,s.click(),URL.revokeObjectURL(r)})}exportCSV(){return S(this,null,function*(){let t=this.filteredBenchmarks;this.benchmarkService.exportAsCSV(t)})}viewDetails(t){return S(this,null,function*(){if(this.selectedBenchmark.set(t),this.detailsOpen.set(!0),this.selectedBenchmarkFull.set(null),t.fullData){this.selectedBenchmarkFull.set(this.transformResults(t.fullData));return}this.detailsLoading.set(!0),this.detailsError.set("");try{let e=yield this.benchmarkService.getBenchmarkDetails(t.id);if(e.success&&e.data){let r=this.transformResults(e.data);t.fullData=e.data,this.selectedBenchmarkFull.set(r)}else this.detailsError.set("Failed to load benchmark details"),this.selectedBenchmarkFull.set(null)}catch{this.detailsError.set("Failed to load benchmark details"),this.selectedBenchmarkFull.set(null)}finally{this.detailsLoading.set(!1)}})}transformResults(t){let e=new Map;Object.entries(t.results.libraries).forEach(([s,d])=>{Object.entries(d.scenarios).forEach(([C,M])=>{e.has(C)||e.set(C,{name:M.scenarioName,winner:"",marginOfVictory:0,reliable:!0,libraryResults:{}});let ee=e.get(C);ee.libraryResults[s]={opsPerSec:M.opsPerSec,time:M.median}})});let r=Array.from(e.values()).map(s=>{let d=Object.entries(s.libraryResults);if(d.sort((C,M)=>M[1].opsPerSec-C[1].opsPerSec),d.length>0&&(s.winner=d[0][0],d.length>1)){let C=d[0][1].opsPerSec,M=d[1][1].opsPerSec;s.marginOfVictory=(C-M)/M*100}return s});return z(V({},t),{transformedResults:r})}closeDetails(){this.detailsOpen.set(!1),this.selectedBenchmark.set(null),this.selectedBenchmarkFull.set(null),this.detailsError.set("")}formatOpsPerSec(t){return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(0)}getMarginClass(t){return t>=50?"high":t>=20?"medium":"low"}getWeightedResultsArray(t){return Object.entries(t).map(([e,r])=>V({name:e},r)).sort((e,r)=>e.rank-r.rank)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["app-realistic-benchmark-history"]],decls:13,vars:7,consts:[[1,"history-container"],[1,"header"],[1,"subtitle"],[1,"loading"],[1,"error-banner"],[1,"controls"],[1,"results-info"],[1,"table-container"],[1,"empty-state"],[1,"details-modal-backdrop"],[1,"spinner"],[1,"error-icon"],[1,"btn","secondary",3,"click"],[1,"filters"],[1,"filter-group"],["for","library-winner-select"],["id","library-winner-select",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value"],["for","machine-type-select"],["id","machine-type-select",3,"ngModelChange","change","ngModel"],["for","min-reliability-input"],["id","min-reliability-input","type","number","min","0","max","100","placeholder","0-100",3,"ngModelChange","change","ngModel"],[1,"actions"],[1,"btn","primary",3,"click"],[1,"benchmarks-table"],[1,"sortable",3,"click"],[1,"benchmark-row"],[1,"date"],[1,"library-badge",3,"ngClass"],[1,"score"],[1,"reliability-badge",3,"ngClass"],[1,"machine-type"],[1,"tests"],[1,"duration"],[1,"btn-small","primary",3,"click"],[1,"empty-icon"],["routerLink","/benchmarks"],[1,"details-modal-backdrop",3,"click"],[1,"details-modal",3,"click"],[1,"modal-header"],["title","Close",1,"close-btn",3,"click"],[1,"modal-body"],[1,"details-section"],[1,"details-loading"],[1,"details-error"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","score-highlight"],[1,"detail-item","full-width"],[1,"detail-value","user-agent"],[3,"results"],[1,"scores-grid"],[1,"score-card",3,"ngClass"],[1,"score-header"],[1,"winner-badge"],[1,"score-value"],[1,"score-details"],[1,"score-stat"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),i(3,"\u{1F4CA} Benchmark History"),o(),a(4,"p",2),i(5," Historical results from realistic comparison benchmarks across different machines "),o()(),m(6,he,4,0,"div",3),m(7,ye,6,1,"div",4),m(8,Ce,29,3,"div",5),m(9,ke,9,2,"div",6),m(10,we,23,3,"div",7),m(11,Oe,7,2,"div",8),o(),m(12,je,12,4,"div",9)),e&2&&(l(6),p(r.loading()?6:-1),l(),p(r.error()?7:-1),l(),p(!r.loading()&&!r.error()?8:-1),l(),p(!r.loading()&&!r.error()?9:-1),l(),p(!r.loading()&&!r.error()&&r.filteredBenchmarks.length>0?10:-1),l(),p(!r.loading()&&!r.error()&&r.filteredBenchmarks.length===0?11:-1),l(),p(r.detailsOpen()?12:-1))},dependencies:[I,A,Q,J,K,j,U,q,$,G,Y,W,F],styles:[`.details-modal-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:2rem;overflow-y:auto}.details-modal{background:var(--card-background);color:var(--text);border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:1200px;width:100%;max-height:90vh;display:flex;flex-direction:column;animation:slideUp .3s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.details-modal .modal-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--card-background);border-radius:16px 16px 0 0;z-index:10}.details-modal .modal-header h2{margin:0;font-size:1.5rem;color:var(--text)}.details-modal .modal-header .close-btn{width:36px;height:36px;border-radius:50%;border:none;background:transparent;color:var(--text-secondary);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.details-modal .modal-header .close-btn:hover{background:var(--background-secondary);color:var(--text)}.details-modal .modal-body{padding:2rem;overflow-y:auto;flex:1}.details-modal .details-section{margin-bottom:2rem}.details-modal .details-section:last-child{margin-bottom:0}.details-modal .details-section h3{font-size:1.125rem;margin-bottom:1rem;color:var(--text);border-bottom:2px solid var(--border);padding-bottom:.5rem}.details-modal .details-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.details-modal .details-grid .detail-item{display:flex;flex-direction:column;gap:.25rem}.details-modal .details-grid .detail-item.full-width{grid-column:1/-1}.details-modal .details-grid .detail-item .detail-label{font-size:.875rem;color:var(--text-secondary);font-weight:500}.details-modal .details-grid .detail-item .detail-value{font-size:1rem;color:var(--text);font-weight:400}.details-modal .details-grid .detail-item .detail-value.score-highlight{font-size:1.25rem;font-weight:700;color:var(--primary)}.details-modal .details-grid .detail-item .detail-value.user-agent{font-size:.8125rem;word-break:break-all;font-family:Courier New,monospace;background:var(--background-secondary);padding:.5rem;border-radius:4px}.details-modal .scores-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.details-modal .scores-grid .score-card{background:var(--background-secondary);border-radius:8px;padding:1rem;border:2px solid transparent;transition:all .2s}.details-modal .scores-grid .score-card.winner{border-color:gold;background:linear-gradient(135deg,#ffd70026,#ffd7000d)}.details-modal .scores-grid .score-card .score-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.details-modal .scores-grid .score-card .score-header .winner-badge{font-size:.875rem;color:gold;font-weight:600}.details-modal .scores-grid .score-card .score-value{font-size:1.5rem;font-weight:700;color:var(--primary);margin-bottom:.5rem}.details-modal .scores-grid .score-card .score-details{display:flex;gap:1rem;font-size:.875rem;color:var(--text-secondary)}.details-modal .scores-grid .score-card .score-details .score-stat{display:flex;align-items:center;gap:.25rem}.details-modal .details-loading,.details-modal .details-error{padding:2rem;text-align:center;color:var(--text-secondary);display:flex;flex-direction:column;align-items:center;gap:1rem}.details-modal .details-loading .spinner,.details-modal .details-error .spinner{width:40px;height:40px;border:4px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}.details-modal .details-loading .error-icon,.details-modal .details-error .error-icon{font-size:2rem}.history-container{margin:0 auto;padding:2rem}.history-container .details-meta{display:grid;grid-template-columns:1fr 1fr;gap:.5rem 2rem;margin-bottom:1.5rem;font-size:1rem}.history-container .details-loading{display:flex;align-items:center;gap:1rem;margin:1.5rem 0}.history-container .details-error{color:#d32f2f;background:#fee;border:1px solid #fcc;border-radius:6px;padding:.75rem 1rem;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.history-container .details-json{background:var(--background-secondary);color:var(--text-secondary);border-radius:6px;padding:1rem;font-size:.95rem;max-height:300px;overflow:auto;margin-bottom:1rem}.history-container .header{text-align:center;margin-bottom:2rem}.history-container .header h1{font-size:2.5rem;margin-bottom:.5rem;color:var(--primary)}.history-container .header .subtitle{font-size:1.1rem;color:var(--text-secondary)}.history-container .loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 0;gap:1rem}.history-container .loading .spinner{width:50px;height:50px;border:4px solid rgba(0,0,0,.1);border-left-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.history-container .error-banner{background:#fee;border:1px solid #fcc;border-radius:8px;padding:1rem;margin-bottom:1rem;display:flex;align-items:center;gap:1rem}.history-container .error-banner .error-icon{font-size:1.5rem}.history-container .error-banner button{margin-left:auto}.history-container .controls{display:flex;justify-content:space-between;align-items:flex-end;gap:2rem;margin-bottom:1.5rem;padding:1rem;background:var(--card-background);border-radius:8px;box-shadow:var(--card-shadow)}.history-container .controls .filters{display:flex;gap:1.5rem;flex-wrap:wrap;flex:1}.history-container .controls .filters .filter-group{display:flex;flex-direction:column;gap:.5rem}.history-container .controls .filters .filter-group label{font-size:.875rem;font-weight:600;color:var(--text-secondary)}.history-container .controls .filters .filter-group select,.history-container .controls .filters .filter-group input{padding:.5rem;border:1px solid var(--border);border-radius:4px;background:var(--background);color:var(--text);font-size:.875rem;min-width:150px}.history-container .controls .filters .filter-group select:focus,.history-container .controls .filters .filter-group input:focus{outline:none;border-color:var(--primary)}.history-container .controls .actions{display:flex;gap:.5rem}.history-container .results-info{margin-bottom:1rem;color:var(--text-secondary);font-size:.9rem}.history-container .table-container{background:var(--card-background);border-radius:8px;box-shadow:var(--card-shadow);overflow-x:auto}.history-container .table-container .benchmarks-table{width:100%;border-collapse:collapse}.history-container .table-container .benchmarks-table thead{background:var(--background-secondary);border-bottom:2px solid var(--border)}.history-container .table-container .benchmarks-table thead th{padding:1rem;text-align:left;font-weight:600;color:var(--text);white-space:nowrap}.history-container .table-container .benchmarks-table thead th.sortable{cursor:pointer;-webkit-user-select:none;user-select:none}.history-container .table-container .benchmarks-table thead th.sortable:hover{background:#0000000d}.history-container .table-container .benchmarks-table tbody .benchmark-row{border-bottom:1px solid var(--border);transition:background .2s}.history-container .table-container .benchmarks-table tbody .benchmark-row:hover{background:#00000005}.history-container .table-container .benchmarks-table tbody .benchmark-row td{padding:.875rem 1rem;vertical-align:middle}.history-container .table-container .benchmarks-table tbody .benchmark-row td.date{font-size:.875rem;color:var(--text-secondary)}.history-container .table-container .benchmarks-table tbody .benchmark-row td.score,.history-container .table-container .benchmarks-table tbody .benchmark-row td.tests,.history-container .table-container .benchmarks-table tbody .benchmark-row td.duration{font-weight:500}.history-container .table-container .benchmarks-table tbody .benchmark-row td.machine-type{font-size:.875rem;color:var(--text-secondary)}.history-container .table-container .benchmarks-table tbody .benchmark-row td.actions{text-align:right}.history-container .library-badge{display:inline-block;padding:.25rem .75rem;border-radius:12px;font-size:.875rem;font-weight:600;text-transform:capitalize}.history-container .library-badge.primary{background:#e3f2fd;color:#1976d2}.history-container .library-badge.secondary{background:#f3e5f5;color:#7b1fa2}.history-container .library-badge.info{background:#e0f7fa;color:#0097a7}.history-container .library-badge.warning{background:#fff3e0;color:#f57c00}.history-container .library-badge.success{background:#e8f5e9;color:#388e3c}.history-container .library-badge.purple{background:#f3e5f5;color:#9c27b0}.history-container .library-badge.default{background:#f5f5f5;color:#616161}.history-container .reliability-badge{display:inline-block;padding:.25rem .75rem;border-radius:12px;font-size:.875rem;font-weight:600}.history-container .reliability-badge.excellent{background:#e8f5e9;color:#2e7d32}.history-container .reliability-badge.good{background:#e3f2fd;color:#1565c0}.history-container .reliability-badge.fair{background:#fff3e0;color:#ef6c00}.history-container .reliability-badge.poor{background:#ffebee;color:#c62828}.history-container .btn,.history-container .btn-small{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s}.history-container .btn.primary,.history-container .btn-small.primary{background:var(--primary);color:#fff}.history-container .btn.primary:hover,.history-container .btn-small.primary:hover{background:var(--primary-dark)}.history-container .btn.secondary,.history-container .btn-small.secondary{background:var(--secondary);color:#fff}.history-container .btn.secondary:hover,.history-container .btn-small.secondary:hover{background:var(--secondary-dark)}.history-container .btn-small{padding:.375rem .75rem;font-size:.8125rem}.history-container .empty-state{text-align:center;padding:4rem 2rem}.history-container .empty-state .empty-icon{font-size:4rem;margin-bottom:1rem;opacity:.5}.history-container .empty-state h3{font-size:1.5rem;margin-bottom:.5rem;color:var(--text)}.history-container .empty-state p{color:var(--text-secondary);max-width:500px;margin:0 auto;line-height:1.6}.history-container .empty-state p a{color:var(--primary);text-decoration:none;font-weight:600}.history-container .empty-state p a:hover{text-decoration:underline}@media (prefers-color-scheme: dark){.history-container{--primary: #64b5f6;--primary-dark: #42a5f5;--secondary: #ba68c8;--secondary-dark: #ab47bc;--background: #1e1e1e;--background-secondary: #2a2a2a;--card-background: #2a2a2a;--border: #404040;--text: #e0e0e0;--text-secondary: #b0b0b0;--card-shadow: 0 2px 8px rgba(0, 0, 0, .3)}}.history-container{--primary: #1976d2;--primary-dark: #1565c0;--secondary: #7b1fa2;--secondary-dark: #6a1b9a;--background: #ffffff;--background-secondary: #f5f5f5;--card-background: #ffffff;--border: #e0e0e0;--text: #212121;--text-secondary: #757575;--card-shadow: 0 2px 8px rgba(0, 0, 0, .1)}
`],encapsulation:2})};export{Z as RealisticBenchmarkHistoryComponent};
