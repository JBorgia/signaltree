import{$ as u,A as Ue,B as he,D as ge,E as C,G as Le,H as Be,N as U,Na as P,O as Ge,P as Ye,R as $e,S as He,T as Se,W as m,Wb as Ie,Xb as z,Z as v,_ as ye,aa as Ve,ab as Te,b as ue,ba as ve,cb as Ze,d as N,ea as Xe,g as R,h as de,j as le,ja as X,la as E,m as je,ma as ze,n as O,p as pe,qa as Ee,r as A,t as _,x as fe,y as me,z as V}from"./chunk-MX75YDMR.js";import{a as l,b as j,h as b,i as ce,j as g}from"./chunk-A3ECCK3J.js";function Ke(t,o){let n=!o?.manualCleanup?o?.injector?.get(E)??u(E):null,r=At(o?.equal),s;o?.requireSync?s=Ee({kind:0},{equal:r}):s=Ee({kind:1,value:o?.initialValue},{equal:r});let a,i=t.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{s.set({kind:2,error:c}),a?.()},complete:()=>{a?.()}});if(o?.requireSync&&s().kind===0)throw new Se(601,!1);return a=n?.onDestroy(i.unsubscribe.bind(i)),z(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new Se(601,!1)}},{equal:o?.equal})}function At(t=Object.is){return(o,e)=>o.kind===1&&e.kind===1&&t(o.value,e.value)}var M="NGXS_META",Ae="NGXS_OPTIONS_META",be="NGXS_SELECTOR_META",_t=Object.prototype.hasOwnProperty,K=(t,o)=>_t.call(t,o),We=Object.defineProperty;function _e(t){if(!K(t,M)){let o={name:null,actions:{},defaults:{},path:null,makeRootSelector(e){return e.getStateGetter(o.name)},children:[]};We(t,M,{value:o})}return L(t)}function L(t){return t[M]}function Qe(t){return K(t,be)||We(t,be,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),we(t)}function we(t){return t[be]}function wt(t,o,e){if(o===null||e===null||o.length!==e.length)return!1;let n=o.length;for(let r=0;r<n;r++)if(!t(o[r],e[r]))return!1;return!0}function q(t,o=Object.is){let e=null,n=null;function r(){return wt(o,e,arguments)||(n=t.apply(null,arguments)),e=arguments,n}return r.reset=function(){e=null,n=null},r}var Dt=(()=>{class t{static _value={};static set(e){this._value=e}static pop(){let e=this._value;return this._value={},e}}return t})(),De=new v("",{providedIn:"root",factory:()=>Dt.pop()}),Oe=(()=>{class t extends de{constructor(){super(!1),u(E).onDestroy(()=>this.complete())}bootstrap(){this.next(!0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Je(t){let o=[],e=!1;return function(...r){if(e){o.unshift(r);return}for(e=!0,t(...r);o.length>0;){let s=o.pop();s&&t(...s)}e=!1}}var Z=class extends R{_orderedNext=Je(o=>super.next(o));next(o){this._orderedNext(o)}},Me=class extends de{_orderedNext=Je(o=>super.next(o));_currentValue;constructor(o){super(o),this._currentValue=o}getValue(){return this._currentValue}next(o){this._currentValue=o,this._orderedNext(o)}};function Ne(t){return o=>new N(e=>o.subscribe({next(n){t(()=>e.next(n))},error(n){t(()=>e.error(n))},complete(){t(()=>e.complete())}}))}var W=(()=>{class t extends Me{state=Ke(this.pipe(Ne(Ie)),{manualCleanup:!0,requireSync:!0});constructor(){super({}),u(E).onDestroy(()=>this.complete())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),et=(()=>{class t{_actionTypeToHandlersMap=new Map;constructor(){u(E).onDestroy(()=>this._actionTypeToHandlersMap.clear())}get(e){return this._actionTypeToHandlersMap.get(e)}register(e,n){let r=this._actionTypeToHandlersMap.get(e)??new Set;return r.add(n),this._actionTypeToHandlersMap.set(e,r),()=>{this._actionTypeToHandlersMap.get(e).delete(n)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tt=(()=>{class t{static type="@@INIT"}return t})(),nt=(()=>{class t{addedStates;static type="@@UPDATE_STATE";constructor(e){this.addedStates=e}}return t})(),rt=new v("");function Q(t){return t.constructor?.type||t.type}var Re=(t,o,e)=>{t=l({},t);let n=o.split("."),r=n.length-1;return n.reduce((s,a,i)=>(i===r?s[a]=e:s[a]=Array.isArray(s[a])?s[a].slice():l({},s[a]),s?.[a]),t),t},J=(t,o)=>o.split(".").reduce((e,n)=>e?.[n],t);var Pn=Array.isArray,Ot=t=>typeof t=="function",ot=Ot;var Nt=(()=>{class t{plugins=[];_parentManager=u(t,{optional:!0,skipSelf:!0});_pluginHandlers=u(rt,{optional:!0});constructor(){this.registerHandlers()}get _rootPlugins(){return this._parentManager?.plugins||this.plugins}registerHandlers(){let e=this.getPluginHandlers();this._rootPlugins.push(...e)}getPluginHandlers(){return(this._pluginHandlers||[]).map(n=>n.handle?n.handle.bind(n):n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B(t){return Ne(o=>t.leave(o))}var Pe=new WeakMap,st=!1;function Rt(){if(st)return;let t=ue.onUnhandledError;ue.onUnhandledError=function(o){let e=Pe.get(o);if(e)e();else if(t)t.call(this,o);else throw o},st=!0}function Ct(t){let o=Pe.get(t);return o?(o(),!0):!1}function Pt(t,o){if(t&&typeof t=="object"){let e=!1;Pe.set(t,()=>{e||(e=!0,o())})}return t}function xt(t){return o=>{let e=o.subscribe({error:n=>{t.runOutsideAngular(()=>{queueMicrotask(()=>{e&&Ct(n)})})}});return new N(n=>(e?.unsubscribe(),e=null,o.subscribe(n)))}}var pt=(()=>{class t extends R{constructor(){super(),u(E).onDestroy(()=>this.complete())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xe=(()=>{class t{_ngZone=u(P);enter(e){return this._runOutsideAngular(e)}leave(e){return this._runInsideAngular(e)}_runInsideAngular(e){return P.isInAngularZone()?e():this._ngZone.run(e)}_runOutsideAngular(e){return P.isInAngularZone()?this._ngZone.runOutsideAngular(e):e()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),I=(function(t){return t.Dispatched="DISPATCHED",t.Successful="SUCCESSFUL",t.Canceled="CANCELED",t.Errored="ERRORED",t})(I||{}),ee=(()=>{class t extends Z{dispatched$=new R;constructor(){super(),this.subscribe(n=>{n.status===I.Dispatched&&this.dispatched$.next(n)}),u(E).onDestroy(()=>{this.complete(),this.dispatched$.complete()})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ke=(()=>{class t extends N{constructor(){let e=u(ee),n=u(xe),r=new R;e.pipe(B(n)).subscribe(r),super(s=>{let a=r.subscribe({next:i=>s.next(i),error:i=>s.error(i),complete:()=>s.complete()});s.add(a)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kt=(()=>{class t{_ngZone=u(P);_actions=u(ee);_actionResults=u(pt);_pluginManager=u(Nt);_stateStream=u(W);_ngxsExecutionStrategy=u(xe);_injector=u(X);dispatch(e){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(e)).pipe(xt(this._ngZone),B(this._ngxsExecutionStrategy))}dispatchByEvents(e){return Array.isArray(e)?e.length===0?O(void 0):fe(e.map(n=>this.dispatchSingle(n))).pipe(A(()=>{})):this.dispatchSingle(e)}dispatchSingle(e){let n=this._stateStream.getValue(),r=this._pluginManager.plugins;return ft(this._injector,[...r,(s,a)=>{s!==n&&this._stateStream.next(s);let i=this.getActionResultStream(a);return i.subscribe(c=>this._actions.next(c)),this._actions.next({action:a,status:I.Dispatched}),this.createDispatchObservable(i)}])(n,e).pipe(U())}getActionResultStream(e){return this._actionResults.pipe(V(n=>n.action===e&&n.status!==I.Dispatched),C(1),U())}createDispatchObservable(e){return e.pipe(_(n=>{switch(n.status){case I.Successful:return O(this._stateStream.getValue());case I.Errored:throw n.error;default:return le}}),U())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ft=(t,o)=>(...e)=>{let n=o.shift();return Xe(t,()=>n(...e,(...r)=>ft(t,o)(...r)))},mt=new v(""),Ft=new v(""),ht=new v(""),G=(()=>{class t{developmentMode;compatibility={strictContentSecurityPolicy:!1};selectorOptions={injectContainerState:!1,suppressErrors:!1};static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:()=>(()=>{let e=new t,n=u(ht);return j(l(l({},e),n),{selectorOptions:l(l({},e.selectorOptions),n.selectorOptions)})})(),providedIn:"root"})}return t})(),Ce=class{previousValue;currentValue;firstChange;constructor(o,e,n){this.previousValue=o,this.currentValue=e,this.firstChange=n}};var Y=(()=>{class t{_stateStream=u(W);_dispatcher=u(kt);_config=u(G);getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:n=>this._stateStream.next(n),dispatch:n=>this._dispatcher.dispatch(n)}}setStateToTheCurrentWithNew(e){let n=this.getRootStateOperations(),r=n.getState();n.setState(l(l({},r),e.defaults))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jt(t,o,e){return n=>{let{argumentSelectorFunctions:r,selectorOptions:s}=Lt(n,t,o),{suppressErrors:a}=s;return function(c){let d=r.map(p=>p(c));try{return e(...d)}catch(p){if(a&&p instanceof TypeError)return;throw p}}}}function Ut(t,o){let e=o?.containerClass,r=q(function(){let a=t.apply(e,arguments);return typeof a=="function"?q.apply(null,[a]):a});return Object.setPrototypeOf(r,t),r}function Lt(t,o,e=[]){let n=o.getSelectorOptions(),r=t.getSelectorOptions(n),a=Bt(e,r,o.containerClass).map(i=>gt(i)(t));return{selectorOptions:r,argumentSelectorFunctions:a}}function Bt(t=[],o,e){let n=[],r=o.injectContainerState||t.length===0;return e&&r&&L(e)&&n.push(e),n.push(...t),n}function gt(t){return(we(t)||L(t))?.makeRootSelector||(()=>t)}function Gt(t){return o=>{for(let e=0;e<t.length;e++){if(!o)return;o=o[t[e]]}return o}}function Yt(t){let o=t,e="store."+o[0],n=0,r=o.length,s=e;for(;++n<r;)s=s+" && "+(e=e+"."+o[n]);return new Function("store","return "+s+";")}var $t=new v("",{providedIn:"root",factory:()=>u(G).compatibility?.strictContentSecurityPolicy?Gt:Yt});function Ht(t){let o=e=>t.find(r=>r===e)[M].name;return t.reduce((e,n)=>{let r=n[M];return e[r.name]=(r.children||[]).map(o),e},{})}function Vt(t){return t.reduce((o,e)=>{let n=e[M];return o[n.name]=e,o},{})}function Xt(t,o={}){let e=(n,r)=>{for(let s in n)if(n[s]?.includes(r)){let a=e(n,s);return a?`${a}.${s}`:s}return null};for(let n in t){let r=e(t,n);o[n]=r?`${r}.${n}`:n}return o}function zt(t){let o=[],e={},n=(r,s=[])=>{e[r]=!0,s.push(r);for(let a of t[r])e[a]||n(a,s.slice());o.includes(r)||o.push(r)};for(let r in t)n(r);return o.reverse()}var Zt=(()=>{class t{_ngZone=u(P);_errorHandler=u(ze);handleError(e,n){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $(...t){return Kt(t,[I.Dispatched])}function Kt(t,o,e=Wt){let n=Qt(t),r=o&&Jt(o);return function(s){return s.pipe(qt(n,r),e())}}function qt(t,o){return V(e=>{let n=Q(e.action),r=t[n],s=o?o[e.status]:!0;return r&&s})}function Wt(){return A(t=>t.action)}function Qt(t){return t.reduce((o,e)=>(o[Q(e)]=!0,o),{})}function Jt(t){return t.reduce((o,e)=>(o[e]=!0,o),{})}function en(t){return o=>{let e=l({},o);for(let n in t)e[n]=t[n];return e}}var St=(()=>{class t{_internalStateOperations=u(Y);createStateContext(e){let n=this._internalStateOperations.getRootStateOperations();return{getState(){let r=n.getState();return vt(r,e)},patchState(r){let s=n.getState(),a=en(r);at(n,s,a,e)},setState(r){let s=n.getState();ot(r)?at(n,s,r,e):yt(n,s,r,e)},dispatch(r){return n.dispatch(r)}}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yt(t,o,e,n){let r=Re(o,n,e);return t.setState(r),r}function at(t,o,e,n){let r=vt(o,n),s=e(r);return yt(t,o,s,n)}function vt(t,o){return J(t,o)}var tn=(()=>{class t{_actions=u(ee);_stateContextFactory=u(St);createActionHandler(e,n,r){let{dispatched$:s}=this._actions;return a=>{let i=this._stateContextFactory.createStateContext(e),c=n(i,a);if(Te(c)&&(c=je(c)),pe(c)){if(c=c.pipe(_(d=>Te(d)||pe(d)?d:O(d)),ge(void 0)),r.cancelUncompleted){let d=s.pipe($(a));c=c.pipe($e(d))}c=c.pipe(Be(()=>{if(0)var d;else i.setState=it,i.patchState=it}))}else c=O(void 0);return c}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function it(){}function nn(t){let o=t===void 0?{}:t;return t&&(Array.isArray(t)?o=t.slice():typeof t=="object"&&(o=l({},t))),o}var Fe=(()=>{class t{_injector=u(X);_config=u(G);_actionHandlerFactory=u(tn);_actions=u(ee);_actionResults=u(pt);_initialState=u(De,{optional:!0});_actionRegistry=u(et);_propGetter=u($t);_actionsSubscription=null;_ngxsUnhandledErrorHandler=null;_states=[];_statesByName={};_statePaths={};getRuntimeSelectorContext=q(()=>{let e=this,n=e._propGetter;function r(a){let i=e._statePaths[a];return i?n(i.split(".")):null}return{getStateGetter(a){let i=r(a);return i||((...c)=>(i||(i=r(a)),i?i(...c):void 0))},getSelectorOptions(a){let i=e._config.selectorOptions;return l(l({},i),a||{})}}});constructor(){u(E).onDestroy(()=>this._actionsSubscription?.unsubscribe())}add(e){let{newStates:n}=this.addToStatesMap(e);if(!n.length)return[];let r=Ht(n),s=zt(r),a=Xt(r),i=Vt(n),c=[];for(let d of s){let p=i[d],S=a[d],T=p[M];this.addRuntimeInfoToMeta(T,S);let y={name:d,path:S,isInitialised:!1,actions:T.actions,instance:u(p),defaults:nn(T.defaults)};this.hasBeenMountedAndBootstrapped(d,S)||c.push(y),this._states.push(y),this.hydrateActionMetasMap(y)}return c}addAndReturnDefaults(e){let n=e||[],r=this.add(n);return{defaults:r.reduce((a,i)=>Re(a,i.path,i.defaults),{}),states:r}}connectActionHandlers(){this._actionsSubscription=this._actions.pipe(V(e=>e.status===I.Dispatched),_(e=>{let n=e.action;return this.invokeActions(n).pipe(A(()=>({action:n,status:I.Successful})),ge({action:n,status:I.Canceled}),he(r=>{let s=this._ngxsUnhandledErrorHandler||=this._injector.get(Zt),a=Pt(r,()=>s.handleError(r,{action:n}));return O({action:n,status:I.Errored,error:a})}))})).subscribe(e=>this._actionResults.next(e))}invokeActions(e){let n=Q(e),r=[],s=!1,a=this._actionRegistry.get(n);if(a)for(let i of a){let c;try{c=i(e)}catch(d){c=new N(p=>p.error(d))}r.push(c),s=!0}return r.length||r.push(O(void 0)),fe(r)}addToStatesMap(e){let n=[],r=this._statesByName;for(let s of e){let a=L(s).name;!r[a]&&(n.push(s),r[a]=s)}return{newStates:n}}addRuntimeInfoToMeta(e,n){this._statePaths[e.name]=n,e.path=n}hasBeenMountedAndBootstrapped(e,n){let r=J(this._initialState,n)!==void 0;return this._statesByName[e]&&r}hydrateActionMetasMap({path:e,actions:n,instance:r}){for(let s of Object.keys(n)){let a=n[s].map(i=>{let c=(d,p)=>r[i.fn](d,p);return this._actionHandlerFactory.createActionHandler(e,c,i.options)});for(let i of a)this._actionRegistry.register(s,i)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x=(()=>{class t{_stateStream=u(W);_internalStateOperations=u(Y);_config=u(G);_internalExecutionStrategy=u(xe);_stateFactory=u(Fe);_selectableStateStream=this._stateStream.pipe(B(this._internalExecutionStrategy),U({bufferSize:1,refCount:!0}));constructor(){this.initStateStream()}dispatch(e){return this._internalStateOperations.getRootStateOperations().dispatch(e)}select(e){let n=this.getStoreBoundSelectorFn(e);return this._selectableStateStream.pipe(A(n),he(r=>{if(this._config.selectorOptions.suppressErrors&&r instanceof TypeError)return O(void 0);throw r}),Le(),B(this._internalExecutionStrategy))}selectOnce(e){return this.select(e).pipe(C(1))}selectSnapshot(e){return this.getStoreBoundSelectorFn(e)(this._stateStream.getValue())}selectSignal(e){let n=this.getStoreBoundSelectorFn(e);return z(()=>n(this._stateStream.state()))}subscribe(e){return this._selectableStateStream.pipe(B(this._internalExecutionStrategy)).subscribe(e)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(e){this._internalStateOperations.getRootStateOperations().setState(e)}getStoreBoundSelectorFn(e){let n=gt(e),r=this._stateFactory.getRuntimeSelectorContext();return n(r)}initStateStream(){let e=u(De),n=this._stateStream.value;(!n||Object.keys(n).length===0)&&this._stateStream.next(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rn=new v("");var on=(()=>{class t{static store=null;static config=null;constructor(e,n){t.store=e,t.config=n,u(E).onDestroy(()=>{t.store=null,t.config=null})}static \u0275fac=function(n){return new(n||t)(ye(x),ye(G))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Et=(()=>{class t{_store=u(x);_internalStateOperations=u(Y);_stateContextFactory=u(St);_appBootstrappedState=u(Oe);_initStateHasBeenDispatched;ngxsBootstrap(e,n){this._internalStateOperations.getRootStateOperations().dispatch(e).pipe(_(()=>n?(this._invokeInitOnStates(n.states),this._appBootstrappedState):le)).subscribe(r=>{r&&this._invokeBootstrapOnStates(n.states)})}_invokeInitOnStates(e){for(let n of e){let r=n.instance;if(r.ngxsOnChanges){let s;this._store.select(a=>J(a,n.path)).pipe(Ye(void 0),Ge(1)).subscribe(a=>{let i=new Ce(s,a,!n.isInitialised);s=a,r.ngxsOnChanges(i)})}r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(n)),n.isInitialised=!0}}_invokeBootstrapOnStates(e){for(let n of e){let r=n.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(n))}}_getStateContext(e){return this._stateContextFactory.createStateContext(e.path)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sn(){Rt(),(u(rn,{optional:!0})||[]).forEach(a=>a());let o=u(Fe),e=u(Y);u(x),u(on);let n=u(mt,{optional:!0})||[],r=u(Et),s=o.addAndReturnDefaults(n);e.setStateToTheCurrentWithNew(s),o.connectActionHandlers(),r.ngxsBootstrap(new tt,s)}function an(){u(x);let t=u(Y),o=u(Fe),e=u(Ft,{optional:!0})||[],n=u(Et),r=e.reduce((a,i)=>a.concat(i),[]),s=o.addAndReturnDefaults(r);s.states.length&&(t.setStateToTheCurrentWithNew(s),n.ngxsBootstrap(new nt(s.defaults),s))}var ct=new v(""),ut=new v(""),cn=[{provide:ct,useFactory:sn},ve(()=>u(ct))],er=[{provide:ut,useFactory:an},ve(()=>u(ut))];function un(t,o){return[...t,{provide:mt,useValue:t},{provide:Ze,useFactory:()=>{let e=u(Oe);return()=>e.bootstrap()},multi:!0},{provide:ht,useValue:o}]}function k(t,o){return(e,n,r)=>{let s=_e(e.constructor),a=Array.isArray(t)?t:[t];for(let i of a){let c=i.type;s.actions[c]||(s.actions[c]=[]),s.actions[c].push({fn:n,options:o||{},type:c})}}}function Tt(t){return o=>{let e=o,n=Object.getPrototypeOf(e),r=_e(e),s=l(l({},n[Ae]||{}),t);dn(r,n,s),e[Ae]=s}}function dn(t,o,e){let{name:n,defaults:r,children:s}=e,a=typeof n=="string"?n:n?.getName?.()||null;if(K(o,M)){let i=o[M]||{};t.actions=l(l({},t.actions),i.actions)}t.name=a,t.defaults=r,t.children=s}var dt="NGXS_SELECTOR_OPTIONS_META",lt={getOptions:t=>t?.[dt]||{},defineOptions:(t,o)=>{t&&(t[dt]=o)}};function ln(t,o){let e=Qe(t);e.originalFn=t;let n=()=>({});o&&(e.containerClass=o.containerClass,e.selectorName=o.selectorName||null,n=o.getSelectorOptions||n);let r=l({},e);return e.getSelectorOptions=()=>pn(r,n()),e}function pn(t,o){return l(l(l(l({},lt.getOptions(t.containerClass)||{}),lt.getOptions(t.originalFn)||{}),t.getSelectorOptions()||{}),o)}function fn(t,o,e){let n=Ut(o,e),r=ln(o,e);return r.makeRootSelector=jt(r,t,n),n}function te(t){return(o,e,n)=>{n||=Object.getOwnPropertyDescriptor(o,e);let r=n?.value,s=fn(t,r,{containerClass:o,selectorName:e.toString(),getSelectorOptions(){return{}}});return{configurable:!0,get(){return s},originalFn:r}}}function tr(t=[],...o){let e=[],n={};return o.length>0&&(mn(o[0])?e.push(...o):(n=o[0],e.push(...o.slice(1)))),Ve([...un(t,n),cn,e])}function mn(t){return!!t.\u0275providers}var f={ITERATIONS:{DEEP_NESTED:1e3,ARRAY_UPDATES:1e3,COMPUTED:500,BATCH_UPDATES:100,BATCH_SIZE:1e3,SELECTOR:1e3,MEMORY_EFFICIENCY:1e3,REAL_TIME_UPDATES:500,DATA_FETCHING:1e3,ASYNC_WORKFLOW:50,STATE_SIZE_SCALING:200,SUBSCRIBER_SCALING:1e3},YIELD_FREQUENCY:{DEEP_NESTED:1023,COMPUTED:1023,ARRAY_UPDATES:255,SELECTOR:63,MEMORY_EFFICIENCY:63,BATCH_UPDATES:7,REAL_TIME_UPDATES:31,STATE_SIZE_SCALING:31,DATA_FETCHING:15,ASYNC_WORKFLOW:7,SUBSCRIBER_SCALING:31},DATA_SIZE_LIMITS:{LARGE_DATASET:{MULTIPLIER:10,MAX:1e4},MEMORY_TEST:{MULTIPLIER:10,MAX:2e3},USER_SIMULATION:{MAX:1e3,MIN:100},ENTITY_COUNT:{MIN:1e3,MAX:5e4}},DATA_GENERATION:{FACTOR_COUNT:50,NESTED_DEPTH:15,CATEGORY_COUNT:10,TAG_COUNT:5,NOTIFICATION_LIMIT:10,ARRAY_SIZE_100:100},TIMING:{YIELD_DELAY_MS:0,ASYNC_DELAY_MS:10,RANDOM_DELAY_MAX_MS:20,TIMEOUT_DELAY_MS:5}};function It(){function t(o){if(typeof f.TIMING.YIELD_DELAY_MS=="number"&&f.TIMING.YIELD_DELAY_MS>0){setTimeout(o,f.TIMING.YIELD_DELAY_MS);return}let e=window.requestIdleCallback;if(typeof e=="function"){e(()=>o(),{timeout:50});return}if(typeof queueMicrotask=="function"){queueMicrotask(o);return}if(typeof MessageChannel<"u"){let n=new MessageChannel;n.port1.onmessage=()=>o(),n.port2.postMessage(0);return}setTimeout(o,0)}return function(){return new Promise(e=>t(e))}}var w=class{constructor(o,e){this.path=o;this.value=e}static type="[Benchmark] Update Deep Nested"},D=class{constructor(o,e){this.index=o;this.value=e}static type="[Benchmark] Update Array"},F=class{constructor(o){this.input=o}static type="[Benchmark] Compute Values"},H=class{constructor(o){this.updates=o}static type="[Benchmark] Batch Update"},ne=class{static type="[Benchmark] Serialize State"},re=class{constructor(o){this.id=o}static type="[Async] Trigger"},oe=class{constructor(o){this.id=o}static type="[Async] Complete"},se=class{constructor(o){this.id=o}static type="[Task] Start"},ae=class{constructor(o){this.id=o}static type="[Task] Cancel"},ie=class{constructor(o){this.id=o}static type="[Task] Complete"},h=class{static getDeepNested(o){return o.deepNested}runSingleMiddlewareBenchmark(o){return g(this,null,function*(){class e{handle(c,d,p){let S=typeof d=="object";return p(c,d)}}let n=new e,r=i=>i,s=performance.now(),a={counter:0};for(let i=0;i<o;i++)a=n.handle(a,{type:"[Test] Increment"},r);return performance.now()-s})}runMultipleMiddlewareBenchmark(o,e){return g(this,null,function*(){class n{handle(d,p,S){let T=0;for(let y=0;y<10;y++)T+=y;return S(d,p)}}let r=[];for(let c=0;c<o;c++)r.push(new n);let s=(c,d)=>{let p=c;for(let S of r){let T=y=>y;p=S.handle(p,d,T)}return p},a=performance.now(),i={counter:0};for(let c=0;c<e;c++)i=s(i,{type:"[Test] Increment",payload:c});return performance.now()-a})}runConditionalMiddlewareBenchmark(o){return g(this,null,function*(){class e{handle(c,d,p){let S=d;if(S.type==="[Test] Increment"&&S.payload!==void 0&&S.payload%2===0){let T=0;for(let y=0;y<20;y++)T+=y}return p(c,d)}}let n=new e,r=i=>i,s=performance.now(),a={counter:0};for(let i=0;i<o;i++){let c=i%2===0?"[Test] Increment":"[Test] Other";a=n.handle(a,{type:c,payload:i},r)}return performance.now()-s})}static getLargeArray(o){return o.largeArray}static getComputedResult(o){let{base:e,factors:n}=o.computedValues;return n.length===0?e:n.reduce((r,s)=>r*s+e,e)}updateDeepNested(o,e){let n=o.getState(),r=l({},n.deepNested),s=r;for(let a=0;a<e.path.length-1;a++){let i=e.path[a];s[i]||(s[i]={}),s[i]=l({},s[i]),s=s[i]}s[e.path[e.path.length-1]]=e.value,o.patchState({deepNested:r})}updateArray(o,e){let r=[...o.getState().largeArray];if(e.index>=r.length)for(;r.length<=e.index;)r.push({id:0,value:0});r[e.index]=e.value,o.patchState({largeArray:r})}computeValues(o,e){let n=Array.from({length:50},(r,s)=>Math.sin(e.input+s)*Math.cos(e.input*s));o.patchState({computedValues:{base:e.input,factors:n,result:n.reduce((r,s)=>r*s+e.input,e.input)}})}batchUpdate(o,e){let n=e.updates.reduce((r,s)=>(r[s.key]=s.value,r),{});o.patchState({batchData:l(l({},o.getState().batchData),n)})}serializeState(o){let e=o.getState(),n=JSON.stringify(e);o.patchState({serializedData:n})}};ce(h,"\u0275fac",function(e){return new(e||h)}),ce(h,"\u0275prov",m({token:h,factory:h.\u0275fac})),b([k(w)],h.prototype,"updateDeepNested",1),b([k(D)],h.prototype,"updateArray",1),b([k(F)],h.prototype,"computeValues",1),b([k(H)],h.prototype,"batchUpdate",1),b([k(ne)],h.prototype,"serializeState",1),b([te()],h,"getDeepNested",1),b([te()],h,"getLargeArray",1),b([te()],h,"getComputedResult",1),h=b([Tt({name:"benchmark",defaults:{deepNested:{},largeArray:[],computedValues:{base:0,factors:[]},batchData:{}}})],h);var bt=class t{store=u(x);yieldToUI=It();runColdStartBenchmark(){return g(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}runDeepNestedBenchmark(n){return g(this,arguments,function*(o,e=f.DATA_GENERATION.NESTED_DEPTH){let r=performance.now(),s=[];for(let a=0;a<Math.min(o,f.ITERATIONS.DEEP_NESTED);a++){let i=Array.from({length:e},(d,p)=>`level${p}_${a%10}`),c=this.store.dispatch(new w(i,Math.random()*100)).toPromise();s.push(c),(a&f.YIELD_FREQUENCY.DEEP_NESTED)===0&&(yield Promise.all(s.splice(0)))}return yield Promise.all(s),performance.now()-r})}runArrayBenchmark(o){return g(this,null,function*(){let e=performance.now(),n=Math.min(f.ITERATIONS.ARRAY_UPDATES,o),r=[];for(let s=0;s<n;s++){let a=s%o,i={id:s,value:Math.random()*1e3,timestamp:Date.now()},c=this.store.dispatch(new D(a,i)).toPromise();r.push(c),(s&f.YIELD_FREQUENCY.ARRAY_UPDATES)===0&&(yield Promise.all(r.splice(0)))}return yield Promise.all(r),performance.now()-e})}runComputedBenchmark(o){return g(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<Math.min(o,f.ITERATIONS.COMPUTED);r++)n.push(this.store.dispatch(new F(r)).toPromise()),this.store.selectOnce(h.getComputedResult).subscribe(),(r&f.YIELD_FREQUENCY.COMPUTED)===0&&(yield Promise.all(n.splice(0)));return yield Promise.all(n),performance.now()-e})}runBatchUpdatesBenchmark(){return g(this,arguments,function*(o=f.ITERATIONS.BATCH_UPDATES,e=f.ITERATIONS.BATCH_SIZE){let n=performance.now(),r=[];for(let s=0;s<o;s++){let a=Array.from({length:e},(i,c)=>({key:`batch${s}_item${c}`,value:Math.random()*100}));r.push(this.store.dispatch(new H(a)).toPromise()),(s&f.YIELD_FREQUENCY.BATCH_UPDATES)===0&&(yield Promise.all(r.splice(0)))}return yield Promise.all(r),performance.now()-n})}runSelectorBenchmark(o){return g(this,null,function*(){let e=Array.from({length:o},(r,s)=>({id:s,value:Math.random()*100,flag:s%2===0,metadata:{category:s%5,priority:s%3}}));for(let r of e)yield this.store.dispatch(new D(r.id,r)).toPromise();let n=performance.now();for(let r=0;r<f.ITERATIONS.SELECTOR;r++)if(this.store.selectOnce(h.getLargeArray).subscribe(),this.store.selectOnce(h.getComputedResult).subscribe(),this.store.selectOnce(h.getDeepNested).subscribe(),(r&f.YIELD_FREQUENCY.SELECTOR)===0){let s=r%o,a=e[s];if(a){let i=j(l({},a),{flag:!a.flag});yield this.store.dispatch(new D(s,i)).toPromise(),e[s]=i}}return performance.now()-n})}runSerializationBenchmark(o){return g(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<Math.min(o/100,f.ITERATIONS.BATCH_UPDATES);r++)n.push(this.store.dispatch(new F(r)).toPromise()),n.push(this.store.dispatch(new D(r,{id:r,value:r,data:`item_${r}`})).toPromise());return yield Promise.all(n),yield this.store.dispatch(new ne).toPromise(),performance.now()-e})}runConcurrentUpdatesBenchmark(o){return g(this,null,function*(){let e=performance.now(),n=200;for(let r=0;r<n;r++){let s=[];for(let a=0;a<10;a++){let c=[`item${(r*10+a)%o}`],d=Math.random()*1e3,p=this.store.dispatch(new w(c,d)).toPromise();s.push(p)}yield Promise.all(s)}return performance.now()-e})}runMemoryEfficiencyBenchmark(o){return g(this,null,function*(){let e=performance.now();for(let n=0;n<Math.min(o,f.ITERATIONS.MEMORY_EFFICIENCY);n++){let r=["memory_test",`item_${n}`];this.store.dispatch(new w(r,{id:n,data:new Array(f.DATA_GENERATION.ARRAY_SIZE_100).fill(0).map(()=>Math.random()),metadata:{created:Date.now(),index:n}}))}return performance.now()-e})}runDataFetchingBenchmark(o){return g(this,null,function*(){let e=performance.now(),n=Array.from({length:Math.min(o,f.ITERATIONS.DATA_FETCHING)},(r,s)=>({id:s,name:`Item ${s}`,category:`Category ${s%f.DATA_GENERATION.CATEGORY_COUNT}`,price:Math.random()*100,inStock:Math.random()>.5,value:s,metadata:{created:new Date(Date.now()-Math.random()*1e9).toISOString(),tags:[`tag${s%f.DATA_GENERATION.TAG_COUNT}`,`category${s%3}`]}}));for(let r=0;r<n.length;r++)this.store.dispatch(new D(r,n[r]));return performance.now()-e})}runRealTimeUpdatesBenchmark(o){return g(this,null,function*(){let e=performance.now(),n=Math.min(o,f.ITERATIONS.REAL_TIME_UPDATES);for(let r=0;r<n;r++)switch(r%4){case 0:this.store.dispatch(new w(["live_metrics","current"],{timestamp:Date.now(),value:Math.random()*100}));break;case 1:this.store.dispatch(new D(r%50,{id:r,value:r,userId:`user_${r}`,status:Math.random()>.5?"online":"offline",lastSeen:Date.now()}));break;case 2:this.store.dispatch(new w(["chat","messages",r.toString()],{id:r,message:`Message ${r}`,timestamp:Date.now()}));break;case 3:this.store.dispatch(new H([{key:`notification_${r}`,value:{type:"info",message:`Update ${r}`,read:!1}}]));break}return performance.now()-e})}runStateSizeScalingBenchmark(o){return g(this,null,function*(){let e=performance.now(),n=Math.min(o*f.DATA_SIZE_LIMITS.LARGE_DATASET.MULTIPLIER,f.DATA_SIZE_LIMITS.MEMORY_TEST.MAX);for(let r=0;r<n;r++){let s={id:r,type:`EntityType${r%10}`,properties:{name:`Entity ${r}`,category:`Cat_${r%20}`,value:Math.random()*1e3,active:Math.random()>.3},relationships:Array.from({length:Math.min(5,r%10)},(a,i)=>({targetId:Math.floor(Math.random()*Math.max(1,r)),type:`relation_${i}`,strength:Math.random()})),metadata:{created:Date.now(),version:1,tags:Array.from({length:r%5+1},(a,i)=>`tag_${i}_${r%3}`)}};this.store.dispatch(new w(["entities",r.toString()],s))}return performance.now()-e})}runAsyncWorkflowBenchmark(o){return g(this,null,function*(){let e=u(ke),n=Math.min(o,f.ITERATIONS.ASYNC_WORKFLOW||1e3),r=e.pipe($(re),_(c=>me(0).pipe(A(()=>new oe(c.id)),C(1)))),s=0,a=new Promise(c=>{r.subscribe(d=>{d instanceof oe&&(s++,s>=n&&c())})}),i=performance.now();for(let c=0;c<n;c++)this.store.dispatch(new re(c));return yield a,performance.now()-i})}runAsyncCancellationBenchmark(o){return g(this,null,function*(){let e=u(ke),n=new Set,r=e.pipe($(se),_(c=>{let d=e.pipe($(ae),He(p=>{p.id===c.id&&n.add(c.id)}));return Ue(me(10).pipe(A(()=>new ie(c.id))),d.pipe(C(1),_(()=>[])))})),s=0,a=new Promise(c=>{r.subscribe(d=>{d instanceof ie&&(s++,s+n.size>=o&&c())})}),i=performance.now();for(let c=0;c<o;c++)this.store.dispatch(new se(c));for(let c=0;c<Math.floor(o/2);c++)this.store.dispatch(new ae(c));return yield a,performance.now()-i})}runSubscriberScalingBenchmark(o){return g(this,null,function*(){let e=[];for(let s=0;s<o;s++){let a=this.store.select(h.getComputedResult).pipe(A(i=>i*(s+1)+Math.sin(i*.1)));e.push(a)}let n=performance.now(),r=Math.min(1e3,1e3);for(let s=0;s<r;s++){this.store.dispatch(new F(s));for(let a of e){let i;a.subscribe(c=>{i=c}).unsubscribe()}}return performance.now()-n})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})};export{tr as a,f as b,It as c,h as d,bt as e};
