import{a as E}from"./chunk-YLLVD5TM.js";import{$a as g,Hb as l,Ib as n,Jb as v,Kb as s,Na as r,Xa as x,_b as c,ia as u,oc as y,pb as p,pc as h,qb as e,rb as t,vc as S,xb as f,zb as b}from"./chunk-STRTG7VY.js";function _(m,o){if(m&1&&(e(0,"div",23)(1,"span",12),n(2),t(),e(3,"span",11),n(4),t()()),m&2){let a=o.$implicit;r(2),v(a.operation),r(2),s("",a.duration.toFixed(3),"ms")}}function D(m,o){m&1&&(e(0,"div",24),n(1," No operations recorded yet "),t())}function C(m,o){if(m&1&&(e(0,"li",27)(1,"span",28),n(2,"\u2022"),t(),e(3,"span"),n(4),t()()),m&2){let a=o.$implicit;r(4),v(a)}}function I(m,o){if(m&1&&(e(0,"div",25)(1,"h3",8),n(2," \u{1F3AF} Recommendations "),t(),e(3,"ul",9),g(4,C,5,1,"li",26),t()()),m&2){let a=b();r(4),p("ngForOf",a.recommendations())}}var M=class m{updateInterval;performanceMonitor=u(E);score=c(()=>this.performanceMonitor.getPerformanceScore());metrics=c(()=>this.performanceMonitor.getMetrics());summary=c(()=>this.performanceMonitor.generateReport().summary);recommendations=c(()=>this.performanceMonitor.generateReport().recommendations);recentOperations=c(()=>this.metrics().signalTree.operations.slice(-10).reverse());ngOnInit(){this.updateInterval=window.setInterval(()=>{this.performanceMonitor.updateMemoryUsage()},2e3),this.performanceMonitor.recordUserInteraction("navigation",performance.now())}ngOnDestroy(){this.updateInterval&&clearInterval(this.updateInterval)}getScoreClass(o){return o>=80?"score-excellent":o>=60?"score-good":"score-poor"}trackOperation(o,a){return a.timestamp.toString()}exportData(){let o=this.performanceMonitor.exportData(),a=new Blob([o],{type:"application/json"}),i=URL.createObjectURL(a),d=document.createElement("a");d.href=i,d.download=`signaltree-performance-${new Date().toISOString().slice(0,19)}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(i)}clearData(){location.reload()}static \u0275fac=function(a){return new(a||m)};static \u0275cmp=x({type:m,selectors:[["app-performance-dashboard"]],decls:84,vars:25,consts:[[1,"performance-dashboard","p-6","bg-gray-50","rounded-lg"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4","mb-6"],[1,"score-card","bg-white","p-4","rounded-lg","shadow-sm"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"metrics-card","bg-white","p-4","rounded-lg","shadow-sm"],[1,"text-lg","font-semibold","mb-3","text-gray-800"],[1,"space-y-2"],[1,"flex","justify-between"],[1,"text-gray-600"],[1,"font-medium"],[1,"operations-log","bg-white","p-4","rounded-lg","shadow-sm","mb-6"],[1,"max-h-48","overflow-y-auto"],[1,"space-y-1"],["class","flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-sm",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-gray-500 text-center py-4",4,"ngIf"],["class","recommendations bg-white p-4 rounded-lg shadow-sm",4,"ngIf"],[1,"export-controls","bg-white","p-4","rounded-lg","shadow-sm","mt-6"],[1,"flex","gap-3"],[1,"px-4","py-2","bg-blue-600","text-white","rounded","hover:bg-blue-700","transition-colors",3,"click"],[1,"px-4","py-2","bg-gray-600","text-white","rounded","hover:bg-gray-700","transition-colors",3,"click"],[1,"flex","justify-between","items-center","py-1","px-2","bg-gray-50","rounded","text-sm"],[1,"text-gray-500","text-center","py-4"],[1,"recommendations","bg-white","p-4","rounded-lg","shadow-sm"],["class","flex items-start gap-2 text-sm",4,"ngFor","ngForOf"],[1,"flex","items-start","gap-2","text-sm"],[1,"text-blue-500","mt-1"]],template:function(a,i){a&1&&(e(0,"div",0)(1,"h2",1),n(2," \u{1F680} Performance Dashboard "),t(),e(3,"div",2)(4,"div",3)(5,"div",4),n(6,"Overall Score"),t(),e(7,"div",5),n(8),t()(),e(9,"div",3)(10,"div",4),n(11,"Operations"),t(),e(12,"div",5),n(13),t()(),e(14,"div",3)(15,"div",4),n(16,"Responsiveness"),t(),e(17,"div",5),n(18),t()(),e(19,"div",3)(20,"div",4),n(21,"Loading"),t(),e(22,"div",5),n(23),t()(),e(24,"div",3)(25,"div",4),n(26,"Memory"),t(),e(27,"div",5),n(28),t()()(),e(29,"div",6)(30,"div",7)(31,"h3",8),n(32," SignalTree Performance "),t(),e(33,"div",9)(34,"div",10)(35,"span",11),n(36,"Total Operations:"),t(),e(37,"span",12),n(38),t()(),e(39,"div",10)(40,"span",11),n(41,"Avg Response Time:"),t(),e(42,"span",12),n(43),t()(),e(44,"div",10)(45,"span",11),n(46,"Memory Usage:"),t(),e(47,"span",12),n(48),t()()()(),e(49,"div",7)(50,"h3",8),n(51," Page Performance "),t(),e(52,"div",9)(53,"div",10)(54,"span",11),n(55,"Page Load Time:"),t(),e(56,"span",12),n(57),t()(),e(58,"div",10)(59,"span",11),n(60,"DOM Ready:"),t(),e(61,"span",12),n(62),t()(),e(63,"div",10)(64,"span",11),n(65,"First Paint:"),t(),e(66,"span",12),n(67),t()()()()(),e(68,"div",13)(69,"h3",8),n(70," Recent Operations "),t(),e(71,"div",14)(72,"div",15),g(73,_,5,2,"div",16)(74,D,2,0,"div",17),t()()(),g(75,I,5,1,"div",18),e(76,"div",19)(77,"h3",8),n(78," Export & Analysis "),t(),e(79,"div",20)(80,"button",21),f("click",function(){return i.exportData()}),n(81," Export Performance Data "),t(),e(82,"button",22),f("click",function(){return i.clearData()}),n(83," Clear Metrics "),t()()()()),a&2&&(r(7),l(i.getScoreClass(i.score().overall)),r(),s(" ",i.score().overall,"/100 "),r(4),l(i.getScoreClass(i.score().operation)),r(),s(" ",i.score().operation,"/100 "),r(4),l(i.getScoreClass(i.score().responsiveness)),r(),s(" ",i.score().responsiveness,"/100 "),r(4),l(i.getScoreClass(i.score().loading)),r(),s(" ",i.score().loading,"/100 "),r(4),l(i.getScoreClass(i.score().memory)),r(),s(" ",i.score().memory,"/100 "),r(10),v(i.summary().totalOperations),r(5),s("",i.summary().averageResponseTime.toFixed(3),"ms"),r(5),s("",i.summary().memoryUsageMB,"MB"),r(9),s("",i.summary().pageLoadTime.toFixed(0),"ms"),r(5),s("",i.metrics().pageLoad.domContentLoaded.toFixed(0),"ms"),r(5),s("",i.metrics().pageLoad.firstContentfulPaint.toFixed(0),"ms"),r(6),p("ngForOf",i.recentOperations())("ngForTrackBy",i.trackOperation),r(),p("ngIf",i.recentOperations().length===0),r(),p("ngIf",i.recommendations().length>0))},dependencies:[S,y,h],styles:[".score-card[_ngcontent-%COMP%]{border-left:4px solid #e5e7eb}.score-excellent[_ngcontent-%COMP%]{color:#16a34a;border-left-color:#16a34a}.score-good[_ngcontent-%COMP%]{color:#ca8a04;border-left-color:#ca8a04}.score-poor[_ngcontent-%COMP%]{color:#dc2626;border-left-color:#dc2626}.performance-dashboard[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};export{M as PerformanceDashboardComponent};
