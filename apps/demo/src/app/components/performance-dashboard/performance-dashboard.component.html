<div class="performance-dashboard">
  <h2 class="dashboard-title">ðŸš€ Performance Dashboard</h2>

  <!-- Performance Score Overview -->
  <div class="score-grid">
    <div class="score-card">
      <div class="score-label">Overall Score</div>
      <div class="score-value" [class]="getScoreClass(score().overall)">
        {{ score().overall }}/100
      </div>
    </div>

    <div class="score-card">
      <div class="score-label">Operations</div>
      <div class="score-value" [class]="getScoreClass(score().operation)">
        {{ score().operation }}/100
      </div>
    </div>

    <div class="score-card">
      <div class="score-label">Responsiveness</div>
      <div class="score-value" [class]="getScoreClass(score().responsiveness)">
        {{ score().responsiveness }}/100
      </div>
    </div>

    <div class="score-card">
      <div class="score-label">Loading</div>
      <div class="score-value" [class]="getScoreClass(score().loading)">
        {{ score().loading }}/100
      </div>
    </div>

    <div class="score-card">
      <div class="score-label">Memory</div>
      <div class="score-value" [class]="getScoreClass(score().memory)">
        {{ score().memory }}/100
      </div>
    </div>
  </div>

  <!-- Real-time Metrics -->
  <div class="metrics-grid">
    <div class="metrics-card">
      <h3 class="card-title">SignalTree Performance</h3>
      <div class="metrics-list">
        <div class="metric-item">
          <span class="metric-label">Total Operations:</span>
          <span class="metric-value">{{ summary().totalOperations }}</span>
        </div>
        <div class="metric-item">
          <span class="metric-label">Avg Response Time:</span>
          <span class="metric-value"
            >{{ summary().averageResponseTime.toFixed(3) }}ms</span
          >
        </div>
        <div class="metric-item">
          <span class="metric-label">Memory Usage:</span>
          <span class="metric-value">{{ summary().memoryUsageMB }}MB</span>
        </div>
      </div>
    </div>

    <div class="metrics-card">
      <h3 class="card-title">Page Performance</h3>
      <div class="metrics-list">
        <div class="metric-item">
          <span class="metric-label">Page Load Time:</span>
          <span class="metric-value"
            >{{ summary().pageLoadTime.toFixed(0) }}ms</span
          >
        </div>
        <div class="metric-item">
          <span class="metric-label">DOM Ready:</span>
          <span class="metric-value"
            >{{ metrics().pageLoad.domContentLoaded.toFixed(0) }}ms</span
          >
        </div>
        <div class="metric-item">
          <span class="metric-label">First Paint:</span>
          <span class="metric-value"
            >{{ metrics().pageLoad.firstContentfulPaint.toFixed(0) }}ms</span
          >
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Operations -->
  <div class="operations-log card">
    <h3 class="card-title">Recent Operations</h3>
    <div class="operations-scroll">
      <div class="operations-list">
        <div
          *ngFor="let op of recentOperations(); trackBy: trackOperation"
          class="operation-item"
        >
          <span class="operation-name">{{ op.operation }}</span>
          <span class="operation-duration">{{ op.duration.toFixed(3) }}ms</span>
        </div>
        <div *ngIf="recentOperations().length === 0" class="empty-state">
          No operations recorded yet
        </div>
      </div>
    </div>
  </div>

  <!-- Recommendations -->
  <div class="recommendations card" *ngIf="recommendations().length > 0">
    <h3 class="card-title">ðŸŽ¯ Recommendations</h3>
    <ul class="recommendations-list">
      <li *ngFor="let rec of recommendations()" class="recommendation-item">
        <span class="bullet">â€¢</span>
        <span>{{ rec }}</span>
      </li>
    </ul>
  </div>

  <!-- Export Controls -->
  <div class="export-controls card">
    <h3 class="card-title">Export & Analysis</h3>
    <div class="button-group">
      <button (click)="exportData()" class="btn-primary">
        Export Performance Data
      </button>
      <button (click)="clearData()" class="btn-secondary">Clear Metrics</button>
    </div>
  </div>
</div>
