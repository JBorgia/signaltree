import{a as g,b as qe}from"./chunk-X4WEGLGO.js";import{$ as He,$b as Y,B as A,D as T,H as fe,I as ge,J as L,K as Ue,L as he,N as me,O as x,Q as $e,R as Ge,X as j,Y as Be,Z as Ve,_b as Me,a as l,aa as Le,b as ie,ba as ye,cb as P,da as f,fb as we,ga as v,h as I,ha as Se,hb as Ze,i as ce,ia as u,ib as Ke,j as m,ja as ze,ka as ve,l as ue,n as N,na as Ye,q as R,r as de,sa as z,t as le,ua as b,va as Xe,w as je,x as D,z as pe,za as be}from"./chunk-6DDIHEJP.js";function We(t,r){let n=!r?.manualCleanup?r?.injector?.get(b)??u(b):null,o=_t(r?.equal),s;r?.requireSync?s=be({kind:0},{equal:o}):s=be({kind:1,value:r?.initialValue},{equal:o});let a,i=t.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{s.set({kind:2,error:c}),a?.()},complete:()=>{a?.()}});if(r?.requireSync&&s().kind===0)throw new ye(601,!1);return a=n?.onDestroy(i.unsubscribe.bind(i)),Y(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new ye(601,!1)}},{equal:r?.equal})}function _t(t=Object.is){return(r,e)=>r.kind===1&&e.kind===1&&t(r.value,e.value)}var E="NGXS_META",Te="NGXS_OPTIONS_META",Ie="NGXS_SELECTOR_META",Dt=Object.prototype.hasOwnProperty,Z=(t,r)=>Dt.call(t,r),Je=Object.defineProperty;function _e(t){if(!Z(t,E)){let r={name:null,actions:{},defaults:{},path:null,makeRootSelector(e){return e.getStateGetter(r.name)},children:[]};Je(t,E,{value:r})}return U(t)}function U(t){return t[E]}function et(t){return Z(t,Ie)||Je(t,Ie,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),De(t)}function De(t){return t[Ie]}function At(t,r,e){if(r===null||e===null||r.length!==e.length)return!1;let n=r.length;for(let o=0;o<n;o++)if(!t(r[o],e[o]))return!1;return!0}function K(t,r=Object.is){let e=null,n=null;function o(){return At(r,e,arguments)||(n=t.apply(null,arguments)),e=arguments,n}return o.reset=function(){e=null,n=null},o}var Ot=(()=>{class t{static _value={};static set(e){this._value=e}static pop(){let e=this._value;return this._value={},e}}return t})(),Ae=new v("",{providedIn:"root",factory:()=>Ot.pop()}),Oe=(()=>{class t extends de{constructor(){super(!1),u(b).onDestroy(()=>this.complete())}bootstrap(){this.next(!0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tt(t){let r=[],e=!1;return function(...o){if(e){r.unshift(o);return}for(e=!0,t(...o);r.length>0;){let s=r.pop();s&&t(...s)}e=!1}}var X=class extends R{_orderedNext=tt(r=>super.next(r));next(r){this._orderedNext(r)}},Ee=class extends de{_orderedNext=tt(r=>super.next(r));_currentValue;constructor(r){super(r),this._currentValue=r}getValue(){return this._currentValue}next(r){this._currentValue=r,this._orderedNext(r)}};function Ne(t){return r=>new N(e=>r.subscribe({next(n){t(()=>e.next(n))},error(n){t(()=>e.error(n))},complete(){t(()=>e.complete())}}))}var q=(()=>{class t extends Ee{state=We(this.pipe(Ne(Me)),{manualCleanup:!0,requireSync:!0});constructor(){super({}),u(b).onDestroy(()=>this.complete())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nt=(()=>{class t{_actionTypeToHandlersMap=new Map;constructor(){u(b).onDestroy(()=>this._actionTypeToHandlersMap.clear())}get(e){return this._actionTypeToHandlersMap.get(e)}register(e,n){let o=this._actionTypeToHandlersMap.get(e)??new Set;return o.add(n),this._actionTypeToHandlersMap.set(e,o),()=>{this._actionTypeToHandlersMap.get(e).delete(n)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rt=(()=>{class t{static type="@@INIT"}return t})(),ot=(()=>{class t{addedStates;static type="@@UPDATE_STATE";constructor(e){this.addedStates=e}}return t})(),st=new v("");function W(t){return t.constructor?.type||t.type}var Re=(t,r,e)=>{t=l({},t);let n=r.split("."),o=n.length-1;return n.reduce((s,a,i)=>(i===o?s[a]=e:s[a]=Array.isArray(s[a])?s[a].slice():l({},s[a]),s?.[a]),t),t},Q=(t,r)=>r.split(".").reduce((e,n)=>e?.[n],t);var Cn=Array.isArray,Nt=t=>typeof t=="function",at=Nt;var Rt=(()=>{class t{plugins=[];_parentManager=u(t,{optional:!0,skipSelf:!0});_pluginHandlers=u(st,{optional:!0});constructor(){this.registerHandlers()}get _rootPlugins(){return this._parentManager?.plugins||this.plugins}registerHandlers(){let e=this.getPluginHandlers();this._rootPlugins.push(...e)}getPluginHandlers(){return(this._pluginHandlers||[]).map(n=>n.handle?n.handle.bind(n):n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $(t){return Ne(r=>t.leave(r))}var Pe=new WeakMap,it=!1;function xt(){if(it)return;let t=ue.onUnhandledError;ue.onUnhandledError=function(r){let e=Pe.get(r);if(e)e();else if(t)t.call(this,r);else throw r},it=!0}function Pt(t){let r=Pe.get(t);return r?(r(),!0):!1}function Ct(t,r){if(t&&typeof t=="object"){let e=!1;Pe.set(t,()=>{e||(e=!0,r())})}return t}function kt(t){return r=>{let e=r.subscribe({error:n=>{t.runOutsideAngular(()=>{queueMicrotask(()=>{e&&Pt(n)})})}});return new N(n=>(e?.unsubscribe(),e=null,r.subscribe(n)))}}var gt=(()=>{class t extends R{constructor(){super(),u(b).onDestroy(()=>this.complete())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ce=(()=>{class t{_ngZone=u(P);enter(e){return this._runOutsideAngular(e)}leave(e){return this._runInsideAngular(e)}_runInsideAngular(e){return P.isInAngularZone()?e():this._ngZone.run(e)}_runOutsideAngular(e){return P.isInAngularZone()?this._ngZone.runOutsideAngular(e):e()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),M=function(t){return t.Dispatched="DISPATCHED",t.Successful="SUCCESSFUL",t.Canceled="CANCELED",t.Errored="ERRORED",t}(M||{}),J=(()=>{class t extends X{dispatched$=new R;constructor(){super(),this.subscribe(n=>{n.status===M.Dispatched&&this.dispatched$.next(n)}),u(b).onDestroy(()=>{this.complete(),this.dispatched$.complete()})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ke=(()=>{class t extends N{constructor(){let e=u(J),n=u(Ce),o=new R;e.pipe($(n)).subscribe(o),super(s=>{let a=o.subscribe({next:i=>s.next(i),error:i=>s.error(i),complete:()=>s.complete()});s.add(a)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ft=(()=>{class t{_ngZone=u(P);_actions=u(J);_actionResults=u(gt);_pluginManager=u(Rt);_stateStream=u(q);_ngxsExecutionStrategy=u(Ce);_injector=u(z);dispatch(e){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(e)).pipe(kt(this._ngZone),$(this._ngxsExecutionStrategy))}dispatchByEvents(e){return Array.isArray(e)?e.length===0?D(void 0):fe(e.map(n=>this.dispatchSingle(n))).pipe(A(()=>{})):this.dispatchSingle(e)}dispatchSingle(e){let n=this._stateStream.getValue(),o=this._pluginManager.plugins;return ht(this._injector,[...o,(s,a)=>{s!==n&&this._stateStream.next(s);let i=this.getActionResultStream(a);return i.subscribe(c=>this._actions.next(c)),this._actions.next({action:a,status:M.Dispatched}),this.createDispatchObservable(i)}])(n,e).pipe(j())}getActionResultStream(e){return this._actionResults.pipe(L(n=>n.action===e&&n.status!==M.Dispatched),x(1),j())}createDispatchObservable(e){return e.pipe(T(n=>{switch(n.status){case M.Successful:return D(this._stateStream.getValue());case M.Errored:throw n.error;default:return le}}),j())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ht=(t,r)=>(...e)=>{let n=r.shift();return Ye(t,()=>n(...e,(...o)=>ht(t,r)(...o)))},mt=new v(""),jt=new v(""),yt=new v(""),G=(()=>{class t{developmentMode;compatibility={strictContentSecurityPolicy:!1};selectorOptions={injectContainerState:!1,suppressErrors:!1};static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:()=>(()=>{let e=new t,n=u(yt);return ie(l(l({},e),n),{selectorOptions:l(l({},e.selectorOptions),n.selectorOptions)})})(),providedIn:"root"})}return t})(),xe=class{previousValue;currentValue;firstChange;constructor(r,e,n){this.previousValue=r,this.currentValue=e,this.firstChange=n}};var B=(()=>{class t{_stateStream=u(q);_dispatcher=u(Ft);_config=u(G);getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:n=>this._stateStream.next(n),dispatch:n=>this._dispatcher.dispatch(n)}}setStateToTheCurrentWithNew(e){let n=this.getRootStateOperations(),o=n.getState();n.setState(l(l({},o),e.defaults))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ut(t,r,e){return n=>{let{argumentSelectorFunctions:o,selectorOptions:s}=Gt(n,t,r),{suppressErrors:a}=s;return function(c){let d=o.map(p=>p(c));try{return e(...d)}catch(p){if(a&&p instanceof TypeError)return;throw p}}}}function $t(t,r){let e=r?.containerClass,o=K(function(){let a=t.apply(e,arguments);return typeof a=="function"?K.apply(null,[a]):a});return Object.setPrototypeOf(o,t),o}function Gt(t,r,e=[]){let n=r.getSelectorOptions(),o=t.getSelectorOptions(n),a=Bt(e,o,r.containerClass).map(i=>St(i)(t));return{selectorOptions:o,argumentSelectorFunctions:a}}function Bt(t=[],r,e){let n=[],o=r.injectContainerState||t.length===0;return e&&o&&U(e)&&n.push(e),n.push(...t),n}function St(t){return(De(t)||U(t))?.makeRootSelector||(()=>t)}function Vt(t){return r=>{for(let e=0;e<t.length;e++){if(!r)return;r=r[t[e]]}return r}}function Ht(t){let r=t,e="store."+r[0],n=0,o=r.length,s=e;for(;++n<o;)s=s+" && "+(e=e+"."+r[n]);return new Function("store","return "+s+";")}var Lt=new v("",{providedIn:"root",factory:()=>u(G).compatibility?.strictContentSecurityPolicy?Vt:Ht});function zt(t){let r=e=>t.find(o=>o===e)[E].name;return t.reduce((e,n)=>{let o=n[E];return e[o.name]=(o.children||[]).map(r),e},{})}function Yt(t){return t.reduce((r,e)=>{let n=e[E];return r[n.name]=e,r},{})}function Xt(t,r={}){let e=(n,o)=>{for(let s in n)if(n[s]?.includes(o)){let a=e(n,s);return a?`${a}.${s}`:s}return null};for(let n in t){let o=e(t,n);r[n]=o?`${o}.${n}`:n}return r}function Zt(t){let r=[],e={},n=(o,s=[])=>{e[o]=!0,s.push(o);for(let a of t[o])e[a]||n(a,s.slice());r.includes(o)||r.push(o)};for(let o in t)n(o);return r.reverse()}var Kt=(()=>{class t{_ngZone=u(P);_errorHandler=u(Xe);handleError(e,n){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V(...t){return qt(t,[M.Dispatched])}function qt(t,r,e=Qt){let n=Jt(t),o=r&&en(r);return function(s){return s.pipe(Wt(n,o),e())}}function Wt(t,r){return L(e=>{let n=W(e.action),o=t[n],s=r?r[e.status]:!0;return o&&s})}function Qt(){return A(t=>t.action)}function Jt(t){return t.reduce((r,e)=>(r[W(e)]=!0,r),{})}function en(t){return t.reduce((r,e)=>(r[e]=!0,r),{})}function tn(t){return r=>{let e=l({},r);for(let n in t)e[n]=t[n];return e}}var vt=(()=>{class t{_internalStateOperations=u(B);createStateContext(e){let n=this._internalStateOperations.getRootStateOperations();return{getState(){let o=n.getState();return wt(o,e)},patchState(o){let s=n.getState(),a=tn(o);ct(n,s,a,e)},setState(o){let s=n.getState();at(o)?ct(n,s,o,e):bt(n,s,o,e)},dispatch(o){return n.dispatch(o)}}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bt(t,r,e,n){let o=Re(r,n,e);return t.setState(o),o}function ct(t,r,e,n){let o=wt(r,n),s=e(o);return bt(t,r,s,n)}function wt(t,r){return Q(t,r)}var nn=(()=>{class t{_actions=u(J);_stateContextFactory=u(vt);createActionHandler(e,n,o){let{dispatched$:s}=this._actions;return a=>{let i=this._stateContextFactory.createStateContext(e),c=n(i,a);if(we(c)&&(c=je(c)),pe(c)){if(c=c.pipe(T(d=>we(d)||pe(d)?d:D(d)),me(void 0)),o.cancelUncompleted){let d=s.pipe(V(a));c=c.pipe(He(d))}c=c.pipe(Ge(()=>{if(0)var d;else i.setState=ut,i.patchState=ut}))}else c=D(void 0);return c}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ut(){}function rn(t){let r=t===void 0?{}:t;return t&&(Array.isArray(t)?r=t.slice():typeof t=="object"&&(r=l({},t))),r}var Fe=(()=>{class t{_injector=u(z);_config=u(G);_actionHandlerFactory=u(nn);_actions=u(J);_actionResults=u(gt);_initialState=u(Ae,{optional:!0});_actionRegistry=u(nt);_propGetter=u(Lt);_actionsSubscription=null;_ngxsUnhandledErrorHandler=null;_states=[];_statesByName={};_statePaths={};getRuntimeSelectorContext=K(()=>{let e=this,n=e._propGetter;function o(a){let i=e._statePaths[a];return i?n(i.split(".")):null}return{getStateGetter(a){let i=o(a);return i||((...c)=>(i||(i=o(a)),i?i(...c):void 0))},getSelectorOptions(a){let i=e._config.selectorOptions;return l(l({},i),a||{})}}});constructor(){u(b).onDestroy(()=>this._actionsSubscription?.unsubscribe())}add(e){let{newStates:n}=this.addToStatesMap(e);if(!n.length)return[];let o=zt(n),s=Zt(o),a=Xt(o),i=Yt(n),c=[];for(let d of s){let p=i[d],y=a[d],w=p[E];this.addRuntimeInfoToMeta(w,y);let S={name:d,path:y,isInitialised:!1,actions:w.actions,instance:u(p),defaults:rn(w.defaults)};this.hasBeenMountedAndBootstrapped(d,y)||c.push(S),this._states.push(S),this.hydrateActionMetasMap(S)}return c}addAndReturnDefaults(e){let n=e||[],o=this.add(n);return{defaults:o.reduce((a,i)=>Re(a,i.path,i.defaults),{}),states:o}}connectActionHandlers(){this._actionsSubscription=this._actions.pipe(L(e=>e.status===M.Dispatched),T(e=>{let n=e.action;return this.invokeActions(n).pipe(A(()=>({action:n,status:M.Successful})),me({action:n,status:M.Canceled}),he(o=>{let s=this._ngxsUnhandledErrorHandler||=this._injector.get(Kt),a=Ct(o,()=>s.handleError(o,{action:n}));return D({action:n,status:M.Errored,error:a})}))})).subscribe(e=>this._actionResults.next(e))}invokeActions(e){let n=W(e),o=[],s=!1,a=this._actionRegistry.get(n);if(a)for(let i of a){let c;try{c=i(e)}catch(d){c=new N(p=>p.error(d))}o.push(c),s=!0}return o.length||o.push(D(void 0)),fe(o)}addToStatesMap(e){let n=[],o=this._statesByName;for(let s of e){let a=U(s).name;!o[a]&&(n.push(s),o[a]=s)}return{newStates:n}}addRuntimeInfoToMeta(e,n){this._statePaths[e.name]=n,e.path=n}hasBeenMountedAndBootstrapped(e,n){let o=Q(this._initialState,n)!==void 0;return this._statesByName[e]&&o}hydrateActionMetasMap({path:e,actions:n,instance:o}){for(let s of Object.keys(n)){let a=n[s].map(i=>{let c=(d,p)=>o[i.fn](d,p);return this._actionHandlerFactory.createActionHandler(e,c,i.options)});for(let i of a)this._actionRegistry.register(s,i)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),C=(()=>{class t{_stateStream=u(q);_internalStateOperations=u(B);_config=u(G);_internalExecutionStrategy=u(Ce);_stateFactory=u(Fe);_selectableStateStream=this._stateStream.pipe($(this._internalExecutionStrategy),j({bufferSize:1,refCount:!0}));constructor(){this.initStateStream()}dispatch(e){return this._internalStateOperations.getRootStateOperations().dispatch(e)}select(e){let n=this.getStoreBoundSelectorFn(e);return this._selectableStateStream.pipe(A(n),he(o=>{if(this._config.selectorOptions.suppressErrors&&o instanceof TypeError)return D(void 0);throw o}),$e(),$(this._internalExecutionStrategy))}selectOnce(e){return this.select(e).pipe(x(1))}selectSnapshot(e){return this.getStoreBoundSelectorFn(e)(this._stateStream.getValue())}selectSignal(e){let n=this.getStoreBoundSelectorFn(e);return Y(()=>n(this._stateStream.state()))}subscribe(e){return this._selectableStateStream.pipe($(this._internalExecutionStrategy)).subscribe(e)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(e){this._internalStateOperations.getRootStateOperations().setState(e)}getStoreBoundSelectorFn(e){let n=St(e),o=this._stateFactory.getRuntimeSelectorContext();return n(o)}initStateStream(){let e=u(Ae),n=this._stateStream.value;(!n||Object.keys(n).length===0)&&this._stateStream.next(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),on=new v("");var sn=(()=>{class t{static store=null;static config=null;constructor(e,n){t.store=e,t.config=n,u(b).onDestroy(()=>{t.store=null,t.config=null})}static \u0275fac=function(n){return new(n||t)(Se(C),Se(G))};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mt=(()=>{class t{_store=u(C);_internalStateOperations=u(B);_stateContextFactory=u(vt);_appBootstrappedState=u(Oe);_initStateHasBeenDispatched;ngxsBootstrap(e,n){this._internalStateOperations.getRootStateOperations().dispatch(e).pipe(T(()=>n?(this._invokeInitOnStates(n.states),this._appBootstrappedState):le)).subscribe(o=>{o&&this._invokeBootstrapOnStates(n.states)})}_invokeInitOnStates(e){for(let n of e){let o=n.instance;if(o.ngxsOnChanges){let s;this._store.select(a=>Q(a,n.path)).pipe(Ve(void 0),Be(1)).subscribe(a=>{let i=new xe(s,a,!n.isInitialised);s=a,o.ngxsOnChanges(i)})}o.ngxsOnInit&&o.ngxsOnInit(this._getStateContext(n)),n.isInitialised=!0}}_invokeBootstrapOnStates(e){for(let n of e){let o=n.instance;o.ngxsAfterBootstrap&&o.ngxsAfterBootstrap(this._getStateContext(n))}}_getStateContext(e){return this._stateContextFactory.createStateContext(e.path)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function an(){xt(),(u(on,{optional:!0})||[]).forEach(a=>a());let r=u(Fe),e=u(B);u(C),u(sn);let n=u(mt,{optional:!0})||[],o=u(Mt),s=r.addAndReturnDefaults(n);e.setStateToTheCurrentWithNew(s),r.connectActionHandlers(),o.ngxsBootstrap(new rt,s)}function cn(){u(C);let t=u(B),r=u(Fe),e=u(jt,{optional:!0})||[],n=u(Mt),o=e.reduce((a,i)=>a.concat(i),[]),s=r.addAndReturnDefaults(o);s.states.length&&(t.setStateToTheCurrentWithNew(s),n.ngxsBootstrap(new ot(s.defaults),s))}var dt=new v(""),lt=new v(""),un=[{provide:dt,useFactory:an},ve(()=>u(dt))],er=[{provide:lt,useFactory:cn},ve(()=>u(lt))];function dn(t,r){return[...t,{provide:mt,useValue:t},{provide:Ze,useFactory:()=>{let e=u(Oe);return()=>e.bootstrap()},multi:!0},{provide:yt,useValue:r}]}function k(t,r){return(e,n,o)=>{let s=_e(e.constructor),a=Array.isArray(t)?t:[t];for(let i of a){let c=i.type;s.actions[c]||(s.actions[c]=[]),s.actions[c].push({fn:n,options:r||{},type:c})}}}function It(t){return r=>{let e=r,n=Object.getPrototypeOf(e),o=_e(e),s=l(l({},n[Te]||{}),t);ln(o,n,s),e[Te]=s}}function ln(t,r,e){let{name:n,defaults:o,children:s}=e,a=typeof n=="string"?n:n?.getName?.()||null;if(Z(r,E)){let i=r[E]||{};t.actions=l(l({},t.actions),i.actions)}t.name=a,t.defaults=o,t.children=s}var pt="NGXS_SELECTOR_OPTIONS_META",ft={getOptions:t=>t?.[pt]||{},defineOptions:(t,r)=>{t&&(t[pt]=r)}};function pn(t,r){let e=et(t);e.originalFn=t;let n=()=>({});r&&(e.containerClass=r.containerClass,e.selectorName=r.selectorName||null,n=r.getSelectorOptions||n);let o=l({},e);return e.getSelectorOptions=()=>fn(o,n()),e}function fn(t,r){return l(l(l(l({},ft.getOptions(t.containerClass)||{}),ft.getOptions(t.originalFn)||{}),t.getSelectorOptions()||{}),r)}function gn(t,r,e){let n=$t(r,e),o=pn(r,e);return o.makeRootSelector=Ut(o,t,n),n}function ee(t){return(r,e,n)=>{n||=Object.getOwnPropertyDescriptor(r,e);let o=n?.value,s=gn(t,o,{containerClass:r,selectorName:e.toString(),getSelectorOptions(){return{}}});return{configurable:!0,get(){return s},originalFn:o}}}function tr(t=[],...r){let e=[],n={};return r.length>0&&(hn(r[0])?e.push(...r):(n=r[0],e.push(...r.slice(1)))),ze([...dn(t,n),un,e])}function hn(t){return!!t.\u0275providers}var nr=new v("",{providedIn:"root",factory:()=>{let t=new Set;return u(Ke).onDestroy(()=>t.clear()),t}});var _=class{constructor(r,e){this.path=r;this.value=e}static type="[Benchmark] Update Deep Nested"},O=class{constructor(r,e){this.index=r;this.value=e}static type="[Benchmark] Update Array"},F=class{constructor(r){this.input=r}static type="[Benchmark] Compute Values"},H=class{constructor(r){this.updates=r}static type="[Benchmark] Batch Update"},te=class{static type="[Benchmark] Serialize State"},ne=class{constructor(r){this.id=r}static type="[Async] Trigger"},re=class{constructor(r){this.id=r}static type="[Async] Complete"},oe=class{constructor(r){this.id=r}static type="[Task] Start"},se=class{constructor(r){this.id=r}static type="[Task] Cancel"},ae=class{constructor(r){this.id=r}static type="[Task] Complete"},h=class{static getDeepNested(r){return r.deepNested}runSingleMiddlewareBenchmark(r){return m(this,null,function*(){class e{handle(c,d,p){let y=typeof d=="object";return p(c,d)}}let n=new e,o=i=>i,s=performance.now(),a={counter:0};for(let i=0;i<r;i++)a=n.handle(a,{type:"[Test] Increment"},o);return performance.now()-s})}runMultipleMiddlewareBenchmark(r,e){return m(this,null,function*(){class n{handle(d,p,y){let w=0;for(let S=0;S<10;S++)w+=S;return y(d,p)}}let o=[];for(let c=0;c<r;c++)o.push(new n);let s=(c,d)=>{let p=c;for(let y of o){let w=S=>S;p=y.handle(p,d,w)}return p},a=performance.now(),i={counter:0};for(let c=0;c<e;c++)i=s(i,{type:"[Test] Increment",payload:c});return performance.now()-a})}runConditionalMiddlewareBenchmark(r){return m(this,null,function*(){class e{handle(c,d,p){let y=d;if(y.type==="[Test] Increment"&&y.payload!==void 0&&y.payload%2===0){let w=0;for(let S=0;S<20;S++)w+=S}return p(c,d)}}let n=new e,o=i=>i,s=performance.now(),a={counter:0};for(let i=0;i<r;i++){let c=i%2===0?"[Test] Increment":"[Test] Other";a=n.handle(a,{type:c,payload:i},o)}return performance.now()-s})}static getLargeArray(r){return r.largeArray}static getComputedResult(r){let{base:e,factors:n}=r.computedValues;return n.length===0?e:n.reduce((o,s)=>o*s+e,e)}updateDeepNested(r,e){let n=r.getState(),o=l({},n.deepNested),s=o;for(let a=0;a<e.path.length-1;a++){let i=e.path[a];s[i]||(s[i]={}),s[i]=l({},s[i]),s=s[i]}s[e.path[e.path.length-1]]=e.value,r.patchState({deepNested:o})}updateArray(r,e){let o=[...r.getState().largeArray];if(e.index>=o.length)for(;o.length<=e.index;)o.push({id:0,value:0});o[e.index]=e.value,r.patchState({largeArray:o})}computeValues(r,e){let n=Array.from({length:50},(o,s)=>Math.sin(e.input+s)*Math.cos(e.input*s));r.patchState({computedValues:{base:e.input,factors:n,result:n.reduce((o,s)=>o*s+e.input,e.input)}})}batchUpdate(r,e){let n=e.updates.reduce((o,s)=>(o[s.key]=s.value,o),{});r.patchState({batchData:l(l({},r.getState().batchData),n)})}serializeState(r){let e=r.getState(),n=JSON.stringify(e);r.patchState({serializedData:n})}};ce(h,"\u0275fac",function(e){return new(e||h)}),ce(h,"\u0275prov",f({token:h,factory:h.\u0275fac})),I([k(_)],h.prototype,"updateDeepNested",1),I([k(O)],h.prototype,"updateArray",1),I([k(F)],h.prototype,"computeValues",1),I([k(H)],h.prototype,"batchUpdate",1),I([k(te)],h.prototype,"serializeState",1),I([ee()],h,"getDeepNested",1),I([ee()],h,"getLargeArray",1),I([ee()],h,"getComputedResult",1),h=I([It({name:"benchmark",defaults:{deepNested:{},largeArray:[],computedValues:{base:0,factors:[]},batchData:{}}})],h);var Et=class t{store=u(C);yieldToUI=qe();runDeepNestedBenchmark(n){return m(this,arguments,function*(r,e=g.DATA_GENERATION.NESTED_DEPTH){let o=performance.now(),s=[];for(let a=0;a<Math.min(r,g.ITERATIONS.DEEP_NESTED);a++){let i=Array.from({length:e},(d,p)=>`level${p}_${a%10}`),c=this.store.dispatch(new _(i,Math.random()*100)).toPromise();s.push(c),(a&g.YIELD_FREQUENCY.DEEP_NESTED)===0&&(yield Promise.all(s.splice(0)))}return yield Promise.all(s),performance.now()-o})}runArrayBenchmark(r){return m(this,null,function*(){let e=performance.now(),n=Math.min(g.ITERATIONS.ARRAY_UPDATES,r),o=[];for(let s=0;s<n;s++){let a=s%r,i={id:s,value:Math.random()*1e3,timestamp:Date.now()},c=this.store.dispatch(new O(a,i)).toPromise();o.push(c),(s&g.YIELD_FREQUENCY.ARRAY_UPDATES)===0&&(yield Promise.all(o.splice(0)))}return yield Promise.all(o),performance.now()-e})}runComputedBenchmark(r){return m(this,null,function*(){let e=performance.now(),n=[];for(let o=0;o<Math.min(r,g.ITERATIONS.COMPUTED);o++)n.push(this.store.dispatch(new F(o)).toPromise()),this.store.selectOnce(h.getComputedResult).subscribe(),(o&g.YIELD_FREQUENCY.COMPUTED)===0&&(yield Promise.all(n.splice(0)));return yield Promise.all(n),performance.now()-e})}runBatchUpdatesBenchmark(){return m(this,arguments,function*(r=g.ITERATIONS.BATCH_UPDATES,e=g.ITERATIONS.BATCH_SIZE){let n=performance.now(),o=[];for(let s=0;s<r;s++){let a=Array.from({length:e},(i,c)=>({key:`batch${s}_item${c}`,value:Math.random()*100}));o.push(this.store.dispatch(new H(a)).toPromise()),(s&g.YIELD_FREQUENCY.BATCH_UPDATES)===0&&(yield Promise.all(o.splice(0)))}return yield Promise.all(o),performance.now()-n})}runSelectorBenchmark(r){return m(this,null,function*(){let e=performance.now();for(let n=0;n<Math.min(r/10,g.ITERATIONS.SELECTOR);n++)this.store.dispatch(new F(n));for(let n=0;n<g.ITERATIONS.SELECTOR;n++)this.store.selectOnce(h.getComputedResult).subscribe(),this.store.selectOnce(h.getDeepNested).subscribe(),this.store.selectOnce(h.getLargeArray).subscribe();return performance.now()-e})}runSerializationBenchmark(r){return m(this,null,function*(){let e=performance.now(),n=[];for(let o=0;o<Math.min(r/100,g.ITERATIONS.BATCH_UPDATES);o++)n.push(this.store.dispatch(new F(o)).toPromise()),n.push(this.store.dispatch(new O(o,{id:o,value:o,data:`item_${o}`})).toPromise());return yield Promise.all(n),yield this.store.dispatch(new te).toPromise(),performance.now()-e})}runConcurrentUpdatesBenchmark(r){return m(this,null,function*(){let e=performance.now(),n=200;for(let o=0;o<n;o++){let s=[];for(let a=0;a<10;a++){let c=[`item${(o*10+a)%r}`],d=Math.random()*1e3,p=this.store.dispatch(new _(c,d)).toPromise();s.push(p)}yield Promise.all(s)}return performance.now()-e})}runMemoryEfficiencyBenchmark(r){return m(this,null,function*(){let e=performance.now();for(let n=0;n<Math.min(r,g.ITERATIONS.MEMORY_EFFICIENCY);n++){let o=["memory_test",`item_${n}`];this.store.dispatch(new _(o,{id:n,data:new Array(g.DATA_GENERATION.ARRAY_SIZE_100).fill(0).map(()=>Math.random()),metadata:{created:Date.now(),index:n}}))}return performance.now()-e})}runDataFetchingBenchmark(r){return m(this,null,function*(){let e=performance.now(),n=Array.from({length:Math.min(r,g.ITERATIONS.DATA_FETCHING)},(o,s)=>({id:s,name:`Item ${s}`,category:`Category ${s%g.DATA_GENERATION.CATEGORY_COUNT}`,price:Math.random()*100,inStock:Math.random()>.5,value:s,metadata:{created:new Date(Date.now()-Math.random()*1e9).toISOString(),tags:[`tag${s%g.DATA_GENERATION.TAG_COUNT}`,`category${s%3}`]}}));for(let o=0;o<n.length;o++)this.store.dispatch(new O(o,n[o]));return performance.now()-e})}runRealTimeUpdatesBenchmark(r){return m(this,null,function*(){let e=performance.now(),n=Math.min(r,g.ITERATIONS.REAL_TIME_UPDATES);for(let o=0;o<n;o++)switch(o%4){case 0:this.store.dispatch(new _(["live_metrics","current"],{timestamp:Date.now(),value:Math.random()*100}));break;case 1:this.store.dispatch(new O(o%50,{id:o,value:o,userId:`user_${o}`,status:Math.random()>.5?"online":"offline",lastSeen:Date.now()}));break;case 2:this.store.dispatch(new _(["chat","messages",o.toString()],{id:o,message:`Message ${o}`,timestamp:Date.now()}));break;case 3:this.store.dispatch(new H([{key:`notification_${o}`,value:{type:"info",message:`Update ${o}`,read:!1}}]));break}return performance.now()-e})}runStateSizeScalingBenchmark(r){return m(this,null,function*(){let e=performance.now(),n=Math.min(r*g.DATA_SIZE_LIMITS.LARGE_DATASET.MULTIPLIER,g.DATA_SIZE_LIMITS.MEMORY_TEST.MAX);for(let o=0;o<n;o++){let s={id:o,type:`EntityType${o%10}`,properties:{name:`Entity ${o}`,category:`Cat_${o%20}`,value:Math.random()*1e3,active:Math.random()>.3},relationships:Array.from({length:Math.min(5,o%10)},(a,i)=>({targetId:Math.floor(Math.random()*Math.max(1,o)),type:`relation_${i}`,strength:Math.random()})),metadata:{created:Date.now(),version:1,tags:Array.from({length:o%5+1},(a,i)=>`tag_${i}_${o%3}`)}};this.store.dispatch(new _(["entities",o.toString()],s))}return performance.now()-e})}runAsyncWorkflowBenchmark(r){return m(this,null,function*(){let e=u(ke),n=Math.min(r,g.ITERATIONS.ASYNC_WORKFLOW||1e3),o=e.pipe(V(ne),T(c=>ge(0).pipe(A(()=>new re(c.id)),x(1)))),s=0,a=new Promise(c=>{o.subscribe(d=>{d instanceof re&&(s++,s>=n&&c())})}),i=performance.now();for(let c=0;c<n;c++)this.store.dispatch(new ne(c));return yield a,performance.now()-i})}runAsyncCancellationBenchmark(r){return m(this,null,function*(){let e=u(ke),n=new Set,o=e.pipe(V(oe),T(c=>{let d=e.pipe(V(se),Le(p=>{p.id===c.id&&n.add(c.id)}));return Ue(ge(10).pipe(A(()=>new ae(c.id))),d.pipe(x(1),T(()=>[])))})),s=0,a=new Promise(c=>{o.subscribe(d=>{d instanceof ae&&(s++,s+n.size>=r&&c())})}),i=performance.now();for(let c=0;c<r;c++)this.store.dispatch(new oe(c));for(let c=0;c<Math.floor(r/2);c++)this.store.dispatch(new se(c));return yield a,performance.now()-i})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})};export{tr as a,h as b,Et as c};
