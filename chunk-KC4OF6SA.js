import{a as l,b as Ge}from"./chunk-X4WEGLGO.js";import{$ as ue,B as R,D as P,H as se,I as G,J as ae,L as ie,M as ce,O as Oe,P as Ne,V as C,W as Re,X as Pe,Xb as he,Yb as V,Z as Ce,a as d,ab as _,b as J,ba as f,db as pe,ea as S,fa as de,fb as je,ga as i,gb as Ue,h as b,ha as xe,i as ee,ia as le,j as m,l as te,la as Fe,n as O,q as N,qa as $,r as ne,sa as y,t as re,ta as ke,w as De,x as E,xa as fe,z as oe}from"./chunk-M6ZH6AMU.js";function $e(t,o){let n=!o?.manualCleanup?o?.injector?.get(y)??i(y):null,r=mt(o?.equal),s;o?.requireSync?s=fe({kind:0},{equal:r}):s=fe({kind:1,value:o?.initialValue},{equal:r});let a,c=t.subscribe({next:u=>s.set({kind:1,value:u}),error:u=>{s.set({kind:2,error:u}),a?.()},complete:()=>{a?.()}});if(o?.requireSync&&s().kind===0)throw new ue(601,!1);return a=n?.onDestroy(c.unsubscribe.bind(c)),V(()=>{let u=s();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new ue(601,!1)}},{equal:o?.equal})}function mt(t=Object.is){return(o,e)=>o.kind===1&&e.kind===1&&t(o.value,e.value)}var M="NGXS_META",Se="NGXS_OPTIONS_META",ge="NGXS_SELECTOR_META",St=Object.prototype.hasOwnProperty,H=(t,o)=>St.call(t,o),Be=Object.defineProperty;function ye(t){if(!H(t,M)){let o={name:null,actions:{},defaults:{},path:null,makeRootSelector(e){return e.getStateGetter(o.name)},children:[]};Be(t,M,{value:o})}return x(t)}function x(t){return t[M]}function He(t){return H(t,ge)||Be(t,ge,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),ve(t)}function ve(t){return t[ge]}function yt(t,o,e){if(o===null||e===null||o.length!==e.length)return!1;let n=o.length;for(let r=0;r<n;r++)if(!t(o[r],e[r]))return!1;return!0}function L(t,o=Object.is){let e=null,n=null;function r(){return yt(o,e,arguments)||(n=t.apply(null,arguments)),e=arguments,n}return r.reset=function(){e=null,n=null},r}var vt=(()=>{class t{static _value={};static set(e){this._value=e}static pop(){let e=this._value;return this._value={},e}}return t})(),be=new S("",{providedIn:"root",factory:()=>vt.pop()}),Me=(()=>{class t extends ne{constructor(){super(!1),i(y).onDestroy(()=>this.complete())}bootstrap(){this.next(!0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Le(t){let o=[],e=!1;return function(...r){if(e){o.unshift(r);return}for(e=!0,t(...r);o.length>0;){let s=o.pop();s&&t(...s)}e=!1}}var B=class extends N{_orderedNext=Le(o=>super.next(o));next(o){this._orderedNext(o)}},me=class extends ne{_orderedNext=Le(o=>super.next(o));_currentValue;constructor(o){super(o),this._currentValue=o}getValue(){return this._currentValue}next(o){this._currentValue=o,this._orderedNext(o)}};function Ie(t){return o=>new O(e=>o.subscribe({next(n){t(()=>e.next(n))},error(n){t(()=>e.error(n))},complete(){t(()=>e.complete())}}))}var z=(()=>{class t extends me{state=$e(this.pipe(Ie(he)),{manualCleanup:!0,requireSync:!0});constructor(){super({}),i(y).onDestroy(()=>this.complete())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ze=(()=>{class t{_actionTypeToHandlersMap=new Map;constructor(){i(y).onDestroy(()=>this._actionTypeToHandlersMap.clear())}get(e){return this._actionTypeToHandlersMap.get(e)}register(e,n){let r=this._actionTypeToHandlersMap.get(e)??new Set;return r.add(n),this._actionTypeToHandlersMap.set(e,r),()=>{this._actionTypeToHandlersMap.get(e).delete(n)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ye=(()=>{class t{static type="@@INIT"}return t})(),Xe=(()=>{class t{addedStates;static type="@@UPDATE_STATE";constructor(e){this.addedStates=e}}return t})(),Ze=new S("");function Y(t){return t.constructor?.type||t.type}var Ee=(t,o,e)=>{t=d({},t);let n=o.split("."),r=n.length-1;return n.reduce((s,a,c)=>(c===r?s[a]=e:s[a]=Array.isArray(s[a])?s[a].slice():d({},s[a]),s?.[a]),t),t},X=(t,o)=>o.split(".").reduce((e,n)=>e?.[n],t);var _n=Array.isArray,bt=t=>typeof t=="function",Ke=bt;var Mt=(()=>{class t{plugins=[];_parentManager=i(t,{optional:!0,skipSelf:!0});_pluginHandlers=i(Ze,{optional:!0});constructor(){this.registerHandlers()}get _rootPlugins(){return this._parentManager?.plugins||this.plugins}registerHandlers(){let e=this.getPluginHandlers();this._rootPlugins.push(...e)}getPluginHandlers(){return(this._pluginHandlers||[]).map(n=>n.handle?n.handle.bind(n):n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Z(t){return Ie(o=>t.leave(o))}var _e=new WeakMap,qe=!1;function It(){if(qe)return;let t=te.onUnhandledError;te.onUnhandledError=function(o){let e=_e.get(o);if(e)e();else if(t)t.call(this,o);else throw o},qe=!0}function Et(t){let o=_e.get(t);return o?(o(),!0):!1}function Tt(t,o){if(t&&typeof t=="object"){let e=!1;_e.set(t,()=>{e||(e=!0,o())})}return t}function _t(t){return o=>{let e=o.subscribe({error:n=>{t.runOutsideAngular(()=>{queueMicrotask(()=>{e&&Et(n)})})}});return new O(n=>(e?.unsubscribe(),e=null,o.subscribe(n)))}}var rt=(()=>{class t extends N{constructor(){super(),i(y).onDestroy(()=>this.complete())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ot=(()=>{class t{_ngZone=i(_);enter(e){return this._runOutsideAngular(e)}leave(e){return this._runInsideAngular(e)}_runInsideAngular(e){return _.isInAngularZone()?e():this._ngZone.run(e)}_runOutsideAngular(e){return _.isInAngularZone()?this._ngZone.runOutsideAngular(e):e()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),v=function(t){return t.Dispatched="DISPATCHED",t.Successful="SUCCESSFUL",t.Canceled="CANCELED",t.Errored="ERRORED",t}(v||{}),we=(()=>{class t extends B{dispatched$=new N;constructor(){super(),this.subscribe(n=>{n.status===v.Dispatched&&this.dispatched$.next(n)}),i(y).onDestroy(()=>{this.complete(),this.dispatched$.complete()})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wt=(()=>{class t{_ngZone=i(_);_actions=i(we);_actionResults=i(rt);_pluginManager=i(Mt);_stateStream=i(z);_ngxsExecutionStrategy=i(ot);_injector=i($);dispatch(e){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(e)).pipe(_t(this._ngZone),Z(this._ngxsExecutionStrategy))}dispatchByEvents(e){return Array.isArray(e)?e.length===0?E(void 0):se(e.map(n=>this.dispatchSingle(n))).pipe(R(()=>{})):this.dispatchSingle(e)}dispatchSingle(e){let n=this._stateStream.getValue(),r=this._pluginManager.plugins;return st(this._injector,[...r,(s,a)=>{s!==n&&this._stateStream.next(s);let c=this.getActionResultStream(a);return c.subscribe(u=>this._actions.next(u)),this._actions.next({action:a,status:v.Dispatched}),this.createDispatchObservable(c)}])(n,e).pipe(C())}getActionResultStream(e){return this._actionResults.pipe(G(n=>n.action===e&&n.status!==v.Dispatched),ce(1),C())}createDispatchObservable(e){return e.pipe(P(n=>{switch(n.status){case v.Successful:return E(this._stateStream.getValue());case v.Errored:throw n.error;default:return re}}),C())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),st=(t,o)=>(...e)=>{let n=o.shift();return Fe(t,()=>n(...e,(...r)=>st(t,o)(...r)))},at=new S(""),At=new S(""),it=new S(""),F=(()=>{class t{developmentMode;compatibility={strictContentSecurityPolicy:!1};selectorOptions={injectContainerState:!1,suppressErrors:!1};static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:()=>(()=>{let e=new t,n=i(it);return J(d(d({},e),n),{selectorOptions:d(d({},e.selectorOptions),n.selectorOptions)})})(),providedIn:"root"})}return t})(),Te=class{previousValue;currentValue;firstChange;constructor(o,e,n){this.previousValue=o,this.currentValue=e,this.firstChange=n}};var k=(()=>{class t{_stateStream=i(z);_dispatcher=i(wt);_config=i(F);getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:n=>this._stateStream.next(n),dispatch:n=>this._dispatcher.dispatch(n)}}setStateToTheCurrentWithNew(e){let n=this.getRootStateOperations(),r=n.getState();n.setState(d(d({},r),e.defaults))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dt(t,o,e){return n=>{let{argumentSelectorFunctions:r,selectorOptions:s}=Nt(n,t,o),{suppressErrors:a}=s;return function(u){let h=r.map(g=>g(u));try{return e(...h)}catch(g){if(a&&g instanceof TypeError)return;throw g}}}}function Ot(t,o){let e=o?.containerClass,r=L(function(){let a=t.apply(e,arguments);return typeof a=="function"?L.apply(null,[a]):a});return Object.setPrototypeOf(r,t),r}function Nt(t,o,e=[]){let n=o.getSelectorOptions(),r=t.getSelectorOptions(n),a=Rt(e,r,o.containerClass).map(c=>ct(c)(t));return{selectorOptions:r,argumentSelectorFunctions:a}}function Rt(t=[],o,e){let n=[],r=o.injectContainerState||t.length===0;return e&&r&&x(e)&&n.push(e),n.push(...t),n}function ct(t){return(ve(t)||x(t))?.makeRootSelector||(()=>t)}function Pt(t){return o=>{for(let e=0;e<t.length;e++){if(!o)return;o=o[t[e]]}return o}}function Ct(t){let o=t,e="store."+o[0],n=0,r=o.length,s=e;for(;++n<r;)s=s+" && "+(e=e+"."+o[n]);return new Function("store","return "+s+";")}var xt=new S("",{providedIn:"root",factory:()=>i(F).compatibility?.strictContentSecurityPolicy?Pt:Ct});function Ft(t){let o=e=>t.find(r=>r===e)[M].name;return t.reduce((e,n)=>{let r=n[M];return e[r.name]=(r.children||[]).map(o),e},{})}function kt(t){return t.reduce((o,e)=>{let n=e[M];return o[n.name]=e,o},{})}function jt(t,o={}){let e=(n,r)=>{for(let s in n)if(n[s]?.includes(r)){let a=e(n,s);return a?`${a}.${s}`:s}return null};for(let n in t){let r=e(t,n);o[n]=r?`${r}.${n}`:n}return o}function Ut(t){let o=[],e={},n=(r,s=[])=>{e[r]=!0,s.push(r);for(let a of t[r])e[a]||n(a,s.slice());o.includes(r)||o.push(r)};for(let r in t)n(r);return o.reverse()}var Gt=(()=>{class t{_ngZone=i(_);_errorHandler=i(ke);handleError(e,n){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $t(...t){return Vt(t,[v.Dispatched])}function Vt(t,o,e=Ht){let n=Lt(t),r=o&&zt(o);return function(s){return s.pipe(Bt(n,r),e())}}function Bt(t,o){return G(e=>{let n=Y(e.action),r=t[n],s=o?o[e.status]:!0;return r&&s})}function Ht(){return R(t=>t.action)}function Lt(t){return t.reduce((o,e)=>(o[Y(e)]=!0,o),{})}function zt(t){return t.reduce((o,e)=>(o[e]=!0,o),{})}function Yt(t){return o=>{let e=d({},o);for(let n in t)e[n]=t[n];return e}}var ut=(()=>{class t{_internalStateOperations=i(k);createStateContext(e){let n=this._internalStateOperations.getRootStateOperations();return{getState(){let r=n.getState();return lt(r,e)},patchState(r){let s=n.getState(),a=Yt(r);We(n,s,a,e)},setState(r){let s=n.getState();Ke(r)?We(n,s,r,e):dt(n,s,r,e)},dispatch(r){return n.dispatch(r)}}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dt(t,o,e,n){let r=Ee(o,n,e);return t.setState(r),r}function We(t,o,e,n){let r=lt(o,n),s=e(r);return dt(t,o,s,n)}function lt(t,o){return X(t,o)}var Xt=(()=>{class t{_actions=i(we);_stateContextFactory=i(ut);createActionHandler(e,n,r){let{dispatched$:s}=this._actions;return a=>{let c=this._stateContextFactory.createStateContext(e),u=n(c,a);if(pe(u)&&(u=De(u)),oe(u)){if(u=u.pipe(P(h=>pe(h)||oe(h)?h:E(h)),ie(void 0)),r.cancelUncompleted){let h=s.pipe($t(a));u=u.pipe(Ce(h))}u=u.pipe(Ne(()=>{if(0)var h;else c.setState=Qe,c.patchState=Qe}))}else u=E(void 0);return u}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qe(){}function Zt(t){let o=t===void 0?{}:t;return t&&(Array.isArray(t)?o=t.slice():typeof t=="object"&&(o=d({},t))),o}var Ae=(()=>{class t{_injector=i($);_config=i(F);_actionHandlerFactory=i(Xt);_actions=i(we);_actionResults=i(rt);_initialState=i(be,{optional:!0});_actionRegistry=i(ze);_propGetter=i(xt);_actionsSubscription=null;_ngxsUnhandledErrorHandler=null;_states=[];_statesByName={};_statePaths={};getRuntimeSelectorContext=L(()=>{let e=this,n=e._propGetter;function r(a){let c=e._statePaths[a];return c?n(c.split(".")):null}return{getStateGetter(a){let c=r(a);return c||((...u)=>(c||(c=r(a)),c?c(...u):void 0))},getSelectorOptions(a){let c=e._config.selectorOptions;return d(d({},c),a||{})}}});constructor(){i(y).onDestroy(()=>this._actionsSubscription?.unsubscribe())}add(e){let{newStates:n}=this.addToStatesMap(e);if(!n.length)return[];let r=Ft(n),s=Ut(r),a=jt(r),c=kt(n),u=[];for(let h of s){let g=c[h],U=a[h],W=g[M];this.addRuntimeInfoToMeta(W,U);let Q={name:h,path:U,isInitialised:!1,actions:W.actions,instance:i(g),defaults:Zt(W.defaults)};this.hasBeenMountedAndBootstrapped(h,U)||u.push(Q),this._states.push(Q),this.hydrateActionMetasMap(Q)}return u}addAndReturnDefaults(e){let n=e||[],r=this.add(n);return{defaults:r.reduce((a,c)=>Ee(a,c.path,c.defaults),{}),states:r}}connectActionHandlers(){this._actionsSubscription=this._actions.pipe(G(e=>e.status===v.Dispatched),P(e=>{let n=e.action;return this.invokeActions(n).pipe(R(()=>({action:n,status:v.Successful})),ie({action:n,status:v.Canceled}),ae(r=>{let s=this._ngxsUnhandledErrorHandler||=this._injector.get(Gt),a=Tt(r,()=>s.handleError(r,{action:n}));return E({action:n,status:v.Errored,error:a})}))})).subscribe(e=>this._actionResults.next(e))}invokeActions(e){let n=Y(e),r=[],s=!1,a=this._actionRegistry.get(n);if(a)for(let c of a){let u;try{u=c(e)}catch(h){u=new O(g=>g.error(h))}r.push(u),s=!0}return r.length||r.push(E(void 0)),se(r)}addToStatesMap(e){let n=[],r=this._statesByName;for(let s of e){let a=x(s).name;!r[a]&&(n.push(s),r[a]=s)}return{newStates:n}}addRuntimeInfoToMeta(e,n){this._statePaths[e.name]=n,e.path=n}hasBeenMountedAndBootstrapped(e,n){let r=X(this._initialState,n)!==void 0;return this._statesByName[e]&&r}hydrateActionMetasMap({path:e,actions:n,instance:r}){for(let s of Object.keys(n)){let a=n[s].map(c=>{let u=(h,g)=>r[c.fn](h,g);return this._actionHandlerFactory.createActionHandler(e,u,c.options)});for(let c of a)this._actionRegistry.register(s,c)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),w=(()=>{class t{_stateStream=i(z);_internalStateOperations=i(k);_config=i(F);_internalExecutionStrategy=i(ot);_stateFactory=i(Ae);_selectableStateStream=this._stateStream.pipe(Z(this._internalExecutionStrategy),C({bufferSize:1,refCount:!0}));constructor(){this.initStateStream()}dispatch(e){return this._internalStateOperations.getRootStateOperations().dispatch(e)}select(e){let n=this.getStoreBoundSelectorFn(e);return this._selectableStateStream.pipe(R(n),ae(r=>{if(this._config.selectorOptions.suppressErrors&&r instanceof TypeError)return E(void 0);throw r}),Oe(),Z(this._internalExecutionStrategy))}selectOnce(e){return this.select(e).pipe(ce(1))}selectSnapshot(e){return this.getStoreBoundSelectorFn(e)(this._stateStream.getValue())}selectSignal(e){let n=this.getStoreBoundSelectorFn(e);return V(()=>n(this._stateStream.state()))}subscribe(e){return this._selectableStateStream.pipe(Z(this._internalExecutionStrategy)).subscribe(e)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(e){this._internalStateOperations.getRootStateOperations().setState(e)}getStoreBoundSelectorFn(e){let n=ct(e),r=this._stateFactory.getRuntimeSelectorContext();return n(r)}initStateStream(){let e=i(be),n=this._stateStream.value;(!n||Object.keys(n).length===0)&&this._stateStream.next(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kt=new S("");var qt=(()=>{class t{static store=null;static config=null;constructor(e,n){t.store=e,t.config=n,i(y).onDestroy(()=>{t.store=null,t.config=null})}static \u0275fac=function(n){return new(n||t)(de(w),de(F))};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ft=(()=>{class t{_store=i(w);_internalStateOperations=i(k);_stateContextFactory=i(ut);_appBootstrappedState=i(Me);_initStateHasBeenDispatched;ngxsBootstrap(e,n){this._internalStateOperations.getRootStateOperations().dispatch(e).pipe(P(()=>n?(this._invokeInitOnStates(n.states),this._appBootstrappedState):re)).subscribe(r=>{r&&this._invokeBootstrapOnStates(n.states)})}_invokeInitOnStates(e){for(let n of e){let r=n.instance;if(r.ngxsOnChanges){let s;this._store.select(a=>X(a,n.path)).pipe(Pe(void 0),Re(1)).subscribe(a=>{let c=new Te(s,a,!n.isInitialised);s=a,r.ngxsOnChanges(c)})}r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(n)),n.isInitialised=!0}}_invokeBootstrapOnStates(e){for(let n of e){let r=n.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(n))}}_getStateContext(e){return this._stateContextFactory.createStateContext(e.path)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wt(){It(),(i(Kt,{optional:!0})||[]).forEach(a=>a());let o=i(Ae),e=i(k);i(w),i(qt);let n=i(at,{optional:!0})||[],r=i(ft),s=o.addAndReturnDefaults(n);e.setStateToTheCurrentWithNew(s),o.connectActionHandlers(),r.ngxsBootstrap(new Ye,s)}function Qt(){i(w);let t=i(k),o=i(Ae),e=i(At,{optional:!0})||[],n=i(ft),r=e.reduce((a,c)=>a.concat(c),[]),s=o.addAndReturnDefaults(r);s.states.length&&(t.setStateToTheCurrentWithNew(s),n.ngxsBootstrap(new Xe(s.defaults),s))}var Je=new S(""),et=new S(""),Jt=[{provide:Je,useFactory:Wt},le(()=>i(Je))],zn=[{provide:et,useFactory:Qt},le(()=>i(et))];function en(t,o){return[...t,{provide:at,useValue:t},{provide:je,useFactory:()=>{let e=i(Me);return()=>e.bootstrap()},multi:!0},{provide:it,useValue:o}]}function A(t,o){return(e,n,r)=>{let s=ye(e.constructor),a=Array.isArray(t)?t:[t];for(let c of a){let u=c.type;s.actions[u]||(s.actions[u]=[]),s.actions[u].push({fn:n,options:o||{},type:u})}}}function pt(t){return o=>{let e=o,n=Object.getPrototypeOf(e),r=ye(e),s=d(d({},n[Se]||{}),t);tn(r,n,s),e[Se]=s}}function tn(t,o,e){let{name:n,defaults:r,children:s}=e,a=typeof n=="string"?n:n?.getName?.()||null;if(H(o,M)){let c=o[M]||{};t.actions=d(d({},t.actions),c.actions)}t.name=a,t.defaults=r,t.children=s}var tt="NGXS_SELECTOR_OPTIONS_META",nt={getOptions:t=>t?.[tt]||{},defineOptions:(t,o)=>{t&&(t[tt]=o)}};function nn(t,o){let e=He(t);e.originalFn=t;let n=()=>({});o&&(e.containerClass=o.containerClass,e.selectorName=o.selectorName||null,n=o.getSelectorOptions||n);let r=d({},e);return e.getSelectorOptions=()=>rn(r,n()),e}function rn(t,o){return d(d(d(d({},nt.getOptions(t.containerClass)||{}),nt.getOptions(t.originalFn)||{}),t.getSelectorOptions()||{}),o)}function on(t,o,e){let n=Ot(o,e),r=nn(o,e);return r.makeRootSelector=Dt(r,t,n),n}function K(t){return(o,e,n)=>{n||=Object.getOwnPropertyDescriptor(o,e);let r=n?.value,s=on(t,r,{containerClass:o,selectorName:e.toString(),getSelectorOptions(){return{}}});return{configurable:!0,get(){return s},originalFn:r}}}function Yn(t=[],...o){let e=[],n={};return o.length>0&&(sn(o[0])?e.push(...o):(n=o[0],e.push(...o.slice(1)))),xe([...en(t,n),Jt,e])}function sn(t){return!!t.\u0275providers}var Xn=new S("",{providedIn:"root",factory:()=>{let t=new Set;return i(Ue).onDestroy(()=>t.clear()),t}});var I=class{constructor(o,e){this.path=o;this.value=e}static type="[Benchmark] Update Deep Nested"},T=class{constructor(o,e){this.index=o;this.value=e}static type="[Benchmark] Update Array"},D=class{constructor(o){this.input=o}static type="[Benchmark] Compute Values"},j=class{constructor(o){this.updates=o}static type="[Benchmark] Batch Update"},q=class{static type="[Benchmark] Serialize State"},p=class{static getDeepNested(o){return o.deepNested}static getLargeArray(o){return o.largeArray}static getComputedResult(o){let{base:e,factors:n}=o.computedValues;return n.length===0?e:n.reduce((r,s)=>r*s+e,e)}updateDeepNested(o,e){let n=o.getState(),r=d({},n.deepNested),s=r;for(let a=0;a<e.path.length-1;a++){let c=e.path[a];s[c]||(s[c]={}),s[c]=d({},s[c]),s=s[c]}s[e.path[e.path.length-1]]=e.value,o.patchState({deepNested:r})}updateArray(o,e){let r=[...o.getState().largeArray];if(e.index>=r.length)for(;r.length<=e.index;)r.push({id:0,value:0});r[e.index]=e.value,o.patchState({largeArray:r})}computeValues(o,e){let n=Array.from({length:50},(r,s)=>Math.sin(e.input+s)*Math.cos(e.input*s));o.patchState({computedValues:{base:e.input,factors:n,result:n.reduce((r,s)=>r*s+e.input,e.input)}})}batchUpdate(o,e){let n=e.updates.reduce((r,s)=>(r[s.key]=s.value,r),{});o.patchState({batchData:d(d({},o.getState().batchData),n)})}serializeState(o){let e=o.getState(),n=JSON.stringify(e);o.patchState({serializedData:n})}};ee(p,"\u0275fac",function(e){return new(e||p)}),ee(p,"\u0275prov",f({token:p,factory:p.\u0275fac})),b([A(I)],p.prototype,"updateDeepNested",1),b([A(T)],p.prototype,"updateArray",1),b([A(D)],p.prototype,"computeValues",1),b([A(j)],p.prototype,"batchUpdate",1),b([A(q)],p.prototype,"serializeState",1),b([K()],p,"getDeepNested",1),b([K()],p,"getLargeArray",1),b([K()],p,"getComputedResult",1),p=b([pt({name:"benchmark",defaults:{deepNested:{},largeArray:[],computedValues:{base:0,factors:[]},batchData:{}}})],p);var ht=class t{store=i(w);yieldToUI=Ge();runDeepNestedBenchmark(n){return m(this,arguments,function*(o,e=l.DATA_GENERATION.NESTED_DEPTH){let r=performance.now(),s=[];for(let a=0;a<Math.min(o,l.ITERATIONS.DEEP_NESTED);a++){let c=Array.from({length:e},(h,g)=>`level${g}_${a%10}`),u=this.store.dispatch(new I(c,Math.random()*100)).toPromise();s.push(u),(a&l.YIELD_FREQUENCY.DEEP_NESTED)===0&&(yield Promise.all(s.splice(0)))}return yield Promise.all(s),performance.now()-r})}runArrayBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=Math.min(l.ITERATIONS.ARRAY_UPDATES,o),r=[];for(let s=0;s<n;s++){let a=s%o,c={id:s,value:Math.random()*1e3,timestamp:Date.now()},u=this.store.dispatch(new T(a,c)).toPromise();r.push(u),(s&l.YIELD_FREQUENCY.ARRAY_UPDATES)===0&&(yield Promise.all(r.splice(0)))}return yield Promise.all(r),performance.now()-e})}runComputedBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<Math.min(o,l.ITERATIONS.COMPUTED);r++)n.push(this.store.dispatch(new D(r)).toPromise()),this.store.selectOnce(p.getComputedResult).subscribe(),(r&l.YIELD_FREQUENCY.COMPUTED)===0&&(yield Promise.all(n.splice(0)));return yield Promise.all(n),performance.now()-e})}runBatchUpdatesBenchmark(){return m(this,arguments,function*(o=l.ITERATIONS.BATCH_UPDATES,e=l.ITERATIONS.BATCH_SIZE){let n=performance.now(),r=[];for(let s=0;s<o;s++){let a=Array.from({length:e},(c,u)=>({key:`batch${s}_item${u}`,value:Math.random()*100}));r.push(this.store.dispatch(new j(a)).toPromise()),(s&l.YIELD_FREQUENCY.BATCH_UPDATES)===0&&(yield Promise.all(r.splice(0)))}return yield Promise.all(r),performance.now()-n})}runSelectorBenchmark(o){return m(this,null,function*(){let e=performance.now();for(let n=0;n<Math.min(o/10,l.ITERATIONS.SELECTOR);n++)this.store.dispatch(new D(n));for(let n=0;n<l.ITERATIONS.SELECTOR;n++)this.store.selectOnce(p.getComputedResult).subscribe(),this.store.selectOnce(p.getDeepNested).subscribe(),this.store.selectOnce(p.getLargeArray).subscribe();return performance.now()-e})}runSerializationBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<Math.min(o/100,l.ITERATIONS.BATCH_UPDATES);r++)n.push(this.store.dispatch(new D(r)).toPromise()),n.push(this.store.dispatch(new T(r,{id:r,value:r,data:`item_${r}`})).toPromise());return yield Promise.all(n),yield this.store.dispatch(new q).toPromise(),performance.now()-e})}runConcurrentUpdatesBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=200;for(let r=0;r<n;r++){let s=[];for(let a=0;a<10;a++){let u=[`item${(r*10+a)%o}`],h=Math.random()*1e3,g=this.store.dispatch(new I(u,h)).toPromise();s.push(g)}yield Promise.all(s)}return performance.now()-e})}runMemoryEfficiencyBenchmark(o){return m(this,null,function*(){let e=performance.now();for(let n=0;n<Math.min(o,l.ITERATIONS.MEMORY_EFFICIENCY);n++){let r=["memory_test",`item_${n}`];this.store.dispatch(new I(r,{id:n,data:new Array(l.DATA_GENERATION.ARRAY_SIZE_100).fill(0).map(()=>Math.random()),metadata:{created:Date.now(),index:n}}))}return performance.now()-e})}runDataFetchingBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=Array.from({length:Math.min(o,l.ITERATIONS.DATA_FETCHING)},(r,s)=>({id:s,name:`Item ${s}`,category:`Category ${s%l.DATA_GENERATION.CATEGORY_COUNT}`,price:Math.random()*100,inStock:Math.random()>.5,value:s,metadata:{created:new Date(Date.now()-Math.random()*1e9).toISOString(),tags:[`tag${s%l.DATA_GENERATION.TAG_COUNT}`,`category${s%3}`]}}));for(let r=0;r<n.length;r++)this.store.dispatch(new T(r,n[r]));return performance.now()-e})}runRealTimeUpdatesBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=Math.min(o,l.ITERATIONS.REAL_TIME_UPDATES);for(let r=0;r<n;r++)switch(r%4){case 0:this.store.dispatch(new I(["live_metrics","current"],{timestamp:Date.now(),value:Math.random()*100}));break;case 1:this.store.dispatch(new T(r%50,{id:r,value:r,userId:`user_${r}`,status:Math.random()>.5?"online":"offline",lastSeen:Date.now()}));break;case 2:this.store.dispatch(new I(["chat","messages",r.toString()],{id:r,message:`Message ${r}`,timestamp:Date.now()}));break;case 3:this.store.dispatch(new j([{key:`notification_${r}`,value:{type:"info",message:`Update ${r}`,read:!1}}]));break}return performance.now()-e})}runStateSizeScalingBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=Math.min(o*l.DATA_SIZE_LIMITS.LARGE_DATASET.MULTIPLIER,l.DATA_SIZE_LIMITS.MEMORY_TEST.MAX);for(let r=0;r<n;r++){let s={id:r,type:`EntityType${r%10}`,properties:{name:`Entity ${r}`,category:`Cat_${r%20}`,value:Math.random()*1e3,active:Math.random()>.3},relationships:Array.from({length:Math.min(5,r%10)},(a,c)=>({targetId:Math.floor(Math.random()*Math.max(1,r)),type:`relation_${c}`,strength:Math.random()})),metadata:{created:Date.now(),version:1,tags:Array.from({length:r%5+1},(a,c)=>`tag_${c}_${r%3}`)}};this.store.dispatch(new I(["entities",r.toString()],s))}return performance.now()-e})}runAsyncWorkflowBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=[],r=Math.min(o,l.ITERATIONS.ASYNC_WORKFLOW||1e3);for(let s=0;s<r;s++)n.push(new Promise(a=>setTimeout(a,0)));return yield Promise.all(n),performance.now()-e})}runAsyncCancellationBenchmark(o){return m(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<o;r++){let s=setTimeout(()=>{},10);n.push({cancelled:!1,timer:s})}for(let r=0;r<Math.floor(o/2);r++){let s=n[r];s.timer&&(clearTimeout(s.timer),s.cancelled=!0,s.timer=null)}return yield new Promise(r=>setTimeout(r,10)),performance.now()-e})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Yn as a,p as b,ht as c};
