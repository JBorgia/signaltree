import{a as Xo}from"./chunk-VD6AHOHO.js";import"./chunk-7MB6DANI.js";import{a as Jo}from"./chunk-65CFWM2D.js";import{c as Qo}from"./chunk-QTCIWR2O.js";import{a as E,b as Tt}from"./chunk-X4WEGLGO.js";import"./chunk-YWKZDN6Z.js";import{a as No,b as Vo,c as Uo,d as jo,e as Wo,f as $o,g as Ho,h as qo,i as Ko,j as Yo,k as Go}from"./chunk-QQ3EH6F6.js";import"./chunk-75A3EJSS.js";import{$a as L,$b as W,Ab as G,B as je,Ca as To,Cb as F,D as xi,Eb as Io,Fb as Do,Gb as Ro,I as Ar,Ib as $e,J as pt,Jb as Ae,K as wo,Kb as Dr,L as ko,Lb as p,Mb as N,Na as C,Nb as j,O as st,Ob as ot,P as Eo,Q as un,Sb as Rr,Ub as fe,V as Ao,Vb as Vn,Wb as Te,Xa as vi,_ as Ci,_b as hn,a as M,aa as Tr,ac as Xt,b as O,c as vo,d as _i,da as We,ga as Y,h as Ke,ha as bt,ia as ie,j as I,jb as Yt,ka as Pi,m as So,n as dn,oa as ce,pa as le,q as _e,qa as At,qc as Bo,r as Ue,ra as Oi,rb as D,rc as Fo,s as yi,sa as Nn,sb as f,tb as g,tc as zo,u as Ln,ub as ge,uc as Lo,v as et,vc as Si,w as kr,x as Er,ya as Ir,yb as Gt,z as Mi,za as Ce}from"./chunk-IT4IGUIF.js";function Wn(i){return i+.5|0}var It=(i,t,e)=>Math.max(Math.min(i,e),t);function Un(i){return It(Wn(i*2.55),0,255)}function Dt(i){return It(Wn(i*255),0,255)}function _t(i){return It(Wn(i/2.55)/100,0,1)}function Zo(i){return It(Wn(i*100),0,100)}var Ye={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fr=[..."0123456789ABCDEF"],ld=i=>Fr[i&15],dd=i=>Fr[(i&240)>>4]+Fr[i&15],wi=i=>(i&240)>>4===(i&15),ud=i=>wi(i.r)&&wi(i.g)&&wi(i.b)&&wi(i.a);function hd(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Ye[i[1]]*17,g:255&Ye[i[2]]*17,b:255&Ye[i[3]]*17,a:t===5?Ye[i[4]]*17:255}:(t===7||t===9)&&(e={r:Ye[i[1]]<<4|Ye[i[2]],g:Ye[i[3]]<<4|Ye[i[4]],b:Ye[i[5]]<<4|Ye[i[6]],a:t===9?Ye[i[7]]<<4|Ye[i[8]]:255})),e}var md=(i,t)=>i<255?t(i):"";function gd(i){var t=ud(i)?ld:dd;return i?"#"+t(i.r)+t(i.g)+t(i.b)+md(i.a,t):void 0}var fd=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ia(i,t,e){let n=t*Math.min(e,1-e),r=(s,o=(s+i/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function pd(i,t,e){let n=(r,s=(r+i/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function bd(i,t,e){let n=ia(i,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function _d(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}function zr(i){let e=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(e,n,r),o=Math.min(e,n,r),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=_d(e,n,r,d,s),c=c*60+.5),[c|0,l||0,a]}function Lr(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(Dt)}function Nr(i,t,e){return Lr(ia,i,t,e)}function yd(i,t,e){return Lr(bd,i,t,e)}function Md(i,t,e){return Lr(pd,i,t,e)}function ra(i){return(i%360+360)%360}function xd(i){let t=fd.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Un(+t[5]):Dt(+t[5]));let r=ra(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=yd(r,s,o):t[1]==="hsv"?n=Md(r,s,o):n=Nr(r,s,o),{r:n[0],g:n[1],b:n[2],a:e}}function Cd(i,t){var e=zr(i);e[0]=ra(e[0]+t),e=Nr(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Pd(i){if(!i)return;let t=zr(i),e=t[0],n=Zo(t[1]),r=Zo(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${_t(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}var ea={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ta={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Od(){let i={},t=Object.keys(ta),e=Object.keys(ea),n,r,s,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],r=0;r<e.length;r++)s=e[r],a=a.replace(s,ea[s]);s=parseInt(ta[o],16),i[a]=[s>>16&255,s>>8&255,s&255]}return i}var ki;function vd(i){ki||(ki=Od(),ki.transparent=[0,0,0,0]);let t=ki[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Sd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wd(i){let t=Sd.exec(i),e=255,n,r,s;if(t){if(t[7]!==n){let o=+t[7];e=t[8]?Un(o):It(o*255,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?Un(n):It(n,0,255)),r=255&(t[4]?Un(r):It(r,0,255)),s=255&(t[6]?Un(s):It(s,0,255)),{r:n,g:r,b:s,a:e}}}function kd(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${_t(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var Br=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,mn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Ed(i,t,e){let n=mn(_t(i.r)),r=mn(_t(i.g)),s=mn(_t(i.b));return{r:Dt(Br(n+e*(mn(_t(t.r))-n))),g:Dt(Br(r+e*(mn(_t(t.g))-r))),b:Dt(Br(s+e*(mn(_t(t.b))-s))),a:i.a+e*(t.a-i.a)}}function Ei(i,t,e){if(i){let n=zr(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=Nr(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function sa(i,t){return i&&Object.assign(t||{},i)}function na(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Dt(i[3]))):(t=sa(i,{r:0,g:0,b:0,a:1}),t.a=Dt(t.a)),t}function Ad(i){return i.charAt(0)==="r"?wd(i):xd(i)}var jn=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=na(t):e==="string"&&(n=hd(t)||vd(t)||Ad(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=sa(this._rgb);return t&&(t.a=_t(t.a)),t}set rgb(t){this._rgb=na(t)}rgbString(){return this._valid?kd(this._rgb):void 0}hexString(){return this._valid?gd(this._rgb):void 0}hslString(){return this._valid?Pd(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,r=t.rgb,s,o=e===s?.5:e,a=2*o-1,c=n.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=Ed(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=Dt(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Wn(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ei(this._rgb,2,t),this}darken(t){return Ei(this._rgb,2,-t),this}saturate(t){return Ei(this._rgb,1,t),this}desaturate(t){return Ei(this._rgb,1,-t),this}rotate(t){return Cd(this._rgb,t),this}};function lt(){}var pa=(()=>{let i=0;return()=>i++})();function $(i){return i==null}function ee(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function H(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function oe(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function ze(i,t){return oe(i)?i:t}function z(i,t){return typeof i>"u"?t:i}var ba=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,Wr=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Q(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function X(i,t,e,n){let r,s,o;if(ee(i))if(s=i.length,n)for(r=s-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<s;r++)t.call(e,i[r],r);else if(H(i))for(o=Object.keys(i),s=o.length,r=0;r<s;r++)t.call(e,i[o[r]],o[r])}function qn(i,t){let e,n,r,s;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Ri(i){if(ee(i))return i.map(Ri);if(H(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,r=0;for(;r<n;++r)t[e[r]]=Ri(i[e[r]]);return t}return i}function _a(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Td(i,t,e,n){if(!_a(i))return;let r=t[i],s=e[i];H(r)&&H(s)?fn(r,s,n):t[i]=Ri(s)}function fn(i,t,e){let n=ee(t)?t:[t],r=n.length;if(!H(i))return i;e=e||{};let s=e.merger||Td,o;for(let a=0;a<r;++a){if(o=n[a],!H(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],i,o,e)}return i}function bn(i,t){return fn(i,t,{merger:Id})}function Id(i,t,e){if(!_a(i))return;let n=t[i],r=e[i];H(n)&&H(r)?bn(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Ri(r))}var oa={"":i=>i,x:i=>i.x,y:i=>i.y};function Dd(i){let t=i.split("."),e=[],n="";for(let r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function Rd(i){let t=Dd(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function xt(i,t){return(oa[t]||(oa[t]=Rd(t)))(i)}function Li(i){return i.charAt(0).toUpperCase()+i.slice(1)}var _n=i=>typeof i<"u",yt=i=>typeof i=="function",$r=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function ya(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var K=Math.PI,te=2*K,Bd=te+K,Bi=Number.POSITIVE_INFINITY,Fd=K/180,de=K/2,Jt=K/4,aa=K*2/3,Mt=Math.log10,tt=Math.sign;function yn(i,t,e){return Math.abs(i-t)<e}function Hr(i){let t=Math.round(i);i=yn(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Mt(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Ma(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function zd(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function en(i){return!zd(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function xa(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function qr(i,t,e){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ge(i){return i*(K/180)}function Ni(i){return i*(180/K)}function Kr(i){if(!oe(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function Yr(i,t){let e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n),s=Math.atan2(n,e);return s<-.5*K&&(s+=te),{angle:s,distance:r}}function Fi(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Ld(i,t){return(i-t+Bd)%te-K}function Se(i){return(i%te+te)%te}function Mn(i,t,e,n){let r=Se(i),s=Se(t),o=Se(e),a=Se(s-r),c=Se(o-r),l=Se(r-s),d=Se(r-o);return r===s||r===o||n&&s===o||a>c&&l<d}function ye(i,t,e){return Math.max(t,Math.min(e,i))}function Ca(i){return ye(i,-32768,32767)}function dt(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function Vi(i,t,e){e=e||(o=>i[o]<t);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,e(s)?r=s:n=s;return{lo:r,hi:n}}var at=(i,t,e,n)=>Vi(i,e,n?r=>{let s=i[r][t];return s<e||s===e&&i[r+1][t]===e}:r=>i[r][t]<e),Pa=(i,t,e)=>Vi(i,e,n=>i[n][t]>=e);function Oa(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}var va=["push","pop","shift","splice","unshift"];function Sa(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),va.forEach(e=>{let n="_onData"+Li(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function Gr(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(va.forEach(s=>{delete i[s]}),delete i._chartjs)}function Xr(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var Jr=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Qr(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,Jr.call(window,()=>{n=!1,i.apply(t,e)}))}}function wa(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var Ui=i=>i==="start"?"left":i==="end"?"right":"center",we=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,ka=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function Zr(i,t,e){let n=t.length,r=0,s=n;if(i._sorted){let{iScale:o,vScale:a,_parsed:c}=i,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,d=o.axis,{min:u,max:h,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(r=Math.min(at(c,d,u).lo,e?n:at(t,d,o.getPixelForValue(u)).lo),l){let b=c.slice(0,r+1).reverse().findIndex(_=>!$(_[a.axis]));r-=Math.max(0,b)}r=ye(r,0,n-1)}if(y){let b=Math.max(at(c,o.axis,h,!0).hi+1,e?0:at(t,d,o.getPixelForValue(h),!0).hi+1);if(l){let _=c.slice(b-1).findIndex(P=>!$(P[a.axis]));b+=Math.max(0,_)}s=ye(b,r,n)-r}else s=n-r}return{start:r,count:s}}function es(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;let s=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),s}var Ai=i=>i===0||i===1,ca=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*te/e)),la=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*te/e)+1,gn={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*de)+1,easeOutSine:i=>Math.sin(i*de),easeInOutSine:i=>-.5*(Math.cos(K*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Ai(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Ai(i)?i:ca(i,.075,.3),easeOutElastic:i=>Ai(i)?i:la(i,.075,.3),easeInOutElastic(i){return Ai(i)?i:i<.5?.5*ca(i*2,.1125,.45):.5+.5*la(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-gn.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?gn.easeInBounce(i*2)*.5:gn.easeOutBounce(i*2-1)*.5+.5};function ts(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ns(i){return ts(i)?i:new jn(i)}function Vr(i){return ts(i)?i:new jn(i).saturate(.5).darken(.1).hexString()}var Nd=["x","y","borderWidth","radius","tension"],Vd=["color","borderColor","backgroundColor"];function Ud(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Vd},numbers:{type:"number",properties:Nd}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function jd(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var da=new Map;function Wd(i,t){t=t||{};let e=i+JSON.stringify(t),n=da.get(e);return n||(n=new Intl.NumberFormat(i,t),da.set(e,n)),n}function xn(i,t,e){return Wd(t,e).format(i)}var Ea={values(i){return ee(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,r,s=i;if(e.length>1){let l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=$d(i,e)}let o=Mt(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),xn(i,n,c)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(Mt(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Ea.numeric.call(this,i,t,e):""}};function $d(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var Kn={formatters:Ea};function Hd(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Bt=Object.create(null),ji=Object.create(null);function $n(i,t){if(!t)return i;let e=t.split(".");for(let n=0,r=e.length;n<r;++n){let s=e[n];i=i[s]||(i[s]=Object.create(null))}return i}function Ur(i,t,e){return typeof t=="string"?fn($n(i,t),e):fn($n(i,""),t)}var jr=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Vr(r.backgroundColor),this.hoverBorderColor=(n,r)=>Vr(r.borderColor),this.hoverColor=(n,r)=>Vr(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ur(this,t,e)}get(t){return $n(this,t)}describe(t,e){return Ur(ji,t,e)}override(t,e){return Ur(Bt,t,e)}route(t,e,n,r){let s=$n(this,t),o=$n(this,n),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[a],l=o[r];return H(c)?Object.assign({},l,c):z(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}},re=new jr({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ud,jd,Hd]);function qd(i){return!i||$(i.size)||$(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Hn(i,t,e,n,r){let s=t[r];return s||(s=t[r]=i.measureText(r).width,e.push(r)),s>n&&(n=s),n}function Aa(i,t,e,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},s=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let o=0,a=e.length,c,l,d,u,h;for(c=0;c<a;c++)if(u=e[c],u!=null&&!ee(u))o=Hn(i,r,s,o,u);else if(ee(u))for(l=0,d=u.length;l<d;l++)h=u[l],h!=null&&!ee(h)&&(o=Hn(i,r,s,o,h));i.restore();let m=s.length/2;if(m>e.length){for(c=0;c<m;c++)delete r[s[c]];s.splice(0,m)}return o}function Ft(i,t,e){let n=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function is(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Wi(i,t,e,n){rs(i,t,e,n,null)}function rs(i,t,e,n,r){let s,o,a,c,l,d,u,h,m=t.pointStyle,y=t.rotation,b=t.radius,_=(y||0)*Fd;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(_),i.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),i.restore();return}if(!(isNaN(b)||b<=0)){switch(i.beginPath(),m){default:r?i.ellipse(e,n,r/2,b,0,0,te):i.arc(e,n,b,0,te),i.closePath();break;case"triangle":d=r?r/2:b,i.moveTo(e+Math.sin(_)*d,n-Math.cos(_)*b),_+=aa,i.lineTo(e+Math.sin(_)*d,n-Math.cos(_)*b),_+=aa,i.lineTo(e+Math.sin(_)*d,n-Math.cos(_)*b),i.closePath();break;case"rectRounded":l=b*.516,c=b-l,o=Math.cos(_+Jt)*c,u=Math.cos(_+Jt)*(r?r/2-l:c),a=Math.sin(_+Jt)*c,h=Math.sin(_+Jt)*(r?r/2-l:c),i.arc(e-u,n-a,l,_-K,_-de),i.arc(e+h,n-o,l,_-de,_),i.arc(e+u,n+a,l,_,_+de),i.arc(e-h,n+o,l,_+de,_+K),i.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*b,d=r?r/2:c,i.rect(e-d,n-c,2*d,2*c);break}_+=Jt;case"rectRot":u=Math.cos(_)*(r?r/2:b),o=Math.cos(_)*b,a=Math.sin(_)*b,h=Math.sin(_)*(r?r/2:b),i.moveTo(e-u,n-a),i.lineTo(e+h,n-o),i.lineTo(e+u,n+a),i.lineTo(e-h,n+o),i.closePath();break;case"crossRot":_+=Jt;case"cross":u=Math.cos(_)*(r?r/2:b),o=Math.cos(_)*b,a=Math.sin(_)*b,h=Math.sin(_)*(r?r/2:b),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o);break;case"star":u=Math.cos(_)*(r?r/2:b),o=Math.cos(_)*b,a=Math.sin(_)*b,h=Math.sin(_)*(r?r/2:b),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o),_+=Jt,u=Math.cos(_)*(r?r/2:b),o=Math.cos(_)*b,a=Math.sin(_)*b,h=Math.sin(_)*(r?r/2:b),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o);break;case"line":o=r?r/2:Math.cos(_)*b,a=Math.sin(_)*b,i.moveTo(e-o,n-a),i.lineTo(e+o,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(_)*(r?r/2:b),n+Math.sin(_)*b);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function ct(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Yn(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Gn(i){i.restore()}function Ta(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){let s=(t.x+e.x)/2;i.lineTo(s,t.y),i.lineTo(s,e.y)}else r==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Ia(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Kd(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),$(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function Yd(i,t,e,n,r){if(r.strikethrough||r.underline){let s=i.measureText(n),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,c=e-s.actualBoundingBoxAscent,l=e+s.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(o,d),i.lineTo(a,d),i.stroke()}}function Gd(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function zt(i,t,e,n,r,s={}){let o=ee(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(i.save(),i.font=r.string,Kd(i,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&Gd(i,s.backdrop),a&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),$(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(l,e,n,s.maxWidth)),i.fillText(l,e,n,s.maxWidth),Yd(i,e,n,l,s),n+=Number(r.lineHeight);i.restore()}function Cn(i,t){let{x:e,y:n,w:r,h:s,radius:o}=t;i.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*K,K,!0),i.lineTo(e,n+s-o.bottomLeft),i.arc(e+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,K,de,!0),i.lineTo(e+r-o.bottomRight,n+s),i.arc(e+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,de,0,!0),i.lineTo(e+r,n+o.topRight),i.arc(e+r-o.topRight,n+o.topRight,o.topRight,0,-de,!0),i.lineTo(e+o.topLeft,n)}var Xd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jd=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qd(i,t){let e=(""+i).match(Xd);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var Zd=i=>+i||0;function $i(i,t){let e={},n=H(t),r=n?Object.keys(t):t,s=H(i)?n?o=>z(i[o],i[t[o]]):o=>i[o]:()=>i;for(let o of r)e[o]=Zd(s(o));return e}function ss(i){return $i(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Lt(i){return $i(i,["topLeft","topRight","bottomLeft","bottomRight"])}function ke(i){let t=ss(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pe(i,t){i=i||{},t=t||re.font;let e=z(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=z(i.style,t.style);n&&!(""+n).match(Jd)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:z(i.family,t.family),lineHeight:Qd(z(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:z(i.weight,t.weight),string:""};return r.string=qd(r),r}function Pn(i,t,e,n){let r=!0,s,o,a;for(s=0,o=i.length;s<o;++s)if(a=i[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&ee(a)&&(a=a[e%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function Da(i,t,e){let{min:n,max:r}=i,s=Wr(t,(r-n)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function Ct(i,t){return Object.assign(Object.create(i),t)}function Hi(i,t=[""],e,n,r=()=>i[0]){let s=e||i;typeof n>"u"&&(n=Fa("_fallback",i));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:r,override:a=>Hi([a,...i],t,s,n)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete i[0][c],!0},get(a,c){return Ra(a,c,()=>au(c,t,i,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,c){return ha(a).includes(c)},ownKeys(a){return ha(a)},set(a,c,l){let d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function Zt(i,t,e,n){let r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:os(i,n),setContext:s=>Zt(i,s,e,n),override:s=>Zt(i.override(s),t,e,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete i[o],!0},get(s,o,a){return Ra(s,o,()=>tu(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(s,o,a){return i[o]=a,delete s[o],!0}})}function os(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:yt(e)?e:()=>e,isIndexable:yt(n)?n:()=>n}}var eu=(i,t)=>i?i+Li(t):t,as=(i,t)=>H(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ra(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function tu(i,t,e){let{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=i,a=n[t];return yt(a)&&o.isScriptable(t)&&(a=nu(t,a,i,e)),ee(a)&&a.length&&(a=iu(t,a,i,o.isIndexable)),as(t,a)&&(a=Zt(a,r,s&&s[t],o)),a}function nu(i,t,e,n){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let c=t(s,o||n);return a.delete(i),as(i,c)&&(c=cs(r._scopes,r,i,c)),c}function iu(i,t,e,n){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&n(i))return t[s.index%t.length];if(H(t[0])){let c=t,l=r._scopes.filter(d=>d!==c);t=[];for(let d of c){let u=cs(l,r,i,d);t.push(Zt(u,s,o&&o[i],a))}}return t}function Ba(i,t,e){return yt(i)?i(t,e):i}var ru=(i,t)=>i===!0?t:typeof i=="string"?xt(t,i):void 0;function su(i,t,e,n,r){for(let s of t){let o=ru(e,s);if(o){i.add(o);let a=Ba(o._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function cs(i,t,e,n){let r=t._rootScopes,s=Ba(t._fallback,e,n),o=[...i,...r],a=new Set;a.add(n);let c=ua(a,o,e,s||e,n);return c===null||typeof s<"u"&&s!==e&&(c=ua(a,o,s,c,n),c===null)?!1:Hi(Array.from(a),[""],r,s,()=>ou(t,e,n))}function ua(i,t,e,n,r){for(;e;)e=su(i,t,e,n,r);return e}function ou(i,t,e){let n=i._getTarget();t in n||(n[t]={});let r=n[t];return ee(r)&&H(e)?e:r||{}}function au(i,t,e,n){let r;for(let s of t)if(r=Fa(eu(s,i),e),typeof r<"u")return as(i,r)?cs(e,n,i,r):r}function Fa(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function ha(i){let t=i._keys;return t||(t=i._keys=cu(i._scopes)),t}function cu(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function ls(i,t,e,n){let{iScale:r}=i,{key:s="r"}=this._parsing,o=new Array(n),a,c,l,d;for(a=0,c=n;a<c;++a)l=a+e,d=t[l],o[a]={r:r.parse(xt(d,s),l)};return o}var lu=Number.EPSILON||1e-14,pn=(i,t)=>t<i.length&&!i[t].skip&&i[t],za=i=>i==="x"?"y":"x";function du(i,t,e,n){let r=i.skip?t:i,s=t,o=e.skip?t:e,a=Fi(s,r),c=Fi(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let u=n*l,h=n*d;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function uu(i,t,e){let n=i.length,r,s,o,a,c,l=pn(i,0);for(let d=0;d<n-1;++d)if(c=l,l=pn(i,d+1),!(!c||!l)){if(yn(t[d],0,lu)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],s=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[d]=r*o*t[d],e[d+1]=s*o*t[d])}}function hu(i,t,e="x"){let n=za(e),r=i.length,s,o,a,c=pn(i,0);for(let l=0;l<r;++l){if(o=a,a=c,c=pn(i,l+1),!a)continue;let d=a[e],u=a[n];o&&(s=(d-o[e])/3,a[`cp1${e}`]=d-s,a[`cp1${n}`]=u-s*t[l]),c&&(s=(c[e]-d)/3,a[`cp2${e}`]=d+s,a[`cp2${n}`]=u+s*t[l])}}function mu(i,t="x"){let e=za(t),n=i.length,r=Array(n).fill(0),s=Array(n),o,a,c,l=pn(i,0);for(o=0;o<n;++o)if(a=c,c=l,l=pn(i,o+1),!!c){if(l){let d=l[t]-c[t];r[o]=d!==0?(l[e]-c[e])/d:0}s[o]=a?l?tt(r[o-1])!==tt(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}uu(i,r,s),hu(i,s,t)}function Ti(i,t,e){return Math.max(Math.min(i,e),t)}function gu(i,t){let e,n,r,s,o,a=ct(i[0],t);for(e=0,n=i.length;e<n;++e)o=s,s=a,a=e<n-1&&ct(i[e+1],t),s&&(r=i[e],o&&(r.cp1x=Ti(r.cp1x,t.left,t.right),r.cp1y=Ti(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Ti(r.cp2x,t.left,t.right),r.cp2y=Ti(r.cp2y,t.top,t.bottom)))}function La(i,t,e,n,r){let s,o,a,c;if(t.spanGaps&&(i=i.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")mu(i,r);else{let l=n?i[i.length-1]:i[0];for(s=0,o=i.length;s<o;++s)a=i[s],c=du(l,a,i[Math.min(s+1,o-(n?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&gu(i,e)}function qi(){return typeof window<"u"&&typeof document<"u"}function Ki(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zi(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var Yi=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function fu(i,t){return Yi(i).getPropertyValue(t)}var pu=["top","right","bottom","left"];function Qt(i,t,e){let n={};e=e?"-"+e:"";for(let r=0;r<4;r++){let s=pu[r];n[s]=parseFloat(i[t+"-"+s+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var bu=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function _u(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:s}=n,o=!1,a,c;if(bu(r,s,i.target))a=r,c=s;else{let l=t.getBoundingClientRect();a=n.clientX-l.left,c=n.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Nt(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,r=Yi(e),s=r.boxSizing==="border-box",o=Qt(r,"padding"),a=Qt(r,"border","width"),{x:c,y:l,box:d}=_u(i,e),u=o.left+(d&&a.left),h=o.top+(d&&a.top),{width:m,height:y}=t;return s&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((c-u)/m*e.width/n),y:Math.round((l-h)/y*e.height/n)}}function yu(i,t,e){let n,r;if(t===void 0||e===void 0){let s=i&&Ki(i);if(!s)t=i.clientWidth,e=i.clientHeight;else{let o=s.getBoundingClientRect(),a=Yi(s),c=Qt(a,"border","width"),l=Qt(a,"padding");t=o.width-l.width-c.width,e=o.height-l.height-c.height,n=zi(a.maxWidth,s,"clientWidth"),r=zi(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:n||Bi,maxHeight:r||Bi}}var Ii=i=>Math.round(i*10)/10;function Na(i,t,e,n){let r=Yi(i),s=Qt(r,"margin"),o=zi(r.maxWidth,i,"clientWidth")||Bi,a=zi(r.maxHeight,i,"clientHeight")||Bi,c=yu(i,t,e),{width:l,height:d}=c;if(r.boxSizing==="content-box"){let h=Qt(r,"border","width"),m=Qt(r,"padding");l-=m.width+h.width,d-=m.height+h.height}return l=Math.max(0,l-s.width),d=Math.max(0,n?l/n:d-s.height),l=Ii(Math.min(l,o,c.maxWidth)),d=Ii(Math.min(d,a,c.maxHeight)),l&&!d&&(d=Ii(l/2)),(t!==void 0||e!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,l=Ii(Math.floor(d*n))),{width:l,height:d}}function ds(i,t,e){let n=t||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(i.currentDevicePixelRatio=n,o.height=r,o.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Va=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};qi()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function us(i,t){let e=fu(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Rt(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function Ua(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function ja(i,t,e,n){let r={x:i.cp2x,y:i.cp2y},s={x:t.cp1x,y:t.cp1y},o=Rt(i,r,e),a=Rt(r,s,e),c=Rt(s,t,e),l=Rt(o,a,e),d=Rt(a,c,e);return Rt(l,d,e)}var Mu=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},xu=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function tn(i,t,e){return i?Mu(t,e):xu()}function hs(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function ms(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Wa(i){return i==="angle"?{between:Mn,compare:Ld,normalize:Se}:{between:dt,compare:(t,e)=>t-e,normalize:t=>t}}function ma({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:r}}function Cu(i,t,e){let{property:n,start:r,end:s}=e,{between:o,normalize:a}=Wa(n),c=t.length,{start:l,end:d,loop:u}=i,h,m;if(u){for(l+=c,d+=c,h=0,m=c;h<m&&o(a(t[l%c][n]),r,s);++h)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:u,style:i.style}}function gs(i,t,e){if(!e)return[i];let{property:n,start:r,end:s}=e,o=t.length,{compare:a,between:c,normalize:l}=Wa(n),{start:d,end:u,loop:h,style:m}=Cu(i,t,e),y=[],b=!1,_=null,P,x,v,w=()=>c(r,v,P)&&a(r,v)!==0,S=()=>a(s,P)===0||c(s,v,P),k=()=>b||w(),R=()=>!b||S();for(let A=d,B=d;A<=u;++A)x=t[A%o],!x.skip&&(P=l(x[n]),P!==v&&(b=c(P,r,s),_===null&&k()&&(_=a(P,r)===0?A:B),_!==null&&R()&&(y.push(ma({start:_,end:A,loop:h,count:o,style:m})),_=null),B=A,v=P));return _!==null&&y.push(ma({start:_,end:u,loop:h,count:o,style:m})),y}function fs(i,t){let e=[],n=i.segments;for(let r=0;r<n.length;r++){let s=gs(n[r],i.points,t);s.length&&e.push(...s)}return e}function Pu(i,t,e,n){let r=0,s=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&i[s%t].skip;)s--;return s%=t,{start:r,end:s}}function Ou(i,t,e,n){let r=i.length,s=[],o=t,a=i[t],c;for(c=t+1;c<=e;++c){let l=i[c%r];l.skip||l.stop?a.skip||(n=!1,s.push({start:t%r,end:(c-1)%r,loop:n}),t=o=l.stop?c:null):(o=c,a.skip&&(t=c)),a=l}return o!==null&&s.push({start:t%r,end:o%r,loop:n}),s}function $a(i,t){let e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];let s=!!i._loop,{start:o,end:a}=Pu(e,r,s,n);if(n===!0)return ga(i,[{start:o,end:a,loop:s}],e,t);let c=a<o?a+r:a,l=!!i._fullLoop&&o===0&&a===r-1;return ga(i,Ou(e,o,c,l),e,t)}function ga(i,t,e,n){return!n||!n.setContext||!e?t:vu(i,t,e,n)}function vu(i,t,e,n){let r=i._chart.getContext(),s=fa(i.options),{_datasetIndex:o,options:{spanGaps:a}}=i,c=e.length,l=[],d=s,u=t[0].start,h=u;function m(y,b,_,P){let x=a?-1:1;if(y!==b){for(y+=c;e[y%c].skip;)y-=x;for(;e[b%c].skip;)b+=x;y%c!==b%c&&(l.push({start:y%c,end:b%c,loop:_,style:P}),d=P,u=b%c)}}for(let y of t){u=a?u:y.start;let b=e[u%c],_;for(h=u+1;h<=y.end;h++){let P=e[h%c];_=fa(n.setContext(Ct(r,{type:"segment",p0:b,p1:P,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Su(_,d)&&m(u,h-1,y.loop,d),b=P,d=_}u<h-1&&m(u,h-1,y.loop,d)}return l}function fa(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Su(i,t){if(!t)return!1;let e=[],n=function(r,s){return ts(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(i,n)!==JSON.stringify(t,n)}function Di(i,t,e){return i.options.clip?i[e]:t[e]}function wu(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:Di(e,t,"left"),right:Di(e,t,"right"),top:Di(n,t,"top"),bottom:Di(n,t,"bottom")}:t}function ps(i,t){let e=t._clip;if(e.disabled)return!1;let n=wu(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var ks=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){let s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Jr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let s=n.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),s.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Pt=new ks,Ha="transparent",ku={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=ns(i||Ha),r=n.valid&&ns(t||Ha);return r&&r.valid?r.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},Es=class{constructor(t,e,n,r){let s=e[n];r=Pn([t.to,r,s,t.from]);let o=Pn([t.from,s,r]);this._active=!0,this._fn=t.fn||ku[t.type||typeof o],this._easing=gn[t.easing]||gn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Pn([t.to,e,r,t.from]),this._from=Pn([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||e<n),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}c=e/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}},ir=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!H(t))return;let e=Object.keys(re.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let s=t[r];if(!H(s))return;let o={};for(let a of e)o[a]=s[a];(ee(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,e){let n=e.options,r=Au(t,n);if(!r)return[];let s=this._createAnimations(r,n);return n.$shared&&Eu(t.options.$animations,n).then(()=>{t.options=n},()=>{}),s}_createAnimations(t,e){let n=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(t,e));continue}let d=e[l],u=s[l],h=n.get(l);if(u)if(h&&u.active()){u.update(h,d,a);continue}else u.cancel();if(!h||!h.duration){t[l]=d;continue}s[l]=u=new Es(h,t,l,d),r.push(u)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Pt.add(this._chart,n),!0}};function Eu(i,t){let e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){let s=i[n[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function Au(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function qa(i,t){let e=i&&i.options||{},n=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:n?s:r,end:n?r:s}}function Tu(i,t,e){if(e===!1)return!1;let n=qa(i,e),r=qa(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Iu(i){let t,e,n,r;return H(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:i===!1}}function Hc(i,t){let e=[],n=i._getSortedDatasetMetas(t),r,s;for(r=0,s=n.length;r<s;++r)e.push(n[r].index);return e}function Ka(i,t,e,n={}){let r=i.keys,s=n.mode==="single",o,a,c,l;if(t===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===e){if(d=!0,n.all)continue;break}l=i.values[c],oe(l)&&(s||t===0||tt(t)===tt(l))&&(t+=l)}return!d&&!n.all?0:t}function Du(i,t){let{iScale:e,vScale:n}=t,r=e.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(i),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[r]:d,[s]:i[d]};return a}function bs(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function Ru(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Bu(i){let{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Fu(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function Ya(i,t,e,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let s=i[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function Ga(i,t){let{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=n,c=s.axis,l=o.axis,d=Ru(s,o,n),u=t.length,h;for(let m=0;m<u;++m){let y=t[m],{[c]:b,[l]:_}=y,P=y._stacks||(y._stacks={});h=P[l]=Fu(r,d,b),h[a]=_,h._top=Ya(h,o,!0,n.type),h._bottom=Ya(h,o,!1,n.type);let x=h._visualValues||(h._visualValues={});x[a]=_}}function _s(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function zu(i,t){return Ct(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Lu(i,t,e){return Ct(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Xn(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let r of t){let s=r._stacks;if(!s||s[n]===void 0||s[n][e]===void 0)return;delete s[n][e],s[n]._visualValues!==void 0&&s[n]._visualValues[e]!==void 0&&delete s[n]._visualValues[e]}}}var ys=i=>i==="reset"||i==="none",Xa=(i,t)=>t?i:Object.assign({},i),Nu=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Hc(e,!0),values:null},Ut=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=bs(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Xn(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,m,y,b)=>h==="x"?m:h==="r"?b:y,o=n.xAxisID=z(r.xAxisID,_s(e,"x")),a=n.yAxisID=z(r.yAxisID,_s(e,"y")),c=n.rAxisID=z(r.rAxisID,_s(e,"r")),l=n.indexAxis,d=n.iAxisID=s(l,o,a,c),u=n.vAxisID=s(l,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&Gr(this._data,this),e._stacked&&Xn(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(H(n)){let s=this._cachedMeta;this._data=Du(n,s)}else if(r!==n){if(r){Gr(r,this);let s=this._cachedMeta;Xn(s),s._parsed=[]}n&&Object.isExtensible(n)&&Sa(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=n._stacked;n._stacked=bs(n.vScale,n),n.stack!==r.stack&&(s=!0,Xn(n),n.stack=r.stack),this._resyncElements(e),(s||o!==n._stacked)&&(Ga(this,n._parsed),n._stacked=bs(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],u,h,m;if(this._parsing===!1)r._parsed=s,r._sorted=!0,m=s;else{ee(s[e])?m=this.parseArrayData(r,s,e,n):H(s[e])?m=this.parseObjectData(r,s,e,n):m=this.parsePrimitiveData(r,s,e,n);let y=()=>h[c]===null||d&&h[c]<d[c];for(u=0;u<n;++u)r._parsed[u+e]=h=m[u],l&&(y()&&(l=!1),d=h);r._sorted=l}a&&Ga(this,m)}parsePrimitiveData(e,n,r,s){let{iScale:o,vScale:a}=e,c=o.axis,l=a.axis,d=o.getLabels(),u=o===a,h=new Array(s),m,y,b;for(m=0,y=s;m<y;++m)b=m+r,h[m]={[c]:u||o.parse(d[b],b),[l]:a.parse(n[b],b)};return h}parseArrayData(e,n,r,s){let{xScale:o,yScale:a}=e,c=new Array(s),l,d,u,h;for(l=0,d=s;l<d;++l)u=l+r,h=n[u],c[l]={x:o.parse(h[0],u),y:a.parse(h[1],u)};return c}parseObjectData(e,n,r,s){let{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),u,h,m,y;for(u=0,h=s;u<h;++u)m=u+r,y=n[m],d[u]={x:o.parse(xt(y,c),m),y:a.parse(xt(y,l),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){let s=this.chart,o=this._cachedMeta,a=n[e.axis],c={keys:Hc(s,!0),values:n._stacks[e.axis]._visualValues};return Ka(c,a,o.index,{mode:r})}updateRangeFromParsed(e,n,r,s){let o=r[n.axis],a=o===null?NaN:o,c=s&&r._stacks[n.axis];s&&c&&(s.values=c,a=Ka(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,a=s.length,c=this._getOtherScale(e),l=Nu(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Bu(c),m,y;function b(){y=s[m];let _=y[c.axis];return!oe(y[e.axis])||u>_||h<_}for(m=0;m<a&&!(!b()&&(this.updateRangeFromParsed(d,e,y,l),o));++m);if(o){for(m=a-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(d,e,y,l);break}}return d}getAllParsedValues(e){let n=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][e.axis],oe(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=Iu(z(this.options.clip,Tu(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],o=n.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,u;for(r.dataset&&r.dataset.draw(e,o,c,l),u=c;u<c+l;++u){let h=s[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,o))}for(u=0;u<a.length;++u)a[u].draw(e,o)}getStyle(e,n){let r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){let s=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];o=a.$context||(a.$context=Lu(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=zu(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){let s=n==="active",o=this._cachedDataOpts,a=e+"-"+n,c=o[a],l=this.enableOptionSharing&&_n(r);if(c)return Xa(c,l);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),y=Object.keys(re.elements[e]),b=()=>this.getContext(r,s,n),_=d.resolveNamedOptions(m,y,b,h);return _.$shared&&(_.$shared=l,o[a]=Object.freeze(Xa(_,l))),_}_resolveAnimations(e,n,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),m=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(m,this.getContext(e,r,n))}let d=new ir(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ys(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:a}}updateElement(e,n,r,s){ys(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!ys(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;let o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,r=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=r.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,r=!0){let s=this._cachedMeta,o=s.data,a=e+n,c,l=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(l(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(e,n);r._stacked&&Xn(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function Vu(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let r=0,s=e.length;r<s;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=Xr(n.sort((r,s)=>r-s))}return i._cache.$bar}function Uu(i){let t=i.iScale,e=Vu(t,i.type),n=t._length,r,s,o,a,c=()=>{o===32767||o===-32768||(_n(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),c();return n}function ju(i,t,e,n){let r=e.barThickness,s,o;return $(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:t.pixels[i]-s/2}}function Wu(i,t,e,n){let r=t.pixels,s=r[i],o=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null,c=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/n,ratio:e.barPercentage,start:l}}function $u(i,t,e,n){let r=e.parse(i[0],n),s=e.parse(i[1],n),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function qc(i,t,e,n){return ee(i)?$u(i,t,e,n):t[e.axis]=e.parse(i,n),t}function Ja(i,t,e,n){let r=i.iScale,s=i.vScale,o=r.getLabels(),a=r===s,c=[],l,d,u,h;for(l=e,d=e+n;l<d;++l)h=t[l],u={},u[r.axis]=a||r.parse(o[l],l),c.push(qc(h,u,s,l));return c}function Ms(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Hu(i,t,e){return i!==0?tt(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function qu(i){let t,e,n,r,s;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:n,reverse:t,top:r,bottom:s}}function Ku(i,t,e,n){let r=t.borderSkipped,s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=qu(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=l:(e._bottom||0)===n?r=d:(s[Qa(d,o,a,c)]=!0,r=l)),s[Qa(r,o,a,c)]=!0,i.borderSkipped=s}function Qa(i,t,e,n){return n?(i=Yu(i,t,e),i=Za(i,e,t)):i=Za(i,t,e),i}function Yu(i,t,e){return i===t?e:i===e?t:i}function Za(i,t,e){return i==="start"?t:i==="end"?e:i}function Gu(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var Xu=(()=>{class i extends Ut{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return Ja(e,n,r,s)}parseArrayData(e,n,r,s){return Ja(e,n,r,s)}parseObjectData(e,n,r,s){let{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,u=a.axis==="x"?c:l,h=[],m,y,b,_;for(m=r,y=r+s;m<y;++m)_=n[m],b={},b[o.axis]=o.parse(xt(_,d),m),h.push(qc(xt(_,u),b,a,m));return h}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);let o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(e),a=o._custom,c=Ms(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,s);for(let y=n;y<n+r;y++){let b=this.getParsed(y),_=o||$(b[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),P=this._calculateBarIndexPixels(y,u),x=(b._stacks||{})[c.axis],v={horizontal:d,base:_.base,enableBorderRadius:!x||Ms(b._custom)||a===x._top||a===x._bottom,x:d?_.head:P.center,y:d?P.center:_.head,height:d?P.size:Math.abs(_.size),width:d?Math.abs(_.size):P.size};m&&(v.options=h||this.resolveDataElementOptions(y,e[y].active?"active":s));let w=v.options||e[y].options;Ku(v,w,x,a),Gu(v,w,u.ratio),this.updateElement(e[y],y,v,s)}}_getStacks(e,n){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),l=c&&c[r.axis],d=u=>{let h=u._parsed.find(y=>y[r.axis]===l),m=h&&h[u.vScale.axis];if($(m)||isNaN(m))return!0};for(let u of s)if(!(n!==void 0&&d(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)e[z(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){let s=this._getStacks(e,r),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){let e=this.options,n=this._cachedMeta,r=n.iScale,s=[],o,a;for(o=0,a=n.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=e.barThickness;return{min:c||Uu(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(e),d=l._custom,u=Ms(d),h=l[n.axis],m=0,y=r?this.applyStack(n,l,r):h,b,_;y!==h&&(m=y-h,y=h),u&&(h=d.barStart,y=d.barEnd-d.barStart,h!==0&&tt(h)!==tt(d.barEnd)&&(m=0),m+=h);let P=!$(o)&&!u?o:m,x=n.getPixelForValue(P);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(m+y):b=x,_=b-x,Math.abs(_)<a){_=Hu(_,n,c)*a,h===c&&(x-=_/2);let v=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),S=Math.min(v,w),k=Math.max(v,w);x=Math.max(Math.min(x,k),S),b=x+_,r&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(b)-n.getValueForPixel(x))}if(x===n.getPixelForValue(c)){let v=tt(_)*n.getLineWidthForValue(c)/2;x+=v,_-=v}return{size:_,base:x,head:b,center:b+_/2}}_calculateBarIndexPixels(e,n){let r=n.scale,s=this.options,o=s.skipNull,a=z(s.maxBarThickness,1/0),c,l,d=this._getAxisCount();if(n.grouped){let u=o?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?Wu(e,n,s,u*d):ju(e,n,s,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(z(m,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+y;c=h.start+h.chunk*b+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return i})(),Ju=(()=>{class i extends Ut{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){let o=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,n,r,s){let o=super.parseArrayData(e,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=z(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(e,n,r,s){let o=super.parseObjectData(e,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=z(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,s),u=a.axis,h=c.axis;for(let m=n;m<n+r;m++){let y=e[m],b=!o&&this.getParsed(m),_={},P=_[u]=o?a.getPixelForDecimal(.5):a.getPixelForValue(b[u]),x=_[h]=o?c.getBasePixel():c.getPixelForValue(b[h]);_.skip=isNaN(P)||isNaN(x),d&&(_.options=l||this.resolveDataElementOptions(m,y.active?"active":s),o&&(_.options.radius=0)),this.updateElement(y,m,_,s)}}resolveDataElementOptions(e,n){let r=this.getParsed(e),s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=z(r&&r._custom,o),s}}return i})();function Qu(i,t,e){let n=1,r=1,s=0,o=0;if(t<te){let a=i,c=a+t,l=Math.cos(a),d=Math.sin(a),u=Math.cos(c),h=Math.sin(c),m=(v,w,S)=>Mn(v,a,c,!0)?1:Math.max(w,w*e,S,S*e),y=(v,w,S)=>Mn(v,a,c,!0)?-1:Math.min(w,w*e,S,S*e),b=m(0,l,u),_=m(de,d,h),P=y(K,l,u),x=y(K+de,d,h);n=(b-P)/2,r=(_-x)/2,s=-(b+P)/2,o=-(_+x)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}var Gs=(()=>{class i extends Ut{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((o,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if(H(r[e])){let{key:l="value"}=this._parsing;o=d=>+xt(r[d],l)}let a,c;for(a=e,c=e+n;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Ge(this.options.rotation-90)}_getCircumference(){return Ge(this.options.circumference)}_getRotationExtents(){let e=te,n=-te;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),n=Math.max(n,o+a)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(ba(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:y,offsetX:b,offsetY:_}=Qu(h,u,l),P=(r.width-a)/m,x=(r.height-a)/y,v=Math.max(Math.min(P,x)/2,0),w=Wr(this.options.radius,v),S=Math.max(w*l,0),k=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=b*w,this.offsetY=_*w,s.total=this.calculateTotal(),this.outerRadius=w-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/te)}updateElements(e,n,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,u=(c.left+c.right)/2,h=(c.top+c.bottom)/2,m=o&&d.animateScale,y=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:_,includeOptions:P}=this._getSharedOptions(n,s),x=this._getRotation(),v;for(v=0;v<n;++v)x+=this._circumference(v,o);for(v=n;v<n+r;++v){let w=this._circumference(v,o),S=e[v],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:b,innerRadius:y};P&&(k.options=_||this.resolveDataElementOptions(v,S.active?"active":s)),x+=w,this.updateElement(S,v,k,s)}}calculateTotal(){let e=this._cachedMeta,n=e.data,r=0,s;for(s=0;s<n.length;s++){let o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?te*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=xn(n._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let n=0,r=this.chart,s,o,a,c,l;if(!e){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,c=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){let o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(z(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),Zu=(()=>{class i extends Ut{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled,{start:c,count:l}=Zr(n,s,a);this._drawStart=c,this._drawCount=l,es(n)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(s,c,l,e)}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),m=a.axis,y=c.axis,{spanGaps:b,segment:_}=this.options,P=en(b)?b:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||s==="none",v=n+r,w=e.length,S=n>0&&this.getParsed(n-1);for(let k=0;k<w;++k){let R=e[k],A=x?R:{};if(k<n||k>=v){A.skip=!0;continue}let B=this.getParsed(k),U=$(B[y]),V=A[m]=a.getPixelForValue(B[m],k),q=A[y]=o||U?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,B,l):B[y],k);A.skip=isNaN(V)||isNaN(q)||U,A.stop=k>0&&Math.abs(B[m]-S[m])>P,_&&(A.parsed=B,A.raw=d.data[k]),h&&(A.options=u||this.resolveDataElementOptions(k,R.active?"active":s)),x||this.updateElement(R,k,A,s),S=B}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),Kc=(()=>{class i extends Ut{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((o,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=xn(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,n,r,s){return ls.bind(this)(e,n,r,s)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/e.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,n,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,m=d.getIndexAngle(0)-.5*K,y=m,b,_=360/this.countVisibleElements();for(b=0;b<n;++b)y+=this._computeAngle(b,s,_);for(b=n;b<n+r;b++){let P=e[b],x=y,v=y+this._computeAngle(b,s,_),w=a.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=v,o&&(l.animateScale&&(w=0),l.animateRotate&&(x=v=m));let S={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:x,endAngle:v,options:this.resolveDataElementOptions(b,P.active?"active":s)};this.updateElement(P,b,S,s)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Ge(this.resolveDataElementOptions(e,n).angle||r):0}}return i})(),eh=(()=>{class i extends Gs{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),th=(()=>{class i extends Ut{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return ls.bind(this)(e,n,r,s)}update(e){let n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=n;c<n+r;c++){let l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":s),u=o.getPointPositionForValue(c,this.getParsed(c).r),h=a?o.xCenter:u.x,m=a?o.yCenter:u.y,y={x:h,y:m,angle:u.angle,skip:isNaN(h)||isNaN(m),options:d};this.updateElement(l,c,y,s)}}}return i})(),nh=(()=>{class i extends Ut{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){let n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled,{start:o,count:a}=Zr(n,r,s);if(this._drawStart=o,this._drawCount=a,es(n)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),m=this.includeOptions(s,h),y=a.axis,b=c.axis,{spanGaps:_,segment:P}=this.options,x=en(_)?_:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||s==="none",w=n>0&&this.getParsed(n-1);for(let S=n;S<n+r;++S){let k=e[S],R=this.getParsed(S),A=v?k:{},B=$(R[b]),U=A[y]=a.getPixelForValue(R[y],S),V=A[b]=o||B?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,R,l):R[b],S);A.skip=isNaN(U)||isNaN(V)||B,A.stop=S>0&&Math.abs(R[y]-w[y])>x,P&&(A.parsed=R,A.raw=d.data[S]),m&&(A.options=h||this.resolveDataElementOptions(S,k.active?"active":s)),v||this.updateElement(k,S,A,s),w=R}this.updateSharedOptions(h,s,u)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;let o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}return i})(),ih=Object.freeze({__proto__:null,BarController:Xu,BubbleController:Ju,DoughnutController:Gs,LineController:Zu,PieController:eh,PolarAreaController:Kc,RadarController:th,ScatterController:nh});function nn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var As=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return nn()}parse(){return nn()}format(){return nn()}add(){return nn()}diff(){return nn()}startOf(){return nn()}endOf(){return nn()}},rh={_date:As};function sh(i,t,e,n){let{controller:r,data:s,_sorted:o}=i,a=r._cachedMeta.iScale,c=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){let l=a._reversePixels?Pa:at;if(n){if(r._sharedOptions){let d=s[0],u=typeof d.getRange=="function"&&d.getRange(t);if(u){let h=l(s,t,e-u),m=l(s,t,e+u);return{lo:h.lo,hi:m.hi}}}}else{let d=l(s,t,e);if(c){let{vScale:u}=r._cachedMeta,{_parsed:h}=i,m=h.slice(0,d.lo+1).reverse().findIndex(b=>!$(b[u.axis]));d.lo-=Math.max(0,m);let y=h.slice(d.hi).findIndex(b=>!$(b[u.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:s.length-1}}function oi(i,t,e,n,r){let s=i.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:u,hi:h}=sh(s[a],t,o,r);for(let m=u;m<=h;++m){let y=d[m];y.skip||n(y,l,m)}}}function oh(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,r){let s=t?Math.abs(n.x-r.x):0,o=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function xs(i,t,e,n,r){let s=[];return!r&&!i.isPointInArea(t)||oi(i,e,t,function(a,c,l){!r&&!ct(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function ah(i,t,e,n){let r=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:u}=Yr(o,{x:t.x,y:t.y});Mn(u,l,d)&&r.push({element:o,datasetIndex:a,index:c})}return oi(i,e,t,s),r}function ch(i,t,e,n,r,s){let o=[],a=oh(e),c=Number.POSITIVE_INFINITY;function l(d,u,h){let m=d.inRange(t.x,t.y,r);if(n&&!m)return;let y=d.getCenterPoint(r);if(!(!!s||i.isPointInArea(y))&&!m)return;let _=a(t,y);_<c?(o=[{element:d,datasetIndex:u,index:h}],c=_):_===c&&o.push({element:d,datasetIndex:u,index:h})}return oi(i,e,t,l),o}function Cs(i,t,e,n,r,s){return!s&&!i.isPointInArea(t)?[]:e==="r"&&!n?ah(i,t,e,r):ch(i,t,e,n,r,s)}function ec(i,t,e,n,r){let s=[],o=e==="x"?"inXRange":"inYRange",a=!1;return oi(i,e,t,(c,l,d)=>{c[o]&&c[o](t[e],r)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),n&&!a?[]:s}var lh={evaluateInteractionItems:oi,modes:{index(i,t,e,n){let r=Nt(t,i),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?xs(i,r,s,n,o):Cs(i,r,s,!1,n,o),c=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,u=l.data[d];u&&!u.skip&&c.push({element:u,datasetIndex:l.index,index:d})}),c):[]},dataset(i,t,e,n){let r=Nt(t,i),s=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?xs(i,r,s,n,o):Cs(i,r,s,!1,n,o);if(a.length>0){let c=a[0].datasetIndex,l=i.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(i,t,e,n){let r=Nt(t,i),s=e.axis||"xy",o=e.includeInvisible||!1;return xs(i,r,s,n,o)},nearest(i,t,e,n){let r=Nt(t,i),s=e.axis||"xy",o=e.includeInvisible||!1;return Cs(i,r,s,e.intersect,n,o)},x(i,t,e,n){let r=Nt(t,i);return ec(i,r,"x",e.intersect,n)},y(i,t,e,n){let r=Nt(t,i);return ec(i,r,"y",e.intersect,n)}}},Yc=["left","top","right","bottom"];function Jn(i,t){return i.filter(e=>e.pos===t)}function tc(i,t){return i.filter(e=>Yc.indexOf(e.pos)===-1&&e.box.axis===t)}function Qn(i,t){return i.sort((e,n)=>{let r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function dh(i){let t=[],e,n,r,s,o,a;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function uh(i){let t={};for(let e of i){let{stack:n,pos:r,stackWeight:s}=e;if(!n||!Yc.includes(r))continue;let o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function hh(i,t){let e=uh(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t,s,o,a;for(s=0,o=i.length;s<o;++s){a=i[s];let{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*n:c&&t.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:c&&t.availableHeight)}return e}function mh(i){let t=dh(i),e=Qn(t.filter(l=>l.box.fullSize),!0),n=Qn(Jn(t,"left"),!0),r=Qn(Jn(t,"right")),s=Qn(Jn(t,"top"),!0),o=Qn(Jn(t,"bottom")),a=tc(t,"x"),c=tc(t,"y");return{fullSize:e,leftAndTop:n.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:Jn(t,"chartArea"),vertical:n.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function nc(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function Gc(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function gh(i,t,e,n){let{pos:r,box:s}=e,o=i.maxPadding;if(!H(r)){e.size&&(i[r]-=e.size);let u=n[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?s.height:s.width),e.size=u.size/u.count,i[r]+=e.size}s.getPadding&&Gc(o,s.getPadding());let a=Math.max(0,t.outerWidth-nc(o,i,"left","right")),c=Math.max(0,t.outerHeight-nc(o,i,"top","bottom")),l=a!==i.w,d=c!==i.h;return i.w=a,i.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function fh(i){let t=i.maxPadding;function e(n){let r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function ph(i,t){let e=t.maxPadding;function n(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return n(i?["left","right"]:["top","bottom"])}function ti(i,t,e,n){let r=[],s,o,a,c,l,d;for(s=0,o=i.length,l=0;s<o;++s){a=i[s],c=a.box,c.update(a.width||t.w,a.height||t.h,ph(a.horizontal,t));let{same:u,other:h}=gh(t,e,a,n);l|=u&&r.length,d=d||h,c.fullSize||r.push(a)}return l&&ti(r,t,e,n)||d}function Gi(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function ic(i,t,e,n){let r=e.padding,{x:s,y:o}=t;for(let a of i){let c=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let u=t.w*d,h=l.size||c.height;_n(l.start)&&(o=l.start),c.fullSize?Gi(c,r.left,o,e.outerWidth-r.right-r.left,h):Gi(c,t.left+l.placed,o,u,h),l.start=o,l.placed+=u,o=c.bottom}else{let u=t.h*d,h=l.size||c.width;_n(l.start)&&(s=l.start),c.fullSize?Gi(c,s,r.top,h,e.outerHeight-r.bottom-r.top):Gi(c,s,t.top+l.placed,h,u),l.start=s,l.placed+=u,s=c.right}}t.x=s,t.y=o}var Ie={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let r=ke(i.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=mh(i.boxes),c=a.vertical,l=a.horizontal;X(i.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});let d=c.reduce((b,_)=>_.box.options&&_.box.options.display===!1?b:b+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},r);Gc(h,ke(n));let m=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),y=hh(c.concat(l),u);ti(a.fullSize,m,u,y),ti(c,m,u,y),ti(l,m,u,y)&&ti(c,m,u,y),fh(m),ic(a.leftAndTop,m,u,y),m.x+=m.w,m.y+=m.h,ic(a.rightAndBottom,m,u,y),i.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},X(a.chartArea,b=>{let _=b.box;Object.assign(_,i.chartArea),_.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},rr=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}},Ts=class extends rr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},tr="$chartjs",bh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rc=i=>i===null||i==="";function _h(i,t){let e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[tr]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",rc(r)){let s=us(i,"width");s!==void 0&&(i.width=s)}if(rc(n))if(i.style.height==="")i.height=i.width/(t||2);else{let s=us(i,"height");s!==void 0&&(i.height=s)}return i}var Xc=Va?{passive:!0}:!1;function yh(i,t,e){i&&i.addEventListener(t,e,Xc)}function Mh(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,Xc)}function xh(i,t){let e=bh[i.type]||i.type,{x:n,y:r}=Nt(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function sr(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Ch(i,t,e){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||sr(a.addedNodes,n),o=o&&!sr(a.removedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ph(i,t,e){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||sr(a.removedNodes,n),o=o&&!sr(a.addedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var ii=new Map,sc=0;function Jc(){let i=window.devicePixelRatio;i!==sc&&(sc=i,ii.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Oh(i,t){ii.size||window.addEventListener("resize",Jc),ii.set(i,t)}function vh(i){ii.delete(i),ii.size||window.removeEventListener("resize",Jc)}function Sh(i,t,e){let n=i.canvas,r=n&&Ki(n);if(!r)return;let s=Qr((a,c)=>{let l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(r),Oh(i,s),o}function Ps(i,t,e){e&&e.disconnect(),t==="resize"&&vh(i)}function wh(i,t,e){let n=i.canvas,r=Qr(s=>{i.ctx!==null&&e(xh(s,i))},i);return yh(n,t,r),r}var Is=class extends rr{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(_h(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[tr])return!1;let n=e[tr].initial;["height","width"].forEach(s=>{let o=n[s];$(o)?e.removeAttribute(s):e.setAttribute(s,o)});let r=n.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[tr],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),o={attach:Ch,detach:Ph,resize:Sh}[e]||wh;r[e]=o(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:Ps,detach:Ps,resize:Ps}[e]||Mh)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return Na(t,e,n,r)}isAttached(t){let e=t&&Ki(t);return!!(e&&e.isConnected)}};function kh(i){return!qi()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Ts:Is}var nt=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return en(this.x)&&en(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let r={};return t.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}};function Eh(i,t){let e=i.options.ticks,n=Ah(i),r=Math.min(e.maxTicksLimit||n,n),s=e.major.enabled?Ih(t):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return Dh(t,l,s,o/r),l;let d=Th(s,t,r);if(o>0){let u,h,m=o>1?Math.round((c-a)/(o-1)):null;for(Xi(t,l,d,$(m)?0:a-m,a),u=0,h=o-1;u<h;u++)Xi(t,l,d,s[u],s[u+1]);return Xi(t,l,d,c,$(m)?t.length:c+m),l}return Xi(t,l,d),l}function Ah(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(n,r))}function Th(i,t,e){let n=Rh(i),r=t.length/e;if(!n)return Math.max(r,1);let s=Ma(n);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function Ih(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Dh(i,t,e,n){let r=0,s=e[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===s&&(t.push(i[o]),r++,s=e[r*n])}function Xi(i,t,e,n,r){let s=z(n,0),o=Math.min(z(r,i.length),i.length),a=0,c,l,d;for(e=Math.ceil(e),r&&(c=r-n,e=c/Math.floor(c/e)),d=s;d<0;)a++,d=Math.round(s+a*e);for(l=Math.max(s,0);l<o;l++)l===d&&(t.push(i[l]),a++,d=Math.round(s+a*e))}function Rh(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var Bh=i=>i==="left"?"right":i==="right"?"left":i,oc=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,ac=(i,t)=>Math.min(t||i,i);function cc(i,t){let e=[],n=i.length/t,r=i.length,s=0;for(;s<r;s+=n)e.push(i[Math.floor(s)]);return e}function Fh(i,t,e){let n=i.ticks.length,r=Math.min(t,n-1),s=i._startPixel,o=i._endPixel,a=1e-6,c=i.getPixelForTick(r),l;if(!(e&&(n===1?l=Math.max(c-s,o-c):t===0?l=(i.getPixelForTick(1)-c)/2:l=(c-i.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function zh(i,t){X(i,e=>{let n=e.gc,r=n.length/2,s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}})}function Zn(i){return i.drawTicks?i.tickLength:0}function lc(i,t){if(!i.display)return 0;let e=pe(i.font,t),n=ke(i.padding);return(ee(i.text)?i.text.length:1)*e.lineHeight+n.height}function Lh(i,t){return Ct(i,{scale:t,type:"scale"})}function Nh(i,t,e){return Ct(i,{tick:e,index:t,type:"tick"})}function Vh(i,t,e){let n=Ui(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Bh(n)),n}function Uh(i,t,e,n){let{top:r,left:s,bottom:o,right:a,chart:c}=i,{chartArea:l,scales:d}=c,u=0,h,m,y,b=o-r,_=a-s;if(i.isHorizontal()){if(m=we(n,s,a),H(e)){let P=Object.keys(e)[0],x=e[P];y=d[P].getPixelForValue(x)+b-t}else e==="center"?y=(l.bottom+l.top)/2+b-t:y=oc(i,e,t);h=a-s}else{if(H(e)){let P=Object.keys(e)[0],x=e[P];m=d[P].getPixelForValue(x)-_+t}else e==="center"?m=(l.left+l.right)/2-_+t:m=oc(i,e,t);y=we(n,o,r),u=e==="left"?-de:de}return{titleX:m,titleY:y,maxWidth:h,rotation:u}}var sn=class i extends nt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=ze(t,Number.POSITIVE_INFINITY),e=ze(e,Number.NEGATIVE_INFINITY),n=ze(n,Number.POSITIVE_INFINITY),r=ze(r,Number.NEGATIVE_INFINITY),{min:ze(t,n),max:ze(e,r),minDefined:oe(t),maxDefined:oe(e)}}getMinMax(t){let{min:e,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:n};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(n=Math.max(n,o.max));return e=s&&e>n?n:e,n=r&&e>n?e:n,{min:ze(e,ze(n,e)),max:ze(n,ze(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Q(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Da(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?cc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Eh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Q(this.options.afterUpdate,[this])}beforeSetDimensions(){Q(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Q(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Q(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,r,s;for(n=0,r=t.length;n<r;n++)s=t[n],s.label=Q(e.callback,[s.value,n,t],this)}afterTickToLabelConversion(){Q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=ac(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation,o=r,a,c,l;if(!this._isVisible()||!e.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,m=ye(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:m/(n-1),u+6>a&&(a=m/(n-(t.offset?.5:1)),c=this.maxHeight-Zn(t.grid)-e.padding-lc(t.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),o=Ni(Math.min(Math.asin(ye((d.highest.height+6)/a,-1,1)),Math.asin(ye(c/l,-1,1))-Math.asin(ye(h/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Q(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Q(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=lc(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Zn(s)+c):(t.height=this.maxHeight,t.width=Zn(s)+c),n.display&&this.ticks.length){let{first:l,last:d,widest:u,highest:h}=this._getLabelSizes(),m=n.padding*2,y=Ge(this.labelRotation),b=Math.cos(y),_=Math.sin(y);if(a){let P=n.mirror?0:_*u.width+b*h.height;t.height=Math.min(this.maxHeight,t.height+P+m)}else{let P=n.mirror?0:b*u.width+_*h.height;t.width=Math.min(this.maxWidth,t.width+P+m)}this._calculatePadding(l,d,_,b)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),h=0,m=0;c?l?(h=r*t.width,m=n*e.height):(h=n*t.height,m=r*e.width):s==="start"?m=e.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,m=e.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-u+o)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;s==="start"?(d=0,u=t.height):s==="end"&&(d=e.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Q(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)$(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=cc(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(e/ac(e,n)),l=0,d=0,u,h,m,y,b,_,P,x,v,w,S;for(u=0;u<e;u+=c){if(y=t[u].label,b=this._resolveTickFontOptions(u),r.font=_=b.string,P=s[_]=s[_]||{data:{},gc:[]},x=b.lineHeight,v=w=0,!$(y)&&!ee(y))v=Hn(r,P.data,P.gc,v,y),w=x;else if(ee(y))for(h=0,m=y.length;h<m;++h)S=y[h],!$(S)&&!ee(S)&&(v=Hn(r,P.data,P.gc,v,S),w+=x);o.push(v),a.push(w),l=Math.max(v,l),d=Math.max(w,d)}zh(s,e);let k=o.indexOf(l),R=a.indexOf(d),A=B=>({width:o[B]||0,height:a[B]||0});return{first:A(0),last:A(e-1),widest:A(k),highest:A(R),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Ca(this._alignToPixels?Ft(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=Nh(this.getContext(),t,n))}return this.$context||(this.$context=Lh(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Ge(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*n>a*r?a/n:c/r:c*r<a*n?c/n:a/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),h=Zn(s),m=[],y=a.setContext(this.getContext()),b=y.display?y.width:0,_=b/2,P=function(se){return Ft(n,se,b)},x,v,w,S,k,R,A,B,U,V,q,ve;if(o==="top")x=P(this.bottom),R=this.bottom-h,B=x-_,V=P(t.top)+_,ve=t.bottom;else if(o==="bottom")x=P(this.top),V=t.top,ve=P(t.bottom)-_,R=x+_,B=this.top+h;else if(o==="left")x=P(this.right),k=this.right-h,A=x-_,U=P(t.left)+_,q=t.right;else if(o==="right")x=P(this.left),U=t.left,q=P(t.right)-_,k=x+_,A=this.left+h;else if(e==="x"){if(o==="center")x=P((t.top+t.bottom)/2+.5);else if(H(o)){let se=Object.keys(o)[0],ue=o[se];x=P(this.chart.scales[se].getPixelForValue(ue))}V=t.top,ve=t.bottom,R=x+_,B=R+h}else if(e==="y"){if(o==="center")x=P((t.left+t.right)/2);else if(H(o)){let se=Object.keys(o)[0],ue=o[se];x=P(this.chart.scales[se].getPixelForValue(ue))}k=x-_,A=k-h,U=t.left,q=t.right}let Ve=z(r.ticks.maxTicksLimit,u),J=Math.max(1,Math.ceil(u/Ve));for(v=0;v<u;v+=J){let se=this.getContext(v),ue=s.setContext(se),Ze=a.setContext(se),Ee=ue.lineWidth,cn=ue.color,bi=Ze.dash||[],ln=Ze.dashOffset,Fn=ue.tickWidth,qt=ue.tickColor,zn=ue.tickBorderDash||[],Kt=ue.tickBorderDashOffset;w=Fh(this,v,c),w!==void 0&&(S=Ft(n,w,Ee),l?k=A=U=q=S:R=B=V=ve=S,m.push({tx1:k,ty1:R,tx2:A,ty2:B,x1:U,y1:V,x2:q,y2:ve,width:Ee,color:cn,borderDash:bi,borderDashOffset:ln,tickWidth:Fn,tickColor:qt,tickBorderDash:zn,tickBorderDashOffset:Kt}))}return this._ticksLength=u,this._borderValue=x,m}_computeLabelItems(t){let e=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:u}=s,h=Zn(n.grid),m=h+d,y=u?-d:m,b=-Ge(this.labelRotation),_=[],P,x,v,w,S,k,R,A,B,U,V,q,ve="middle";if(r==="top")k=this.bottom-y,R=this._getXAxisLabelAlignment();else if(r==="bottom")k=this.top+y,R=this._getXAxisLabelAlignment();else if(r==="left"){let J=this._getYAxisLabelAlignment(h);R=J.textAlign,S=J.x}else if(r==="right"){let J=this._getYAxisLabelAlignment(h);R=J.textAlign,S=J.x}else if(e==="x"){if(r==="center")k=(t.top+t.bottom)/2+m;else if(H(r)){let J=Object.keys(r)[0],se=r[J];k=this.chart.scales[J].getPixelForValue(se)+m}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")S=(t.left+t.right)/2-m;else if(H(r)){let J=Object.keys(r)[0],se=r[J];S=this.chart.scales[J].getPixelForValue(se)}R=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(c==="start"?ve="top":c==="end"&&(ve="bottom"));let Ve=this._getLabelSizes();for(P=0,x=a.length;P<x;++P){v=a[P],w=v.label;let J=s.setContext(this.getContext(P));A=this.getPixelForTick(P)+s.labelOffset,B=this._resolveTickFontOptions(P),U=B.lineHeight,V=ee(w)?w.length:1;let se=V/2,ue=J.color,Ze=J.textStrokeColor,Ee=J.textStrokeWidth,cn=R;o?(S=A,R==="inner"&&(P===x-1?cn=this.options.reverse?"left":"right":P===0?cn=this.options.reverse?"right":"left":cn="center"),r==="top"?l==="near"||b!==0?q=-V*U+U/2:l==="center"?q=-Ve.highest.height/2-se*U+U:q=-Ve.highest.height+U/2:l==="near"||b!==0?q=U/2:l==="center"?q=Ve.highest.height/2-se*U:q=Ve.highest.height-V*U,u&&(q*=-1),b!==0&&!J.showLabelBackdrop&&(S+=U/2*Math.sin(b))):(k=A,q=(1-V)*U/2);let bi;if(J.showLabelBackdrop){let ln=ke(J.backdropPadding),Fn=Ve.heights[P],qt=Ve.widths[P],zn=q-ln.top,Kt=0-ln.left;switch(ve){case"middle":zn-=Fn/2;break;case"bottom":zn-=Fn;break}switch(R){case"center":Kt-=qt/2;break;case"right":Kt-=qt;break;case"inner":P===x-1?Kt-=qt:P>0&&(Kt-=qt/2);break}bi={left:Kt,top:zn,width:qt+ln.width,height:Fn+ln.height,color:J.backdropColor}}_.push({label:w,font:B,textOffset:q,options:{rotation:b,color:ue,strokeColor:Ze,strokeWidth:Ee,textAlign:cn,textBaseline:ve,translation:[S,k],backdrop:bi}})}return _}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Ge(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,c=o.widest.width,l,d;return e==="left"?r?(d=this.right+s,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d=this.left)):e==="right"?r?(d=this.left+s,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,s,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),s,o,a=(c,l,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){let c=r[s];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,u,h;this.isHorizontal()?(l=Ft(t,this.left,o)-o/2,d=Ft(t,this.right,a)+a/2,u=h=c):(u=Ft(t,this.top,o)-o/2,h=Ft(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(l,u),e.lineTo(d,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&Yn(n,r);let s=this.getLabelItems(t);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;zt(n,l,0,d,c,a)}r&&Gn(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;let s=pe(n.font),o=ke(n.padding),a=n.align,c=s.lineHeight/2;e==="bottom"||e==="center"||H(e)?(c+=o.bottom,ee(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:u,rotation:h}=Uh(this,c,e,a);zt(t,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:Vh(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=z(t.grid&&t.grid.z,-1),r=z(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],s,o;for(s=0,o=e.length;s<o;++s){let a=e[s];a[n]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return pe(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},vn=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;$h(e)&&(n=this.register(e));let r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,jh(t,o,n),this.override&&re.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in re[r]&&(delete re[r][n],this.override&&delete Bt[n])}};function jh(i,t,e){let n=fn(Object.create(null),[e?re.get(e):{},re.get(t),i.defaults]);re.set(t,n),i.defaultRoutes&&Wh(t,i.defaultRoutes),i.descriptors&&re.describe(t,i.descriptors)}function Wh(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),r=n.pop(),s=[i].concat(n).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");re.route(s,r,c,a)})}function $h(i){return"id"in i&&"defaults"in i}var Ds=class{constructor(){this.controllers=new vn(Ut,"datasets",!0),this.elements=new vn(nt,"elements"),this.plugins=new vn(Object,"plugins"),this.scales=new vn(sn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{let s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):X(r,o=>{let a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,n){let r=Li(t);Q(n["before"+r],[],n),e[t](n),Q(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}},ht=new Ds,Rs=class{constructor(){this._init=[]}notify(t,e,n,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,n);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(let s of t){let o=s.plugin,a=o[n],c=[e,r,s.options];if(Q(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,r=z(n.options&&n.options.plugins,{}),s=Hh(n);return r===!1&&!e?[]:Kh(t,s,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}};function Hh(i){let t={},e=[],n=Object.keys(ht.plugins.items);for(let s=0;s<n.length;s++)e.push(ht.getPlugin(n[s]));let r=i.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function qh(i,t){return!t&&i===!1?null:i===!0?{}:i}function Kh(i,{plugins:t,localIds:e},n,r){let s=[],o=i.getContext();for(let a of t){let c=a.id,l=qh(n[c],r);l!==null&&s.push({plugin:a,options:Yh(i.config,{plugin:a,local:e[c]},l,o)})}return s}function Yh(i,{plugin:t,local:e},n,r){let s=i.pluginScopeKeys(t),o=i.getOptionScopes(n,s);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bs(i,t){let e=re.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Gh(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function Xh(i,t){return i===t?"_index_":"_value_"}function dc(i){if(i==="x"||i==="y"||i==="r")return i}function Jh(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Fs(i,...t){if(dc(i))return i;for(let e of t){let n=e.axis||Jh(e.position)||i.length>1&&dc(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function uc(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function Qh(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return uc(i,"x",e[0])||uc(i,"y",e[0])}return{}}function Zh(i,t){let e=Bt[i.type]||{scales:{}},n=t.scales||{},r=Bs(i.type,t),s=Object.create(null);return Object.keys(n).forEach(o=>{let a=n[o];if(!H(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=Fs(o,a,Qh(o,i),re.scales[a.type]),l=Xh(c,r),d=e.scales||{};s[o]=bn(Object.create(null),[{axis:c},a,d[c],d[l]])}),i.data.datasets.forEach(o=>{let a=o.type||i.type,c=o.indexAxis||Bs(a,t),d=(Bt[a]||{}).scales||{};Object.keys(d).forEach(u=>{let h=Gh(u,c),m=o[h+"AxisID"]||h;s[m]=s[m]||Object.create(null),bn(s[m],[{axis:h},n[m],d[u]])})}),Object.keys(s).forEach(o=>{let a=s[o];bn(a,[re.scales[a.type],re.scale])}),s}function Qc(i){let t=i.options||(i.options={});t.plugins=z(t.plugins,{}),t.scales=Zh(i,t)}function Zc(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function em(i){return i=i||{},i.data=Zc(i.data),Qc(i),i}var hc=new Map,el=new Set;function Ji(i,t){let e=hc.get(i);return e||(e=t(),hc.set(i,e),el.add(e)),e}var ei=(i,t,e)=>{let n=xt(t,e);n!==void 0&&i.add(n)},zs=class{constructor(t){this._config=em(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zc(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Qc(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ji(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ji(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ji(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return Ji(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){let{options:r,type:s}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;let c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(u=>ei(c,t,u))),d.forEach(u=>ei(c,r,u)),d.forEach(u=>ei(c,Bt[s]||{},u)),d.forEach(u=>ei(c,re,u)),d.forEach(u=>ei(c,ji,u))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),el.has(e)&&o.set(e,l),l}chartOptionScopes(){let{options:t,type:e}=this;return[t,Bt[e]||{},re.datasets[e]||{},{type:e},re,ji]}resolveNamedOptions(t,e,n,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=mc(this._resolverCache,t,r),c=o;if(nm(o,e)){s.$shared=!1,n=yt(n)?n():n;let l=this.createResolver(t,n,a);c=Zt(o,n,l)}for(let l of e)s[l]=c[l];return s}createResolver(t,e,n=[""],r){let{resolver:s}=mc(this._resolverCache,t,n);return H(e)?Zt(s,e,void 0,r):s}};function mc(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let r=e.join(),s=n.get(r);return s||(s={resolver:Hi(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,s)),s}var tm=i=>H(i)&&Object.getOwnPropertyNames(i).some(t=>yt(i[t]));function nm(i,t){let{isScriptable:e,isIndexable:n}=os(i);for(let r of t){let s=e(r),o=n(r),a=(o||s)&&i[r];if(s&&(yt(a)||tm(a))||o&&ee(a))return!0}return!1}var im="4.5.0",rm=["top","bottom","left","right","chartArea"];function gc(i,t){return i==="top"||i==="bottom"||rm.indexOf(i)===-1&&t==="x"}function fc(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function pc(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Q(e&&e.onComplete,[i],t)}function sm(i){let t=i.chart,e=t.options.animation;Q(e&&e.onProgress,[i],t)}function tl(i){return qi()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var nr={},bc=i=>{let t=tl(i);return Object.values(nr).filter(e=>e.canvas===t).pop()};function om(i,t,e){let n=Object.keys(i);for(let r of n){let s=+r;if(s>=t){let o=i[r];delete i[r],(e>0||s>t)&&(i[s+e]=o)}}}function am(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}var lr=(()=>{class i{static defaults=re;static instances=nr;static overrides=Bt;static registry=ht;static version=im;static getChart=bc;static register(...e){ht.add(...e),_c()}static unregister(...e){ht.remove(...e),_c()}constructor(e,n){let r=this.config=new zs(n),s=tl(e),o=bc(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||kh(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;if(this.id=pa(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Rs,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wa(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],nr[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Pt.listen(this,"complete",pc),Pt.listen(this,"progress",sm),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return $(e)?n&&o?o:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ht}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ds(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return is(this.canvas,this.ctx),this}stop(){return Pt.stop(this),this}resize(e,n){Pt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ds(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Q(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};X(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){let e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];n&&(o=o.concat(Object.keys(n).map(a=>{let c=n[a],l=Fs(a,c),d=l==="r",u=l==="x";return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),X(o,a=>{let c=a.options,l=c.id,d=Fs(l,c),u=z(c.type,a.dtype);(c.position===void 0||gc(c.position,d)!==gc(a.dposition))&&(c.position=a.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{let m=ht.getScale(u);h=new m({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(c,e)}),X(s,(a,c)=>{a||delete r[c]}),X(r,a=>{Ie.configure(this,a,a.options),Ie.addBox(this,a)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(fc("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){let o=n[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||Bs(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=ht.getController(c),{datasetElementType:d,dataElementType:u}=re.datasets[c];Object.assign(l,{dataElementType:ht.getElement(u),datasetElementType:d&&ht.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){X(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:h}=this.getDatasetMeta(d),m=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(m),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||X(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fc("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){X(this.scales,e=>{Ie.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!$r(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of n){let a=r==="_removeElements"?-o:o;om(e,s,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!$r(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ie.update(this,this.width,this.height,e);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],X(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,yt(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pt.has(this)?this.attached&&!Pt.running(this)&&Pt.start(this):(this.draw(),pc({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=ps(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Yn(n,s),e.controller.draw(),s&&Gn(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ct(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){let o=lh.modes[n];return typeof o=="function"?o(this,e,r,s):[]}getDatasetMeta(e){let n=this.data.datasets[e],r=this._metasets,s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ct(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){let r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){let s=r?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);_n(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Pt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),is(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete nr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,r=(o,a)=>{n.addEventListener(this,o,a),e[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};X(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,r=(l,d)=>{n.addEventListener(this,l,d),e[l]=d},s=(l,d)=>{e[l]&&(n.removeEventListener(this,l,d),delete e[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){X(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},X(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){let s=r?"set":"remove",o,a,c,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],r=e.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!qn(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){let s=this.options.hover,o=(l,d)=>l.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=o(n,e),c=r?e:o(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){let r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){let{_active:s=[],options:o}=this,a=n,c=this._getActiveElements(e,s,r,a),l=ya(e),d=am(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Q(o.onHover,[e,c,this],this),l&&Q(o.onClick,[e,c,this],this));let u=!qn(c,s);return(u||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}return i})();function _c(){return X(lr.instances,i=>i._plugins.invalidate())}function cm(i,t,e){let{startAngle:n,x:r,y:s,outerRadius:o,innerRadius:a,options:c}=t,{borderWidth:l,borderJoinStyle:d}=c,u=Math.min(l/o,Se(n-e));if(i.beginPath(),i.arc(r,s,o-l/2,n+u/2,e-u/2),a>0){let h=Math.min(l/a,Se(n-e));i.arc(r,s,a+l/2,e-h/2,n+h/2,!0)}else{let h=Math.min(l/2,o*Se(n-e));if(d==="round")i.arc(r,s,h,e-K/2,n+K/2,!0);else if(d==="bevel"){let m=2*h*h,y=-m*Math.cos(e+K/2)+r,b=-m*Math.sin(e+K/2)+s,_=m*Math.cos(n+K/2)+r,P=m*Math.sin(n+K/2)+s;i.lineTo(y,b),i.lineTo(_,P)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function lm(i,t,e){let{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=t,l=r/a;i.beginPath(),i.arc(s,o,a,n-l,e+l),c>r?(l=r/c,i.arc(s,o,c,e+l,n-l,!0)):i.arc(s,o,r,e+de,n-de),i.closePath(),i.clip()}function dm(i){return $i(i,["outerStart","outerEnd","innerStart","innerEnd"])}function um(i,t,e,n){let r=dm(i.options.borderRadius),s=(e-t)/2,o=Math.min(s,n*t/2),a=c=>{let l=(e-Math.min(s,c))*n/2;return ye(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:ye(r.innerStart,0,o),innerEnd:ye(r.innerEnd,0,o)}}function On(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function or(i,t,e,n,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,u=Math.max(t.outerRadius+n+e-l,0),h=d>0?d+n+e+l:0,m=0,y=r-c;if(n){let J=d>0?d-n:0,se=u>0?u-n:0,ue=(J+se)/2,Ze=ue!==0?y*ue/(ue+n):y;m=(y-Ze)/2}let b=Math.max(.001,y*u-e/K)/u,_=(y-b)/2,P=c+_+m,x=r-_-m,{outerStart:v,outerEnd:w,innerStart:S,innerEnd:k}=um(t,h,u,x-P),R=u-v,A=u-w,B=P+v/R,U=x-w/A,V=h+S,q=h+k,ve=P+S/V,Ve=x-k/q;if(i.beginPath(),s){let J=(B+U)/2;if(i.arc(o,a,u,B,J),i.arc(o,a,u,J,U),w>0){let Ee=On(A,U,o,a);i.arc(Ee.x,Ee.y,w,U,x+de)}let se=On(q,x,o,a);if(i.lineTo(se.x,se.y),k>0){let Ee=On(q,Ve,o,a);i.arc(Ee.x,Ee.y,k,x+de,Ve+Math.PI)}let ue=(x-k/h+(P+S/h))/2;if(i.arc(o,a,h,x-k/h,ue,!0),i.arc(o,a,h,ue,P+S/h,!0),S>0){let Ee=On(V,ve,o,a);i.arc(Ee.x,Ee.y,S,ve+Math.PI,P-de)}let Ze=On(R,P,o,a);if(i.lineTo(Ze.x,Ze.y),v>0){let Ee=On(R,B,o,a);i.arc(Ee.x,Ee.y,v,P-de,B)}}else{i.moveTo(o,a);let J=Math.cos(B)*u+o,se=Math.sin(B)*u+a;i.lineTo(J,se);let ue=Math.cos(U)*u+o,Ze=Math.sin(U)*u+a;i.lineTo(ue,Ze)}i.closePath()}function hm(i,t,e,n,r){let{fullCircles:s,startAngle:o,circumference:a}=t,c=t.endAngle;if(s){or(i,t,e,n,c,r);for(let l=0;l<s;++l)i.fill();isNaN(a)||(c=o+(a%te||te))}return or(i,t,e,n,c,r),i.fill(),c}function mm(i,t,e,n,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=c,y=c.borderAlign==="inner";if(!l)return;i.setLineDash(u||[]),i.lineDashOffset=h,y?(i.lineWidth=l*2,i.lineJoin=d||"round"):(i.lineWidth=l,i.lineJoin=d||"bevel");let b=t.endAngle;if(s){or(i,t,e,n,b,r);for(let _=0;_<s;++_)i.stroke();isNaN(a)||(b=o+(a%te||te))}y&&lm(i,t,b),c.selfJoin&&b-o>=K&&m===0&&d!=="miter"&&cm(i,t,b),s||(or(i,t,e,n,b,r),i.stroke())}var Ls=class extends nt{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let r=this.getProps(["x","y"],n),{angle:s,distance:o}=Yr(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,m=z(u,c-a),y=Mn(s,a,c)&&a!==c,b=m>=te||y,_=dt(o,l+h,d+h);return b&&_}getCenterPoint(t){let{x:e,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+s)/2,u=(o+a+l+c)/2;return{x:e+Math.cos(d)*u,y:n+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>te?Math.floor(n/te):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(K,n||0)),l=r*c;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,hm(t,this,l,s,o),mm(t,this,l,s,o),t.restore()}};function nl(i,t,e=t){i.lineCap=z(e.borderCapStyle,t.borderCapStyle),i.setLineDash(z(e.borderDash,t.borderDash)),i.lineDashOffset=z(e.borderDashOffset,t.borderDashOffset),i.lineJoin=z(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=z(e.borderWidth,t.borderWidth),i.strokeStyle=z(e.borderColor,t.borderColor)}function gm(i,t,e){i.lineTo(e.x,e.y)}function fm(i){return i.stepped?Ta:i.tension||i.cubicInterpolationMode==="monotone"?Ia:gm}function il(i,t,e={}){let n=i.length,{start:r=0,end:s=n-1}=e,{start:o,end:a}=t,c=Math.max(r,o),l=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:n,start:c,loop:t.loop,ilen:l<c&&!d?n+l-c:l-c}}function pm(i,t,e,n){let{points:r,options:s}=t,{count:o,start:a,loop:c,ilen:l}=il(r,e,n),d=fm(s),{move:u=!0,reverse:h}=n||{},m,y,b;for(m=0;m<=l;++m)y=r[(a+(h?l-m:m))%o],!y.skip&&(u?(i.moveTo(y.x,y.y),u=!1):d(i,b,y,h,s.stepped),b=y);return c&&(y=r[(a+(h?l:0))%o],d(i,b,y,h,s.stepped)),!!c}function bm(i,t,e,n){let r=t.points,{count:s,start:o,ilen:a}=il(r,e,n),{move:c=!0,reverse:l}=n||{},d=0,u=0,h,m,y,b,_,P,x=w=>(o+(l?a-w:w))%s,v=()=>{b!==_&&(i.lineTo(d,_),i.lineTo(d,b),i.lineTo(d,P))};for(c&&(m=r[x(0)],i.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=r[x(h)],m.skip)continue;let w=m.x,S=m.y,k=w|0;k===y?(S<b?b=S:S>_&&(_=S),d=(u*d+w)/++u):(v(),i.lineTo(w,S),y=k,u=0,b=_=S),P=S}v()}function Ns(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?bm:pm}function _m(i){return i.stepped?Ua:i.tension||i.cubicInterpolationMode==="monotone"?ja:Rt}function ym(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),nl(i,t.options),i.stroke(r)}function Mm(i,t,e,n){let{segments:r,options:s}=t,o=Ns(t);for(let a of r)nl(i,s,a.style),i.beginPath(),o(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var xm=typeof Path2D=="function";function Cm(i,t,e,n){xm&&!t.options.segment?ym(i,t,e,n):Mm(i,t,e,n)}var dr=(()=>{class i extends nt{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;La(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$a(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){let r=this.options,s=e[n],o=this.points,a=fs(this,{property:n,start:s,end:s});if(!a.length)return;let c=[],l=_m(r),d,u;for(d=0,u=a.length;d<u;++d){let{start:h,end:m}=a[d],y=o[h],b=o[m];if(y===b){c.push(y);continue}let _=Math.abs((s-y[n])/(b[n]-y[n])),P=l(y,b,_,r.stepped);P[n]=e[n],c.push(P)}return c.length===1?c[0]:c}pathSegment(e,n,r){return Ns(this)(e,this,n,r)}path(e,n,r){let s=this.segments,o=Ns(this),a=this._loop;n=n||0,r=r||this.points.length-n;for(let c of s)a&=o(e,this,c,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Cm(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function yc(i,t,e,n){let r=i.options,{[e]:s}=i.getProps([e],n);return Math.abs(t-s)<r.radius+r.hitRadius}var Pm=(()=>{class i extends nt{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return yc(this,e,"x",n)}inYRange(e,n){return yc(this,e,"y",n)}getCenterPoint(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){let r=this.options;this.skip||r.radius<.1||!ct(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Wi(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function rl(i,t){let{x:e,y:n,base:r,width:s,height:o}=i.getProps(["x","y","base","width","height"],t),a,c,l,d,u;return i.horizontal?(u=o/2,a=Math.min(e,r),c=Math.max(e,r),l=n-u,d=n+u):(u=s/2,a=e-u,c=e+u,l=Math.min(n,r),d=Math.max(n,r)),{left:a,top:l,right:c,bottom:d}}function Vt(i,t,e,n){return i?0:ye(t,e,n)}function Om(i,t,e){let n=i.options.borderWidth,r=i.borderSkipped,s=ss(n);return{t:Vt(r.top,s.top,0,e),r:Vt(r.right,s.right,0,t),b:Vt(r.bottom,s.bottom,0,e),l:Vt(r.left,s.left,0,t)}}function vm(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Lt(r),o=Math.min(t,e),a=i.borderSkipped,c=n||H(r);return{topLeft:Vt(!c||a.top||a.left,s.topLeft,0,o),topRight:Vt(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Vt(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Vt(!c||a.bottom||a.right,s.bottomRight,0,o)}}function Sm(i){let t=rl(i),e=t.right-t.left,n=t.bottom-t.top,r=Om(i,e/2,n/2),s=vm(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Os(i,t,e,n){let r=t===null,s=e===null,a=i&&!(r&&s)&&rl(i,n);return a&&(r||dt(t,a.left,a.right))&&(s||dt(e,a.top,a.bottom))}function wm(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function km(i,t){i.rect(t.x,t.y,t.w,t.h)}function vs(i,t,e={}){let n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,s=(i.x+i.w!==e.x+e.w?t:0)-n,o=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+o,radius:i.radius}}var Vs=class extends nt{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=Sm(this),a=wm(o.radius)?Cn:km;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,vs(o,e,s)),t.clip(),a(t,vs(s,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,vs(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Os(this,t,e,n)}inXRange(t,e){return Os(this,t,null,e)}inYRange(t,e){return Os(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},Em=Object.freeze({__proto__:null,ArcElement:Ls,BarElement:Vs,LineElement:dr,PointElement:Pm}),Us=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Mc=Us.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function sl(i){return Us[i%Us.length]}function ol(i){return Mc[i%Mc.length]}function Am(i,t){return i.borderColor=sl(t),i.backgroundColor=ol(t),++t}function Tm(i,t){return i.backgroundColor=i.data.map(()=>sl(t++)),t}function Im(i,t){return i.backgroundColor=i.data.map(()=>ol(t++)),t}function Dm(i){let t=0;return(e,n)=>{let r=i.getDatasetMeta(n).controller;r instanceof Gs?t=Tm(e,t):r instanceof Kc?t=Im(e,t):r&&(t=Am(e,t))}}function xc(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function Rm(i){return i&&(i.borderColor||i.backgroundColor)}function Bm(){return re.borderColor!=="rgba(0,0,0,0.1)"||re.backgroundColor!=="rgba(0,0,0,0.1)"}var Fm={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:r}=i.config,{elements:s}=r,o=xc(n)||Rm(r)||s&&xc(s)||Bm();if(!e.forceOverride&&o)return;let a=Dm(i);n.forEach(a)}};function zm(i,t,e,n,r){let s=r.samples||n;if(s>=e)return i.slice(t,t+e);let o=[],a=(e-2)/(s-2),c=0,l=t+e-1,d=t,u,h,m,y,b;for(o[c++]=i[d],u=0;u<s-2;u++){let _=0,P=0,x,v=Math.floor((u+1)*a)+1+t,w=Math.min(Math.floor((u+2)*a)+1,e)+t,S=w-v;for(x=v;x<w;x++)_+=i[x].x,P+=i[x].y;_/=S,P/=S;let k=Math.floor(u*a)+1+t,R=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:A,y:B}=i[d];for(m=y=-1,x=k;x<R;x++)y=.5*Math.abs((A-_)*(i[x].y-B)-(A-i[x].x)*(P-B)),y>m&&(m=y,h=i[x],b=x);o[c++]=h,d=b}return o[c++]=i[l],o}function Lm(i,t,e,n){let r=0,s=0,o,a,c,l,d,u,h,m,y,b,_=[],P=t+e-1,x=i[t].x,w=i[P].x-x;for(o=t;o<t+e;++o){a=i[o],c=(a.x-x)/w*n,l=a.y;let S=c|0;if(S===d)l<y?(y=l,u=o):l>b&&(b=l,h=o),r=(s*r+a.x)/++s;else{let k=o-1;if(!$(u)&&!$(h)){let R=Math.min(u,h),A=Math.max(u,h);R!==m&&R!==k&&_.push(O(M({},i[R]),{x:r})),A!==m&&A!==k&&_.push(O(M({},i[A]),{x:r}))}o>0&&k!==m&&_.push(i[k]),_.push(a),d=S,s=0,y=b=l,u=h=m=o}}return _}function al(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Cc(i){i.data.datasets.forEach(t=>{al(t)})}function Nm(i,t){let e=t.length,n=0,r,{iScale:s}=i,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(n=ye(at(t,s.axis,o).lo,0,e-1)),l?r=ye(at(t,s.axis,a).hi+1,n,e)-n:r=e-n,{start:n,count:r}}var Vm={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){Cc(i);return}let n=i.width;i.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=i.getDatasetMeta(s),l=o||r.data;if(Pn([a,i.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=i.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||i.options.parsing)return;let{start:u,count:h}=Nm(c,l),m=e.threshold||4*n;if(h<=m){al(r);return}$(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let y;switch(e.algorithm){case"lttb":y=zm(l,u,h,n,e);break;case"min-max":y=Lm(l,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=y})},destroy(i){Cc(i)}};function Um(i,t,e){let n=i.segments,r=i.points,s=t.points,o=[];for(let a of n){let{start:c,end:l}=a;l=ur(c,l,r);let d=js(e,r[c],r[l],a.loop);if(!t.segments){o.push({source:a,target:d,start:r[c],end:r[l]});continue}let u=fs(t,d);for(let h of u){let m=js(e,s[h.start],s[h.end],h.loop),y=gs(a,r,m);for(let b of y)o.push({source:b,target:h,start:{[e]:Pc(d,m,"start",Math.max)},end:{[e]:Pc(d,m,"end",Math.min)}})}}return o}function js(i,t,e,n){if(n)return;let r=t[i],s=e[i];return i==="angle"&&(r=Se(r),s=Se(s)),{property:i,start:r,end:s}}function jm(i,t){let{x:e=null,y:n=null}=i||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=ur(o,a,r);let c=r[o],l=r[a];n!==null?(s.push({x:c.x,y:n}),s.push({x:l.x,y:n})):e!==null&&(s.push({x:e,y:c.y}),s.push({x:e,y:l.y}))}),s}function ur(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Pc(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function cl(i,t){let e=[],n=!1;return ee(i)?(n=!0,e=i):e=jm(i,t),e.length?new dr({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Oc(i){return i&&i.fill!==!1}function Wm(i,t,e){let r=i[t].fill,s=[t],o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!oe(r))return r;if(o=i[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function $m(i,t,e){let n=Ym(i);if(H(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return oe(r)&&Math.floor(r)===r?Hm(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Hm(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function qm(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:H(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Km(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:H(i)?n=i.value:n=t.getBaseValue(),n}function Ym(i){let t=i.options,e=t.fill,n=z(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Gm(i){let{scale:t,index:e,line:n}=i,r=[],s=n.segments,o=n.points,a=Xm(t,e);a.push(cl({x:null,y:t.bottom},n));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)Jm(r,o[d],a)}return new dr({points:r,options:{}})}function Xm(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let s=n[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function Jm(i,t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],{first:o,last:a,point:c}=Qm(s,t,"x");if(!(!c||o&&a)){if(o)n.unshift(c);else if(i.push(c),!a)break}}i.push(...n)}function Qm(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let r=n[e],s=i.segments,o=i.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],u=o[d.start][e],h=o[d.end][e];if(dt(r,u,h)){a=r===u,c=r===h;break}}return{first:a,last:c,point:n}}var ar=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:r,y:s,radius:o}=this;return e=e||{start:0,end:te},t.arc(r,s,o,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}};function Zm(i){let{chart:t,fill:e,line:n}=i;if(oe(e))return eg(t,e);if(e==="stack")return Gm(i);if(e==="shape")return!0;let r=tg(i);return r instanceof ar?r:cl(r,n)}function eg(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function tg(i){return(i.scale||{}).getPointPositionForValue?ig(i):ng(i)}function ng(i){let{scale:t={},fill:e}=i,n=qm(e,t);if(oe(n)){let r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function ig(i){let{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,s=n.reverse?t.max:t.min,o=Km(e,t,s),a=[];if(n.grid.circular){let c=t.getPointPositionForValue(0,s);return new ar({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,o));return a}function Ss(i,t,e){let n=Zm(t),{chart:r,index:s,line:o,scale:a,axis:c}=t,l=o.options,d=l.fill,u=l.backgroundColor,{above:h=u,below:m=u}=d||{},y=r.getDatasetMeta(s),b=ps(r,y);n&&o.points.length&&(Yn(i,e),rg(i,{line:o,target:n,above:h,below:m,area:e,scale:a,axis:c,clip:b}),Gn(i))}function rg(i,t){let{line:e,target:n,above:r,below:s,area:o,scale:a,clip:c}=t,l=e._loop?"angle":t.axis;i.save();let d=s;s!==r&&(l==="x"?(vc(i,n,o.top),ws(i,{line:e,target:n,color:r,scale:a,property:l,clip:c}),i.restore(),i.save(),vc(i,n,o.bottom)):l==="y"&&(Sc(i,n,o.left),ws(i,{line:e,target:n,color:s,scale:a,property:l,clip:c}),i.restore(),i.save(),Sc(i,n,o.right),d=r)),ws(i,{line:e,target:n,color:d,scale:a,property:l,clip:c}),i.restore()}function vc(i,t,e){let{segments:n,points:r}=t,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[ur(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(d.x,e),i.lineTo(d.x,d.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(u.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Sc(i,t,e){let{segments:n,points:r}=t,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[ur(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(e,d.y),i.lineTo(d.x,d.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(e,u.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function ws(i,t){let{line:e,target:n,property:r,color:s,scale:o,clip:a}=t,c=Um(e,n,r);for(let{source:l,target:d,start:u,end:h}of c){let{style:{backgroundColor:m=s}={}}=l,y=n!==!0;i.save(),i.fillStyle=m,sg(i,o,a,y&&js(r,u,h)),i.beginPath();let b=!!e.pathSegment(i,l),_;if(y){b?i.closePath():wc(i,n,h,r);let P=!!n.pathSegment(i,d,{move:b,reverse:!0});_=b&&P,_||wc(i,n,u,r)}i.closePath(),i.fill(_?"evenodd":"nonzero"),i.restore()}}function sg(i,t,e,n){let r=t.chart.chartArea,{property:s,start:o,end:a}=n||{};if(s==="x"||s==="y"){let c,l,d,u;s==="x"?(c=o,l=r.top,d=a,u=r.bottom):(c=r.left,l=o,d=r.right,u=a),i.beginPath(),e&&(c=Math.max(c,e.left),d=Math.min(d,e.right),l=Math.max(l,e.top),u=Math.min(u,e.bottom)),i.rect(c,l,d-c,u-l),i.clip()}}function wc(i,t,e,n){let r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var og={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<n;++o)s=i.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof dr&&(c={visible:i.isDatasetVisible(o),index:o,fill:$m(a,o,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<n;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=Wm(r,o,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&Ss(i.ctx,a,s))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let s=n[r].$filler;Oc(s)&&Ss(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!Oc(n)||e.drawTime!=="beforeDatasetDraw"||Ss(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},kc=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},ag=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,cr=class extends nt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Q(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,r=pe(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=kc(n,s),l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a,u=t;s.textAlign="left",s.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((y,b)=>{let _=n+e/2+s.measureText(y.text).width;(b===0||l[l.length-1]+_+2*a>o)&&(u+=d,l[l.length-(b>0?0:1)]=0,m+=d,h++),c[b]={left:0,top:m,row:h,width:_,height:r},l[l.length-1]+=_+a}),u}_fitCols(t,e,n,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-t,u=a,h=0,m=0,y=0,b=0;return this.legendItems.forEach((_,P)=>{let{itemWidth:x,itemHeight:v}=cg(n,e,s,_,r);P>0&&m+v+2*a>d&&(u+=h+a,l.push({width:h,height:m}),y+=h+a,b++,h=m=0),c[P]={left:y,top:m,col:b,width:x,height:v},h=Math.max(h,x),m+=v+a}),u+=h,l.push({width:h,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:s}}=this,o=tn(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=we(n,this.left+r,this.right-this.lineWidths[a]);for(let l of e)a!==l.row&&(a=l.row,c=we(n,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=we(n,this.top+t+r,this.bottom-this.columnSizes[a].height);for(let l of e)l.col!==a&&(a=l.col,c=we(n,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Yn(t,this),this._draw(),Gn(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:s,labels:o}=t,a=re.color,c=tn(t.rtl,this.left,this.width),l=pe(o.font),{padding:d}=o,u=l.size,h=u/2,m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:y,boxHeight:b,itemHeight:_}=kc(o,u),P=function(k,R,A){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;r.save();let B=z(A.lineWidth,1);if(r.fillStyle=z(A.fillStyle,a),r.lineCap=z(A.lineCap,"butt"),r.lineDashOffset=z(A.lineDashOffset,0),r.lineJoin=z(A.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=z(A.strokeStyle,a),r.setLineDash(z(A.lineDash,[])),o.usePointStyle){let U={radius:b*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:B},V=c.xPlus(k,y/2),q=R+h;rs(r,U,V,q,o.pointStyleWidth&&y)}else{let U=R+Math.max((u-b)/2,0),V=c.leftForLtr(k,y),q=Lt(A.borderRadius);r.beginPath(),Object.values(q).some(ve=>ve!==0)?Cn(r,{x:V,y:U,w:y,h:b,radius:q}):r.rect(V,U,y,b),r.fill(),B!==0&&r.stroke()}r.restore()},x=function(k,R,A){zt(r,A.text,k,R+_/2,l,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?m={x:we(s,this.left+d,this.right-n[0]),y:this.top+d+w,line:0}:m={x:this.left+d,y:we(s,this.top+w+d,this.bottom-e[0].height),line:0},hs(this.ctx,t.textDirection);let S=_+d;this.legendItems.forEach((k,R)=>{r.strokeStyle=k.fontColor,r.fillStyle=k.fontColor;let A=r.measureText(k.text).width,B=c.textAlign(k.textAlign||(k.textAlign=o.textAlign)),U=y+h+A,V=m.x,q=m.y;c.setWidth(this.width),v?R>0&&V+U+d>this.right&&(q=m.y+=S,m.line++,V=m.x=we(s,this.left+d,this.right-n[m.line])):R>0&&q+S>this.bottom&&(V=m.x=V+e[m.line].width+d,m.line++,q=m.y=we(s,this.top+w+d,this.bottom-e[m.line].height));let ve=c.x(V);if(P(ve,q,k),V=ka(B,V+y+h,v?V+U:this.right,t.rtl),x(c.x(V),q,k),v)m.x+=U+d;else if(typeof k.text!="string"){let Ve=l.lineHeight;m.y+=ll(k,Ve)+d}else m.y+=S}),ms(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=pe(e.font),r=ke(e.padding);if(!e.display)return;let s=tn(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=n.size/2,l=r.top+c,d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+l,u=we(t.align,u,this.right-h);else{let y=this.columnSizes.reduce((b,_)=>Math.max(b,_.height),0);d=l+we(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}let m=we(a,u,u+h);o.textAlign=s.textAlign(Ui(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,zt(o,e.text,m,d,n)}_computeTitleHeight(){let t=this.options.title,e=pe(t.font),n=ke(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,s;if(dt(t,this.left,this.right)&&dt(e,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],dt(t,r.left,r.left+r.width)&&dt(e,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!ug(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,s=ag(r,n);r&&!s&&Q(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!s&&Q(e.onHover,[t,n,this],this)}else n&&Q(e.onClick,[t,n,this],this)}};function cg(i,t,e,n,r){let s=lg(n,i,t,e),o=dg(r,n,t.lineHeight);return{itemWidth:s,itemHeight:o}}function lg(i,t,e,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+n.measureText(r).width}function dg(i,t,e){let n=i;return typeof t.text!="string"&&(n=ll(t,e)),n}function ll(i,t){let e=i.text?i.text.length:0;return t*e}function ug(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var hg={id:"legend",_element:cr,start(i,t,e){let n=i.legend=new cr({ctx:i.ctx,options:e,chart:i});Ie.configure(i,n,e),Ie.addBox(i,n)},stop(i){Ie.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;Ie.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(e?0:void 0),d=ke(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},ri=class extends nt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=ee(n.text)?n.text.length:1;this._padding=ke(n.padding);let s=r*pe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,d,u;return this.isHorizontal()?(d=we(a,n,s),u=e+t,l=s-n):(o.position==="left"?(d=n+t,u=we(a,r,e),c=K*-.5):(d=s-t,u=we(a,e,r),c=K*.5),l=r-e),{titleX:d,titleY:u,maxWidth:l,rotation:c}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=pe(e.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);zt(t,e.text,0,0,n,{color:e.color,maxWidth:c,rotation:l,textAlign:Ui(e.align),textBaseline:"middle",translation:[o,a]})}};function mg(i,t){let e=new ri({ctx:i.ctx,options:t,chart:i});Ie.configure(i,e,t),Ie.addBox(i,e),i.titleBlock=e}var gg={id:"title",_element:ri,start(i,t,e){mg(i,e)},stop(i){let t=i.titleBlock;Ie.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;Ie.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Qi=new WeakMap,fg={id:"subtitle",start(i,t,e){let n=new ri({ctx:i.ctx,options:e,chart:i});Ie.configure(i,n,e),Ie.addBox(i,n),Qi.set(i,n)},stop(i){Ie.removeBox(i,Qi.get(i)),Qi.delete(i)},beforeUpdate(i,t,e){let n=Qi.get(i);Ie.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ni={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,s=0;for(t=0,e=i.length;t<e;++t){let a=i[t].element;if(a&&a.hasValue()){let c=a.tooltipPosition();n.add(c.x),r+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,c)=>a+c)/n.size,y:r/s}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=i.length;s<o;++s){let c=i[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=Fi(t,l);d<r&&(r=d,a=c)}}if(a){let c=a.tooltipPosition();e=c.x,n=c.y}return{x:e,y:n}}};function ut(i,t){return t&&(ee(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Ot(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function pg(i,t){let{element:e,datasetIndex:n,index:r}=t,s=i.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:i,label:o,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function Ec(i,t){let e=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:o,boxHeight:a}=t,c=pe(t.bodyFont),l=pe(t.titleFont),d=pe(t.footerFont),u=s.length,h=r.length,m=n.length,y=ke(t.padding),b=y.height,_=0,P=n.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(P+=i.beforeBody.length+i.afterBody.length,u&&(b+=u*l.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),P){let w=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;b+=m*w+(P-m)*c.lineHeight+(P-1)*t.bodySpacing}h&&(b+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let x=0,v=function(w){_=Math.max(_,e.measureText(w).width+x)};return e.save(),e.font=l.string,X(i.title,v),e.font=c.string,X(i.beforeBody.concat(i.afterBody),v),x=t.displayColors?o+2+t.boxPadding:0,X(n,w=>{X(w.before,v),X(w.lines,v),X(w.after,v)}),x=0,e.font=d.string,X(i.footer,v),e.restore(),_+=y.width,{width:_,height:b}}function bg(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function _g(i,t,e,n){let{x:r,width:s}=n,o=e.caretSize+e.caretPadding;if(i==="left"&&r+s+o>t.width||i==="right"&&r-s-o<0)return!0}function yg(i,t,e,n){let{x:r,width:s}=e,{width:o,chartArea:{left:a,right:c}}=i,l="center";return n==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),_g(l,i,t,e)&&(l="center"),l}function Ac(i,t,e){let n=e.yAlign||t.yAlign||bg(i,e);return{xAlign:e.xAlign||t.xAlign||yg(i,t,e,n),yAlign:n}}function Mg(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function xg(i,t,e){let{y:n,height:r}=i;return t==="top"?n+=e:t==="bottom"?n-=r+e:n-=r/2,n}function Tc(i,t,e,n){let{caretSize:r,caretPadding:s,cornerRadius:o}=i,{xAlign:a,yAlign:c}=e,l=r+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Lt(o),y=Mg(t,a),b=xg(t,c,l);return c==="center"?a==="left"?y+=l:a==="right"&&(y-=l):a==="left"?y-=Math.max(d,h)+r:a==="right"&&(y+=Math.max(u,m)+r),{x:ye(y,0,n.width-t.width),y:ye(b,0,n.height-t.height)}}function Zi(i,t,e){let n=ke(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function Ic(i){return ut([],Ot(i))}function Cg(i,t,e){return Ct(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Dc(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var dl={beforeTitle:lt,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:lt,beforeBody:lt,beforeLabel:lt,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return $(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:lt,afterBody:lt,beforeFooter:lt,footer:lt,afterFooter:lt};function Le(i,t,e,n){let r=i[t].call(e,n);return typeof r>"u"?dl[t].call(e,n):r}var Rc=(()=>{class i extends nt{static positioners=ni;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new ir(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Cg(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:r}=n,s=Le(r,"beforeTitle",this,e),o=Le(r,"title",this,e),a=Le(r,"afterTitle",this,e),c=[];return c=ut(c,Ot(s)),c=ut(c,Ot(o)),c=ut(c,Ot(a)),c}getBeforeBody(e,n){return Ic(Le(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:r}=n,s=[];return X(e,o=>{let a={before:[],lines:[],after:[]},c=Dc(r,o);ut(a.before,Ot(Le(c,"beforeLabel",this,o))),ut(a.lines,Le(c,"label",this,o)),ut(a.after,Ot(Le(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,n){return Ic(Le(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:r}=n,s=Le(r,"beforeFooter",this,e),o=Le(r,"footer",this,e),a=Le(r,"afterFooter",this,e),c=[];return c=ut(c,Ot(s)),c=ut(c,Ot(o)),c=ut(c,Ot(a)),c}_createItems(e){let n=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=n.length;l<d;++l)c.push(pg(this.chart,n[l]));return e.filter&&(c=c.filter((u,h,m)=>e.filter(u,h,m,r))),e.itemSort&&(c=c.sort((u,h)=>e.itemSort(u,h,r))),X(c,u=>{let h=Dc(e.callbacks,u);s.push(Le(h,"labelColor",this,u)),o.push(Le(h,"labelPointStyle",this,u)),a.push(Le(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=ni[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=Ec(this,r),d=Object.assign({},c,l),u=Ac(this.chart,r,d),h=Tc(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){let o=this.getCaretPosition(e,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:h}=Lt(c),{x:m,y}=e,{width:b,height:_}=n,P,x,v,w,S,k;return o==="center"?(S=y+_/2,s==="left"?(P=m,x=P-a,w=S+a,k=S-a):(P=m+b,x=P+a,w=S-a,k=S+a),v=P):(s==="left"?x=m+Math.max(l,u)+a:s==="right"?x=m+b-Math.max(d,h)-a:x=this.caretX,o==="top"?(w=y,S=w-a,P=x-a,v=x+a):(w=y+_,S=w+a,P=x+a,v=x-a),k=w),{x1:P,x2:x,x3:v,y1:w,y2:S,y3:k}}drawTitle(e,n,r){let s=this.title,o=s.length,a,c,l;if(o){let d=tn(r.rtl,this.x,this.width);for(e.x=Zi(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=pe(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<o;++l)n.fillText(s[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=o,u=pe(o.bodyFont),h=Zi(this,"left",o),m=s.x(h),y=l<u.lineHeight?(u.lineHeight-l)/2:0,b=n.y+y;if(o.usePointStyle){let _={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},P=s.leftForLtr(m,d)+d/2,x=b+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Wi(e,_,P,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Wi(e,_,P,x)}else{e.lineWidth=H(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let _=s.leftForLtr(m,d),P=s.leftForLtr(s.xPlus(m,1),d-2),x=Lt(a.borderRadius);Object.values(x).some(v=>v!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Cn(e,{x:_,y:b,w:d,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Cn(e,{x:P,y:b+1,w:d-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(_,b,d,l),e.strokeRect(_,b,d,l),e.fillStyle=a.backgroundColor,e.fillRect(P,b+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=r,h=pe(r.bodyFont),m=h.lineHeight,y=0,b=tn(r.rtl,this.x,this.width),_=function(B){n.fillText(B,b.x(e.x+y),e.y+m/2),e.y+=m+o},P=b.textAlign(a),x,v,w,S,k,R,A;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=Zi(this,P,r),n.fillStyle=r.bodyColor,X(this.beforeBody,_),y=c&&P!=="right"?a==="center"?d/2+u:d+2+u:0,S=0,R=s.length;S<R;++S){for(x=s[S],v=this.labelTextColors[S],n.fillStyle=v,X(x.before,_),w=x.lines,c&&w.length&&(this._drawColorBox(n,e,S,b,r),m=Math.max(h.lineHeight,l)),k=0,A=w.length;k<A;++k)_(w[k]),m=h.lineHeight;X(x.after,_)}y=0,m=h.lineHeight,X(this.afterBody,_),e.y-=o}drawFooter(e,n,r){let s=this.footer,o=s.length,a,c;if(o){let l=tn(r.rtl,this.x,this.width);for(e.x=Zi(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=pe(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:u}=r,{topLeft:h,topRight:m,bottomLeft:y,bottomRight:b}=Lt(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+h,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(c+d-m,l),n.quadraticCurveTo(c+d,l,c+d,l+m),a==="center"&&o==="right"&&this.drawCaret(e,n,r,s),n.lineTo(c+d,l+u-b),n.quadraticCurveTo(c+d,l+u,c+d-b,l+u),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(c+y,l+u),n.quadraticCurveTo(c,l+u,c,l+u-y),a==="center"&&o==="left"&&this.drawCaret(e,n,r,s),n.lineTo(c,l+h),n.quadraticCurveTo(c,l,c+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=ni[e.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=Ec(this,e),l=Object.assign({},a,this._size),d=Ac(n,e,l),u=Tc(e,l,d,n);(s._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=ke(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,n),hs(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),ms(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let r=this._active,s=e.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!qn(r,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,r),c=this._positionChanged(a,e),l=n||!qn(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){let o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,n){let{caretX:r,caretY:s,options:o}=this,a=ni[o.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}return i})(),Pg={id:"tooltip",_element:Rc,positioners:ni,afterInit(i,t,e){e&&(i.tooltip=new Rc({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",O(M({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Og=Object.freeze({__proto__:null,Colors:Fm,Decimation:Vm,Filler:og,Legend:hg,SubTitle:fg,Title:gg,Tooltip:Pg}),vg=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Sg(i,t,e,n){let r=i.indexOf(t);if(r===-1)return vg(i,t,e,n);let s=i.lastIndexOf(t);return r!==s?e:r}var wg=(i,t)=>i===null?null:ye(Math.round(i),0,t);function Bc(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var kg=(()=>{class i extends sn{static id="category";static defaults={ticks:{callback:Bc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($(e))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Sg(r,e,z(n,e),this._addedLabels),wg(n,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let e=this.min,n=this.max,r=this.options.offset,s=[],o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return Bc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Eg(i,t){let e=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:u,includeBounds:h}=i,m=s||1,y=d-1,{min:b,max:_}=t,P=!$(o),x=!$(a),v=!$(l),w=(_-b)/(u+1),S=Hr((_-b)/y/m)*m,k,R,A,B;if(S<1e-14&&!P&&!x)return[{value:b},{value:_}];B=Math.ceil(_/S)-Math.floor(b/S),B>y&&(S=Hr(B*S/y/m)*m),$(c)||(k=Math.pow(10,c),S=Math.ceil(S*k)/k),r==="ticks"?(R=Math.floor(b/S)*S,A=Math.ceil(_/S)*S):(R=b,A=_),P&&x&&s&&xa((a-o)/s,S/1e3)?(B=Math.round(Math.min((a-o)/S,d)),S=(a-o)/B,R=o,A=a):v?(R=P?o:R,A=x?a:A,B=l-1,S=(A-R)/B):(B=(A-R)/S,yn(B,Math.round(B),S/1e3)?B=Math.round(B):B=Math.ceil(B));let U=Math.max(Kr(S),Kr(R));k=Math.pow(10,$(c)?U:c),R=Math.round(R*k)/k,A=Math.round(A*k)/k;let V=0;for(P&&(h&&R!==o?(e.push({value:o}),R<o&&V++,yn(Math.round((R+V*S)*k)/k,o,Fc(o,w,i))&&V++):R<o&&V++);V<B;++V){let q=Math.round((R+V*S)*k)/k;if(x&&q>a)break;e.push({value:q})}return x&&h&&A!==a?e.length&&yn(e[e.length-1].value,a,Fc(a,w,i))?e[e.length-1].value=a:e.push({value:a}):(!x||A===a)&&e.push({value:A}),e}function Fc(i,t,{horizontal:e,minRotation:n}){let r=Ge(n),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+i).length;return Math.min(t/s,o)}var Sn=class extends sn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=e?r:c,a=c=>s=n?s:c;if(t){let c=tt(r),l=tt(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),t||o(r-c)}this.min=r,this.max=s}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=Eg(r,s);return t.bounds==="ticks"&&qr(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return xn(t,this.chart.options.locale,this.options.ticks.format)}},Ws=class extends Sn{static id="linear";static defaults={ticks:{callback:Kn.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?t:0,this.max=oe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=Ge(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},si=i=>Math.floor(Mt(i)),rn=(i,t)=>Math.pow(10,si(i)+t);function zc(i){return i/Math.pow(10,si(i))===1}function Lc(i,t,e){let n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function Ag(i,t){let e=t-i,n=si(e);for(;Lc(i,t,n)>10;)n++;for(;Lc(i,t,n)<10;)n--;return Math.min(n,si(i))}function Tg(i,{min:t,max:e}){t=ze(i.min,t);let n=[],r=si(t),s=Ag(t,e),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((t-c)*o)/o,d=Math.floor((t-c)/a/10)*a*10,u=Math.floor((l-d)/Math.pow(10,s)),h=ze(i.min,Math.round((c+d+u*Math.pow(10,s))*o)/o);for(;h<e;)n.push({value:h,major:zc(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),h=Math.round((c+d+u*Math.pow(10,s))*o)/o;let m=ze(i.max,h);return n.push({value:m,major:zc(m),significand:u}),n}var $s=class extends sn{static id="logarithmic";static defaults={ticks:{callback:Kn.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Sn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return oe(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?Math.max(0,t):null,this.max=oe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!oe(this._userMin)&&(this.min=t===rn(this.min,0)?rn(this.min,-1):rn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,r=this.max,s=a=>n=t?n:a,o=a=>r=e?r:a;n===r&&(n<=0?(s(1),o(10)):(s(rn(n,-1)),o(rn(r,1)))),n<=0&&s(rn(r,-1)),r<=0&&o(rn(n,1)),this.min=n,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=Tg(e,this);return t.bounds==="ticks"&&qr(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":xn(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Mt(t),this._valueRange=Mt(this.max)-Mt(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Mt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function Hs(i){let t=i.ticks;if(t.display&&i.display){let e=ke(t.backdropPadding);return z(t.font&&t.font.size,re.font.size)+e.height}return 0}function Ig(i,t,e){return e=ee(e)?e:[e],{w:Aa(i,t.string,e),h:e.length*t.lineHeight}}function Nc(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function Dg(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],s=i._pointLabels.length,o=i.options.pointLabels,a=o.centerPointLabels?K/s:0;for(let c=0;c<s;c++){let l=o.setContext(i.getPointLabelContext(c));r[c]=l.padding;let d=i.getPointPosition(c,i.drawingArea+r[c],a),u=pe(l.font),h=Ig(i.ctx,u,i._pointLabels[c]);n[c]=h;let m=Se(i.getIndexAngle(c)+a),y=Math.round(Ni(m)),b=Nc(y,d.x,h.w,0,180),_=Nc(y,d.y,h.h,90,270);Rg(e,t,m,b,_)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=zg(i,n,r)}function Rg(i,t,e,n,r){let s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,c=0;n.start<t.l?(a=(t.l-n.start)/s,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/s,i.r=Math.max(i.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/o,i.t=Math.min(i.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/o,i.b=Math.max(i.b,t.b+c))}function Bg(i,t,e){let n=i.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=e,c=i.getPointPosition(t,n+r+o,s),l=Math.round(Ni(Se(c.angle+de))),d=Vg(c.y,a.h,l),u=Lg(l),h=Ng(c.x,a.w,u);return{visible:!0,x:c.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function Fg(i,t){if(!t)return!0;let{left:e,top:n,right:r,bottom:s}=i;return!(ct({x:e,y:n},t)||ct({x:e,y:s},t)||ct({x:r,y:n},t)||ct({x:r,y:s},t))}function zg(i,t,e){let n=[],r=i._pointLabels.length,s=i.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:Hs(s)/2,additionalAngle:o?K/r:0},l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];let u=Bg(i,d,c);n.push(u),a==="auto"&&(u.visible=Fg(u,l),u.visible&&(l=u))}return n}function Lg(i){return i===0||i===180?"center":i<180?"left":"right"}function Ng(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function Vg(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function Ug(i,t,e){let{left:n,top:r,right:s,bottom:o}=e,{backdropColor:a}=t;if(!$(a)){let c=Lt(t.borderRadius),l=ke(t.backdropPadding);i.fillStyle=a;let d=n-l.left,u=r-l.top,h=s-n+l.width,m=o-r+l.height;Object.values(c).some(y=>y!==0)?(i.beginPath(),Cn(i,{x:d,y:u,w:h,h:m,radius:c}),i.fill()):i.fillRect(d,u,h,m)}}function jg(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){let s=i._pointLabelItems[r];if(!s.visible)continue;let o=n.setContext(i.getPointLabelContext(r));Ug(e,o,s);let a=pe(o.font),{x:c,y:l,textAlign:d}=s;zt(e,i._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function ul(i,t,e,n){let{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,te);else{let s=i.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=i.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function Wg(i,t,e,n,r){let s=i.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!n||!a||!c||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),ul(i,e,o,n),s.closePath(),s.stroke(),s.restore())}function $g(i,t,e){return Ct(i,{label:e,index:t,type:"pointLabel"})}var qs=class extends Sn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Kn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=ke(Hs(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=oe(t)&&!isNaN(t)?t:0,this.max=oe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hs(this.options))}generateTickLabels(t){Sn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let r=Q(this.options.pointLabels.callback,[e,n],this);return r||r===0?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?Dg(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){let e=te/(this._pointLabels.length||1),n=this.options.startAngle||0;return Se(t*e+Ge(n))}getDistanceFromCenterForValue(t){if($(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if($(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return $g(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let r=this.getIndexAngle(t)-de+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:s}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),ul(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:r,border:s}=e,o=this._pointLabels.length,a,c,l;if(e.pointLabels.display&&jg(this,o),r.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(u),m=r.setContext(h),y=s.setContext(h);Wg(this,m,c,o,y)}}),n.display){for(t.save(),a=o-1;a>=0;a--){let d=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:h}=d;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let r=this.getIndexAngle(0),s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let l=n.setContext(this.getContext(c)),d=pe(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;let u=ke(l.backdropPadding);t.fillRect(-o/2-u.left,-s-d.size/2-u.top,o+u.width,d.size+u.height)}zt(t,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},hr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ne=Object.keys(hr);function Vc(i,t){return i-t}function Uc(i,t){if($(t))return null;let e=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts,o=t;return typeof n=="function"&&(o=n(o)),oe(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(en(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function jc(i,t,e,n){let r=Ne.length;for(let s=Ne.indexOf(i);s<r-1;++s){let o=hr[Ne[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=n)return Ne[s]}return Ne[r-1]}function Hg(i,t,e,n,r){for(let s=Ne.length-1;s>=Ne.indexOf(e);s--){let o=Ne[s];if(hr[o].common&&i._adapter.diff(r,n,o)>=t-1)return o}return Ne[e?Ne.indexOf(e):0]}function qg(i){for(let t=Ne.indexOf(i)+1,e=Ne.length;t<e;++t)if(hr[Ne[t]].common)return Ne[t]}function Wc(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:r}=Vi(e,t),s=e[n]>=t?e[n]:e[r];i[s]=!0}}function Kg(i,t,e,n){let r=i._adapter,s=+r.startOf(t[0].value,n),o=t[t.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,n))c=e[a],c>=0&&(t[c].major=!0);return t}function $c(i,t,e){let n=[],r={},s=t.length,o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,n.push({value:a,major:!1});return s===0||!e?n:Kg(i,n,r,e)}var Ks=(()=>{class i extends sn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let r=e.time||(e.time={}),s=this._adapter=new rh._date(e.adapters.date);s.init(n),bn(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Uc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,r=e.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=oe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=oe(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){let e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=Oa(s,o,a);return this._unit=n.unit||(r.autoSkip?jc(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Hg(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:qg(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),$c(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=ye(n,0,a),r=ye(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let e=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||jc(o.minUnit,n,r,this._getLabelCapacity(n)),c=z(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=en(l)||l===!0,u={},h=n,m,y;if(d&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,d?"day":a),e.diff(r,n,a)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+a);let b=s.ticks.source==="data"&&this.getDataTimestamps();for(m=h,y=0;m<r;m=+e.add(m,c,a),y++)Wc(u,m,b);return(m===r||s.bounds==="ticks"||y===1)&&Wc(u,m,b),Object.keys(u).sort(Vc).map(_=>+_)}getLabelForValue(e){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){let s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){let o=this.options,a=o.ticks.callback;if(a)return Q(a,[e,n,r],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,u=l&&c[l],h=d&&c[d],m=r[n],y=d&&h&&m&&m.major;return this._adapter.format(e,s||(y?h:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,r=this.ctx.measureText(e).width,s=Ge(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(e){let n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,$c(this,[e],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,r;if(e.length)return e;let s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Uc(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Xr(e.sort(Vc))}}return i})();function er(i,t,e){let n=0,r=i.length-1,s,o,a,c;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=at(i,"pos",t)),{pos:s,time:a}=i[n],{pos:o,time:c}=i[r]):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=at(i,"time",t)),{time:s,pos:a}=i[n],{time:o,pos:c}=i[r]);let l=o-s;return l?a+(c-a)*(t-s)/l:a}var Ys=class extends Ks{static id="timeseries";static defaults=Ks.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=er(e,this.min),this._tableRange=er(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,r=[],s=[],o,a,c,l,d;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],l=r[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(er(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return er(this._table,n*this._tableRange+this._minPos,!0)}},Yg=Object.freeze({__proto__:null,CategoryScale:kg,LinearScale:Ws,LogarithmicScale:$s,RadialLinearScale:qs,TimeScale:Ks,TimeSeriesScale:Ys}),hl=[ih,Em,Og,Yg];var ml=[{id:"deep-nested",name:"Deep Nested Updates",description:"Updates to deeply nested state (15 levels)",operations:"1000 updates",complexity:"High",selected:!0,category:"core",purpose:"Measures surgical update performance in complex object hierarchies",frequencyWeight:2.5,realWorldFrequency:"Very High - Forms, settings, nested UI components",architecturalTradeOffs:"Direct mutation excels with deep updates vs immutable rebuilding",enhancers:{required:["withBatching"],optional:["withShallowMemoization"],rationale:"Batching prevents excessive notifications; shallow memoization helps with object updates"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"linear"}},{id:"large-array",name:"Large Array Mutations",description:"Array operations on large datasets",operations:"Size \xD7 10",complexity:"Medium",selected:!1,category:"core",purpose:"Tests O(1) direct mutation vs O(n) immutable array rebuilding",frequencyWeight:1.8,realWorldFrequency:"High - Lists, tables, data grids, search results",architecturalTradeOffs:"Direct mutation provides massive advantages for large arrays vs immutable rebuilding",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"High-performance batching essential for rapid array updates; memoization counterproductive"},dataRequirements:{minSize:1e3,maxSize:1e5,defaultSize:1e4,scalesWith:"linear"}},{id:"computed-chains",name:"Complex Computed Chains",description:"Cascading computed values with dependencies",operations:"500 computations",complexity:"High",selected:!1,category:"core",purpose:"Evaluates dependency graph resolution and computed value performance",frequencyWeight:2.2,realWorldFrequency:"High - Derived state, calculated fields, data transformations",architecturalTradeOffs:"Granular reactivity prevents unnecessary recalculations vs coarse invalidation",enhancers:{required:["withBatching","withShallowMemoization"],optional:[],rationale:"Batching reduces cascading updates; memoization prevents redundant computations"},dataRequirements:{minSize:100,maxSize:1e3,defaultSize:500,scalesWith:"logarithmic"}},{id:"batch-updates",name:"Batched Operations",description:"Multiple simultaneous state updates",operations:"100 batches",complexity:"Medium",selected:!1,category:"core",purpose:"Tests batching system efficiency and transaction-like behavior",frequencyWeight:2,realWorldFrequency:"Common - Form saves, bulk edits, transaction-like updates",architecturalTradeOffs:"Batching reduces render thrashing vs individual update overhead",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"Core batching functionality being tested - no other enhancers needed"},dataRequirements:{minSize:50,maxSize:1e3,defaultSize:100,scalesWith:"linear"}},{id:"selector-memoization",name:"Selector/Memoization",description:"Memoized selector performance",operations:"1000 selections",complexity:"Low",selected:!1,category:"core",purpose:"Evaluates memoization effectiveness and cache hit rates",frequencyWeight:2.8,realWorldFrequency:"Very High - Data filtering, searching, computed UI state",architecturalTradeOffs:"Memoization prevents expensive recalculations vs memory overhead",enhancers:{required:["withLightweightMemoization"],optional:["withBatching"],rationale:"Testing memoization system - lightweight version for better performance"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"serialization",name:"Serialization (Snapshot + JSON)",description:"Convert state to plain JSON (unwrap + stringify)",operations:"Per iteration",complexity:"Medium",selected:!1,category:"core",purpose:"Measures serialization overhead and JSON conversion performance",frequencyWeight:.8,realWorldFrequency:"Low - State persistence, debugging, server-side rendering",architecturalTradeOffs:"Direct JSON serialization vs complex immutable structure traversal",enhancers:{required:["withSerialization","withMemoization","withHighPerformanceBatching"],optional:[],rationale:"Testing serialization feature; memoization and batching for stable baseline"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"exponential"}},{id:"concurrent-updates",name:"Rapid Sequential Updates",description:"High-frequency sequential modifications",operations:"50 concurrent",complexity:"Extreme",selected:!1,category:"core",purpose:"Tests performance under high-frequency update pressure",frequencyWeight:.4,realWorldFrequency:"Rare - Gaming, real-time data streams, intensive animations",architecturalTradeOffs:"Direct mutation handles rapid updates vs immutable bottlenecks",enhancers:{required:["withBatching"],optional:[],rationale:"Batching essential to prevent overwhelming the reactivity system"},dataRequirements:{minSize:50,maxSize:500,defaultSize:50,scalesWith:"linear"}},{id:"memory-efficiency",name:"Memory Usage",description:"Memory consumption patterns",operations:"Continuous",complexity:"Variable",selected:!1,category:"core",purpose:"Measures memory overhead and garbage collection impact",frequencyWeight:1.5,realWorldFrequency:"Medium-High - Mobile apps, long-running sessions, large datasets",architecturalTradeOffs:"Direct mutation reduces garbage collection vs immutable allocation pressure",enhancers:{required:["withLightweightMemoization","withBatching"],optional:[],rationale:"Lightweight memoization minimizes memory overhead; batching reduces allocation pressure"},dataRequirements:{minSize:1e3,maxSize:5e4,defaultSize:1e4,scalesWith:"exponential"}},{id:"undo-redo",name:"Undo/Redo Operations",description:"Time-travel through state history",operations:"100 undo/redo",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel functionality and history navigation performance",frequencyWeight:.6,realWorldFrequency:"Low - Text editors, design tools, debugging workflows",architecturalTradeOffs:"Time-travel requires immutable snapshots vs direct mutation benefits",enhancers:{required:["withTimeTravel"],optional:["withBatching"],rationale:"Time-travel enhancer required; batching may improve performance"},dataRequirements:{minSize:50,maxSize:500,defaultSize:100,scalesWith:"linear"}},{id:"history-size",name:"Large History Size",description:"Performance with large history buffers",operations:"1000 history entries",complexity:"High",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel performance with large history buffers",frequencyWeight:.3,realWorldFrequency:"Rare - Development tools, complex debugging workflows",architecturalTradeOffs:"Large history requires significant memory vs lightweight state tracking",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer with large history size configuration"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"logarithmic"}},{id:"jump-to-state",name:"Jump to State",description:"Jumping to arbitrary points in history",operations:"50 jumps",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests random access performance in time-travel history",frequencyWeight:.2,realWorldFrequency:"Very Rare - Advanced debugging, development tools",architecturalTradeOffs:"Random state access requires indexed history vs linear traversal",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer for state jumping functionality"},dataRequirements:{minSize:25,maxSize:200,defaultSize:50,scalesWith:"linear"}},{id:"single-middleware",name:"Single Middleware",description:"Performance impact of one middleware",operations:"1000 operations",complexity:"Low",selected:!1,category:"middleware",purpose:"Measures overhead of middleware layer on performance",frequencyWeight:1.2,realWorldFrequency:"Medium - Logging, analytics, error tracking",architecturalTradeOffs:"Middleware adds flexibility vs direct performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing middleware impact"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"multiple-middleware",name:"Multiple Middleware",description:"Stack of multiple middleware layers",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance impact of middleware stack depth",frequencyWeight:.7,realWorldFrequency:"Low - Enterprise apps with complex middleware stacks",architecturalTradeOffs:"Middleware composition flexibility vs cumulative performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing cumulative middleware overhead"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"conditional-middleware",name:"Conditional Middleware",description:"Middleware with conditional logic",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance of conditional middleware execution paths",frequencyWeight:.5,realWorldFrequency:"Rare - Advanced middleware with conditional logic",architecturalTradeOffs:"Conditional middleware provides smart optimization vs branching overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing conditional middleware logic"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}}];var wn={type:null,entityIds:null,skip:!1,payload:null},Xs=!1;function Js(){Xs=!1}function He(i,t,e){Me(i,t,e),Xs=!0}function Me(i,t,e){Xs===!1&&(wn.type=i,wn.entityIds=t,wn.payload=e)}function Qs(i,t){return function(e,n,r){let s=r.value;return r.value=function(...o){return He(i,t),s.apply(this,o)},r}}function mt(i,t){return i.hasOwnProperty(t)}function Xe(i){return Array.isArray(i)}function ai(i){return i.hasOwnProperty("active")}function mr(i){return Xe(i)}function ci({active:i,ids:t,entities:e}){return mr(i)?gl(i,t):mt(e,i)===!1?null:i}function gl(i,t){let e=i.filter(n=>t.indexOf(n)>-1);return e.length===i.length?i:e}function Zs({state:i,entities:t,idKey:e,options:n={},preAddEntity:r}){let s={},o=[],a=!1;for(let c of t)if(mt(i.entities,c[e])===!1){let l=r(c),d=l[e];s[d]=l,n.prepend?o.unshift(d):o.push(d),a=!0}return a?{newState:O(M({},i),{entities:M(M({},i.entities),s),ids:n.prepend?[...o,...i.ids]:[...i.ids,...o]}),newIds:o}:null}function Pe(i){return i==null}function he(i){return Pe(i)?[]:Array.isArray(i)?i:[i]}var jt="id";function gt(i){return Xe(i)?i.length===0:!1}function ne(i){return typeof i=="function"}function vt(i){let t=typeof i;return i!=null&&(t=="object"||t=="function")}var fl={resettable:!1,ttl:null,producerFn:void 0};function kn(){return fl}function pl(){return fl.producerFn}function on(i){return Pe(i)===!1}var eo=new _e,li=new yi(50,5e3),bl=new _e;function _l(i){eo.next(i)}function yl(i){li.next(i)}function Ml(i,t){bl.next({storeName:i,action:t})}var di=typeof window<"u";var De={},xl={};di&&(window.$$stores=De,window.$$queries=xl);var Wt=function(i){return i.Set="Set",i.Add="Add",i.Update="Update",i.Remove="Remove",i}(Wt||{});var gr=!0;function ae(){return gr}function to(i,t,e){let n;if(Xe(i))n=i;else if(vt(i)){if(Pe(e))return;i=Object.assign({wrap:!0},i);let r=t.indexOf(e);if(i.prev){let s=r===0;if(s&&!i.wrap)return;n=s?t[t.length-1]:t[r-1]}else if(i.next){let s=t.length===r+1;if(s&&!i.wrap)return;n=s?t[0]:t[r+1]}}else{if(i===e)return;n=i}return n}var no=()=>({entities:{},ids:[],loading:!0,error:null});function it(i){return i===void 0}function io({state:i,ids:t}){if(Pe(t))return Pl(i);let e=i.entities,n={};for(let s of i.ids)t.includes(s)===!1&&(n[s]=e[s]);let r=O(M({},i),{entities:n,ids:i.ids.filter(s=>t.includes(s)===!1)});return ai(i)&&(r.active=ci(r)),r}function Pl(i){return O(M({},i),{entities:{},ids:[],active:mr(i.active)?[]:null})}function ro(i,t,e){let n={entities:{},ids:[]};for(let r of i){let s=e(r);n.entities[s[t]]=s,n.ids.push(s[t])}return n}function vl(i){return i.entities&&i.ids}function Ol(i,t){let e={};for(let n of Object.keys(i))e[n]=t(i[n]);return e}function so({state:i,entities:t,idKey:e,preAddEntity:n,isNativePreAdd:r}){let s,o;if(Xe(t)){let c=ro(t,e,n);s=c.entities,o=c.ids}else vl(t)?(s=r?t.entities:Ol(t.entities,n),o=t.ids):(s=r?t:Ol(t,n),o=Object.keys(s).map(c=>isNaN(c)?c:Number(c)));let a=O(M({},i),{entities:s,ids:o,loading:!1});return ai(i)&&(a.active=ci(a)),a}function oo(i){Object.freeze(i);let t=typeof i=="function",e=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(i).forEach(function(n){e.call(i,n)&&(!t||n!=="caller"&&n!=="callee"&&n!=="arguments")&&i[n]!==null&&(typeof i[n]=="object"||typeof i[n]=="function")&&!Object.isFrozen(i[n])&&oo(i[n])}),i}function Sl(i,t){i||console.error(`@StoreConfig({ name }) is missing in ${t}`)}function St(i){return i!=null&&`${i}`!="false"}function En(i){return St(i)&&i.constructor.name==="Object"}var an="akitaConfig";function qe(i){return function(t){t[an]={idKey:"id"};for(let e=0,n=Object.keys(i);e<n.length;e++){let r=n[e];r==="name"?t[an].storeName=i[r]:t[an][r]=i[r]}}}var Zg=new _e,wl=new Ue(!1),wt={activeTransactions:0,batchTransaction:null};function kl(){fr()||(wt.batchTransaction=new _e),wt.activeTransactions++,wl.next(!0)}function El(){--wt.activeTransactions===0&&(wt.batchTransaction.next(!0),wt.batchTransaction.complete(),wl.next(!1),Zg.next(!0))}function fr(){return wt.activeTransactions>0}function ao(){return wt.batchTransaction?wt.batchTransaction.asObservable():Er(!0)}function ui(i,t=void 0){kl();try{return i.apply(t)}finally{He("@Transaction"),El()}}function pr(){return function(i,t,e){let n=e.value;return e.value=function(...r){return ui(()=>n.apply(this,r),this)},e}}var ft=class{constructor(t,e={}){this.options=e,this.inTransaction=!1,this.cache={active:new Ue(!1),ttl:null},this.onInit(t)}setLoading(t=!1){t!==this._value().loading&&(ae()&&Me("Set Loading"),this._setState(e=>O(M({},e),{loading:t})))}setHasCache(t,e={restartTTL:!1}){if(t!==this.cache.active.value&&this.cache.active.next(t),e.restartTTL){let n=this.getCacheTTL();n&&(this.cache.ttl!==null&&clearTimeout(this.cache.ttl),this.cache.ttl=setTimeout(()=>this.setHasCache(!1),n))}}getValue(){return this.storeValue}setError(t){t!==this._value().error&&(ae()&&Me("Set Error"),this._setState(e=>O(M({},e),{error:t})))}_select(t){return this.store.asObservable().pipe(je(e=>t(e.state)),un())}_value(){return this.storeValue}_cache(){return this.cache.active}get config(){return this.constructor[an]||{}}get storeName(){return this.config.storeName||this.options.storeName||this.options.name}get deepFreeze(){return this.config.deepFreezeFn||this.options.deepFreezeFn||oo}get cacheConfig(){return this.config.cache||this.options.cache}get _producerFn(){return this.config.producerFn||this.options.producerFn||pl()}get resettable(){return on(this.config.resettable)?this.config.resettable:this.options.resettable}_setState(t,e=!0){if(ne(t)){let n=t(this._value());this.storeValue=gr?this.deepFreeze(n):n}else this.storeValue=t;if(!this.store){this.store=new Ue({state:this.storeValue}),ae()&&this.store.subscribe(({action:n})=>{n&&Ml(this.storeName,n)});return}if(fr()){this.handleTransaction();return}this.dispatch(this.storeValue,e)}reset(){this.isResettable()&&(ae()&&Me("Reset"),this._setState(()=>Object.assign({},this._initialState)),this.setHasCache(!1))}update(t){ae()&&Me("Update");let e,n=this._value();ne(t)?e=ne(this._producerFn)?this._producerFn(n,t):t(n):e=t;let r=this.akitaPreUpdate(n,M(M({},n),e)),s=En(n)?r:new n.constructor(r);this._setState(s)}updateStoreConfig(t){this.options=M(M({},this.options),t)}akitaPreUpdate(t,e){return e}destroy(){!(di?window.hmrEnabled:!1)&&this===De[this.storeName]&&(delete De[this.storeName],_l(this.storeName),this.setHasCache(!1),this.cache.active.complete(),this.store.complete())}onInit(t){De[this.storeName]=this,this._setState(()=>t),yl(this.storeName),this.isResettable()&&(this._initialState=t),ae()&&Sl(this.storeName,this.constructor.name)}dispatch(t,e=!0){let n;e&&(n=wn,Js()),this.store.next({state:t,action:n})}watchTransaction(){ao().subscribe(()=>{this.inTransaction=!1,this.dispatch(this._value())})}isResettable(){return this.resettable===!1?!1:this.resettable||kn().resettable}handleTransaction(){this.inTransaction||(this.watchTransaction(),this.inTransaction=!0)}getCacheTTL(){return this.cacheConfig&&this.cacheConfig.ttl||kn().ttl}};function co({state:i,ids:t,idKey:e,newStateOrFn:n,preUpdateEntity:r,producerFn:s,onEntityIdChanges:o}){let a={},c=!1,l;for(let m of t){if(mt(i.entities,m)===!1)continue;let y=i.entities[m],b;ne(n)?b=ne(s)?s(y,n):n(y):b=n;let _=b.hasOwnProperty(e)&&b[e]!==y[e],P;l=m,_&&(c=!0,l=b[e]);let x=M(M({},y),b);En(y)?P=x:En(b)?P=new y.constructor(x):P=new b.constructor(x),a[l]=r(y,P)}let d=i.ids,u=i.entities;if(c){let[m]=t,h=i.entities,{[m]:y}=h;u=_i(h,[vo(m)]),d=i.ids.map(_=>_===m?l:_),o(m,l)}return O(M({},i),{entities:M(M({},u),a),ids:d})}var Al,xe=class i extends ft{constructor(t={},e={}){super(M(M({},no()),t),e),this.options=e,this.entityActions=new _e,this.entityIdChanges=new _e}get selectEntityAction$(){return this.entityActions.asObservable()}get selectEntityIdChanges$(){return this.entityIdChanges.asObservable()}get idKey(){return this.config.idKey||this.options.idKey||jt}set(t,e={}){if(Pe(t))return;ae()&&Me("Set Entity");let n=this.akitaPreAddEntity===i.prototype.akitaPreAddEntity;this.setHasCache(!0,{restartTTL:!0}),this._setState(r=>{let s=so({state:r,entities:t,idKey:this.idKey,preAddEntity:this.akitaPreAddEntity.bind(this),isNativePreAdd:n});return it(e.activeId)===!1&&(s.active=e.activeId),s}),this.hasInitialUIState()&&this.handleUICreation(),this.entityActions.next({type:Wt.Set,ids:this.ids})}add(t,e={loading:!1}){let n=he(t);if(gt(n))return;let r=Zs({state:this._value(),preAddEntity:this.akitaPreAddEntity.bind(this),entities:n,idKey:this.idKey,options:e});r&&(ae()&&Me("Add Entity"),r.newState.loading=e.loading,this._setState(()=>r.newState),this.hasInitialUIState()&&this.handleUICreation(!0),this.entityActions.next({type:Wt.Add,ids:r.newIds}))}update(t,e){if(it(e)){super.update(t);return}let n=[];if(ne(t)?n=this.ids.filter(s=>t(this.entities[s])):n=Pe(t)?this.ids:he(t),gt(n))return;ae()&&Me("Update Entity",n);let r;this._setState(s=>co({idKey:this.idKey,ids:n,preUpdateEntity:this.akitaPreUpdateEntity.bind(this),state:s,newStateOrFn:e,producerFn:this._producerFn,onEntityIdChanges:(o,a)=>{r={oldId:o,newId:a},this.entityIdChanges.next(O(M({},r),{pending:!0}))}})),r&&this.entityIdChanges.next(O(M({},r),{pending:!1})),this.entityActions.next({type:Wt.Update,ids:n})}upsert(t,e,n,r={}){let s=he(t),o=u=>h=>mt(this.entities,h)===u,a=ne(n)?r.baseClass:n?n.baseClass:void 0,c=ne(a),l=s.filter(o(!0)),d=s.filter(o(!1)).map(u=>{let h=typeof e=="function"?e({}):e,m=ne(n)?n(u,h):h,y=O(M({},m),{[this.idKey]:u});return c?new a(y):y});this.update(l,e),this.add(d),ae()&&He("Upsert Entity")}upsertMany(t,e={}){let n=[],r=[],s={};for(let o of t){let a=this.akitaPreCheckEntity(o),c=a[this.idKey];if(mt(this.entities,c)){let l=this._value().entities[c],d=M(M({},this._value().entities[c]),a),u=e.baseClass?new e.baseClass(d):d,h=this.akitaPreUpdateEntity(l,u),m=h[this.idKey];s[m]=h,r.push(m)}else{let l=e.baseClass?new e.baseClass(a):a,d=this.akitaPreAddEntity(l),u=d[this.idKey];n.push(u),s[u]=d}}ae()&&He("Upsert Many"),this._setState(o=>O(M({},o),{ids:n.length?[...o.ids,...n]:o.ids,entities:M(M({},o.entities),s),loading:!!e.loading})),r.length&&this.entityActions.next({type:Wt.Update,ids:r}),n.length&&this.entityActions.next({type:Wt.Add,ids:n}),n.length&&this.hasUIStore()&&this.handleUICreation(!0)}replace(t,e){let n=he(t);if(gt(n))return;let r={};for(let s of n)r[s]=O(M({},e),{[this.idKey]:s});ae()&&Me("Replace Entity",t),this._setState(s=>O(M({},s),{entities:M(M({},s.entities),r)}))}move(t,e){let n=this.ids.slice();n.splice(e<0?n.length+e:e,0,n.splice(t,1)[0]),ae()&&Me("Move Entity"),this._setState(r=>O(M({},r),{entities:M({},r.entities),ids:n}))}remove(t){if(gt(this.ids))return;let e=on(t),n=[];ne(t)?n=this.ids.filter(r=>t(this.entities[r])):n=e?he(t):this.ids,!gt(n)&&(ae()&&Me("Remove Entity",n),this._setState(r=>io({state:r,ids:n})),e||this.setHasCache(!1),this.handleUIRemove(n),this.entityActions.next({type:Wt.Remove,ids:n}))}updateActive(t){let e=he(this.active);ae()&&Me("Update Active",e),this.update(e,t)}setActive(t){let e=to(t,this.ids,this.active);e!==void 0&&(ae()&&Me("Set Active",e),this._setActive(e))}addActive(t){let e=he(t);gt(e)||e.every(r=>this.active.indexOf(r)>-1)||(ae()&&Me("Add Active",t),this._setState(r=>{let s=Array.from(new Set([...r.active,...e]));return O(M({},r),{active:s})}))}removeActive(t){let e=he(t);gt(e)||!e.some(r=>this.active.indexOf(r)>-1)||(ae()&&Me("Remove Active",t),this._setState(r=>O(M({},r),{active:Array.isArray(r.active)?r.active.filter(s=>e.indexOf(s)===-1):null})))}toggleActive(t){let e=he(t),n=o=>a=>this.active.includes(a)===o,r=e.filter(n(!0)),s=e.filter(n(!1));this.removeActive(r),this.addActive(s),ae()&&He("Toggle Active")}createUIStore(t={},e={}){let n={name:`UI/${this.storeName}`,idKey:this.idKey};return this.ui=new hi(t,M(M({},n),e)),this.ui}destroy(){super.destroy(),this.ui instanceof i&&this.ui.destroy(),this.entityActions.complete()}akitaPreUpdateEntity(t,e){return e}akitaPreAddEntity(t){return t}akitaPreCheckEntity(t){return t}get ids(){return this._value().ids}get entities(){return this._value().entities}get active(){return this._value().active}_setActive(t){this._setState(e=>O(M({},e),{active:t}))}handleUICreation(t=!1){let e=this.ids,n=ne(this.ui._akitaCreateEntityFn),r,s=o=>{let a=this.entities[o],c=n?this.ui._akitaCreateEntityFn(a):this.ui._akitaCreateEntityFn;return M({[this.idKey]:a[this.idKey]},c)};t?r=this.ids.filter(o=>it(this.ui.entities[o])).map(s):r=e.map(s),t?this.ui.add(r):this.ui.set(r)}hasInitialUIState(){return this.hasUIStore()&&it(this.ui._akitaCreateEntityFn)===!1}handleUIRemove(t){this.hasUIStore()&&this.ui.remove(t)}hasUIStore(){return this.ui instanceof hi}};Ln([pr(),et("design:type",Function),et("design:paramtypes",[Object,Object,Object,Object]),et("design:returntype",void 0)],xe.prototype,"upsert",null);Ln([pr(),et("design:type",Function),et("design:paramtypes",[typeof(Al=typeof T<"u"&&T)=="function"?Al:Object]),et("design:returntype",void 0)],xe.prototype,"toggleActive",null);var hi=class extends xe{constructor(t={},e={}){super(t,e)}setInitialEntityState(t){this._akitaCreateEntityFn=t}};function lo(){return pt(i=>i!=null)}function An(i){return typeof i=="string"}function Tn(i,t){return t.split(".").length===1?i:t.split(".").slice(1).join(".").split(".").reduce((n,r)=>n&&n[r],i)}function mi(i,t,e,n=!1){let r=t.split(".");if(r.length===1)return M(M({},i),e);i=M({},i);let s=r.length-2;return t.split(".").slice(1).reduce((a,c,l)=>l!==s?(a[c]=M({},a[c]),a&&a[c]):(a[c]=n||Array.isArray(a[c])||!vt(a[c])?e:M(M({},a[c]),e),a&&a[c]),i),i}var of=!1,cM=new yi(1);function uo(i){of=i}var $t=class{constructor(t,e){this.query=t,e&&e.resetFn&&kn().resettable&&this.onReset(e.resetFn)}getQuery(){return this.query}getStore(){return this.getQuery().__store__}isEntityBased(t){return St(t)}selectSource(t,e){return this.isEntityBased(t)?this.getQuery().selectEntity(t).pipe(lo()):e?this.getQuery().select(n=>Tn(n,this.withStoreName(e))):this.getQuery().select()}getSource(t,e){if(this.isEntityBased(t))return this.getQuery().getEntity(t);let n=this.getQuery().getValue();return e?Tn(n,this.withStoreName(e)):n}withStoreName(t){return`${this.storeName}.${t}`}get storeName(){return this.getStore().storeName}updateStore(t,e,n,r=!1){if(this.isEntityBased(e)){let s=this.getStore();r?s.replace(e,t):s.update(e,t)}else{if(n){this.getStore()._setState(o=>mi(o,this.withStoreName(n),t,!0));return}let s=r?t:o=>M(M({},o),t);this.getStore()._setState(s)}}onReset(t){let e=this.getStore().reset;this.getStore().reset=(...n)=>{setTimeout(()=>{e.apply(this.getStore(),n),t()})}}};var df={pagesControls:!1,range:!1,startWith:1,cacheTimeout:void 0,clearStoreWithCache:!0},br=class extends $t{constructor(t,e={}){super(t,{resetFn:()=>{this.initial=!1,this.destroy({clearCache:!0,currentPage:1})}}),this.query=t,this.config=e,this.metadata=new Map,this.pages=new Map,this.pagination={currentPage:1,perPage:0,total:0,lastPage:0,data:[]},this.initial=!0,this.isLoading$=this.query.selectLoading().pipe(Eo(0)),this.config=M(M({},df),e);let{startWith:n,cacheTimeout:r}=this.config;this.page=new Ue(n),Mi(r)&&(this.clearCacheSubscription=r.subscribe(()=>this.clearCache()))}get pageChanges(){return this.page.asObservable()}get currentPage(){return this.pagination.currentPage}get isFirst(){return this.currentPage===1}get isLast(){return this.currentPage===this.pagination.lastPage}withControls(){return this.config.pagesControls=!0,this}withRange(){return this.config.range=!0,this}setLoading(t=!0){this.getStore().setLoading(t)}update(t){this.pagination=t,this.addPage(t.data)}addPage(t){this.pages.set(this.currentPage,{ids:t.map(e=>e[this.getStore().idKey])}),this.getStore().upsertMany(t)}clearCache(t={}){this.initial||(He("@Pagination - Clear Cache"),t.clearStore!==!1&&(this.config.clearStoreWithCache||t.clearStore)&&this.getStore().remove(),this.pages=new Map,this.metadata=new Map),this.initial=!1}clearPage(t){this.pages.delete(t)}destroy({clearCache:t,currentPage:e}={}){this.clearCacheSubscription&&this.clearCacheSubscription.unsubscribe(),t&&this.clearCache(),it(e)||this.setPage(e),this.initial=!0}isPageActive(t){return this.currentPage===t}setPage(t){(t!==this.currentPage||!this.hasPage(t))&&this.page.next(this.pagination.currentPage=t)}nextPage(){this.currentPage!==this.pagination.lastPage&&this.setPage(this.pagination.currentPage+1)}prevPage(){this.pagination.currentPage>1&&this.setPage(this.pagination.currentPage-1)}setLastPage(){this.setPage(this.pagination.lastPage)}setFirstPage(){this.setPage(1)}hasPage(t){return this.pages.has(t)}getPage(t){let e=this.pagination.currentPage;return this.hasPage(e)?this.selectPage(e):(this.setLoading(!0),kr(t()).pipe(Ci(n=>(e=n.currentPage,ui(()=>{this.setLoading(!1),this.update(n)}),this.selectPage(e)))))}getQuery(){return this.query}refreshCurrentPage(){Pe(this.currentPage)===!1&&(this.clearPage(this.currentPage),this.setPage(this.currentPage))}getFrom(){return this.isFirst?1:(this.currentPage-1)*this.pagination.perPage+1}getTo(){return this.isLast?this.pagination.total:this.currentPage*this.pagination.perPage}selectPage(t){return this.query.selectAll({asObject:!0}).pipe(st(1),je(e=>{let n=O(M({},this.pagination),{data:this.pages.get(t).ids.map(o=>e[o])}),{range:r,pagesControls:s}=this.config;return isNaN(this.pagination.total)&&(n.lastPage===1?n.total=n.data?n.data.length:0:n.total=n.perPage*n.lastPage,this.pagination.total=n.total),r&&(n.from=this.getFrom(),n.to=this.getTo()),s&&(n.pageControls=uf(this.pagination.total,this.pagination.perPage)),n}))}};Ln([Qs("@Pagination - New Page"),et("design:type",Function),et("design:paramtypes",[Object]),et("design:returntype",void 0)],br.prototype,"update",null);function uf(i,t){let e=Math.ceil(i/t),n=[];for(let r=0;r<e;r++)n.push(r+1);return n}var ho=function(i){return i.Update="UPDATE",i}(ho||{}),fx={[ho.Update]:"update"},kt=function(i){return i.Update="UPDATE",i.AddEntities="ADD_ENTITIES",i.SetEntities="SET_ENTITIES",i.UpdateEntities="UPDATE_ENTITIES",i.RemoveEntities="REMOVE_ENTITIES",i.UpsertEntities="UPSERT_ENTITIES",i.UpsertManyEntities="UPSERT_MANY_ENTITIES",i}(kt||{}),px={[kt.Update]:"update",[kt.AddEntities]:"add",[kt.SetEntities]:"set",[kt.UpdateEntities]:"update",[kt.RemoveEntities]:"remove",[kt.UpsertEntities]:"upsert",[kt.UpsertManyEntities]:"upsertMany"};var _r=class{getStoresSnapshot(t=[]){let e={},r=t.length>0?t:Object.keys(De);for(let s=0;s<r.length;s++){let o=r[s];o!=="router"&&(e[o]=De[o]._value())}return e}setStoresSnapshot(t,e){let n=M({skipStorageUpdate:!1,lazy:!1},e);n.skipStorageUpdate&&uo(!0);let r=t;An(t)&&(r=JSON.parse(r));let s=Object.keys(r).length;if(n.lazy)li.pipe(pt(o=>r.hasOwnProperty(o)),st(s)).subscribe(o=>De[o]._setState(()=>r[o]));else for(let o=0,a=Object.keys(r);o<a.length;o++){let c=a[o];De[c]&&De[c]._setState(()=>r[c])}n.skipStorageUpdate&&uo(!1)}},mf=new _r;var yr=class i{yieldToUI=Tt();runSingleMiddlewareBenchmark(t){return I(this,null,function*(){class e extends ft{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(o,a){let c=a.counter>-1;return a}}let n=new e,r=performance.now();for(let s=0;s<t;s++)n.update(o=>O(M({},o),{counter:o.counter+1}));return performance.now()-r})}runMultipleMiddlewareBenchmark(t,e){return I(this,null,function*(){class n extends ft{constructor(c){super({counter:0,data:"test"});this.middlewareCount=c}akitaPreUpdate(c,l){for(let d=0;d<this.middlewareCount;d++){let u=0;for(let h=0;h<10;h++)u+=h}return l}}let r=new n(t),s=performance.now();for(let o=0;o<e;o++)r.update(a=>O(M({},a),{counter:a.counter+1}));return performance.now()-s})}runConditionalMiddlewareBenchmark(t){return I(this,null,function*(){class e extends ft{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(o,a){if(a.counter%2===0){let c=0;for(let l=0;l<20;l++)c+=l}return a}}let n=new e,r=performance.now();for(let s=0;s<t;s++)s%2===0?n.update(a=>O(M({},a),{counter:a.counter+1})):n.update(a=>O(M({},a),{data:"modified"}));return performance.now()-r})}runAsyncWorkflowBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Math.min(t,E.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let s=0;s<n;s++)r.push(new Promise(o=>setTimeout(o,0)));return yield Promise.all(r),performance.now()-e})}runConcurrentAsyncBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(r=>setTimeout(r,0)));return yield Promise.all(n),performance.now()-e})}runAsyncCancellationBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<t;r++)n.push(setTimeout(()=>{},10));for(let r=0;r<Math.floor(t/2);r++)clearTimeout(n[r]);return yield new Promise(r=>setTimeout(r,10)),performance.now()-e})}runDeepNestedBenchmark(n){return I(this,arguments,function*(t,e=E.DATA_GENERATION.NESTED_DEPTH){let r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=r(e),o=(c,l,d)=>l===0?O(M({},c),{value:d}):O(M({},c),{level:o(c.level??{},l-1,d)}),a=performance.now();for(let c=0;c<Math.min(t,E.ITERATIONS.DEEP_NESTED);c++)s=o(s,e-1,c);return s?.level?.level===null&&console.log("noop"),performance.now()-a})}runArrayBenchmark(t){return I(this,null,function*(){let e=class extends xe{constructor(){super({})}};e=Ke([qe({name:"akita-bench-items",idKey:"id"})],e);let n=new e;n.add(Array.from({length:t},(a,c)=>({id:c,value:Math.random()*1e3})));let r=performance.now(),s=Math.min(E.ITERATIONS.ARRAY_UPDATES,t);for(let a=0;a<s;a++){let c=a%t;n.update(c,{value:Math.random()*1e3})}return(n.getValue().ids?.length??0)===-1&&console.log("noop"),performance.now()-r})}runComputedBenchmark(t){return I(this,null,function*(){let e={value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(s,o)=>o+1)},n=()=>{let s=0;for(let o of e.factors)s+=Math.sin(e.value*o)*Math.cos(o);return s},r=performance.now();for(let s=0;s<Math.min(t,E.ITERATIONS.COMPUTED);s++)e=O(M({},e),{value:s}),n();return performance.now()-r})}runBatchUpdatesBenchmark(){return I(this,arguments,function*(t=E.ITERATIONS.BATCH_UPDATES,e=E.ITERATIONS.BATCH_SIZE){let n=class extends xe{constructor(){super({})}};n=Ke([qe({name:"akita-bench-batch",idKey:"id"})],n);let r=new n;r.add(Array.from({length:e},(o,a)=>({id:a,value:a})));let s=performance.now();for(let o=0;o<t;o++)r.update(Array.from({length:e},(a,c)=>c),a=>({value:a.value+1|0}));return performance.now()-s})}runSelectorBenchmark(t){return I(this,null,function*(){let e=class extends xe{constructor(){super({})}};e=Ke([qe({name:"akita-bench-select",idKey:"id"})],e);let n=new e;n.add(Array.from({length:t},(h,m)=>({id:m,flag:m%2===0,value:Math.random()*100,metadata:{category:m%5,priority:m%3}})));let r=performance.now(),s,o,a,c=0,l=()=>{let h=n.getValue(),m=h.ids??[],y=h.entities??{},b=m.length;if(s!==void 0&&b===c)return s;let _=0;for(let P of m)y[P]?.flag&&_++;return s=_,c=b,_},d=()=>{let h=n.getValue(),m=h.ids??[],y=h.entities??{},b=m.length;if(o!==void 0&&b===c)return o;let _=0;for(let P of m)y[P]?.value&&y[P].value>50&&_++;return o=_,_},u=()=>{let h=n.getValue(),m=h.ids??[],y=h.entities??{},b=m.length;if(a!==void 0&&b===c)return a;let _={};for(let P of m){let x=y[P];if(x?.metadata){let v=x.metadata.category;_[v]=(_[v]||0)+1}}return a=_,_};for(let h=0;h<E.ITERATIONS.SELECTOR;h++)if(l(),d(),u(),(h&E.YIELD_FREQUENCY.SELECTOR)===0){let m=h%t,b=n.getValue().entities?.[m];b&&(n.update(m,{flag:!b.flag}),s=void 0,o=void 0,a=void 0,c++)}return performance.now()-r})}runSerializationBenchmark(t){return I(this,null,function*(){let e=class extends xe{constructor(){super({})}};e=Ke([qe({name:"akita-serialize",idKey:"id"})],e);let n=new e,r=Array.from({length:Math.max(100,Math.min(1e3,t))},(l,d)=>({id:d,name:`User ${d}`,roles:d%5===0?["admin","user"]:["user"],active:d%3===0,meta:{createdAt:new Date(2020,0,1+d%28)}}));n.set(r);for(let l=0;l<10;l++){let d=l%r.length;n.update(d,u=>O(M({},u),{active:!u.active}))}let s=performance.now(),o=n.getValue(),a=performance.now();JSON.stringify({data:o});let c=performance.now();return console.debug("[Akita][serialization] toPlain(ms)=",(a-s).toFixed(2)," stringify(ms)=",(c-a).toFixed(2)),c-s})}runConcurrentUpdatesBenchmark(){return I(this,arguments,function*(t=E.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=class extends xe{constructor(){super({})}};n=Ke([qe({name:"akita-bench-conc",idKey:"id"})],n);let r=new n;r.add(Array.from({length:t},(l,d)=>({id:d,value:0})));let s=performance.now();for(let l=0;l<e;l++)r.update(Array.from({length:t},(d,u)=>u),d=>({value:d.value+1|0}));return((r.getValue().entities??{})[0]?.value??0)===-1&&console.log("noop"),performance.now()-s})}runMemoryEfficiencyBenchmark(t){return I(this,null,function*(){let e=class extends xe{constructor(){super({})}};e=Ke([qe({name:"akita-bench-mem",idKey:"id"})],e);let n=Math.max(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),r=Math.max(10,Math.min(200,Math.floor(n/250))),s=new e;s.add(Array.from({length:n},(c,l)=>({id:l,score:l*13%997,tags:l%7===0?["hot","new"]:["cold"],group:l%r})));let o=performance.now(),a=Math.max(100,Math.floor(n*.01));for(let c=0;c<a;c++){let l=c%n;s.update(l,d=>({score:d.score+1|0,tags:(c&E.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?d.tags.includes("hot")?["cold"]:["hot"]:d.tags}))}return performance.now()-o})}runDataFetchingBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=class extends xe{constructor(){super({})}};n=Ke([qe({name:"akita-fetched-items",idKey:"id"})],n);let r=new n,s=Array.from({length:Math.min(t,E.ITERATIONS.DATA_FETCHING)},(o,a)=>({id:a,title:`Item ${a}`,description:`Description for item ${a}`,tags:[`tag${a%10}`,`category${a%5}`],meta:{createdAt:new Date(2023,0,1+a%365),updatedAt:new Date(2023,6,1+a%180),views:Math.floor(Math.random()*1e3),rating:Math.random()*5},relations:{authorId:Math.floor(a/10),parentId:a>0?a-1:null,childIds:a<t-1?[a+1]:[]}}));r.set(s);for(let o=0;o<Math.min(t/10,E.ITERATIONS.DATA_FETCHING);o++){let a=`search${o}`,c=`cat${o%5}`,l=s.filter(d=>d.title.includes(a)||d.tags.includes(c)).map(d=>d.id);l.length>0&&r.setActive(l[0])}return performance.now()-e})}runRealTimeUpdatesBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=class extends xe{constructor(){super({}),this.add({id:"main",activeUsers:0,totalSessions:0,pageViews:0,serverLoad:0,responseTime:0})}};n=Ke([qe({name:"akita-metrics",idKey:"id"})],n);let r=class extends xe{constructor(){super({})}};r=Ke([qe({name:"akita-events",idKey:"id"})],r);let s=class extends xe{constructor(){super({})}};s=Ke([qe({name:"akita-notifications",idKey:"id"})],s);let o=new n,a=new r,c=new s,l=Math.min(E.ITERATIONS.REAL_TIME_UPDATES,t);for(let d=0;d<l;d++){let u=o.getValue().entities?.main;if(u&&o.update("main",{activeUsers:u.activeUsers+Math.floor(Math.random()*10-5),pageViews:u.pageViews+Math.floor(Math.random()*20),serverLoad:Math.random(),responseTime:50+Math.random()*200}),(d&E.YIELD_FREQUENCY.DATA_FETCHING)===0){a.add({id:d,type:"user_action",timestamp:Date.now(),data:`event${d}`});let h=a.getValue().entities;if(h){let m=Object.values(h);if(m.length>100){let y=m.slice(0,m.length-100).map(b=>b.id);a.remove(y)}}}if((d&E.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0){c.add({id:d,message:`Notification ${d}`,priority:"normal",timestamp:Date.now()});let h=c.getValue().entities;if(h){let m=Object.values(h);if(m.length>10){let y=m.slice(0,m.length-10).map(b=>b.id);c.remove(y)}}}}return performance.now()-e})}runStateSizeScalingBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=class extends xe{constructor(){super({})}};n=Ke([qe({name:"akita-large-entities",idKey:"id"})],n);let r=new n,s=Array.from({length:Math.min(t*10,E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX)},(a,c)=>({id:c,name:`Entity ${c}`,properties:Array.from({length:20},(l,d)=>({key:`prop_${d}`,value:`value_${c}_${d}`,metadata:{type:"string",indexed:d%3===0}})),relations:Array.from({length:Math.min(5,c)},(l,d)=>({targetId:c-d-1,type:"reference"}))}));r.set(s);let o=E.ITERATIONS.STATE_SIZE_SCALING;for(let a=0;a<o;a++){let c=a%s.length;if(r.update(c,l=>O(M({},l),{properties:l.properties.map((d,u)=>u===0?O(M({},d),{value:`updated_${Date.now()}`}):d)})),(a&E.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0){let l=r.getValue().entities;if(l){let d=l[c];d&&d.properties.filter(u=>u.metadata.indexed)}}}return performance.now()-e})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=We({token:i,factory:i.\u0275fac,providedIn:"root"})};function gf(...i){let t={config:{},state:{}};for(let{config:e,props:n}of i)Object.assign(t.config,e),Object.assign(t.state,n);return t}var Bl=new Ue(!1),ff=Bl.asObservable().pipe(pt(i=>!i),st(1));var Dn={},mo=class{registerPreStoreUpdate(t){Dn.preStoreUpdate=t}registerPreStateInit(t){Dn.preStateInit=t}},X1=new mo,Fl=new Map,fo=new _e,J1=fo.asObservable();function pf(i){Fl.set(i.name,i),fo.next({type:"add",store:i})}function bf(i){Fl.delete(i.name),fo.next({type:"remove",store:i})}var Mr=[];function _f(i){Mr.push(i)}function Rl(i){Mr.length&&Mr.forEach(t=>i.next(t)),Mr=[]}var go=class extends Ue{constructor(t){super(t.state),this.storeDef=t,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new _e,this.context={config:this.getConfig(),setEvent:e=>{_f(e)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(t.state),this.initialState=this.getValue(),pf(this)}get name(){return this.storeDef.name}getInitialState(t){return Dn.preStateInit?Dn.preStateInit(t,this.name):t}getConfig(){return this.storeDef.config}query(t){return t(this.getValue())}update(...t){let e=this.getValue(),n=t.reduce((r,s)=>(r=s(r,this.context),r),e);Dn.preStoreUpdate&&(n=Dn.preStoreUpdate(e,n,this.name)),n!==e&&(this.state=n,Bl.getValue()?this.batchInProgress||(this.batchInProgress=!0,ff.subscribe(()=>{super.next(this.state),Rl(this.events),this.batchInProgress=!1})):(super.next(this.state),Rl(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(t){let e=!0,n={};return new dn(r=>{for(let[s,o]of Object.entries(t))r.add(o.subscribe(a=>{n[s]=a,e=!0}));return this.subscribe({next(){e&&(r.next(M({},n)),e=!1)},error(s){r.error(s)},complete(){r.complete()}})})}destroy(){bf(this),this.reset()}next(t){this.update(()=>t)}error(){}complete(){}};function Re(i,...t){let{state:e,config:n}=gf(...t),{name:r}=i;return new go({name:r,state:e,config:n})}function gi(i){return Array.isArray(i)?i:[i]}function xr(i){return typeof i=="function"}function fi(i){return i.charAt(0).toUpperCase()+i.slice(1)}function yf(i){return typeof i=="object"&&!Array.isArray(i)&&i!==null}function zl(i){return So(je(i),un())}function po(i,{initialValue:t,config:e}){let n=t,r=fi(i);return{[`with${r}`](s=n){return{props:{[i]:s},config:e}},[`set${r}InitialValue`](s){n=s},[`set${r}`](s){return function(o){let a=xr(s)?s(o):s;return a===o[i]?o:O(M({},o),{[i]:a})}},[`update${r}`](s){return function(o){let a=xr(s)?s(o):s;return a===o[i]?o:O(M({},o),{[i]:yf(a)?M(M({},o[i]),a):a})}},[`reset${r}`](){return function(s){return O(M({},s),{[i]:n})}},[`select${r}`](){return zl(s=>s[i])},[`get${r}`](s){return s[i]}}}function Ll(i,t){let e=fi(i),n=po(i,t);return O(M({},n),{[`add${e}`](r){return function(s){return O(M({},s),{[i]:Mf(s[i],r)})}},[`remove${e}`](r){return function(s){return O(M({},s),{[i]:xf(s[i],r)})}},[`toggle${e}`](r){return function(s){return O(M({},s),{[i]:Cf(s[i],r)})}},[`update${e}`](r,s){return function(o){return O(M({},o),{[i]:Of(o[i],r,s)})}},[`in${e}`](r){return s=>Pf(s[i],r)}})}function Mf(i,t){return[...i,...gi(t)]}function xf(i,t){let e=gi(t);return i.filter(n=>!e.includes(n))}function Cf(i,t){let e=gi(t),n=[...i];return e.forEach(r=>{let s=n.indexOf(r);s>-1?n.splice(s,1):n.push(r)}),n}function Pf(i,t){return i.includes(t)}function Of(i,t,e){return i.map(n=>n===t?e:n)}function Nl(i,t){let e={},n=[];for(let r of i){let s=r[t];n.push(s),e[s]=r}return{ids:n,asObject:e}}function vf(i,t){return i.config[t.idKeyRef]}var bo=class{constructor(t){this.entitiesKey=void 0,this.idsKey=void 0,this.idKeyRef="idKey",this.entitiesKey=t.entitiesKey,this.idsKey=t.idsKey,this.idKeyRef=t.idKeyRef}};function Vl(i){let t=i?`idKey${fi(i)}`:"idKey",e=new bo({entitiesKey:i?`${i}Entities`:"entities",idsKey:i?`${i}Ids`:"ids",idKeyRef:t});function n(r){let s={},o=[],a=r?.idKey||"id";return r?.initialValue&&({ids:o,asObject:s}=Nl(r.initialValue,a)),{props:{[e.entitiesKey]:s,[e.idsKey]:o},config:{[t]:a}}}return{[`${i}EntitiesRef`]:e,[`with${fi(i)}Entities`]:n}}var{withEntities:Be,EntitiesRef:Rn}=Vl(""),{UIEntitiesRef:rP,withUIEntities:sP}=Vl("UI");function Fe(i,t={}){return function(e,n){let{ref:r=Rn}=t,{entitiesKey:s,idsKey:o}=r,{ids:a,asObject:c}=Nl(i,vf(n,r));return n.setEvent({type:"set",ids:a}),O(M({},e),{[s]:c,[o]:a})}}function Je(i={}){let{ref:{entitiesKey:t,idsKey:e}=Rn}=i;return function(n){return n[e].map(r=>n[t][r])}}function Sf(i,t={}){return function(e){let{ref:{entitiesKey:n}=Rn}=t;return e[n][i]}}function wf(i,t={}){return function(e){let{ref:{entitiesKey:n}=Rn}=t;return Reflect.has(e[n],i)}}function kf(i,t){return xr(i)?i(t):M(M({},t),i)}function Ht(i,t,e={}){return function(n,r){let s=gi(i);if(!s.length)return n;let{ref:{entitiesKey:o}=Rn}=e,a={};for(let c of s)wf(c,e)(n)&&(a[c]=kf(t,Sf(c,e)(n)));return r.setEvent({type:"update",ids:s}),O(M({},n),{[o]:M(M({},n[o]),a)})}}function _o(i,t={}){return function(e,n){let{ref:{idsKey:r}=Rn}=t;return Ht(e[r],i,t)(e,n)}}var{selectActiveId:oP,setActiveId:aP,withActiveId:cP,resetActiveId:lP,getActiveId:dP}=po("activeId",{initialValue:void 0});var{setActiveIds:uP,resetActiveIds:hP,withActiveIds:mP,selectActiveIds:gP,toggleActiveIds:fP,removeActiveIds:pP,addActiveIds:bP,getActiveIds:_P}=Ll("activeIds",{initialValue:[]});var Cr=class i{yieldToUI=Tt();runAsyncWorkflowBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Math.min(t,E.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let s=0;s<n;s++)r.push(new Promise(o=>setTimeout(o,0)));return yield Promise.all(r),performance.now()-e})}runConcurrentAsyncBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(r=>setTimeout(r,0)));return yield Promise.all(n),performance.now()-e})}runAsyncCancellationBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<t;r++)n.push(setTimeout(()=>{},10));for(let r=0;r<Math.floor(t/2);r++)clearTimeout(n[r]);return yield new Promise(r=>setTimeout(r,10)),performance.now()-e})}runDeepNestedBenchmark(n){return I(this,arguments,function*(t,e=E.DATA_GENERATION.NESTED_DEPTH){let r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=r(e),o=(c,l,d)=>l===0?O(M({},c),{value:d}):O(M({},c),{level:o(c.level??{},l-1,d)}),a=performance.now();for(let c=0;c<Math.min(t,E.ITERATIONS.DEEP_NESTED);c++)s=o(s,e-1,c);return s?.level?.value===-1&&console.log("noop"),performance.now()-a})}runArrayBenchmark(t){return I(this,null,function*(){let e=Re({name:"elf-bench-items"},Be());e.update(Fe(Array.from({length:t},(o,a)=>({id:a,value:Math.random()*1e3}))));let n=performance.now(),r=Math.min(E.ITERATIONS.ARRAY_UPDATES,t);for(let o=0;o<r;o++){let a=o%t;e.update(Ht(a,c=>O(M({},c),{value:Math.random()*1e3})))}return e.query(Je()).length===-1&&console.log("noop"),performance.now()-n})}runComputedBenchmark(t){return I(this,null,function*(){let e={value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(s,o)=>o+1)},n=()=>{let s=0;for(let o of e.factors)s+=Math.sin(e.value*o)*Math.cos(o);return s},r=performance.now();for(let s=0;s<Math.min(t,E.ITERATIONS.COMPUTED);s++)e=O(M({},e),{value:s}),n();return performance.now()-r})}runBatchUpdatesBenchmark(){return I(this,arguments,function*(t=E.ITERATIONS.BATCH_UPDATES,e=E.ITERATIONS.BATCH_SIZE){let n=Re({name:"elf-bench-batch"},Be());n.update(Fe(Array.from({length:e},(s,o)=>({id:o,value:o}))));let r=performance.now();for(let s=0;s<t;s++)n.update(_o(o=>O(M({},o),{value:o.value+1|0})));return performance.now()-r})}runSelectorBenchmark(t){return I(this,null,function*(){let e=Re({name:"elf-bench-select"},Be());e.update(Fe(Array.from({length:t},(u,h)=>({id:h,flag:h%2===0,value:Math.random()*100,metadata:{category:h%5,priority:h%3}}))));let n=performance.now(),r,s,o,a,c=()=>{let u=e.query(Je());if(u===a&&r!==void 0)return r;let h=0;for(let m of u)m.flag&&h++;return a=u,r=h,h},l=()=>{let u=e.query(Je());if(u===a&&s!==void 0)return s;let h=0;for(let m of u)m.value>50&&h++;return s=h,h},d=()=>{let u=e.query(Je());if(u===a&&o!==void 0)return o;let h={};for(let m of u){let y=m.metadata.category;h[y]=(h[y]||0)+1}return o=h,h};for(let u=0;u<E.ITERATIONS.SELECTOR;u++)if(c(),l(),d(),(u&E.YIELD_FREQUENCY.SELECTOR)===0){let h=u%t;e.update(Ht(h,m=>O(M({},m),{flag:!m.flag}))),r=void 0,s=void 0,o=void 0,a=void 0}return performance.now()-n})}runSerializationBenchmark(t){return I(this,null,function*(){let e=Re({name:"elf-serialize"},Be()),n=Array.from({length:Math.max(E.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(E.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}}));e.update(Fe(n));for(let c=0;c<10;c++){let l=c%n.length;e.update(Ht(l,d=>O(M({},d),{active:!d.active})))}let r=performance.now(),s=e.getValue(),o=performance.now();JSON.stringify({data:s});let a=performance.now();return console.debug("[Elf][serialization] toPlain(ms)=",(o-r).toFixed(2)," stringify(ms)=",(a-o).toFixed(2)),a-r})}runConcurrentUpdatesBenchmark(){return I(this,arguments,function*(t=E.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=Re({name:"elf-bench-conc"},Be());n.update(Fe(Array.from({length:t},(o,a)=>({id:a,value:0}))));let r=performance.now();for(let o=0;o<e;o++)n.update(_o(a=>O(M({},a),{value:a.value+1|0})));let s=n.query(Je())[0];return s&&s.value===-1&&console.log("noop"),performance.now()-r})}runMemoryEfficiencyBenchmark(t){return I(this,null,function*(){let e=Re({name:"elf-bench-mem"},Be()),n=Math.max(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),r=Math.max(10,Math.min(200,Math.floor(n/250)));e.update(Fe(Array.from({length:n},(a,c)=>({id:c,score:c*13%997,tags:c%7===0?["hot","new"]:["cold"],group:c%r}))));let s=performance.now(),o=Math.max(100,Math.floor(n*.01));for(let a=0;a<o;a++){let c=a%n;e.update(Ht(c,l=>O(M({},l),{score:l.score+1|0,tags:(a&E.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?l.tags.includes("hot")?["cold"]:["hot"]:l.tags})))}return performance.now()-s})}runDataFetchingBenchmark(){return I(this,null,function*(){let t=Re({name:"elf-users"},Be()),e=performance.now(),n=Array.from({length:E.ITERATIONS.DATA_FETCHING},(d,u)=>({id:u+1,name:`User ${u+1}`,email:`user${u+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));t.update(Fe(n));let s=t.query(Je()).filter(d=>d.isActive);Re({name:"elf-active-users"},Be()).update(Fe(s));let a=s.reduce((d,u)=>(d[u.department]||(d[u.department]=[]),d[u.department].push(u),d),{}),c={};Object.entries(a).forEach(([d,u])=>{c[d]=Re({name:`elf-dept-${d}`},Be()),c[d].update(Fe(u))});let l=performance.now()-e;return t.query(Je()).length===-1&&console.log("noop"),l})}runRealTimeUpdatesBenchmark(){return I(this,null,function*(){let t=Re({name:"elf-metrics"},Be()),e=Re({name:"elf-messages"},Be()),n=performance.now();for(let s=0;s<E.ITERATIONS.REAL_TIME_UPDATES;s++){let o={id:s,activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1,timestamp:Date.now()};if(s===0?t.update(Fe([o])):t.update(Ht(0,()=>o)),(s&E.YIELD_FREQUENCY.DATA_FETCHING)===0){let a={id:s,content:`Real-time message ${s}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"},c=e.query(Je());e.update(Fe([...c,a]))}}let r=performance.now()-n;return t.query(Je()).length===-1&&console.log("noop"),r})}runStateSizeScalingBenchmark(){return I(this,null,function*(){let t=Re({name:"elf-large-data"},Be()),e=performance.now(),n=Array.from({length:1e4},(d,u)=>({id:u+1,title:`Item ${u+1}`,description:`Description for item ${u+1} with some additional text to make it realistic`,category:`Category ${Math.floor(u/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${u%10}`,`tag${u%7}`,`tag${u%5}`],score:Math.random()*100}}));t.update(Fe(n));let s=t.query(Je()).filter(d=>d.status==="active");Re({name:"elf-active-items"},Be()).update(Fe(s));let a=[...s].sort((d,u)=>u.metadata.score-d.metadata.score);Re({name:"elf-sorted-items"},Be()).update(Fe(a));for(let d=0;d<E.ITERATIONS.STATE_SIZE_SCALING;d++){let u=Math.floor(Math.random()*n.length);t.update(Ht(u+1,h=>O(M({},h),{metadata:O(M({},h.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})})))}let l=performance.now()-e;return t.query(Je()).length===-1&&console.log("noop"),l})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=We({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ul={};function Z(i,t){if(Ul[i]=(Ul[i]||0)+1,typeof t=="function")return yo(i,(...n)=>O(M({},t(...n)),{type:i}));switch(t?t._as:"empty"){case"empty":return yo(i,()=>({type:i}));case"props":return yo(i,n=>O(M({},n),{type:i}));default:throw new Error("Unexpected config.")}}function me(){return{_as:"props",_p:void 0}}function yo(i,t){return Object.defineProperty(t,"type",{value:i,writable:!1})}function Af(i,t){if(i==null)throw new Error(`${t} must be defined.`)}var Tf="@ngrx/store/init",Oo=(()=>{let t=class t extends Ue{constructor(){super({type:Tf})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=We({token:t,factory:t.\u0275fac});let i=t;return i})();var If=new Y("@ngrx/store Internal Root Guard"),jP=new Y("@ngrx/store Internal Initial State"),Df=new Y("@ngrx/store Initial State"),Rf=new Y("@ngrx/store Reducer Factory"),WP=new Y("@ngrx/store Internal Reducer Factory Provider"),Bf=new Y("@ngrx/store Initial Reducers"),$P=new Y("@ngrx/store Internal Initial Reducers"),HP=new Y("@ngrx/store Store Features"),qP=new Y("@ngrx/store Internal Store Reducers"),KP=new Y("@ngrx/store Internal Feature Reducers"),YP=new Y("@ngrx/store Internal Feature Configs"),Ff=new Y("@ngrx/store Internal Store Features"),GP=new Y("@ngrx/store Internal Feature Reducers Token"),zf=new Y("@ngrx/store Feature Reducers"),XP=new Y("@ngrx/store User Provided Meta Reducers"),JP=new Y("@ngrx/store Meta Reducers"),QP=new Y("@ngrx/store Internal Resolved Meta Reducers"),ZP=new Y("@ngrx/store User Runtime Checks Config"),eO=new Y("@ngrx/store Internal User Runtime Checks Config"),tO=new Y("@ngrx/store Internal Runtime Checks"),Wl=new Y("@ngrx/store Check if Action types are unique"),Pr=new Y("@ngrx/store Root Store Provider"),Mo=new Y("@ngrx/store Feature State Provider");function Lf(i,t){return Object.keys(i).filter(e=>e!==t).reduce((e,n)=>Object.assign(e,{[n]:i[n]}),{})}function $l(...i){return function(t){if(i.length===0)return t;let e=i[i.length-1];return i.slice(0,-1).reduceRight((r,s)=>s(r),e(t))}}function Nf(i,t){return Array.isArray(t)&&t.length>0&&(i=$l.apply(null,[...t,i])),(e,n)=>{let r=i(e);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function Vf(i){let t=Array.isArray(i)&&i.length>0?$l(...i):e=>e;return(e,n)=>(e=t(e),(r,s)=>(r=r===void 0?n:r,e(r,s)))}var xo=class extends dn{},Co=class extends Oo{},Uf="@ngrx/store/update-reducers",Hl=(()=>{let t=class t extends Ue{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:l,key:d})=>{let u=typeof o=="function"?Vf(c)(o,l):Nf(a,c)(o,l);return s[d]=u,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=M(M({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=Lf(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Uf,features:n})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(r){return new(r||t)(bt(Co),bt(Df),bt(Bf),bt(Rf))},t.\u0275prov=We({token:t,factory:t.\u0275fac});let i=t;return i})();var ql=(()=>{let t=class t extends _e{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=To(t)))(s||t)}})(),t.\u0275prov=We({token:t,factory:t.\u0275fac});let i=t;return i})();var Po=class extends dn{};var Kl=(()=>{let t=class t extends dn{constructor(n,r,s,o){super(),this.actionsObserver=r,this.reducerManager=s,this.injector=o,this.source=n,this.state=n.state}select(n,...r){return jf.call(null,n,...r)(this)}selectSignal(n,r){return W(()=>n(this.state()),r)}lift(n){let r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n,r){if(typeof n=="function")return this.processDispatchFn(n,r);this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}processDispatchFn(n,r){Af(this.injector,"Store Injector");let s=r?.injector??Wf()??this.injector;return Xt(()=>{let o=n();hn(()=>this.dispatch(o))},{injector:s})}};t.\u0275fac=function(r){return new(r||t)(bt(Po),bt(Oo),bt(Hl),bt(Nn))},t.\u0275prov=We({token:t,factory:t.\u0275fac});let i=t;return i})();function jf(i,t,...e){return function(r){let s;if(typeof i=="string"){let o=[t,...e].filter(Boolean);s=r.pipe(Ao(i,...o))}else if(typeof i=="function")s=r.pipe(je(o=>i(o,t)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return s.pipe(un())}}function Wf(){try{return ie(Nn)}catch{return}}function jl(i,t){return i===t}function $f(i,t,e){for(let n=0;n<i.length;n++)if(!e(i[n],t[n]))return!0;return!1}function Yl(i,t=jl,e=jl){let n=null,r=null,s;function o(){n=null,r=null}function a(d=void 0){s={result:d}}function c(){s=void 0}function l(){if(s!==void 0)return s.result;if(!n)return r=i.apply(null,arguments),n=arguments,r;if(!$f(arguments,n,t))return r;let d=i.apply(null,arguments);return n=arguments,e(r,d)?r:(r=d,d)}return{memoized:l,reset:o,setResult:a,clearResult:c}}function pi(...i){return qf(Yl)(...i)}function Hf(i,t,e,n){if(e===void 0){let s=t.map(o=>o(i));return n.memoized.apply(null,s)}let r=t.map(s=>s(i,e));return n.memoized.apply(null,[...r,e])}function qf(i,t={stateFn:Hf}){return function(...e){let n=e;if(Array.isArray(n[0])){let[d,...u]=n;n=[...d,...u]}else n.length===1&&Kf(n[0])&&(n=Yf(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(d=>d.release&&typeof d.release=="function"),a=i(function(...d){return s.apply(null,d)}),c=Yl(function(d,u){return t.stateFn.apply(null,[d,r,u,a])});function l(){c.reset(),a.reset(),o.forEach(d=>d.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Kf(i){return!!i&&typeof i=="object"&&Object.values(i).every(t=>typeof t=="function")}function Yf(i){let t=Object.values(i),e=Object.keys(i),n=(...r)=>e.reduce((s,o,a)=>O(M({},s),{[o]:r[a]}),{});return[...t,n]}function Gf(i){return typeof i=="function"?i():i}function Xf(){ie(Oo),ie(xo),ie(ql),ie(Kl),ie(If,{optional:!0}),ie(Wl,{optional:!0})}var nO=[{provide:Pr,useFactory:Xf},Pi(()=>ie(Pr))];function Jf(){ie(Pr);let i=ie(Ff),t=ie(zf),e=ie(Hl);ie(Wl,{optional:!0});let n=i.map((r,s)=>{let a=t.shift()[s];return O(M({},r),{reducers:a,initialState:Gf(r.initialState)})});e.addFeatures(n)}var iO=[{provide:Mo,useFactory:Jf},Pi(()=>ie(Mo))];function be(...i){let t=i.pop(),e=i.map(n=>n.type);return{reducer:t,types:e}}function rt(i,...t){let e=new Map;for(let n of t)for(let r of n.types){let s=e.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);e.set(r,o)}else e.set(r,n.reducer)}return function(n=i,r){let s=e.get(r.type);return s?s(n,r):n}}var Qf=10;function Gl(i,t,e=Qf){return i.pipe(ko(n=>(t&&t.handleError(n),e<=1?i:Gl(i,t,e-1))))}function Or(...i){return pt(t=>i.some(e=>typeof e=="string"?e===t.type:e.type===t.type))}var _O=new Y("@ngrx/effects Internal Root Guard"),yO=new Y("@ngrx/effects User Provided Effects"),MO=new Y("@ngrx/effects Internal Root Effects"),xO=new Y("@ngrx/effects Internal Root Effects Instances"),CO=new Y("@ngrx/effects Internal Feature Effects"),PO=new Y("@ngrx/effects Internal Feature Effects Instance Groups"),OO=new Y("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Gl}),Zf="@ngrx/effects/init",vO=Z(Zf);var Xl=Z("[Benchmark] Set Users",me()),Jl=Z("[Benchmark] Set Filtered Users",me()),Ql=Z("[Benchmark] Set Department Groups",me()),Zl=Z("[Benchmark] Update Metrics",me()),ed=Z("[Benchmark] Add Message",me()),td=Z("[Benchmark] Set Large Dataset",me()),nd=Z("[Benchmark] Set Active Items",me()),id=Z("[Benchmark] Set Sorted Items",me()),rd=Z("[Benchmark] Update Item",me()),Et=rt({groups:[],posts:[],users:[]},be(Xl,(i,{payload:t})=>O(M({},i),{users:t})),be(Jl,(i,{payload:t})=>O(M({},i),{filteredUsers:t})),be(Ql,(i,{payload:t})=>O(M({},i),{departmentGroups:t})),be(Zl,(i,{payload:t})=>O(M({},i),{metrics:t})),be(ed,(i,{payload:t})=>O(M({},i),{messages:[...i.messages||[],t]})),be(td,(i,{payload:t})=>O(M({},i),{largeDataset:t})),be(nd,(i,{payload:t})=>O(M({},i),{activeItems:t})),be(id,(i,{payload:t})=>O(M({},i),{sortedItems:t})),be(rd,(i,{payload:t})=>O(M({},i),{largeDataset:i.largeDataset?.map((e,n)=>n===t.index?t.item:e)}))),vr=class i{static PerfWithMemory={};yieldToUI=Tt();runSingleMiddlewareBenchmark(t){return I(this,null,function*(){let e=Z("[Test] Increment"),n=rt({counter:0,data:"test"},be(e,c=>O(M({},c),{counter:c.counter+1}))),s=(c=>(l,d)=>{if(l){let u=l.counter>-1}return c(l,d)})(n),o=performance.now(),a={counter:0,data:"test"};for(let c=0;c<t;c++)a=s(a,e());return performance.now()-o})}runMultipleMiddlewareBenchmark(t,e){return I(this,null,function*(){let n=Z("[Test] Increment"),r=rt({counter:0,data:"test"},be(n,l=>O(M({},l),{counter:l.counter+1}))),s=()=>l=>(d,u)=>{if(d){let h=0;for(let m=0;m<10;m++)h+=m}return l(d,u)},o=r;for(let l=0;l<t;l++)o=s()(o);let a=performance.now(),c={counter:0,data:"test"};for(let l=0;l<e;l++)c=o(c,n());return performance.now()-a})}runConditionalMiddlewareBenchmark(t){return I(this,null,function*(){let e=Z("[Test] Increment"),n=Z("[Test] Other"),r=rt({counter:0,data:"test"},be(e,l=>O(M({},l),{counter:l.counter+1})),be(n,l=>O(M({},l),{data:"modified"}))),o=(l=>(d,u)=>{if(u.type===e.type&&d&&d.counter%2===0){let h=0;for(let m=0;m<20;m++)h+=m}return l(d,u)})(r),a=performance.now(),c={counter:0,data:"test"};for(let l=0;l<t;l++){let d=l%2===0?e():n();c=o(c,d)}return performance.now()-a})}runAsyncWorkflowBenchmark(t){return I(this,null,function*(){let e=Z("[Async] Trigger",me()),n=Z("[Async] Complete",me()),r=new _e,o=r.pipe(Or(e),xi(u=>Ar(0).pipe(je(()=>n({id:u.id})),st(1)))),a=Math.min(t,E.ITERATIONS.ASYNC_WORKFLOW),c=0,l=new Promise(u=>{o.subscribe(h=>{h.type===n.type&&(c++,c>=a&&u())})}),d=performance.now();for(let u=0;u<a;u++)r.next(e({id:u}));return yield l,performance.now()-d})}runAsyncCancellationBenchmark(t){return I(this,null,function*(){let e=Z("[Task] Start",me()),n=Z("[Task] Cancel",me()),r=Z("[Task] Complete",me()),s=new _e,o=s,a=new Set,c=o.pipe(Or(e),xi(h=>{let m=o.pipe(Or(n),Tr(y=>{y.id===h.id&&a.add(h.id)}));return wo(Ar(10).pipe(je(()=>r({id:h.id}))),m.pipe(st(1),Ci(()=>[])))})),l=0,d=new Promise(h=>{c.subscribe(m=>{m.type===r.type&&(l++,l+a.size>=t&&h())})}),u=performance.now();for(let h=0;h<t;h++)s.next(e({id:h}));for(let h=0;h<Math.floor(t/2);h++)s.next(n({id:h}));return yield d,performance.now()-u})}runDeepNestedBenchmark(n){return I(this,arguments,function*(t,e=E.DATA_GENERATION.NESTED_DEPTH){console.log(`NgRx Deep Nested: Starting with dataSize=${t}, depth=${e}`);let r=performance.now();try{let s=Z("[Test] Update",me()),o=m=>m===0?{value:0,data:"test"}:{level:o(m-1)};console.log(`NgRx Deep Nested: Creating initial state with depth ${e}`);let a=o(e),c=(m,y,b)=>y===0?O(M({},m),{value:b}):O(M({},m),{level:c(m.level??{},y-1,b)}),l=rt(a,be(s,(m,{value:y})=>c(m,e-1,y))),d=a,u=Math.min(t,E.ITERATIONS.DEEP_NESTED);console.log(`NgRx Deep Nested: Starting ${u} iterations`);for(let m=0;m<u;m++)d=l(d,s({value:m}));let h=performance.now()-r;return console.log(`NgRx Deep Nested: Completed in ${h}ms`),h}catch(s){console.error("NgRx Deep Nested: Error occurred:",s);let o=performance.now()-r;throw console.log(`NgRx Deep Nested: Failed after ${o}ms`),s}return performance.now()-r})}runArrayBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Z("[Test] Update Item",me()),r={items:Array.from({length:t},(c,l)=>({id:l,value:Math.random()*1e3}))},s=rt(r,be(n,(c,{index:l,value:d})=>O(M({},c),{items:c.items.map((u,h)=>h===l?O(M({},u),{value:d}):u)}))),o=r,a=Math.min(E.ITERATIONS.ARRAY_UPDATES,t);for(let c=0;c<a;c++)o=s(o,n({index:c%t,value:Math.random()*1e3})),c&E.YIELD_FREQUENCY.ARRAY_UPDATES;return performance.now()-e})}runComputedBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Z("[Test] Update",me()),r={value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(c,l)=>l+1)},s=rt(r,be(n,(c,{value:l})=>O(M({},c),{value:l}))),o=r,a=c=>{let l=0;for(let d of c.factors)l+=Math.sin(c.value*d)*Math.cos(d);return l};for(let c=0;c<Math.min(t,E.ITERATIONS.COMPUTED);c++)o=s(o,n({value:c})),a(o),c&E.YIELD_FREQUENCY.COMPUTED;return performance.now()-e})}runBatchUpdatesBenchmark(t=100,e=1e3){return I(this,null,function*(){let n=performance.now(),r=Z("[Test] Apply Batch",me()),s={items:Array.from({length:e},(c,l)=>l)},o=rt(s,be(r,(c,{items:l})=>O(M({},c),{items:l}))),a=s;for(let c=0;c<t;c++){let l=a.items.map(d=>d+1|0);a=o(a,r({items:l}))}return performance.now()-n})}runSelectorBenchmark(t){return I(this,null,function*(){let e=performance.now(),n={items:Array.from({length:t},(l,d)=>({id:d,flag:d%2===0,value:Math.random()*100,metadata:{category:d%5,priority:d%3}}))},s=pi(l=>l,l=>l.items),o=pi(s,l=>l.filter(d=>d.flag).length),a=pi(s,l=>l.filter(d=>d.value>50).length),c=pi(s,l=>l.reduce((d,u)=>{let h=u.metadata.category;return d[h]=(d[h]||0)+1,d},{}));for(let l=0;l<E.ITERATIONS.SELECTOR;l++)if(o(n),a(n),c(n),(l&E.YIELD_FREQUENCY.SELECTOR)===0){let d=l%n.items.length;n=O(M({},n),{items:n.items.map((u,h)=>h===d?O(M({},u),{flag:!u.flag}):u)})}return performance.now()-e})}runSerializationBenchmark(t){return I(this,null,function*(){let n={users:Array.from({length:Math.max(100,Math.min(1e3,t))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(c,l)=>[l,l%2===0]))}};for(let c=0;c<10;c++){let l=c%n.users.length;n.users[l].active=!n.users[l].active}let r=performance.now(),s=n,o=performance.now();JSON.stringify({data:s});let a=performance.now();return console.debug("[NgRx][serialization] toPlain(ms)=",(o-r).toFixed(2)," stringify(ms)=",(a-o).toFixed(2)),a-r})}runConcurrentUpdatesBenchmark(t=50,e=200){return I(this,null,function*(){let n=Z("[Test] Bump",me()),r={counters:Array.from({length:t},()=>({value:0}))},s=rt(r,be(n,(c,{index:l})=>O(M({},c),{counters:c.counters.map((d,u)=>u===l?{value:d.value+1}:d)}))),o=r,a=performance.now();for(let c=0;c<e;c++){for(let l=0;l<t;l++)o=s(o,n({index:l}));c&31}return o.counters[0].value===-1&&console.log("noop"),performance.now()-a})}runMemoryEfficiencyBenchmark(t){return I(this,null,function*(){let e=Math.max(1e3,Math.min(5e4,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r={groups:Array.from({length:n},(m,y)=>({id:y,items:Array.from({length:Math.floor(e/n)},(b,_)=>({id:y*1e6+_,score:_*13%997,tags:_%7===0?["hot","new"]:["cold"]}))}))},s=Z("[Test] Touch",me()),o=rt(r,be(s,(m,{group:y,index:b})=>O(M({},m),{groups:m.groups.map((_,P)=>P!==y?_:O(M({},_),{items:_.items.map((x,v)=>v!==b?x:O(M({},x),{score:x.score+1,tags:(b&63)===0?x.tags.includes("hot")?["cold"]:["hot"]:x.tags}))}))}))),a=performance.memory?.usedJSHeapSize??null,c=r,l=performance.now(),d=Math.max(100,Math.floor(e*.01));for(let m=0;m<d;m++){let y=m%n,b=m%c.groups[y].items.length;c=o(c,s({group:y,index:b})),m&63}let u=performance.now()-l,h=performance.memory?.usedJSHeapSize??null;if(a!=null&&h!=null){let m=(h-a)/1048576;console.debug("[NgRx][memory] usedJSHeapSize \u0394MB ~",m.toFixed(2))}return c.groups.length===-1&&console.log("noop"),u})}runDataFetchingBenchmark(){return I(this,null,function*(){let e={groups:[],posts:[],users:[]},n=performance.memory?.usedJSHeapSize??null,r=performance.now(),s=Array.from({length:1e3},(d,u)=>({id:u+1,name:`User ${u+1}`,email:`user${u+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));e=Et(e,Xl({payload:s}));let o=s.filter(d=>d.isActive);e=Et(e,Jl({payload:o}));let a=o.reduce((d,u)=>(d[u.department]||(d[u.department]=[]),d[u.department].push(u),d),{});e=Et(e,Ql({payload:a}));let c=performance.now()-r,l=performance.memory?.usedJSHeapSize??null;if(n!=null&&l!=null){let d=(l-n)/1048576;console.debug("[NgRx][DataFetching][memory] usedJSHeapSize \u0394MB ~",d.toFixed(2))}return e.users?.length===-1&&console.log("noop"),c})}runRealTimeUpdatesBenchmark(){return I(this,null,function*(){let e={groups:[],posts:[],users:[],metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0}},n=performance.memory?.usedJSHeapSize??null,r=performance.now();for(let a=0;a<E.ITERATIONS.REAL_TIME_UPDATES;a++){let c={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(e=Et(e,Zl({payload:c})),(a&E.YIELD_FREQUENCY.DATA_FETCHING)===0){let l={id:a,content:`Real-time message ${a}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};e=Et(e,ed({payload:l}))}}let s=performance.now()-r,o=performance.memory?.usedJSHeapSize??null;if(n!=null&&o!=null){let a=(o-n)/1048576;console.debug("[NgRx][RealTimeUpdates][memory] usedJSHeapSize \u0394MB ~",a.toFixed(2))}return e.metrics&&Object.keys(e.metrics).length===-1&&console.log("noop"),s})}runStateSizeScalingBenchmark(){return I(this,null,function*(){let e={groups:[],posts:[],users:[]},n=performance.memory?.usedJSHeapSize??null,r=performance.now(),s=Array.from({length:1e4},(d,u)=>({id:u+1,title:`Item ${u+1}`,description:`Description for item ${u+1} with some additional text to make it realistic`,category:`Category ${Math.floor(u/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${u%10}`,`tag${u%7}`,`tag${u%5}`],score:Math.random()*100}}));e=Et(e,td({payload:s}));let o=s.filter(d=>d.status==="active");e=Et(e,nd({payload:o}));let a=[...o].sort((d,u)=>u.metadata.score-d.metadata.score);e=Et(e,id({payload:a}));for(let d=0;d<E.ITERATIONS.BATCH_UPDATES;d++){let u=Math.floor(Math.random()*s.length),h=O(M({},s[u]),{metadata:O(M({},s[u].metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})});e=Et(e,rd({payload:{index:u,item:h}}))}let c=performance.now()-r,l=performance.memory?.usedJSHeapSize??null;if(n!=null&&l!=null){let d=(l-n)/1048576;console.debug("[NgRx][StateSizeScaling][memory] usedJSHeapSize \u0394MB ~",d.toFixed(2))}return e.largeDataset?.length===-1&&console.log("noop"),c})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=We({token:i,factory:i.\u0275fac,providedIn:"root"})};var sd=Symbol("DEEP_SIGNAL");function od(i){return new Proxy(i,{has(t,e){return!!this.get(t,e,void 0)},get(t,e){let n=hn(t);return!tp(n)||!(e in n)?(Ir(t[e])&&t[e][sd]&&delete t[e],t[e]):(Ir(t[e])||(Object.defineProperty(t,e,{value:W(()=>t()[e]),configurable:!0}),t[e][sd]=!0),od(t[e]))}})}var ep=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function tp(i){if(i===null||typeof i!="object"||np(i))return!1;let t=Object.getPrototypeOf(i);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(ep.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function np(i){return typeof i?.[Symbol.iterator]=="function"}var ip=new WeakMap,Bn=Symbol("STATE_SOURCE");function Oe(i,...t){let e=hn(()=>ad(i)),n=t.reduce((o,a)=>M(M({},o),typeof a=="function"?a(o):a),e),r=i[Bn],s=Reflect.ownKeys(i[Bn]);for(let o of Reflect.ownKeys(n))if(s.includes(o)){let a=o;e[a]!==n[a]&&r[a].set(n[a])}sp(i)}function ad(i){let t=i[Bn];return Reflect.ownKeys(i[Bn]).reduce((e,n)=>{let r=t[n]();return O(M({},e),{[n]:r})},{})}function rp(i){return ip.get(i[Bn])||[]}function sp(i){let t=rp(i);for(let e of t){let n=hn(()=>ad(i));e(n)}}function Qe(i){let t=Reflect.ownKeys(i),e=t.reduce((r,s)=>O(M({},r),{[s]:Ce(i[s])}),{}),n=W(()=>t.reduce((r,s)=>O(M({},r),{[s]:e[s]()}),{}));Object.defineProperty(n,Bn,{value:e});for(let r of t)Object.defineProperty(n,r,{value:od(e[r])});return n}var Sr=class i{static PerfWithMemory={};yieldToUI=Tt();runAsyncWorkflowBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Math.min(t,E.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let s=0;s<n;s++)r.push(new Promise(o=>setTimeout(o,0)));return yield Promise.all(r),performance.now()-e})}runConcurrentAsyncBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(r=>setTimeout(r,0)));return yield Promise.all(n),performance.now()-e})}runAsyncCancellationBenchmark(t){return I(this,null,function*(){let e=performance.now(),n=[];for(let r=0;r<t;r++)n.push(setTimeout(()=>{},10));for(let r=0;r<Math.floor(t/2);r++)clearTimeout(n[r]);return yield new Promise(r=>setTimeout(r,10)),performance.now()-e})}runDeepNestedBenchmark(n){return I(this,arguments,function*(t,e=E.DATA_GENERATION.NESTED_DEPTH){let r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=Qe(r(e));W(()=>{let c=s();for(let l=0;l<e;l++)c=c.level;return c?.value})();let a=performance.now();for(let c=0;c<Math.min(t,E.ITERATIONS.DEEP_NESTED);c++)Oe(s,l=>{let d=(u,h)=>h===0?O(M({},u),{value:c}):O(M({},u),{level:d(u.level??{},h-1)});return d(l,e-1)});return performance.now()-a})}runArrayBenchmark(t){return I(this,null,function*(){let e=Qe({items:Array.from({length:t},(s,o)=>({id:o,value:Math.random()*1e3}))}),n=performance.now(),r=Math.min(E.ITERATIONS.ARRAY_UPDATES,t);for(let s=0;s<r;s++){let o=s%t;Oe(e,a=>O(M({},a),{items:a.items.map((c,l)=>l===o?O(M({},c),{value:Math.random()*1e3}):c)}))}return performance.now()-n})}runComputedBenchmark(t){return I(this,null,function*(){let e=Qe({value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(s,o)=>o+1)}),n=W(()=>{let s=e().value,o=0;for(let a of e().factors)o+=Math.sin(s*a)*Math.cos(a);return o});n();let r=performance.now();for(let s=0;s<Math.min(t,E.ITERATIONS.COMPUTED);s++)Oe(e,o=>O(M({},o),{value:s})),n();return performance.now()-r})}runBatchUpdatesBenchmark(){return I(this,arguments,function*(t=E.ITERATIONS.BATCH_UPDATES,e=E.ITERATIONS.BATCH_SIZE){let n=Qe({items:Array.from({length:e},(s,o)=>o)}),r=performance.now();for(let s=0;s<t;s++)Oe(n,o=>O(M({},o),{items:o.items.map(a=>a+1|0)}));return performance.now()-r})}runSelectorBenchmark(t){return I(this,null,function*(){let e=Qe({items:Array.from({length:t},(a,c)=>({id:c,flag:c%2===0,value:Math.random()*100,metadata:{category:c%5,priority:c%3}}))}),n=W(()=>e().items.filter(a=>a.flag).length),r=W(()=>e().items.filter(a=>a.value>50).length),s=W(()=>e().items.reduce((c,l)=>{let d=l.metadata.category;return c[d]=(c[d]||0)+1,c},{})),o=performance.now();for(let a=0;a<E.ITERATIONS.SELECTOR;a++)if(n(),r(),s(),(a&E.YIELD_FREQUENCY.SELECTOR)===0){let c=a%e().items.length;Oe(e,l=>({items:l.items.map((d,u)=>u===c?O(M({},d),{flag:!d.flag}):d)}))}return performance.now()-o})}runSerializationBenchmark(t){return I(this,null,function*(){let e=Qe({users:Array.from({length:Math.max(E.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(E.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(a,c)=>({id:c,name:`User ${c}`,roles:c%5===0?["admin","user"]:["user"],active:c%3===0,meta:{createdAt:new Date(2020,0,1+c%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(a,c)=>[c,c%2===0]))}});for(let a=0;a<10;a++){let c=a%e().users.length;Oe(e,l=>O(M({},l),{users:l.users.map((d,u)=>u===c?O(M({},d),{active:!d.active}):d)}))}let n=performance.now(),r=e(),s=performance.now();JSON.stringify({data:r});let o=performance.now();return console.debug("[NgRxSignals][serialization] toPlain(ms)=",(s-n).toFixed(2)," stringify(ms)=",(o-s).toFixed(2)),o-n})}runConcurrentUpdatesBenchmark(){return I(this,arguments,function*(t=E.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=Qe({counters:Array.from({length:t},()=>({value:0}))}),r=performance.now();for(let s=0;s<e;s++)for(let o=0;o<t;o++){let a=o;Oe(n,c=>O(M({},c),{counters:c.counters.map((l,d)=>d===a?{value:l.value+1|0}:l)}))}return n().counters[0].value===-1&&console.log("noop"),performance.now()-r})}runMemoryEfficiencyBenchmark(t){return I(this,null,function*(){let e=Math.max(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r=performance.memory?.usedJSHeapSize??null,s=Qe({groups:Array.from({length:n},(d,u)=>({id:u,items:Array.from({length:Math.floor(e/n)},(h,m)=>({id:u*1e6+m,score:m*13%997,tags:m%7===0?["hot","new"]:["cold"]}))}))}),o=performance.now(),a=Math.max(100,Math.floor(e*.01));for(let d=0;d<a;d++){let u=d%n,h=d%s().groups[u].items.length;Oe(s,m=>O(M({},m),{groups:m.groups.map((y,b)=>b!==u?y:O(M({},y),{items:y.items.map((_,P)=>P!==h?_:O(M({},_),{score:_.score+1|0,tags:(d&E.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?_.tags.includes("hot")?["cold"]:["hot"]:_.tags}))}))}))}let c=performance.now()-o,l=performance.memory?.usedJSHeapSize??null;if(r!=null&&l!=null){let d=(l-r)/1048576;console.debug("[NgRxSignals][memory] usedJSHeapSize \u0394MB ~",d.toFixed(2))}return c})}runDataFetchingBenchmark(){return I(this,null,function*(){let t=Qe({users:[],filteredUsers:[],departmentGroups:{}}),e=performance.memory?.usedJSHeapSize??null,n=performance.now(),r=Array.from({length:E.ITERATIONS.DATA_FETCHING},(l,d)=>({id:d+1,name:`User ${d+1}`,email:`user${d+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));Oe(t,{users:r});let s=r.filter(l=>l.isActive);Oe(t,{filteredUsers:s});let o=s.reduce((l,d)=>(l[d.department]||(l[d.department]=[]),l[d.department].push(d),l),{});Oe(t,{departmentGroups:o});let a=performance.now()-n,c=performance.memory?.usedJSHeapSize??null;if(e!=null&&c!=null){let l=(c-e)/1048576;console.debug("[NgRxSignals][DataFetching][memory] usedJSHeapSize \u0394MB ~",l.toFixed(2))}return t.users().length===-1&&console.log("noop"),a})}runRealTimeUpdatesBenchmark(){return I(this,null,function*(){let t=Qe({metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0},messages:[]}),e=performance.memory?.usedJSHeapSize??null,n=performance.now();for(let o=0;o<E.ITERATIONS.REAL_TIME_UPDATES;o++){let a={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(Oe(t,{metrics:a}),(o&E.YIELD_FREQUENCY.DATA_FETCHING)===0){let c={id:o,content:`Real-time message ${o}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};Oe(t,l=>({messages:[...l.messages,c]}))}}let r=performance.now()-n,s=performance.memory?.usedJSHeapSize??null;if(e!=null&&s!=null){let o=(s-e)/1048576;console.debug("[NgRxSignals][RealTimeUpdates][memory] usedJSHeapSize \u0394MB ~",o.toFixed(2))}return t.metrics().activeUsers===-1&&console.log("noop"),r})}runStateSizeScalingBenchmark(){return I(this,null,function*(){let t=Qe({largeDataset:[],activeItems:[],sortedItems:[]}),e=performance.memory?.usedJSHeapSize??null,n=performance.now(),r=Array.from({length:E.DATA_SIZE_LIMITS.LARGE_DATASET.MAX},(l,d)=>({id:d+1,title:`Item ${d+1}`,description:`Description for item ${d+1} with some additional text to make it realistic`,category:`Category ${Math.floor(d/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${d%10}`,`tag${d%7}`,`tag${d%5}`],score:Math.random()*100}}));Oe(t,{largeDataset:r});let s=r.filter(l=>l.status==="active");Oe(t,{activeItems:s});let o=[...s].sort((l,d)=>d.metadata.score-l.metadata.score);Oe(t,{sortedItems:o});for(let l=0;l<E.ITERATIONS.STATE_SIZE_SCALING;l++){let d=Math.floor(Math.random()*r.length);Oe(t,u=>({largeDataset:u.largeDataset.map((h,m)=>m===d?O(M({},h),{metadata:O(M({},h.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})}):h)}))}let a=performance.now()-n,c=performance.memory?.usedJSHeapSize??null;if(e!=null&&c!=null){let l=(c-e)/1048576;console.debug("[NgRxSignals][StateSizeScaling][memory] usedJSHeapSize \u0394MB ~",l.toFixed(2))}return t.largeDataset().length===-1&&console.log("noop"),a})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=We({token:i,factory:i.\u0275fac,providedIn:"root"})};var ap=["combinedChart"];function cp(i,t){if(i&1&&(f(0,"div",122)(1,"span",123),p(2),g(),f(3,"span",124),p(4),g(),f(5,"span",125),p(6),g()()),i&2){let e=t.$implicit;C(2),N(e.name),C(),Ae("positive",e.impact>0)("negative",e.impact<0),C(),ot(" ",e.impact>0?"+":"","",e.impact," "),C(2),N(e.reason)}}function lp(i,t){i&1&&(At(),f(0,"svg",116),ge(1,"path",126),g())}function dp(i,t){i&1&&ge(0,"div",127)}function up(i,t){if(i&1&&(f(0,"div",138),At(),f(1,"svg",139),ge(2,"path",140),g(),p(3),g()),i&2){let e=t.$implicit;C(3),j(" ",e," ")}}function hp(i,t){if(i&1&&(f(0,"div",136),L(1,up,4,1,"div",137),g()),i&2){let e=F(2);C(),D("ngForOf",e.calibrationWarnings())}}function mp(i,t){if(i&1&&(f(0,"div",128)(1,"h3"),p(2,"Calibration Results"),g(),f(3,"div",129)(4,"div",130)(5,"span",131),p(6,"CPU Performance"),g(),f(7,"span",132),p(8),fe(9,"number"),g(),f(10,"div",133),ge(11,"div",134),g()(),f(12,"div",130)(13,"span",131),p(14,"Memory Available"),g(),f(15,"span",132),p(16),fe(17,"number"),g(),f(18,"div",133),ge(19,"div",134),g()(),f(20,"div",130)(21,"span",131),p(22,"Recommended Test Size"),g(),f(23,"span",132),p(24),fe(25,"number"),g()(),f(26,"div",130)(27,"span",131),p(28,"Recommended Iterations"),g(),f(29,"span",132),p(30),g()()(),L(31,hp,2,1,"div",135),g()),i&2){let e,n,r,s,o,a,c=F();C(8),j("",Te(9,9,(e=c.calibrationData())==null?null:e.cpuOpsPerMs,"1.0-0")," ops/ms"),C(3),$e("width",(n=c.calibrationData())==null?null:n.cpuScore,"%"),C(5),j("",Te(17,12,(r=c.calibrationData())==null?null:r.availableMemoryMB,"1.0-0")," MB"),C(3),$e("width",(s=c.calibrationData())==null?null:s.memoryScore,"%"),C(5),j("",Vn(25,15,(o=c.calibrationData())==null?null:o.recommendedSize)," items"),C(6),N((a=c.calibrationData())==null?null:a.recommendedIterations),C(),D("ngIf",c.calibrationWarnings().length>0)}}function gp(i,t){if(i&1&&(f(0,"div",147)(1,"span",148),p(2),g(),f(3,"span",148),p(4),fe(5,"number"),g()()),i&2){let e=F().$implicit;C(2),j("Bundle: ",e.stats.bundleSize),C(2),j("Stars: ",Vn(5,2,e.stats.githubStars))}}function fp(i,t){i&1&&(f(0,"div",149),p(1," Baseline "),g())}function pp(i,t){if(i&1){let e=Gt();f(0,"div",141),G("click",function(){let r=ce(e).$implicit,s=F();return le(s.toggleLibrary(r))})("keydown",function(r){let s=ce(e).$implicit,o=F();return le(o.onLibraryCardKeydown(r,s))}),f(1,"div",142)(2,"input",143),G("ngModelChange",function(r){let s=ce(e).$implicit,o=F();return le(o.onLibraryCheckboxChange(s,r))})("click",function(r){return ce(e),le(r.stopPropagation())})("change",function(r){return ce(e),le(r.stopPropagation())}),g()(),f(3,"div",144)(4,"h3"),p(5),g(),f(6,"p"),p(7),g(),L(8,gp,6,4,"div",145),g(),L(9,fp,2,0,"div",146),g()}if(i&2){let e=t.$implicit;$e("--lib-color",e.color),Ae("selected",e.selected)("disabled",e.id==="signaltree"),Yt("data-test-id","lib-"+e.id+"-card")("aria-pressed",e.selected),C(2),D("ngModel",e.selected)("disabled",e.id==="signaltree"),Yt("data-test-id","lib-"+e.id+"-checkbox")("aria-label",e.name+" selection"),C(3),N(e.name),C(2),N(e.description),C(),D("ngIf",e.stats),C(),D("ngIf",e.id==="signaltree")}}function bp(i,t){if(i&1){let e=Gt();f(0,"div",150),G("click",function(){let r=ce(e).$implicit,s=F();return le(s.applyScenarioPreset(r.id))}),f(1,"h4"),p(2),g(),f(3,"p"),p(4),g(),f(5,"div",151),p(6),g()()}if(i&2){let e=t.$implicit,n=F();C(2),N(e.name),C(2),N(e.description),C(2),j("",n.presetCount(e)," tests")}}function _p(i,t){if(i&1&&(f(0,"span",156),p(1),g()),i&2){let e=t.$implicit;C(),j(" ",e.name," ")}}function yp(i,t){if(i&1&&(f(0,"div",152)(1,"h3"),p(2,"Active SignalTree Enhancers"),g(),f(3,"div",153),L(4,_p,2,1,"span",154),g(),f(5,"p",155),p(6),g()()),i&2){let e=F();C(4),D("ngForOf",e.activeEnhancers()),C(2),j(" ",e.enhancerExplanation()," ")}}function Mp(i,t){if(i&1){let e=Gt();f(0,"div",160)(1,"div",161)(2,"strong"),p(3),g(),f(4,"span",162),p(5),fe(6,"number"),g()(),f(7,"p",163),p(8),g(),f(9,"button",164),G("click",function(){let r=ce(e).$implicit,s=F(2);return le(s.applySuggestedPreset(r.presetId))}),p(10),g()()}if(i&2){let e=t.$implicit;C(3),N(e.presetName),C(2),j("",Te(6,4,e.confidence,"1.0-0"),"% match"),C(3),N(e.reason),C(2),j(" Apply ",e.presetName," Weights ")}}function xp(i,t){if(i&1&&(f(0,"div",157)(1,"h4"),p(2,"\u{1F4A1} Suggested Presets for Your Selection:"),g(),f(3,"div",158),L(4,Mp,11,7,"div",159),g()()),i&2){let e=F();C(4),D("ngForOf",e.suggestedPresets())}}function Cp(i,t){if(i&1&&(f(0,"span",180),p(1),g()),i&2){let e=F().$implicit;C(),j(" ",e.disabledReason," ")}}function Pp(i,t){if(i&1&&(f(0,"div",181)(1,"h5"),p(2,"\u{1F3D7}\uFE0F Architecture Impact:"),g(),f(3,"p",182),p(4),g()()),i&2){let e=F().$implicit;C(4),N(e.architecturalTradeOffs)}}function Op(i,t){if(i&1){let e=Gt();f(0,"div",165),G("click",function(){let r=ce(e).$implicit,s=F();return le(s.toggleScenario(r))})("keydown",function(r){let s=ce(e).$implicit,o=F();return le(o.onScenarioCardKeydown(r,s))}),f(1,"div",2)(2,"input",166),G("click",function(r){return ce(e),le(r.stopPropagation())}),g(),f(3,"h3"),p(4),g(),L(5,Cp,2,1,"span",167),g(),f(6,"div",168)(7,"span",169),p(8,"Usage"),g(),f(9,"div",170),ge(10,"div",171),g(),f(11,"span",172),p(12),g()(),f(13,"p"),p(14),g(),L(15,Pp,5,1,"div",173),f(16,"div",174)(17,"span",175),p(18),g(),f(19,"span",175),p(20),g(),f(21,"div",176)(22,"label",177),p(23,"Impact Weight:"),g(),f(24,"input",178),G("input",function(r){let s=ce(e).$implicit,o=F();return le(o.updateTestCaseWeight(s.id,r))})("click",function(r){return ce(e),le(r.stopPropagation())}),g(),f(25,"span",179),p(26),g()()()()}if(i&2){let e=t.$implicit,n=F();Ae("selected",e.selected)("disabled",e.disabledReason),Yt("aria-pressed",e.selected),C(2),D("checked",e.selected),C(2),N(e.name),C(),D("ngIf",e.disabledReason),C(),Yt("data-frequency",e.frequencyWeight),C(4),$e("width",n.getFrequencyBarWidth(e.frequencyWeight||1),"%"),C(2),N(n.getFrequencyLabel(e.frequencyWeight||1)),C(2),N(e.description),C(),D("ngIf",e.architecturalTradeOffs),C(3),j("Operations: ",e.operations),C(2),j("Complexity: ",e.complexity),C(2),D("for",Rr("weight-",e.id)),C(2),D("id",Rr("weight-",e.id))("value",e.frequencyWeight),C(2),j("",e.frequencyWeight,"x")}}function vp(i,t){if(i&1&&(f(0,"div",183),ge(1,"span",184),f(2,"span"),p(3),g()()),i&2){let e=F();C(3),ot("Benchmarks running\u2026 ",e.completedTests(),"/",e.totalTests()," complete")}}function Sp(i,t){i&1&&(f(0,"p"),p(1,"Please calibrate environment first"),g())}function wp(i,t){if(i&1&&(f(0,"p"),p(1),g()),i&2){let e=F(2);C(),j(" Select at least one library to compare with ",e.baselineName()," ")}}function kp(i,t){i&1&&(f(0,"p"),p(1," Select at least one test scenario "),g())}function Ep(i,t){if(i&1&&(f(0,"div",185),L(1,Sp,2,0,"p",186)(2,wp,2,1,"p",186)(3,kp,2,0,"p",186),g()),i&2){let e=F();C(),D("ngIf",!e.calibrationData()),C(),D("ngIf",e.selectedLibraries().length<2),C(),D("ngIf",e.selectedScenarios().length===0)}}function Ap(i,t){if(i&1){let e=Gt();f(0,"div",187)(1,"div",188)(2,"h2"),p(3,"Running Benchmarks"),g(),f(4,"div",189)(5,"span",190),p(6),g(),f(7,"span",191),p(8),g(),f(9,"span",192),p(10),g()(),f(11,"div",193)(12,"div",194),ge(13,"div",195),g(),f(14,"span",196),p(15),fe(16,"number"),g()(),f(17,"div",197)(18,"div",148)(19,"span",198),p(20,"Elapsed"),g(),f(21,"span",199),p(22),g()(),f(23,"div",148)(24,"span",198),p(25,"Estimated"),g(),f(26,"span",199),p(27),g()(),f(28,"div",148)(29,"span",198),p(30,"Tests Complete"),g(),f(31,"span",199),p(32),g()()(),f(33,"button",200),G("click",function(){ce(e);let r=F();return le(r.cancelBenchmarks())}),p(34," Cancel "),g()()()}if(i&2){let e=F();C(6),N(e.currentLibrary()),C(2),N(e.currentScenario()),C(2),ot("Iteration ",e.currentIteration()," / ",e.config().iterations),C(3),$e("width",e.progressPercent(),"%"),C(2),j("",Te(16,11,e.progressPercent(),"1.0-0"),"%"),C(7),N(e.elapsedTime()),C(5),j("~",e.remainingTime()),C(5),ot("",e.completedTests()," / ",e.totalTests())}}function Tp(i,t){if(i&1&&(f(0,"span",248),p(1),fe(2,"number"),g()),i&2){let e=F().$implicit;C(),ot(" #",e.rank," (",Te(2,2,e.weightedScore,"1.1-1")," pts) ")}}function Ip(i,t){i&1&&(f(0,"span",249),p(1," Incomplete "),g())}function Dp(i,t){if(i&1&&(f(0,"div",250)(1,"span",251),p(2),g(),f(3,"span",252),p(4),g(),f(5,"span",253),p(6),fe(7,"number"),g()()),i&2){let e=t.$implicit;C(2),N(e.scenarioName),C(2),j("",e.weight,"x"),C(2),j("",Te(7,3,e.contribution,"1.1-1")," pts")}}function Rp(i,t){if(i&1&&(f(0,"div",242)(1,"div",243)(2,"h4"),p(3),g(),L(4,Tp,3,5,"span",244)(5,Ip,2,0,"span",245),g(),f(6,"div",246),L(7,Dp,8,6,"div",247),g()()),i&2){let e=t.$implicit;$e("--card-color",e.color),Ae("weighted-winner",e.rank===1),C(3),N(e.name),C(),D("ngIf",e.weightedScore!==-1),C(),D("ngIf",e.weightedScore===-1),C(2),D("ngForOf",e.breakdown)}}function Bp(i,t){if(i&1&&(f(0,"div",259)(1,"span",260),p(2,"Unsupported"),g(),f(3,"small",261),p(4),g()()),i&2){let e=F().$implicit;C(4),N(e.disabledReason)}}function Fp(i,t){if(i&1&&(f(0,"div",254)(1,"span",255),p(2),g(),f(3,"span",179),p(4),g(),L(5,Bp,5,1,"div",256),f(6,"div",257),ge(7,"div",258),g()()),i&2){let e=t.$implicit;Ae("disabled",e.disabledReason),C(2),N(e.name),C(2),j("",e.frequencyWeight||1,"x"),C(),D("ngIf",e.disabledReason),C(2),$e("width",(e.frequencyWeight||1)/3*100,"%")}}function zp(i,t){if(i&1&&(f(0,"span",274),p(1),g()),i&2){let e=F().$implicit;C(),ot(" ",e.rankChange>0?"\u2197\uFE0F":"\u2198\uFE0F"," ",e.rankChange>0?e.rankChange:-e.rankChange," ")}}function Lp(i,t){if(i&1&&(f(0,"div",270)(1,"span",271),p(2),g(),f(3,"span",272),p(4),L(5,zp,2,2,"span",273),g()()),i&2){let e=t.$implicit;Ae("ranking-improved",e.rankChange>0)("ranking-declined",e.rankChange<0),C(2),N(e.libraryName),C(2),ot(" #",e.rawRank," \u2192 #",e.weightedRank," "),C(),D("ngIf",e.rankChange!==0)}}function Np(i,t){if(i&1&&(f(0,"div",267)(1,"h5"),p(2,"\u{1F4C8} Ranking Changes Due to Weighting:"),g(),f(3,"div",268),L(4,Lp,6,8,"div",269),g()()),i&2){let e=F().ngIf;C(4),D("ngForOf",e.rankingChanges)}}function Vp(i,t){if(i&1&&(f(0,"div",262)(1,"h4"),p(2,"\u{1F52C} Weight Impact Analysis"),g(),f(3,"div",263)(4,"div",264)(5,"strong"),p(6),fe(7,"uppercase"),g(),p(8," impact from frequency weighting "),g(),f(9,"div",265),p(10),g()(),L(11,Np,5,1,"div",266),g()),i&2){let e=t.ngIf;C(4),Dr("impact-"+e.weightingSignificance),C(2),N(Vn(7,5,e.weightingSignificance)),C(4),j(" ",e.totalScenariosAnalyzed," scenarios analyzed "),C(),D("ngIf",e.rankingChanges)}}function Up(i,t){if(i&1&&(f(0,"div",286)(1,"div",287)(2,"span",251),p(3),g(),f(4,"span",288),p(5),g()(),f(6,"div",289)(7,"span",252),p(8),g(),f(9,"span",290),p(10),fe(11,"number"),g(),f(12,"span",291),p(13),fe(14,"number"),g()()()),i&2){let e=t.$implicit;C(3),N(e.scenarioName),C(2),N(e.realWorldFrequency),C(3),j("",e.weight,"x"),C(2),N(Te(11,5,e.rawScore,"1.0-0")),C(3),N(Te(14,8,e.weightedScore,"1.0-0"))}}function jp(i,t){if(i&1&&(f(0,"div",278)(1,"div",279)(2,"h4"),p(3),g(),f(4,"div",280)(5,"div",281),p(6),fe(7,"number"),g(),f(8,"div",282),p(9),fe(10,"number"),g(),f(11,"div",283),p(12),fe(13,"number"),g()()(),f(14,"div",284),L(15,Up,15,11,"div",285),g()()),i&2){let e=t.$implicit;$e("--card-color",e.color),C(3),N(e.libraryName),C(3),j(" Raw: ",Te(7,12,e.rawAverage,"1.0-0")," ops/sec "),C(3),j(" Weighted: ",Te(10,15,e.weightedAverage,"1.0-0")," ops/sec "),C(2),Ae("positive-impact",e.weightingImpact>0)("negative-impact",e.weightingImpact<0),C(),ot(" ",e.weightingImpact>0?"+":"","",Te(13,18,e.weightingImpact,"1.1-1"),"% "),C(3),D("ngForOf",e.scenarioBreakdown)}}function Wp(i,t){if(i&1&&(f(0,"div",275)(1,"h3"),p(2,"\u{1F4CB} Detailed Performance Breakdown"),g(),f(3,"div",276),L(4,jp,16,21,"div",277),g()()),i&2){let e=t.ngIf;C(4),D("ngForOf",e.libraryAnalysis)}}function $p(i,t){if(i&1&&(f(0,"span",300),p(1),g()),i&2){let e=F().$implicit;C(),j("#",e.rank)}}function Hp(i,t){i&1&&(f(0,"span",301),p(1,"Not Implemented"),g())}function qp(i,t){if(i&1&&(f(0,"span",132),p(1),g()),i&2){let e=F().$implicit,n=F(2);C(),N(n.formatTime(e.median))}}function Kp(i,t){i&1&&(f(0,"span",302),p(1,"N/A"),g())}function Yp(i,t){if(i&1&&(f(0,"span",132),p(1),g()),i&2){let e=F().$implicit,n=F(2);C(),N(n.formatTime(e.p95))}}function Gp(i,t){i&1&&(f(0,"span",302),p(1,"N/A"),g())}function Xp(i,t){if(i&1&&(f(0,"span",132),p(1),fe(2,"number"),g()),i&2){let e=F().$implicit;C(),N(Te(2,1,e.opsPerSecond,"1.0-0"))}}function Jp(i,t){i&1&&(f(0,"span",302),p(1,"N/A"),g())}function Qp(i,t){if(i&1&&(f(0,"span",132),p(1),fe(2,"number"),g()),i&2){let e=F().$implicit;Ae("faster",e.relativeSpeed>1)("slower",e.relativeSpeed<1),C(),j(" ",Te(2,5,e.relativeSpeed,"1.1-1"),"x ")}}function Zp(i,t){i&1&&(f(0,"span",302),p(1,"N/A"),g())}function e0(i,t){if(i&1&&(f(0,"div",292)(1,"div",243)(2,"h3"),p(3),g(),L(4,$p,2,1,"span",293)(5,Hp,2,0,"span",294),g(),f(6,"div",295)(7,"div",296)(8,"span",131),p(9,"Median"),g(),L(10,qp,2,1,"span",297)(11,Kp,2,0,"span",298),g(),f(12,"div",296)(13,"span",131),p(14,"P95"),g(),L(15,Yp,2,1,"span",297)(16,Gp,2,0,"span",298),g(),f(17,"div",296)(18,"span",131),p(19,"Ops/sec"),g(),L(20,Xp,3,4,"span",297)(21,Jp,2,0,"span",298),g(),f(22,"div",296)(23,"span",131),p(24),g(),L(25,Qp,3,8,"span",299)(26,Zp,2,0,"span",298),g()()()),i&2){let e=t.$implicit,n=F(2);$e("--card-color",e.color),C(3),N(e.name),C(),D("ngIf",e.median!==-1),C(),D("ngIf",e.median===-1),C(5),D("ngIf",e.median!==-1),C(),D("ngIf",e.median===-1),C(4),D("ngIf",e.p95!==-1),C(),D("ngIf",e.p95===-1),C(4),D("ngIf",e.opsPerSecond!==-1&&n.isFinite(e.opsPerSecond)),C(),D("ngIf",e.opsPerSecond===-1||!n.isFinite(e.opsPerSecond)),C(3),j("vs ",n.baselineName()),C(),D("ngIf",e.relativeSpeed!==-1),C(),D("ngIf",e.relativeSpeed===-1)}}function t0(i,t){if(i&1&&(f(0,"th"),p(1),g()),i&2){let e=t.$implicit;$e("color",e.color),C(),j(" ",e.name," ")}}function n0(i,t){if(i&1&&(f(0,"span",308),p(1),g()),i&2){let e=F().$implicit,n=F().$implicit,r=F(2);C(),j(" ",r.getScenarioRankEmoji(n.id,e.id)," ")}}function i0(i,t){if(i&1&&(f(0,"span",309),p(1),g()),i&2){let e=F().$implicit,n=F().$implicit,r=F(2);C(),ot(" ",r.getRelativePerformance(n.id,e.id),"x vs ",r.baselineName()," ")}}function r0(i,t){if(i&1&&(f(0,"td"),L(1,n0,2,1,"span",304),f(2,"span",305),p(3),g(),f(4,"span",306),p(5),g(),L(6,i0,2,2,"span",307),g()),i&2){let e=t.$implicit,n=F().$implicit,r=F(2);Dr(r.getScenarioRankClass(n.id,e.id)),$e("--cell-color",e.color),Ae("winner",r.isScenarioWinner(n.id,e.id)),C(),D("ngIf",r.getScenarioRankEmoji(n.id,e.id)),C(2),N(r.getScenarioTime(n.id,e.id)),C(2),j("",r.getScenarioOps(n.id,e.id)," ops/s"),C(),D("ngIf",e.id!=="signaltree")}}function s0(i,t){if(i&1&&(f(0,"tr")(1,"td",251),p(2),f(3,"small"),p(4),g()(),L(5,r0,7,10,"td",303),g()),i&2){let e=t.$implicit,n=F(2);C(2),j(" ",e.name," "),C(2),N(e.description),C(),D("ngForOf",n.librariesWithResults())}}function o0(i,t){if(i&1&&(f(0,"div",310)(1,"h4"),p(2),g(),f(3,"div",311)(4,"span"),p(5,"Sample Size:"),g(),f(6,"span"),p(7),g()(),f(8,"div",311)(9,"span"),p(10,"T-Statistic:"),g(),f(11,"span"),p(12),fe(13,"number"),g()(),f(14,"div",311)(15,"span"),p(16,"P-Value:"),g(),f(17,"span"),p(18),fe(19,"number"),g()(),f(20,"div",312)(21,"span"),p(22,"Conclusion:"),g(),f(23,"span"),p(24),g()()()),i&2){let e=t.$implicit;C(2),N(e.name),C(5),N(e.sampleSize),C(5),N(Te(13,7,e.tStatistic,"1.2-2")),C(5),Ae("significant",e.pValue<.05),C(),j(" ",Te(19,10,e.pValue,"1.4-4")," "),C(6),N(e.conclusion)}}function a0(i,t){if(i&1){let e=Gt();f(0,"section",201)(1,"h2"),p(2,"Benchmark Results"),g(),f(3,"div",202)(4,"h4",203),p(5," \u{1F4A1} Understanding Selector/Memoization Performance "),g(),f(6,"p",204)(7,"strong"),p(8,"Why SignalTree benchmarks use enhancers:"),g(),p(9," SignalTree's architecture showcases "),f(10,"strong"),p(11,"developer-friendly enhancers"),g(),p(12," (memoization, batching, serialization, time-travel) that compose together. Benchmarks intentionally use these enhancers to demonstrate real-world usage patterns. "),g(),f(13,"p",204)(14,"strong"),p(15,"The trade-off:"),g(),p(16," Angular's "),f(17,"code",205),p(18,"computed()"),g(),p(19," adds ~2\u03BCs per call vs NgRx's reference checks (~0.3\u03BCs). However, memoization "),f(20,"strong"),p(21,"prevents expensive re-renders"),g(),p(22,", saving 100-1000x more time in real applications. The benchmarks test "),f(23,"em"),p(24,"cache efficiency"),g(),p(25,", not just speed. "),g(),f(26,"p",206)(27,"strong"),p(28,"Fair comparison:"),g(),p(29," All libraries now update state during tests (98% cache hits + 2% recomputation), testing real-world selector behavior where data changes occasionally. "),g()(),f(30,"div",207)(31,"h3"),p(32,"\u{1F3AF} Real-World Weighted Performance"),g(),f(33,"p",208),p(34," Results below are weighted by real-world usage frequency. "),f(35,"strong"),p(36,"This reflects how different architectures perform in typical applications."),g()(),f(37,"div",209),L(38,Rp,8,8,"div",210),g(),f(39,"div",211)(40,"h4"),p(41,"\u{1F4CA} Current Weights Applied:"),g(),f(42,"div",212),L(43,Fp,8,7,"div",213),g(),f(44,"div",214)(45,"button",215),G("click",function(){ce(e);let r=F();return le(r.applySmartWeightAdjustments())}),p(46," \u{1F9E0} Apply Research-Based Weights "),g(),f(47,"span",216),p(48,"Based on real-world usage studies"),g()()(),L(49,Vp,12,7,"div",217),g(),L(50,Wp,5,1,"div",218),f(51,"div",219),L(52,e0,27,14,"div",220),g(),f(53,"div",221)(54,"div",222)(55,"div",223)(56,"button",224),G("click",function(){ce(e);let r=F();return le(r.setChartMode("scenarios"))}),p(57," Scenarios "),g(),f(58,"button",225),G("click",function(){ce(e);let r=F();return le(r.setChartMode("distribution"))}),p(59," Distribution "),g(),f(60,"button",226),G("click",function(){ce(e);let r=F();return le(r.setChartMode("percentiles"))}),p(61," Percentiles "),g(),f(62,"button",227),G("click",function(){ce(e);let r=F();return le(r.setChartMode("timeseries"))}),p(63," Time Series "),g()(),ge(64,"canvas",null,0),g()(),f(66,"div",228)(67,"h3"),p(68,"Detailed Results by Scenario"),g(),f(69,"table")(70,"thead")(71,"tr")(72,"th"),p(73,"Scenario"),g(),L(74,t0,2,3,"th",229),g()(),f(75,"tbody"),L(76,s0,6,3,"tr",230),g()()(),f(77,"div",231)(78,"h3"),p(79,"Statistical Analysis"),g(),f(80,"div",232),L(81,o0,25,13,"div",233),g()(),f(82,"div",234)(83,"h3"),p(84,"Export Results"),g(),f(85,"div",235)(86,"button",236),G("click",function(){ce(e);let r=F();return le(r.exportCSV())}),At(),f(87,"svg",116),ge(88,"path",237),g(),p(89," Export CSV "),g(),Oi(),f(90,"button",238),G("click",function(){ce(e);let r=F();return le(r.exportJSON())}),At(),f(91,"svg",116),ge(92,"path",239),g(),p(93," Export JSON "),g(),Oi(),f(94,"button",240),G("click",function(){ce(e);let r=F();return le(r.shareResults())}),At(),f(95,"svg",116),ge(96,"path",241),g(),p(97," Share Results "),g()()()()}if(i&2){let e=F();C(38),D("ngForOf",e.weightedLibrarySummaries()),C(5),D("ngForOf",e.visibleScenarios()),C(6),D("ngIf",e.weightedResultsAnalysis()),C(),D("ngIf",e.weightedResultsAnalysis()),C(2),D("ngForOf",e.librarySummaries()),C(4),Ae("active",e.chartMode()==="scenarios"),C(2),Ae("active",e.chartMode()==="distribution"),C(2),Ae("active",e.chartMode()==="percentiles"),C(2),Ae("active",e.chartMode()==="timeseries"),C(12),D("ngForOf",e.librariesWithResults()),C(2),D("ngForOf",e.completedScenarios()),C(5),D("ngForOf",e.statisticalComparisons())}}lr.register(...hl);var wr=class i{combinedChartRef;destroy$=new _e;charts=[];chartMode=Ce("scenarios");config=Ce({dataSize:1e4,complexity:"moderate",iterations:50,warmupRuns:10});memoMode=Ce(this._readMemoModeFromUrl());_memoModeEffect=Xt(()=>{window.__SIGNALTREE_MEMO_MODE=this.memoMode()});_readMemoModeFromUrl(){try{let e=new URLSearchParams(window.location.search).get("memo");if(e==="off"||e==="light"||e==="shallow"||e==="full")return e}catch{}return"light"}setMemoMode(t){let e=typeof t=="string"?t:t?.value;if(e==="off"||e==="light"||e==="shallow"||e==="full"){this.memoMode(e);try{let n=new URL(window.location.href);n.searchParams.set("memo",e),history.replaceState(null,"",n.toString()),window.__SIGNALTREE_MEMO_MODE=e}catch{}}}calibrationData=Ce(null);isCalibrating=Ce(!1);isRunning=Ce(!1);currentLibrary=Ce("");currentScenario=Ce("");currentIteration=Ce(0);startTime=Ce(0);completedTests=Ce(0);elapsedTimeTimer=Ce(0);timerInterval;scenarioPresets=[{id:"core-performance",name:"Core Performance",description:"Essential state management operations",scenarios:["deep-nested","large-array","computed-chains","batch-updates","selector-memoization","serialization","concurrent-updates"]},{id:"real-world",name:"Real-World Usage",description:"Common application patterns",scenarios:["memory-efficiency"]},{id:"advanced-features",name:"Advanced Features",description:"Time travel, middleware, and complex workflows",scenarios:["single-middleware","multiple-middleware","conditional-middleware"]},{id:"performance-stress",name:"Performance Stress",description:"Heavy load and scaling tests",scenarios:["concurrent-updates","memory-efficiency","history-size","conditional-middleware"]},{id:"all-tests",name:"All Tests",description:"Complete benchmark suite",scenarios:[]}];results=Ce([]);selectionVersion=Ce(0);scenarioSelectionVersion=Ce(0);baselineName=W(()=>this.availableLibraries.find(t=>t.id==="signaltree")?.name||"SignalTree");stBench=ie(Xo);ngrxBench=ie(vr);ngrxSignalsBench=ie(Sr);akitaBench=ie(yr);elfBench=ie(Cr);ngxsBench=ie(Qo);realisticBenchmarkService=ie(Jo);availableLibraries=[{id:"signaltree",name:"SignalTree",description:"Granular reactive state with direct mutation",color:"#3b82f6",selected:!0,stats:{bundleSize:"7.3KB",githubStars:2800}},{id:"ngrx-store",name:"NgRx Store",description:"Redux pattern with immutable updates",color:"#ef4444",selected:!1,stats:{bundleSize:"25KB",githubStars:7900}},{id:"ngrx-signals",name:"NgRx SignalStore",description:"Signal-based store with immutable patterns",color:"#10b981",selected:!1,stats:{bundleSize:"12KB",githubStars:7900}},{id:"akita",name:"Akita",description:"Entity-focused state management",color:"#f59e0b",selected:!1,stats:{bundleSize:"~40KB",githubStars:3500}},{id:"elf",name:"Elf",description:"Modular reactive state",color:"#8b5cf6",selected:!1,stats:{bundleSize:"~5KB",githubStars:1500}},{id:"ngxs",name:"NgXs",description:"CQRS-inspired state management with actions, reducers, and selectors",color:"#f97316",selected:!1,stats:{bundleSize:"~30KB",githubStars:3400}}];testCases=ml;hiddenScenarioIds=new Set(["undo-redo","history-size","jump-to-state"]);selectedLibraries=W(()=>(this.selectionVersion(),this.availableLibraries.filter(t=>t.selected)));_autoDisableUnsupportedScenarios=Xt(()=>{let t=this.selectedLibraries(),e={signaltree:this.stBench,"ngrx-store":this.ngrxBench,"ngrx-signals":this.ngrxSignalsBench,akita:this.akitaBench,elf:this.elfBench,ngxs:this.ngxsBench},n={"deep-nested":"runDeepNestedBenchmark","large-array":"runArrayBenchmark","computed-chains":"runComputedBenchmark","batch-updates":"runBatchUpdatesBenchmark","selector-memoization":"runSelectorBenchmark",serialization:"runSerializationBenchmark","concurrent-updates":"runConcurrentUpdatesBenchmark","memory-efficiency":"runMemoryEfficiencyBenchmark","data-fetching":"runDataFetchingBenchmark","real-time-updates":"runRealTimeUpdatesBenchmark","state-size-scaling":"runStateSizeScalingBenchmark","undo-redo":"runUndoRedoBenchmark","history-size":"runHistorySizeBenchmark","jump-to-state":"runJumpToStateBenchmark","single-middleware":"runSingleMiddlewareBenchmark","multiple-middleware":"runMultipleMiddlewareBenchmark","conditional-middleware":"runConditionalMiddlewareBenchmark","async-workflow":"runAsyncWorkflowBenchmark","async-workflow-scheduling":"runAsyncWorkflowBenchmark","async-workflow-hydration":"runAsyncWorkflowHydrationBenchmark","concurrent-async":"runConcurrentAsyncBenchmark","async-cancellation":"runAsyncCancellationBenchmark"};this.testCases.forEach(r=>{let s=n[r.id]||null;if(!s){delete r.disabledReason;return}let o=[];if(t.forEach(a=>{let c=e[a.id];if(!c)return;c[s]||o.push(a.name)}),this.hiddenScenarioIds.has(r.id)){let a=r;a.disabledReason="Hidden (SignalTree-only)",a.selected&&(a.selected=!1);return}if(o.length>0){let a=`Unsupported by ${o.join(", ")}`,c=r;c.disabledReason=a,c.selected&&(c.selected=!1)}else delete r.disabledReason}),this.scenarioSelectionVersion.update(r=>r+1)});scenarioEnhancerMap={"deep-nested":["withBatching","withShallowMemoization"],"large-array":["withHighPerformanceBatching"],"computed-chains":["withBatching","withShallowMemoization"],"batch-updates":["withHighPerformanceBatching"],"selector-memoization":["withLightweightMemoization"],serialization:["withMemoization","withHighPerformanceBatching"],"concurrent-updates":["withBatching"],"memory-efficiency":["withLightweightMemoization","withBatching"],"data-fetching":["withBatching","withShallowMemoization"],"real-time-updates":["withHighPerformanceBatching","withLightweightMemoization"],"state-size-scaling":["withLightweightMemoization","withBatching"],"undo-redo":["withTimeTravel"],"history-size":["withTimeTravel"],"jump-to-state":["withTimeTravel"],"single-middleware":[],"multiple-middleware":[],"conditional-middleware":[]};activeEnhancers=W(()=>{let t=this.selectedScenarios(),e=new Map;return t.forEach(n=>{n.enhancers.required.forEach(r=>{let s=e.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.required++,s.scenarios.push(n.name),s.rationales.includes(n.enhancers.rationale)||s.rationales.push(n.enhancers.rationale),e.set(r,s)}),n.enhancers.optional.forEach(r=>{let s=e.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.optional++,s.scenarios.push(n.name),e.set(r,s)})}),Array.from(e.entries()).map(([n,r])=>O(M({name:n},r),{priority:r.required>0?"required":"optional"}))});enhancerExplanation=W(()=>{let t=this.activeEnhancers();if(this.selectedScenarios().length===0)return"Select scenarios to see which enhancers will be used in the actual tests.";if(t.length===0)return"Selected tests use bare SignalTree instances without enhancers for optimal performance comparison.";let n={withBatching:"groups multiple state updates for better performance",withHighPerformanceBatching:"optimized batching for high-frequency operations",withMemoization:"full memoization with deep equality checks",withShallowMemoization:"lightweight memoization for object structures",withLightweightMemoization:"minimal caching overhead for intensive workloads",withSerialization:"state persistence and snapshot capabilities",withTimeTravel:"undo/redo functionality with history management"};return`Active enhancers: ${t.map(s=>`${s.name} (${s.priority==="required"?"required":"optional"})`).join(", ")}. These enhance SignalTree with ${t.map(s=>n[s.name]||s.name).join(", ")}.`});applyScenarioPreset(t){let e=this.scenarioPresets.find(n=>n.id===t);e&&(this.testCases.forEach(n=>n.selected=!1),t==="all-tests"?this.testCases.forEach(n=>{let r=n;r.selected=!r.disabledReason}):e.scenarios.forEach(n=>{let r=this.testCases.find(s=>s.id===n);r&&(r.selected=!0)}),this.scenarioSelectionVersion.update(n=>n+1))}presetCount(t){return t.id==="all-tests"?this.visibleScenarios().length:(t.scenarios||[]).filter(n=>!this.hiddenScenarioIds.has(n)&&this.testCases.some(r=>r.id===n)).length}selectedScenarios=W(()=>(this.scenarioSelectionVersion(),this.testCases.filter(t=>t.selected&&!t.disabledReason)));visibleScenarios=W(()=>(this.scenarioSelectionVersion(),this.testCases.filter(t=>!this.hiddenScenarioIds.has(t.id))));suggestedPresets=W(()=>{let t=this.selectedScenarios();if(t.length===0)return[];let e=[],n=["selector-memoization","computed-chains","data-fetching","large-array"],r=t.filter(u=>n.includes(u.id)).length;r>=2&&e.push({presetId:"crud-app",presetName:"CRUD Application",confidence:Math.min(95,r/n.length*100),reason:`${r} scenarios match typical CRUD app patterns`});let s=["large-array","concurrent-updates","real-time-updates","batch-updates"],o=t.filter(u=>s.includes(u.id)).length;o>=2&&e.push({presetId:"real-time",presetName:"Real-Time Application",confidence:Math.min(95,o/s.length*100),reason:`${o} scenarios match real-time app patterns`});let a=["deep-nested","computed-chains","selector-memoization","serialization"],c=t.filter(u=>a.includes(u.id)).length;c>=2&&e.push({presetId:"forms",presetName:"Forms-Heavy Application",confidence:Math.min(95,c/a.length*100),reason:`${c} scenarios match forms-heavy patterns`});let l=["serialization","undo-redo","computed-chains","selector-memoization"],d=t.filter(u=>l.includes(u.id)).length;return d>=2&&e.push({presetId:"enterprise",presetName:"Enterprise Application",confidence:Math.min(95,d/l.length*100),reason:`${d} scenarios match enterprise patterns`}),e.sort((u,h)=>h.confidence-u.confidence).slice(0,2)});librariesWithResults=W(()=>{let t=this.results();if(t.length===0)return[];let e=new Set(t.map(n=>n.libraryId));return this.availableLibraries.filter(n=>e.has(n.id))});reliabilityScore=W(()=>{if(!this.calibrationData())return 0;let e=this.environmentFactors(),n=100,r=e.reduce((s,o)=>s+o.impact,0);return Math.max(0,Math.min(100,n+r))});environmentFactors=W(()=>{let t=[];this.isDevToolsOpen()&&t.push({name:"DevTools Open",impact:-15,reason:"V8 debugging overhead, disabled optimizations, memory pressure"});let e=navigator.hardwareConcurrency||4;e<4?t.push({name:"Limited CPU Cores",impact:-12,reason:`${e} logical cores - insufficient for concurrent operations`}):e>=16?t.push({name:"High-Performance CPU",impact:8,reason:`${e} logical cores - excellent parallel processing capacity`}):e>=8&&t.push({name:"Multi-Core CPU",impact:5,reason:`${e} logical cores - good for concurrent workloads`});let n=navigator.deviceMemory;n?n<4?t.push({name:"Low Memory",impact:-15,reason:`${n}GB RAM - may trigger GC pressure, swap usage`}):n>=32?t.push({name:"High Memory",impact:8,reason:`${n}GB RAM - excellent for large datasets, minimal GC pressure`}):n>=16&&t.push({name:"Ample Memory",impact:5,reason:`${n}GB RAM - sufficient for complex benchmarks`}):t.push({name:"Memory Unknown",impact:-3,reason:"Cannot assess memory constraints or GC behavior"});let r=navigator.userAgent,s=/Chrome\/(\d+)/.test(r),o=/Firefox\/(\d+)/.test(r),a=/Safari/.test(r)&&!/Chrome/.test(r),c=/Edg\/(\d+)/.test(r);if(s){let b=r.match(/Chrome\/(\d+)/)?.[1],_=b?parseInt(b):0;_>=100?t.push({name:"Modern V8 Engine",impact:8,reason:`Chrome ${_} - latest V8 optimizations, Sparkplug compiler`}):_>=90?t.push({name:"Current V8 Engine",impact:5,reason:`Chrome ${_} - good V8 performance, established optimizations`}):t.push({name:"Older V8 Engine",impact:-5,reason:`Chrome ${_} - missing recent V8 optimizations`})}else o?t.push({name:"SpiderMonkey Engine",impact:0,reason:"Firefox SpiderMonkey - different optimization patterns than V8"}):a?t.push({name:"JavaScriptCore Engine",impact:-3,reason:"Safari JSC - conservative optimizations, different GC behavior"}):c?t.push({name:"Edge Chromium",impact:6,reason:"Edge with Chromium engine - V8 optimizations with Edge enhancements"}):t.push({name:"Unknown Browser",impact:-8,reason:"Untested JavaScript engine - unpredictable performance characteristics"});document.hasFocus()||t.push({name:"Background Tab",impact:-10,reason:"Browser throttling active - reduced timer resolution, CPU limits"});let l=navigator.platform.toLowerCase();l.includes("win")?t.push({name:"Windows Platform",impact:0,reason:"Windows - standard performance baseline"}):l.includes("mac")?t.push({name:"macOS Platform",impact:3,reason:"macOS - generally consistent performance, good memory management"}):l.includes("linux")&&t.push({name:"Linux Platform",impact:2,reason:"Linux - minimal overhead, efficient resource utilization"});let d=navigator.connection;d&&((d.effectiveType==="slow-2g"||d.effectiveType==="2g")&&t.push({name:"Slow Network",impact:-5,reason:"Poor connectivity may affect resource loading and system responsiveness"}),d.downlink&&d.downlink<1&&t.push({name:"Limited Bandwidth",impact:-3,reason:`${d.downlink}Mbps - may impact background resource usage`}));let u=document.createElement("canvas"),h=u.getContext("webgl2")||u.getContext("webgl");if(h){let b=h.getExtension("WEBGL_debug_renderer_info");if(b){let _=h.getParameter(b.UNMASKED_RENDERER_WEBGL);_.includes("Intel")?t.push({name:"Integrated Graphics",impact:-2,reason:"Intel integrated GPU - may share system memory, limited parallel compute"}):(_.includes("NVIDIA")||_.includes("AMD"))&&t.push({name:"Dedicated Graphics",impact:3,reason:"Discrete GPU - hardware acceleration available, dedicated memory"})}}else t.push({name:"No WebGL Support",impact:-5,reason:"Limited hardware acceleration - software rendering only"});navigator?.getBattery&&t.push({name:"Mobile/Laptop Device",impact:-3,reason:"Battery-powered device - potential thermal throttling, power management"});let y=Intl.DateTimeFormat().resolvedOptions().timeZone;return(y.includes("Asia")||y.includes("Europe"))&&t.push({name:"Complex Timezone",impact:-1,reason:`${y} - complex DST rules may affect date operations`}),t});calibrationWarnings=W(()=>{let t=[],e=this.reliabilityScore(),n=this.environmentFactors();e<60&&t.push(`Low reliability score (${e}%) - Results may have high variance due to environmental factors`),this.isDevToolsOpen()&&t.push("Close DevTools to eliminate V8 debugging overhead and enable full JIT optimizations"),document.hasFocus()||t.push("Focus this tab to prevent browser throttling - background tabs have reduced timer resolution");let r=this.calibrationData();r&&(r.cpuOpsPerMs<100&&t.push(`CPU performance below baseline (${r.cpuOpsPerMs.toFixed(0)} ops/ms) - consider reducing data size`),r.availableMemoryMB<512&&t.push(`Low available memory (${r.availableMemoryMB}MB) - may trigger garbage collection during tests`));let s=n.some(u=>u.name==="DevTools Open"),o=n.some(u=>u.name==="Background Tab"),a=n.some(u=>u.name.includes("Low Memory")),c=n.some(u=>u.name==="Unknown Browser");s&&o&&t.push("Multiple performance impacts detected - close DevTools and focus tab for accurate results"),a&&t.push("Limited system memory detected - consider smaller data sizes to avoid memory pressure"),c&&t.push("Untested browser environment - results may not be comparable with established baselines");let l=n.some(u=>u.name==="Integrated Graphics"),d=n.some(u=>u.name==="Limited CPU Cores");return l&&d&&t.push("Low-end hardware detected - consider reducing complexity for meaningful comparisons"),t});totalOperations=W(()=>{let t=this.config(),e=this.selectedLibraries(),n=this.selectedScenarios(),r=0;for(let s of n){let o=this.getOperationsPerIteration(s.id,t.dataSize);r+=o*t.iterations*e.length,r+=o*t.warmupRuns*e.length}return r});getOperationsPerIteration(t,e){switch(t){case"deep-nested":return Math.min(e,1e3);case"large-array":return Math.min(1e3,e);case"computed-chains":return Math.min(e,500);case"batch-updates":return Math.min(e,100);case"selector-memoization":return 1e3;case"serialization":return 1;case"concurrent-updates":{let n=Math.max(10,Math.min(100,Math.floor(e/1e3))),r=Math.max(50,Math.min(500,Math.floor(50*4)));return n*r}case"memory-efficiency":return e;case"data-fetching":return Math.min(1e3,e)+Math.min(100,e/10);case"real-time-updates":return Math.min(500,e);case"state-size-scaling":return Math.min(200,e/5);default:return e}}estimatedDuration=W(()=>{let t=this.config(),e=this.selectedLibraries(),n=this.selectedScenarios(),r=this.getComplexityMultiplier(t.complexity);if(e.length===0||n.length===0)return"0s";let a=e.length*n.length*15*r;a*=1.3;let c=Math.ceil(a/1e3);if(c<60)return`${c} seconds`;let l=Math.floor(c/60),d=c%60;return`${l}m ${d}s`});estimatedMemory=W(()=>{let t=this.config(),e=this.selectedScenarios(),n=0;for(let r of e)n+=this.getScenarioMemoryUsage(r.id,t.dataSize);return Math.ceil(n)});getScenarioMemoryUsage(t,e){switch(t){case"deep-nested":return e*200*15/(1024*1024);case"large-array":return e*64/(1024*1024);case"computed-chains":return .0003814697265625+.5;case"batch-updates":return 2;case"selector-memoization":return 1;case"serialization":return e*64/1048576*2;case"concurrent-updates":return 5;case"memory-efficiency":return e*128/(1024*1024);case"data-fetching":return Math.min(1e3,e)*200/(1024*1024)+1;case"real-time-updates":return 3;case"state-size-scaling":return Math.min(e*10,1e4)*2048/(1024*1024);default:return e*64/(1024*1024)}}totalTests=W(()=>this.selectedLibraries().length*this.selectedScenarios().length);progressPercent=W(()=>{let t=this.totalTests();return t===0?0:this.completedTests()/t*100});elapsedTime=W(()=>{if(!this.isRunning())return"0s";this.elapsedTimeTimer();let t=Date.now()-this.startTime();return this.formatDuration(t)});remainingTime=W(()=>{let t=this.progressPercent();if(t===0)return"Calculating...";this.elapsedTimeTimer();let e=Date.now()-this.startTime(),r=e/(t/100)-e;return this.formatDuration(r)});canRunBenchmarks=W(()=>this.calibrationData()!==null&&this.selectedLibraries().length>=2&&this.selectedScenarios().length>0&&!this.isRunning());hasResults=W(()=>this.results().length>0);completedScenarios=W(()=>{let t=this.results(),e=[...new Set(t.map(n=>n.scenarioId))];return this.testCases.filter(n=>e.includes(n.id))});librarySummaries=W(()=>{let t=this.results(),n=this.selectedLibraries().map(a=>{let c=t.filter(m=>m.libraryId===a.id);if(c.length===0)return null;let l=c.filter(m=>m.median!==-1);if(l.length===0)return{name:a.name,color:a.color,rank:999,median:-1,p95:-1,opsPerSecond:-1,relativeSpeed:-1};let d=l.map(m=>m.median),u=l.map(m=>m.p95),h=l.map(m=>m.opsPerSecond);return{name:a.name,color:a.color,rank:0,median:this.average(d),p95:this.average(u),opsPerSecond:this.average(h),relativeSpeed:1}}).filter(a=>a!==null),r=n.filter(a=>a.median!==-1),s=n.filter(a=>a.median===-1);r.sort((a,c)=>a.median-c.median),r.forEach((a,c)=>a.rank=c+1);let o=r.find(a=>a.name==="SignalTree");return o&&r.forEach(a=>{a.relativeSpeed=o.median/a.median}),[...r,...s]});weightedResultsAnalysis=W(()=>{let t=this.results(),e=this.selectedLibraries();if(t.length===0||e.length===0)return null;let n=e.map(o=>{let a=t.filter(b=>b.libraryId===o.id),c=0,l=0,d=0,u=a.map(b=>{let _=this.testCases.find(w=>w.id===b.scenarioId),P=_?.frequencyWeight||1,x=b.opsPerSecond>0?b.opsPerSecond:0,v=x*P;return c+=x,l+=v,d+=P,{scenarioId:b.scenarioId,scenarioName:_?.name||b.scenarioId,weight:P,rawScore:x,weightedScore:v,impactOnTotal:d>0?v/d*100:0,realWorldFrequency:_?.realWorldFrequency||"Unknown"}}),h=a.length>0?c/a.length:0,m=d>0?l/d:0,y=h>0?(m-h)/h*100:0;return{libraryId:o.id,libraryName:o.name,color:o.color,rawAverage:h,weightedAverage:m,weightingImpact:y,scenarioBreakdown:u,rank:0}});n.sort((o,a)=>a.weightedAverage-o.weightedAverage),n.forEach((o,a)=>{o.rank=a+1});let r=[...n].sort((o,a)=>a.rawAverage-o.rawAverage),s=n.map(o=>{let a=r.findIndex(l=>l.libraryId===o.libraryId)+1,c=o.rank;return{libraryName:o.libraryName,rawRank:a,weightedRank:c,rankChange:a-c}});return{libraryAnalysis:n,rankingChanges:s,totalScenariosAnalyzed:t.length>0?new Set(t.map(o=>o.scenarioId)).size:0,weightingSignificance:this.calculateWeightingSignificance(n)}});calculateWeightingSignificance(t){let e=t.reduce((n,r)=>n+Math.abs(r.weightingImpact),0)/t.length;return e<5?"low":e<15?"medium":"high"}statisticalComparisons=W(()=>{let t=this.results(),e=this.selectedLibraries();if(e.length<2)return[];let n=[];return e.find(s=>s.id==="signaltree")&&e.filter(s=>s.id!=="signaltree").forEach(s=>{let o=t.filter(u=>u.libraryId==="signaltree"),a=t.filter(u=>u.libraryId===s.id);if(o.length===0||a.length===0)return;let c=o.flatMap(u=>u.samples),l=a.flatMap(u=>u.samples),d=this.calculateTTest(c,l);n.push({name:`${this.baselineName()} vs ${s.name}`,sampleSize:Math.min(c.length,l.length),tStatistic:d.tStatistic,pValue:d.pValue,conclusion:d.pValue<.05?"Statistically significant difference":"No significant difference"})}),n});constructor(){let t=this.scenarioPresets.find(e=>e.id==="all-tests");t&&(t.scenarios=this.testCases.map(e=>e.id)),Xt(()=>{this.hasResults()&&queueMicrotask(()=>requestAnimationFrame(()=>setTimeout(()=>this.updateCharts(),0)))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.charts.forEach(t=>t.destroy()),this.stopElapsedTimer()}runCalibration(){return I(this,null,function*(){this.isCalibrating.set(!0);try{let t=yield this.benchmarkCPU(),e=this.checkMemory(),n=Math.min(100,t/1e3*100),r=Math.min(100,e/1e3*100),s=t>500?5e4:t>200?1e4:t>100?5e3:1e3,o=t>500?100:t>200?75:t>100?50:25;this.calibrationData.set({cpuOpsPerMs:t,cpuScore:n,availableMemoryMB:e,memoryScore:r,recommendedSize:s,recommendedIterations:o,timestamp:new Date}),this.config.update(a=>O(M({},a),{dataSize:s,iterations:o}))}finally{this.isCalibrating.set(!1)}})}benchmarkCPU(){return I(this,null,function*(){let e=performance.now(),n=0,r=0,s=0,o=new Array(1e3).fill(0).map((l,d)=>d);for(let l=0;l<1e5;l++){n+=Math.sqrt(l)*Math.sin(l)*Math.cos(l),r++;let d=l%o.length;o[d]=o[d]*1.001+.1,s++,l%5e3===0&&(yield new Promise(u=>setTimeout(u,0)))}(Number.isNaN(n)||o.length===0)&&console.debug("Calibration completed:",{mathOps:r,memoryOps:s});let a=performance.now()-e,c=1e5/a;return console.debug("CPU Calibration Results:",{iterations:1e5,duration:`${a.toFixed(2)}ms`,opsPerMs:c.toFixed(2),mathOperations:r,memoryOperations:s,timerResolution:performance.timeOrigin?"High Resolution":"Standard"}),c})}submitBenchmarkResults(){return I(this,null,function*(){try{console.log("Building benchmark submission...");let e=(performance.now()-this.startTime())/1e3,n=yield this.realisticBenchmarkService.getBatteryInfo(),r=this.realisticBenchmarkService.getMachineInfo();n&&(r.battery=n);let s=this.calibrationData();if(!s){console.warn("No calibration data available, skipping submission");return}let o={reliabilityScore:this.reliabilityScore(),mathOpsPerMs:s.cpuOpsPerMs,memoryOpsPerMs:s.availableMemoryMB,environmentFactors:this.environmentFactors(),throttlingDetected:this.environmentFactors().some(_=>_.name.includes("throttl")||_.name.includes("Thermal")),backgroundLoad:Math.max(0,100-this.reliabilityScore()),timestamp:s.timestamp.toISOString()},a=this.selectedLibraries().map(_=>_.id),c=this.testCases.filter(_=>_.selected).map(_=>_.id),l={dataSize:this.config().dataSize,iterations:this.config().iterations,samplesPerTest:this.config().iterations,selectedLibraries:a,selectedScenarios:c,weightingPreset:"custom"},d={libraries:{}};this.selectedLibraries().forEach(_=>{let P={};this.results().forEach(x=>{if(x.libraryId===_.id){let v=this.testCases.find(w=>w.id===x.scenarioId);v&&(P[x.scenarioId]={scenarioId:x.scenarioId,scenarioName:v.name,samples:x.samples,median:x.median,mean:x.mean,min:x.min,max:x.max,p95:x.p95,p99:x.p99,stdDev:x.stdDev,opsPerSec:x.opsPerSecond,heapDelta:x.memoryDeltaMB,relativeToBaseline:100,rank:this.getScenarioRank(x.scenarioId,_.id)})}}),d.libraries[_.id]={name:_.name,enabled:!0,scenarios:P}});let u=this.weightedLibrarySummaries(),h={libraries:{},totalScenariosRun:this.completedScenarios().length,totalTestsExecuted:this.completedTests(),totalDuration:e};u.forEach(_=>{let P=this.selectedLibraries().find(x=>x.name===_.name);P&&(h.libraries[P.id]={rawScore:_.weightedScore,weightedScore:_.weightedScore,rank:_.rank,scenarioBreakdown:_.breakdown.map(x=>({scenarioName:x.scenarioName,weight:x.weight,rawScore:x.opsPerSecond,weightedContribution:x.contribution}))})});let m={};this.testCases.forEach(_=>{_.selected&&(m[_.id]=_.frequencyWeight||1)});let y={id:this.realisticBenchmarkService.getSessionId()+"-"+Date.now(),timestamp:new Date().toISOString(),version:"3.0.2",sessionId:this.realisticBenchmarkService.getSessionId(),consentGiven:!0,calibration:o,machineInfo:r,config:l,results:d,weightedResults:h,weights:m};console.log("Submitting benchmark results...",y);let b=yield this.realisticBenchmarkService.submitBenchmark(y);b.success?console.log("\u2705 Benchmark results submitted successfully!",b.id):console.error("\u274C Failed to submit benchmark results:",b.error)}catch(t){console.error("Error submitting benchmark results:",t)}})}executeBenchmark(t,e,n){return I(this,null,function*(){let r=this.getBenchmarkService(t);if(!r)return console.warn(`No benchmark service found for library: ${t}`),-1;let s=this.testCases.find(o=>o.id===e);if(s&&s.signalTreeOnly&&t!=="signaltree")return console.info(`Skipping ${e} for ${t}: scenario requires SignalTree-only features`),-1;try{switch(e){case"deep-nested":return r.runDeepNestedBenchmark?yield r.runDeepNestedBenchmark(n.dataSize):(console.warn(`${t} does not support deep-nested benchmarks`),-1);case"large-array":return r.runArrayBenchmark?yield r.runArrayBenchmark(n.dataSize):(console.warn(`${t} does not support large-array benchmarks`),-1);case"computed-chains":return r.runComputedBenchmark?yield r.runComputedBenchmark(n.dataSize):(console.warn(`${t} does not support computed-chains benchmarks`),-1);case"batch-updates":return r.runBatchUpdatesBenchmark?yield r.runBatchUpdatesBenchmark(E.ITERATIONS.BATCH_UPDATES,E.ITERATIONS.BATCH_SIZE):(console.warn(`${t} does not support batch-updates benchmarks`),-1);case"selector-memoization":return r.runSelectorBenchmark?yield r.runSelectorBenchmark(n.dataSize):(console.warn(`${t} does not support selector-memoization benchmarks`),-1);case"serialization":return r.runSerializationBenchmark?yield r.runSerializationBenchmark(n.dataSize):(console.warn(`${t} does not support serialization benchmarks`),-1);case"concurrent-updates":{if(!r.runConcurrentUpdatesBenchmark)return console.warn(`${t} does not support concurrent-updates benchmarks`),-1;let o=Math.max(10,Math.min(100,Math.floor(n.dataSize/1e3))),a=Math.max(50,Math.min(500,Math.floor(n.iterations*4)));return yield r.runConcurrentUpdatesBenchmark(o,a)}case"memory-efficiency":return r.runMemoryEfficiencyBenchmark?yield r.runMemoryEfficiencyBenchmark(n.dataSize):(console.warn(`${t} does not support memory-efficiency benchmarks`),-1);case"data-fetching":return r.runDataFetchingBenchmark?yield r.runDataFetchingBenchmark(n.dataSize):(console.warn(`${t} does not support data-fetching benchmarks`),-1);case"real-time-updates":return r.runRealTimeUpdatesBenchmark?yield r.runRealTimeUpdatesBenchmark(n.dataSize):(console.warn(`${t} does not support real-time-updates benchmarks`),-1);case"state-size-scaling":return r.runStateSizeScalingBenchmark?yield r.runStateSizeScalingBenchmark(n.dataSize):(console.warn(`${t} does not support state-size-scaling benchmarks`),-1);case"concurrent-async":return r.runConcurrentAsyncBenchmark?yield r.runConcurrentAsyncBenchmark(E.ITERATIONS.ASYNC_WORKFLOW):(console.warn(`${t} does not support concurrent-async benchmarks`),-1);case"async-cancellation":return r.runAsyncCancellationBenchmark?yield r.runAsyncCancellationBenchmark(E.ITERATIONS.ASYNC_WORKFLOW):(console.warn(`${t} does not support async-cancellation benchmarks`),-1);case"undo-redo":return r.runUndoRedoBenchmark?yield r.runUndoRedoBenchmark(E.ITERATIONS.BATCH_UPDATES):(console.warn(`${t} does not support undo-redo benchmarks`),-1);case"history-size":return r.runHistorySizeBenchmark?yield r.runHistorySizeBenchmark(E.ITERATIONS.SELECTOR):(console.warn(`${t} does not support history-size benchmarks`),-1);case"jump-to-state":return r.runJumpToStateBenchmark?yield r.runJumpToStateBenchmark(E.ITERATIONS.ASYNC_WORKFLOW):(console.warn(`${t} does not support jump-to-state benchmarks`),-1);case"single-middleware":return r.runSingleMiddlewareBenchmark?yield r.runSingleMiddlewareBenchmark(E.ITERATIONS.SELECTOR):(console.warn(`${t} does not support single-middleware benchmarks`),-1);case"multiple-middleware":return r.runMultipleMiddlewareBenchmark?yield r.runMultipleMiddlewareBenchmark(5,E.ITERATIONS.SELECTOR):(console.warn(`${t} does not support multiple-middleware benchmarks`),-1);case"conditional-middleware":return r.runConditionalMiddlewareBenchmark?yield r.runConditionalMiddlewareBenchmark(E.ITERATIONS.SELECTOR):(console.warn(`${t} does not support conditional-middleware benchmarks`),-1);default:return console.warn(`Unknown scenario: ${e} for library: ${t}`),-1}}catch(o){return console.error(`Error running ${e} benchmark for ${t}:`,o),-1}})}getBenchmarkService(t){switch(t){case"signaltree":return this.stBench;case"ngrx-store":return this.ngrxBench;case"ngrx-signals":return this.ngrxSignalsBench;case"akita":return this.akitaBench;case"elf":return this.elfBench;case"ngxs":return this.ngxsBench;default:return null}}checkMemory(){let t=performance;if(t.memory){let{jsHeapSizeLimit:n,usedJSHeapSize:r,totalJSHeapSize:s}=t.memory,o=n-r;return console.debug("Memory Analysis:",{heapSizeLimit:`${(n/(1024*1024)).toFixed(1)}MB`,usedHeapSize:`${(r/(1024*1024)).toFixed(1)}MB`,totalHeapSize:`${(s/(1024*1024)).toFixed(1)}MB`,availableHeap:`${(o/(1024*1024)).toFixed(1)}MB`,memoryPressure:r/n>.8?"High":"Normal"}),Math.round(o/(1024*1024))}let e=navigator.deviceMemory;return e?(console.debug("Device Memory Info:",{totalDeviceMemory:`${e}GB`,estimatedAvailable:`${e*.7}GB (estimated 70% available)`,source:"Device Memory API"}),e*1024*.7):(console.debug("Memory Info:",{source:"Default fallback",assumed:"4GB total, 2.8GB available"}),2048)}toggleLibrary(t){t.id!=="signaltree"&&(t.selected=!t.selected,this.selectionVersion.update(e=>e+1))}onLibraryCheckboxChange(t,e){t.id!=="signaltree"&&(t.selected=e,this.selectionVersion.update(n=>n+1))}toggleAllLibraries(){let t=this.allLibrariesSelected();this.availableLibraries.forEach(e=>{e.id!=="signaltree"&&(e.selected=!t)}),this.selectionVersion.update(e=>e+1)}allLibrariesSelected(){return this.availableLibraries.filter(t=>t.id!=="signaltree").every(t=>t.selected)}toggleScenario(t){t.selected=!t.selected,console.log(`Toggled ${t.name} to ${t.selected}`),this.scenarioSelectionVersion.update(e=>e+1),console.log("Updated scenarioSelectionVersion to",this.scenarioSelectionVersion())}startElapsedTimer(){this.stopElapsedTimer(),this.timerInterval=window.setInterval(()=>{this.elapsedTimeTimer.update(t=>t+1)},500)}stopElapsedTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=void 0)}runBenchmarks(){return I(this,null,function*(){if(!this.canRunBenchmarks())return;this.isRunning.set(!0),this.startTime.set(performance.now()),this.completedTests.set(0),this.results.set([]),this.startElapsedTimer();let t=this.selectedLibraries(),e=this.selectedScenarios(),n=this.config();console.log("Starting benchmarks with:",{libraries:t.map(r=>r.name),scenarios:e.map(r=>r.name),scenarioIds:e.map(r=>r.id)});try{for(let r of e){if(!this.isRunning())break;for(let s of t){if(!this.isRunning())break;this.currentLibrary.set(s.name),this.currentScenario.set(r.name);let o=yield this.runSingleBenchmark(s,r,n);this.results.update(a=>[...a,o]),this.completedTests.update(a=>a+1)}}}catch(r){console.error("Benchmark execution failed:",r)}finally{this.isRunning.set(!1),this.stopElapsedTimer(),console.log("Benchmarks completed"),yield this.submitBenchmarkResults()}})}runSingleBenchmark(t,e,n){return I(this,null,function*(){console.log(`Starting single benchmark: ${t.name} - ${e.name}`);let r=[],s=performance,o=e.id==="memory-efficiency"&&!!s.memory,a=o&&s.memory?s.memory.usedJSHeapSize:void 0;console.log(`Starting warmup runs: ${n.warmupRuns}`);for(let u=0;u<n.warmupRuns&&this.isRunning();u++)yield this.executeBenchmark(t.id,e.id,n),this.currentIteration.set(u+1);console.log(`Starting measurement runs: ${n.iterations}`);for(let u=0;u<n.iterations&&this.isRunning();u++){this.currentIteration.set(u+1);let h=yield this.executeBenchmark(t.id,e.id,n);if(console.log(`Iteration ${u+1} duration: ${h}ms`),h===-1)return console.log(`Benchmark unsupported for ${t.name} - ${e.name}`),{libraryId:t.id,scenarioId:e.id,samples:[],median:-1,mean:-1,p95:-1,p99:-1,min:-1,max:-1,stdDev:-1,opsPerSecond:-1,memoryDeltaMB:void 0};r.push(h),u%10===0&&(yield new Promise(m=>setTimeout(m,0)))}r.sort((u,h)=>u-h);let c=o&&s.memory?s.memory.usedJSHeapSize:void 0,l=o&&a!==void 0&&c!==void 0?(c-a)/(1024*1024):void 0,d=this.percentile(r,50);return{libraryId:t.id,scenarioId:e.id,samples:r,median:d,mean:this.average(r),p95:this.percentile(r,95),p99:this.percentile(r,99),min:r[0],max:r[r.length-1],stdDev:this.standardDeviation(r),opsPerSecond:d>0?Math.round(1e3/d):0,memoryDeltaMB:l}})}getComplexityMultiplier(t){switch(t){case"basic":return 1;case"moderate":return 2;case"complex":return 4;case"extreme":return 8;default:return 1}}cancelBenchmarks(){this.isRunning.set(!1),this.stopElapsedTimer()}onDataSizeChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(M({},n),{dataSize:Number(e)})),this.updateEstimates()}onComplexityChange(t){this.config.update(e=>O(M({},e),{complexity:t})),this.updateEstimates()}onIterationsChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(M({},n),{iterations:Number(e)})),this.updateEstimates()}onWarmupChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(M({},n),{warmupRuns:Number(e)})),this.updateEstimates()}onLibraryCardKeydown(t,e){(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),this.toggleLibrary(e))}onScenarioCardKeydown(t,e){(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),this.toggleScenario(e))}isScenarioWinner(t,e){return this.getScenarioRank(t,e)===1}getScenarioRank(t,e){let n=this.results().filter(o=>o.scenarioId===t&&o.median!==-1&&o.opsPerSecond>0&&isFinite(o.opsPerSecond));if(n.length===0)return 0;let s=[...n].sort((o,a)=>o.median-a.median).findIndex(o=>o.libraryId===e);return s>=0?s+1:0}getScenarioRankClass(t,e){let n=this.getScenarioRank(t,e);return n===0?"":n===1?"rank-first":n===2?"rank-second":n===3?"rank-third":""}getScenarioRankEmoji(t,e){let n=this.getScenarioRank(t,e);return n===1?"\u{1F947}":n===2?"\u{1F948}":n===3?"\u{1F949}":""}getScenarioTime(t,e){let n=this.results().find(r=>r.scenarioId===t&&r.libraryId===e);return n?n.median===-1?"N/A":this.formatTime(n.median):"-"}getScenarioOps(t,e){let n=this.results().find(r=>r.scenarioId===t&&r.libraryId===e);return n?n.opsPerSecond===-1||n.opsPerSecond===0||!isFinite(n.opsPerSecond)?"N/A":Math.round(n.opsPerSecond).toLocaleString():"-"}isFinite(t){return Number.isFinite(t)}getRelativePerformance(t,e){let n=this.results().find(o=>o.scenarioId===t&&o.libraryId===e),r=this.results().find(o=>o.scenarioId===t&&o.libraryId==="signaltree");return!n||!r||n.median===-1||r.median===-1||n.opsPerSecond===0||n.opsPerSecond===-1?"N/A":(n.median/r.median).toFixed(2)}updateCharts(){if(this.hasResults())if(this.charts.forEach(t=>{try{t.destroy()}catch(e){console.warn("Error destroying chart:",e)}}),this.charts=[],this.combinedChartRef?.nativeElement){let t=this.combinedChartRef.nativeElement.getContext("2d");t&&t.clearRect(0,0,t.canvas.width,t.canvas.height),this.createCombinedChart()}else setTimeout(()=>this.updateCharts(),10)}setChartMode(t){this.chartMode.set(t),this.updateCharts()}createCombinedChart(){let t=this.combinedChartRef?.nativeElement.getContext("2d");if(!t){console.warn("Chart context not available");return}let e=this.chartMode(),n=this.selectedLibraries(),r=this.results();if(n.length===0||r.length===0){console.warn("No libraries or results available for chart");return}let s;if(e==="distribution")s={type:"bar",data:{datasets:n.map(c=>{let d=r.filter(h=>h.libraryId===c.id).flatMap(h=>h.samples),u=this.createHistogramBins(d,20);return{label:c.name,data:u.map(h=>({x:h.center,y:h.count})),backgroundColor:c.color+"40",borderColor:c.color,borderWidth:2}})},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Time (ms)"}},y:{title:{display:!0,text:"Frequency"}}}}};else if(e==="percentiles"){let a=[10,25,50,75,90,95,99],c=n.map(l=>{let u=r.filter(h=>h.libraryId===l.id).flatMap(h=>h.samples).sort((h,m)=>h-m);return{label:l.name,data:a.map(h=>this.percentile(u,h)),borderColor:l.color,backgroundColor:l.color+"20",borderWidth:2,tension:.3}});s={type:"line",data:{labels:a.map(l=>`P${l}`),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else if(e==="scenarios"){let a=this.completedScenarios(),c=n.map(l=>{let d=a.map(u=>{let h=r.find(m=>m.libraryId===l.id&&m.scenarioId===u.id);return h?h.median:0});return{label:l.name,data:d,backgroundColor:l.color+"80",borderColor:l.color,borderWidth:2}});s={type:"bar",data:{labels:a.map(l=>l.name),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else s={type:"line",data:{datasets:n.map(c=>{let l=r.filter(u=>u.libraryId===c.id),d=[];return l.forEach(u=>{d=d.concat(u.samples)}),{label:c.name,data:d.map((u,h)=>({x:h+1,y:u})),borderColor:c.color,backgroundColor:c.color+"20",borderWidth:2,pointRadius:1,pointHoverRadius:4,tension:.1,fill:!1}})},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{tooltip:{position:"nearest"}},scales:{x:{title:{display:!0,text:"Iteration #"},type:"linear"},y:{title:{display:!0,text:"Time (ms)"},beginAtZero:!0}}}};let o=new lr(t,s);this.charts.push(o),requestAnimationFrame(()=>{o.resize(),o.update("none")})}exportCSV(){let t=this.results(),e=this.availableLibraries,n=this.completedScenarios(),r=`Library,Scenario,Median (ms),Mean (ms),P95 (ms),P99 (ms),Min (ms),Max (ms),Std Dev,Ops/sec,Memory Delta (MB)
`;for(let s of t){let o=e.find(c=>c.id===s.libraryId),a=n.find(c=>c.id===s.scenarioId);r+=`${o?.name},${a?.name},${s.median===-1?-1:s.median.toFixed(3)},`,r+=`${s.mean===-1?-1:s.mean.toFixed(3)},${s.p95===-1?-1:s.p95.toFixed(3)},`,r+=`${s.p99===-1?-1:s.p99.toFixed(3)},${s.min===-1?-1:s.min.toFixed(3)},`,r+=`${s.max===-1?-1:s.max.toFixed(3)},${s.stdDev===-1?-1:s.stdDev.toFixed(3)},`,r+=`${s.opsPerSecond===-1||!isFinite(s.opsPerSecond)?-1:Math.round(s.opsPerSecond)},`,r+=`${typeof s.memoryDeltaMB=="number"?s.memoryDeltaMB.toFixed(2):""}
`}this.downloadFile(r,"benchmark-results.csv","text/csv")}exportJSON(){let t={timestamp:new Date().toISOString(),environment:{userAgent:navigator.userAgent,cores:navigator.hardwareConcurrency,memory:navigator.deviceMemory,reliability:this.reliabilityScore(),factors:this.environmentFactors()},configuration:this.config(),calibration:this.calibrationData(),results:this.results(),summaries:this.librarySummaries(),statistics:this.statisticalComparisons()},e=JSON.stringify(t,null,2);try{window.__LAST_BENCHMARK_RESULTS__=e,window.__LAST_BENCHMARK_RESULTS_OBJ__=t,window.__LAST_BENCHMARK_RESULTS_TS__=new Date().toISOString()}catch(n){console.warn("Failed to set global benchmark shim:",n)}this.downloadFile(e,"benchmark-results.json","application/json")}shareResults(){return I(this,null,function*(){let t=window.location.href,e=`Check out these benchmark results: ${this.baselineName()} vs ${this.selectedLibraries().slice(1).map(n=>n.name).join(", ")}`;if(navigator.share)try{yield navigator.share({title:"Benchmark Results",text:e,url:t})}catch(n){console.error("Share failed:",n)}else navigator.clipboard.writeText(`${e}
${t}`),alert("Link copied to clipboard!")})}updateEstimates(){}isDevToolsOpen(){let t=window.outerWidth-window.innerWidth>160,e=window.outerHeight-window.innerHeight>160;return t||e}formatTime(t){return t<1?`${(t*1e3).toFixed(0)}\u03BCs`:t<1e3?`${t.toFixed(2)}ms`:`${(t/1e3).toFixed(2)}s`}formatDuration(t){let e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`}scoreCircumference(){let e=2*Math.PI*45;return`${e} ${e}`}scoreOffset(){let e=2*Math.PI*45,n=this.reliabilityScore();return(e-n/100*e).toString()}percentile(t,e){if(t.length===0)return 0;let n=[...t].sort((s,o)=>s-o),r=Math.ceil(e/100*n.length)-1;return n[Math.max(0,r)]}average(t){return t.length===0?0:t.reduce((e,n)=>e+n,0)/t.length}standardDeviation(t){let e=this.average(t),n=t.map(s=>Math.pow(s-e,2)),r=this.average(n);return Math.sqrt(r)}calculateTTest(t,e){let n=this.average(t),r=this.average(e),s=this.standardDeviation(t),o=this.standardDeviation(e),a=t.length,c=e.length,l=Math.sqrt(((a-1)*s*s+(c-1)*o*o)/(a+c-2)),d=(n-r)/(l*Math.sqrt(1/a+1/c)),u=a+c-2,h=this.approximatePValue(Math.abs(d),u);return{tStatistic:d,pValue:h}}approximatePValue(t,e){return e<0,t>3.5?.001:t>3?.01:t>2.5?.02:t>2?.05:t>1.5?.1:.5}createHistogramBins(t,e){if(t.length===0)return[];let n=Math.min(...t),s=(Math.max(...t)-n)/e,o=Array.from({length:e},(a,c)=>({min:n+c*s,max:n+(c+1)*s,center:n+(c+.5)*s,count:0}));return t.forEach(a=>{let c=Math.min(Math.floor((a-n)/s),e-1);o[c].count++}),o}downloadFile(t,e,n){let r=new Blob([t],{type:n}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=e,o.click(),URL.revokeObjectURL(s)}applyWeightingPreset(t){let n={"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"time-travel-debugging":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"memory-efficiency":1},equal:{}}[t];n&&(this.testCases=this.testCases.map(r=>O(M({},r),{frequencyWeight:t==="equal"?1:n[r.id]||1})))}updateTestCaseWeight(t,e){let n=e.target,r=parseFloat(n.value);this.testCases=this.testCases.map(s=>s.id===t?O(M({},s),{frequencyWeight:r}):s)}applySmartWeightAdjustments(){let t={"selector-memoization":2.9,"deep-nested":2.7,"computed-chains":2.4,"large-array":2.1,"batch-updates":2,"async-via-middleware":2.3,"memory-efficiency":1.8,"concurrent-updates":.6,serialization:.9,"single-middleware":1.3,"multiple-middleware":.7,"conditional-middleware":.4,"undo-redo":.8,"history-size":.3,"jump-to-state":.2};this.testCases=this.testCases.map(e=>{let n=t[e.id]||1,r=this.selectedScenarios(),s=this.analyzeCategoryDistribution(r);return s.core>.5&&e.category==="core"&&(n*=1.1),s.middleware>.3&&e.category==="middleware"&&(n*=1.2),s["time-travel"]>.2&&e.category==="time-travel"&&(n*=1.3),O(M({},e),{frequencyWeight:Math.round(n*10)/10})})}analyzeCategoryDistribution(t){if(t.length===0)return{};let e={};t.forEach(r=>{e[r.category]=(e[r.category]||0)+1});let n={};return Object.keys(e).forEach(r=>{n[r]=e[r]/t.length}),n}getFrequencyLabel(t){return t>=2.5?"Very High":t>=2?"High":t>=1.5?"Medium":t>=1?"Normal":t>=.5?"Low":"Very Low"}getFrequencyBarWidth(t){let e=Math.max(.1,Math.min(3,t));return Math.round((e-.1)/(3-.1)*90+10)}applySuggestedPreset(t){this.applyWeightingPreset(t)}lastScenarioSelectionHash="";checkForScenarioChanges(){let t=this.selectedScenarios().map(n=>n.id).sort().join(","),e=t!==this.lastScenarioSelectionHash;return this.lastScenarioSelectionHash=t,e}shouldShowSuggestions=W(()=>{let t=this.suggestedPresets();return t.length===0?!1:t.some(e=>{let n=this.getPresetWeights(e.presetId);if(!n)return!1;let r=this.selectedScenarios(),s=0,o=0;return r.forEach(c=>{let l=c.frequencyWeight||1,d=n[c.id]||1;s+=Math.abs(l-d),o++}),(o>0?s/o:0)>.2})});getPresetWeights(t){return{"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"undo-redo":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"memory-efficiency":1}}[t]||null}weightedLibrarySummaries=W(()=>{let t=this.results();if(this.scenarioSelectionVersion(),!t||t.length===0)return[];let e=new Map;t.forEach(s=>{e.has(s.libraryId)||e.set(s.libraryId,[]);let o=e.get(s.libraryId);o&&o.push(s)});let n=new Map;t.forEach(s=>{if(s.median!==-1&&s.opsPerSecond>0){let o=n.get(s.scenarioId)||0;n.set(s.scenarioId,Math.max(o,s.opsPerSecond))}});let r=Array.from(e.entries()).map(([s,o])=>{let a=this.selectedLibraries().find(u=>u.id===s),c=0,l=0,d=[];return o.forEach(u=>{let h=this.testCases.find(P=>P.id===u.scenarioId);if(!h)return;if(u.median===-1||u.opsPerSecond===-1||u.opsPerSecond===0){d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:h.frequencyWeight||1,median:-1,weightedScore:0,contribution:0,opsPerSecond:-1});return}let m=h.frequencyWeight||1,y=n.get(u.scenarioId)||1,b=u.opsPerSecond/y*100,_=b*m;c+=_,l+=m,d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:m,median:u.median,weightedScore:b,contribution:_,opsPerSecond:u.opsPerSecond})}),{name:a?.name||s,color:a?.color||"#666",weightedScore:l>0?c/l:-1,breakdown:d,rank:0}});return r.filter(s=>s.weightedScore!==-1).sort((s,o)=>o.weightedScore-s.weightedScore).forEach((s,o)=>{s.rank=o+1}),r});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=vi({type:i,selectors:[["app-benchmark-orchestrator"]],viewQuery:function(e,n){if(e&1&&Io(ap,5),e&2){let r;Do(r=Ro())&&(n.combinedChartRef=r.first)}},decls:501,vars:50,consts:[["combinedChart",""],[1,"benchmark-container"],[1,"benchmark-header"],[1,"subtitle"],[1,"performance-warning",2,"background","#fff3cd","border","2px solid #ffc107","border-radius","8px","padding","1rem","margin","1rem 0"],[2,"margin","0 0 0.5rem 0","color","#856404","font-size","1.1rem"],[2,"margin","0","color","#856404","font-size","0.9rem"],[1,"performance-disclaimer"],[1,"calibration-section"],[1,"calibration-header"],[1,"reliability-indicator"],[1,"score-circle"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",1,"score-bg"],["cx","50","cy","50","r","45",1,"score-fill"],[1,"score-text"],[1,"score-value"],[1,"score-label"],[1,"score-details"],["class","detail-item",4,"ngFor","ngForOf"],[1,"calibration-controls"],[1,"btn","btn-calibrate",3,"click","disabled"],["class","btn-icon","viewBox","0 0 24 24",4,"ngIf"],["class","spinner",4,"ngIf"],["class","calibration-results",4,"ngIf"],[1,"library-section"],[1,"library-selection-header"],["type","button",1,"btn","btn-select-all",3,"click","disabled"],[1,"library-grid"],["class","library-card","tabindex","0","role","button",3,"selected","disabled","--lib-color","click","keydown",4,"ngFor","ngForOf"],[1,"bundle-disclaimer"],[1,"performance-tradeoffs"],[1,"tradeoff-grid"],[1,"tradeoff-item","advantage"],[1,"tradeoff-item","known-limitation"],[1,"explanation"],[1,"mitigation"],[1,"config-section"],[1,"config-grid"],[1,"config-group"],["for","data-size"],["title","Number of items to process in each benchmark. Larger sizes reveal performance differences but take longer to run.",1,"tooltip"],["id","data-size",3,"ngModelChange","ngModel"],[3,"value"],["for","complexity"],["title","Complexity affects how many operations and edge cases each test includes. Higher complexity reveals differences in real-world usage patterns.",1,"tooltip"],["id","complexity",3,"ngModelChange","ngModel"],["value","basic"],["value","moderate"],["value","complex"],["value","extreme"],["for","iterations"],["title","Number of times each test runs to collect timing samples. More iterations provide better statistical significance but take longer.",1,"tooltip"],["type","number","id","iterations","min","10","max","1000",3,"ngModelChange","change","ngModel"],["for","warmup"],["title","Number of 'practice' runs before actual measurement to warm up the JavaScript engine and get stable results.",1,"tooltip"],["type","number","id","warmup","min","5","max","50",3,"ngModelChange","change","ngModel"],["for","memo-mode"],["title","Switch memoization strategy for in-browser A/B tests",1,"tooltip"],["id","memo-mode",3,"ngModelChange","ngModel","disabled"],["value","light"],["value","off"],["value","shallow"],["value","full"],[1,"test-estimates"],[1,"estimate-grid"],[1,"estimate"],[1,"estimate-label"],[1,"estimate-value"],[1,"info-section","memoization-info"],[1,"info-card"],[1,"info-header"],[1,"info-badge"],[1,"info-content"],[1,"info-intro"],[1,"presets-info-grid"],[1,"preset-info-card"],[1,"preset-code"],[1,"preset-details"],[1,"preset-note"],[1,"usage-example"],[1,"info-footer"],[1,"benchmarks-section"],[1,"preset-section"],[1,"presets-grid"],["class","preset-card","tabindex","0","role","button",3,"click",4,"ngFor","ngForOf"],["class","enhancers-display",4,"ngIf"],[1,"frequency-weighting-section"],[1,"weighting-explanation"],[1,"weighting-details"],[1,"weight-categories"],[1,"category-grid"],[1,"category-item","very-high"],[1,"weight-range"],[1,"frequency"],[1,"examples"],[1,"category-item","high"],[1,"category-item","medium"],[1,"category-item","low"],[1,"category-item","rare"],[1,"methodology-note"],[1,"weighting-presets"],["class","smart-suggestions",4,"ngIf"],[1,"preset-buttons"],[1,"btn","btn-preset",3,"click"],[1,"architectural-insights"],[1,"insights-grid"],[1,"insight-card"],[1,"pros-cons"],[1,"pros"],[1,"cons"],[1,"all-benchmarks"],[1,"benchmarks-grid"],["class","benchmark-card","tabindex","0","role","button",3,"selected","disabled","click","keydown",4,"ngFor","ngForOf"],[1,"controls-section"],["data-test-id","run-benchmarks",1,"btn","btn-run",3,"click","disabled"],["viewBox","0 0 24 24",1,"btn-icon"],["d","M8 5v14l11-7z"],["class","controls-running","aria-live","polite",4,"ngIf"],["class","controls-info",4,"ngIf"],["class","progress-modal","data-test-id","progress-modal",4,"ngIf"],["class","results-section",4,"ngIf"],[1,"detail-item"],[1,"factor-name"],[1,"factor-impact"],[1,"factor-reason"],["d","M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41m11.32-11.32l1.41-1.41"],[1,"spinner"],[1,"calibration-results"],[1,"calibration-grid"],[1,"calibration-metric"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"metric-fill"],["class","calibration-warnings",4,"ngIf"],[1,"calibration-warnings"],["class","warning-item",4,"ngFor","ngForOf"],[1,"warning-item"],["viewBox","0 0 24 24",1,"warning-icon"],["d","M12 2L2 22h20L12 2zm0 6l1.5 7h-3L12 8zm0 9.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"],["tabindex","0","role","button",1,"library-card",3,"click","keydown"],[1,"library-checkbox"],["type","checkbox",3,"ngModelChange","click","change","ngModel","disabled"],[1,"library-info"],["class","library-stats",4,"ngIf"],["class","library-badge",4,"ngIf"],[1,"library-stats"],[1,"stat"],[1,"library-badge"],["tabindex","0","role","button",1,"preset-card",3,"click"],[1,"preset-count"],[1,"enhancers-display"],[1,"enhancers-list"],["class","enhancer-tag",4,"ngFor","ngForOf"],[1,"enhancers-note"],[1,"enhancer-tag"],[1,"smart-suggestions"],[1,"suggestion-cards"],["class","suggestion-card",4,"ngFor","ngForOf"],[1,"suggestion-card"],[1,"suggestion-header"],[1,"confidence-badge"],[1,"suggestion-reason"],[1,"btn","btn-suggestion",3,"click"],["tabindex","0","role","button",1,"benchmark-card",3,"click","keydown"],["type","checkbox",3,"click","checked"],["class","unsupported-badge",4,"ngIf"],[1,"frequency-indicator"],[1,"frequency-label"],[1,"frequency-bar"],[1,"frequency-fill"],[1,"frequency-text"],["class","architectural-note",4,"ngIf"],[1,"benchmark-details"],[1,"detail"],[1,"weight-control"],[3,"for"],["type","range","min","0","max","3","step","0.1",3,"input","click","id","value"],[1,"weight-value"],[1,"unsupported-badge"],[1,"architectural-note"],[1,"tradeoff-text"],["aria-live","polite",1,"controls-running"],[1,"dot"],[1,"controls-info"],[4,"ngIf"],["data-test-id","progress-modal",1,"progress-modal"],[1,"progress-content"],[1,"progress-current"],["data-test-id","progress-current-library",1,"current-library"],["data-test-id","progress-current-scenario",1,"current-scenario"],["data-test-id","progress-current-iteration",1,"current-iteration"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"progress-stats"],[1,"stat-label"],[1,"stat-value"],["data-test-id","progress-cancel",1,"btn","btn-cancel",3,"click"],[1,"results-section"],[1,"architectural-note",2,"background","#e3f2fd","border-left","4px solid #2196f3","padding","1rem 1.5rem","margin","1rem 0","border-radius","4px"],[2,"margin","0 0 0.5rem 0","color","#1976d2","font-size","1rem"],[2,"margin","0.5rem 0","color","#424242","font-size","0.9rem"],[2,"background","#fff","padding","2px 4px","border-radius","3px"],[2,"margin","0.5rem 0 0 0","color","#424242","font-size","0.9rem"],[1,"weighted-results-section"],[1,"weighting-note"],[1,"weighted-summary-grid"],["class","weighted-summary-card",3,"--card-color","weighted-winner",4,"ngFor","ngForOf"],[1,"weighting-transparency"],[1,"weight-display"],["class","weight-item",3,"disabled",4,"ngFor","ngForOf"],[1,"smart-weighting-tools"],["type","button",1,"smart-adjust-btn",3,"click"],[1,"smart-help"],["class","weight-impact-analysis",4,"ngIf"],["class","detailed-analysis",4,"ngIf"],[1,"summary-grid"],["class","summary-card",3,"--card-color",4,"ngFor","ngForOf"],[1,"charts-grid"],[1,"chart-container"],[1,"chart-toolbar"],["data-test-id","chart-scenarios",1,"btn","btn-export",3,"click"],["data-test-id","chart-distribution",1,"btn","btn-export",3,"click"],["data-test-id","chart-percentiles",1,"btn","btn-export",3,"click"],["data-test-id","chart-timeseries",1,"btn","btn-export",3,"click"],[1,"results-table"],[3,"color",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"statistics-section"],[1,"statistics-grid"],["class","stat-card",4,"ngFor","ngForOf"],[1,"export-section"],[1,"export-buttons"],["data-test-id","export-csv",1,"btn","btn-export",3,"click"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12,19L8,15H10.5V12H13.5V15H16L12,19Z"],["data-test-id","export-json",1,"btn","btn-export",3,"click"],["d","M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"],["data-test-id","share-results",1,"btn","btn-export",3,"click"],["d","M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z"],[1,"weighted-summary-card"],[1,"summary-header"],["class","weighted-rank",4,"ngIf"],["class","weighted-rank unsupported",4,"ngIf"],[1,"weighted-breakdown"],["class","breakdown-item",4,"ngFor","ngForOf"],[1,"weighted-rank"],[1,"weighted-rank","unsupported"],[1,"breakdown-item"],[1,"scenario-name"],[1,"weight"],[1,"contribution"],[1,"weight-item"],[1,"scenario"],["class","scenario-disabled",4,"ngIf"],[1,"weight-bar"],[1,"weight-fill"],[1,"scenario-disabled"],[1,"unsupported-label"],[1,"unsupported-reason"],[1,"weight-impact-analysis"],[1,"impact-summary"],[1,"impact-level"],[1,"scenarios-count"],["class","ranking-changes",4,"ngIf"],[1,"ranking-changes"],[1,"ranking-grid"],["class","ranking-change-item",3,"ranking-improved","ranking-declined",4,"ngFor","ngForOf"],[1,"ranking-change-item"],[1,"library-name"],[1,"rank-change"],["class","change-indicator",4,"ngIf"],[1,"change-indicator"],[1,"detailed-analysis"],[1,"library-analysis-grid"],["class","library-analysis-card",3,"--card-color",4,"ngFor","ngForOf"],[1,"library-analysis-card"],[1,"analysis-header"],[1,"score-comparison"],[1,"raw-score"],[1,"weighted-score"],[1,"impact"],[1,"scenario-breakdown"],["class","scenario-item",4,"ngFor","ngForOf"],[1,"scenario-item"],[1,"scenario-info"],[1,"frequency-note"],[1,"scenario-scores"],[1,"raw"],[1,"weighted"],[1,"summary-card"],["class","summary-rank",4,"ngIf"],["class","summary-rank unsupported",4,"ngIf"],[1,"summary-metrics"],[1,"metric"],["class","metric-value",4,"ngIf"],["class","metric-value unsupported",4,"ngIf"],["class","metric-value",3,"faster","slower",4,"ngIf"],[1,"summary-rank"],[1,"summary-rank","unsupported"],[1,"metric-value","unsupported"],[3,"winner","class","--cell-color",4,"ngFor","ngForOf"],["class","rank-badge",4,"ngIf"],[1,"time"],[1,"ops"],["class","relative",4,"ngIf"],[1,"rank-badge"],[1,"relative"],[1,"stat-card"],[1,"stat-row"],[1,"stat-row","conclusion"]],template:function(e,n){e&1&&(f(0,"div",1)(1,"header",2)(2,"h1"),p(3,"Benchmarks vs Alternatives"),g(),f(4,"p",3),p(5," SignalTree compared to NgRx Store and NgRx SignalStore - Understanding trade-offs with real-world usage weighting "),g(),f(6,"div",4)(7,"h3",5),p(8," \u26A0\uFE0F Performance Notice "),g(),f(9,"p",6)(10,"strong"),p(11,"Benchmarks are computationally intensive."),g(),p(12,' You may see a "Page Unresponsive" warning during test execution. This is expected behavior. Please click '),f(13,"strong"),p(14,'"Wait"'),g(),p(15," and allow the benchmarks to complete. The tests are designed to stress-test performance under heavy load. "),g()(),f(16,"div",7)(17,"p"),p(18," While raw speed is important, the true purpose of these benchmarks is to show that "),f(19,"strong"),p(20,"SignalTree is architected with developer experience at its core, strategically rebalancing performance toward the most commonly used actions without compromise."),g(),ge(21,"br")(22,"br"),f(23,"strong"),p(24,"The goals:"),g(),ge(25,"br"),p(26," Create a state management system that embraces dot notation, type inference, and JSON\u2019s natural key-value structure. The outcome is a framework that feels both intuitive and efficient \u2014 delivering a streamlined DX while optimizing performance where it matters most. "),g()()(),f(27,"section",8)(28,"div",9)(29,"h2"),p(30,"Environment Calibration"),g(),f(31,"div",10)(32,"div",11),At(),f(33,"svg",12),ge(34,"circle",13)(35,"circle",14),g(),Oi(),f(36,"div",15)(37,"span",16),p(38),g(),f(39,"span",17),p(40,"Reliability"),g()()(),f(41,"div",18),L(42,cp,7,8,"div",19),g()()(),f(43,"div",20)(44,"button",21),G("click",function(){return n.runCalibration()}),L(45,lp,2,0,"svg",22)(46,dp,1,0,"div",23),p(47),g(),L(48,mp,32,17,"div",24),g()(),f(49,"section",25)(50,"div",26)(51,"h2"),p(52,"Select Libraries to Compare"),g(),f(53,"button",27),G("click",function(){return n.toggleAllLibraries()}),p(54),g()(),f(55,"div",28),L(56,pp,10,16,"div",29),g(),f(57,"div",30)(58,"p")(59,"strong"),p(60,"Note:"),g(),p(61," Bundle sizes are approximate and depend on usage patterns, tree-shaking, and build configuration. Actual production bundles may vary significantly based on which features you import and use. "),g()(),f(62,"div",31)(63,"h3"),p(64,"\u{1F4CA} Performance Trade-offs"),g(),f(65,"div",32)(66,"div",33)(67,"h4"),p(68,"\u2705 SignalTree Advantages"),g(),f(69,"ul")(70,"li")(71,"strong"),p(72,"25-65% faster"),g(),p(73," state updates and reads in most scenarios "),g(),f(74,"li")(75,"strong"),p(76,"85% memory reduction"),g(),p(77," through lazy signal creation "),g(),f(78,"li")(79,"strong"),p(80,"Automatic optimization"),g(),p(81," of reactive computations with intelligent caching "),g(),f(82,"li")(83,"strong"),p(84,"Fine-grained reactivity"),g(),p(85," for minimal re-renders and targeted updates "),g(),f(86,"li")(87,"strong"),p(88,"Zero-cost abstractions"),g(),p(89," with compile-time callable syntax transforms "),g(),f(90,"li")(91,"strong"),p(92,"Surgical updates"),g(),p(93," without parent object rebuilding for deep nested changes "),g(),f(94,"li")(95,"strong"),p(96,"Direct access patterns"),g(),p(97," eliminate complex selectors and reducers "),g(),f(98,"li")(99,"strong"),p(100,"Batching optimizations"),g(),p(101," prevent render thrashing in high-frequency scenarios "),g()()(),f(102,"div",34)(103,"h4"),p(104,"\u26A0\uFE0F Known Performance Trade-off"),g(),f(105,"p")(106,"strong"),p(107,"Serialization is ~2-3x slower"),g(),p(108," than libraries storing plain objects. "),g(),f(109,"p",35),p(110,' SignalTree stores reactive signals that must be "unwrapped" during serialization, while other libraries can serialize plain objects directly. This is by choice. Serialization takes very little time and by the sacrifice here enables the significant performance gains in all other operations. '),g(),f(111,"div",36)(112,"strong"),p(113,"Mitigation:"),g(),p(114," Built-in caching automatically optimizes storage I/O, and debounced auto-save reduces serialization frequency. "),g()()()()(),f(115,"section",37)(116,"h2"),p(117,"Test Configuration"),g(),f(118,"div",38)(119,"div",39)(120,"label",40),p(121,"Data Size "),f(122,"span",41)(123,"i"),p(124,"\u24D8"),g()()(),f(125,"select",42),G("ngModelChange",function(s){return n.onDataSizeChange(s)}),f(126,"option",43),p(127,"Small (1,000 items) - Quick test"),g(),f(128,"option",43),p(129,"Medium (10,000 items) - Balanced"),g(),f(130,"option",43),p(131,"Large (50,000 items) - Thorough"),g(),f(132,"option",43),p(133," Extreme (100,000 items) - Stress test "),g()(),f(134,"small"),p(135,"Larger datasets provide more accurate measurements"),g()(),f(136,"div",39)(137,"label",44),p(138,"Test Complexity "),f(139,"span",45)(140,"i"),p(141,"\u24D8"),g()()(),f(142,"select",46),G("ngModelChange",function(s){return n.onComplexityChange(s)}),f(143,"option",47),p(144,"Basic - Simple state updates"),g(),f(145,"option",48),p(146," Moderate - Nested updates + computeds "),g(),f(147,"option",49),p(148,"Complex - Deep nesting + selectors"),g(),f(149,"option",50),p(150," Extreme - All features + stress patterns "),g()(),f(151,"small"),p(152,"Higher complexity tests more realistic scenarios"),g()(),f(153,"div",39)(154,"label",51),p(155,"Measurement Iterations "),f(156,"span",52)(157,"i"),p(158,"\u24D8"),g()()(),f(159,"input",53),G("ngModelChange",function(s){return n.onIterationsChange(s)})("change",function(){return n.updateEstimates()}),g(),f(160,"small"),p(161,"More iterations improve statistical significance"),g()(),f(162,"div",39)(163,"label",54),p(164,"Warmup Runs "),f(165,"span",55)(166,"i"),p(167,"\u24D8"),g()()(),f(168,"input",56),G("ngModelChange",function(s){return n.onWarmupChange(s)})("change",function(){return n.updateEstimates()}),g(),f(169,"small"),p(170,"Warmup runs allow JIT optimization"),g()(),f(171,"div",39)(172,"label",57),p(173,"Memoization Mode "),f(174,"span",58)(175,"i"),p(176,"?"),g()()(),f(177,"select",59),G("ngModelChange",function(s){return n.setMemoMode(s)}),f(178,"option",60),p(179,"Light (default)"),g(),f(180,"option",61),p(181,"Off"),g(),f(182,"option",62),p(183,"Shallow"),g(),f(184,"option",63),p(185,"Full"),g()(),f(186,"small"),p(187,"Toggle memoization strategy for exporter A/B testing (updates URL param)"),g()()(),f(188,"div",64)(189,"h3"),p(190),g(),f(191,"div",65)(192,"div",66)(193,"span",67),p(194,"Total Operations"),g(),f(195,"span",68),p(196),fe(197,"number"),g()(),f(198,"div",66)(199,"span",67),p(200,"Estimated Duration"),g(),f(201,"span",68),p(202),g()(),f(203,"div",66)(204,"span",67),p(205,"Memory Required"),g(),f(206,"span",68),p(207),g()(),f(208,"div",66)(209,"span",67),p(210,"Scenarios to Run"),g(),f(211,"span",68),p(212),g()()()()(),f(213,"section",69)(214,"div",70)(215,"div",71)(216,"h3"),p(217,"\u{1F4CA} Benchmark Fairness: Memoization Presets"),g(),f(218,"span",72),p(219,"New in v3.0.2"),g()(),f(220,"div",73)(221,"p",74)(222,"strong"),p(223,"Benchmark what you ship, ship what you benchmark."),g(),p(224," All performance optimizations used in these benchmarks are publicly available in the "),f(225,"code"),p(226,"@signaltree/memoization"),g(),p(227," package. "),g(),f(228,"div",75)(229,"div",76)(230,"h4"),p(231,"\u{1F3AF} Selector Memoization"),g(),f(232,"code",77),p(233,"withSelectorMemoization()"),g(),f(234,"ul",78)(235,"li")(236,"strong"),p(237,"Equality:"),g(),p(238," Reference (~0.3\u03BCs)"),g(),f(239,"li")(240,"strong"),p(241,"Cache Size:"),g(),p(242," 10 entries"),g(),f(243,"li")(244,"strong"),p(245,"Use Case:"),g(),p(246," Fast selector caching for frequently accessed derived state "),g()(),f(247,"p",79),p(248,"Used in Selector Benchmarks"),g()(),f(249,"div",76)(250,"h4"),p(251,"\u26A1 Computed Memoization"),g(),f(252,"code",77),p(253,"withComputedMemoization()"),g(),f(254,"ul",78)(255,"li")(256,"strong"),p(257,"Equality:"),g(),p(258," Shallow (~5-15\u03BCs)"),g(),f(259,"li")(260,"strong"),p(261,"Cache Size:"),g(),p(262," 100 entries"),g(),f(263,"li")(264,"strong"),p(265,"Use Case:"),g(),p(266," Computed properties with object/array dependencies "),g()(),f(267,"p",79),p(268,"Used in Computed Benchmarks"),g()(),f(269,"div",76)(270,"h4"),p(271,"\u{1F50D} Deep State Memoization"),g(),f(272,"code",77),p(273,"withDeepStateMemoization()"),g(),f(274,"ul",78)(275,"li")(276,"strong"),p(277,"Equality:"),g(),p(278," Deep (~50-200\u03BCs)"),g(),f(279,"li")(280,"strong"),p(281,"Cache Size:"),g(),p(282," 50 entries"),g(),f(283,"li")(284,"strong"),p(285,"Use Case:"),g(),p(286," Complex nested state with deep equality checks "),g()(),f(287,"p",79),p(288,"Available for your use"),g()(),f(289,"div",76)(290,"h4"),p(291,"\u{1F680} High Frequency Memoization"),g(),f(292,"code",77),p(293,"withHighFrequencyMemoization()"),g(),f(294,"ul",78)(295,"li")(296,"strong"),p(297,"Equality:"),g(),p(298," Shallow (~5-15\u03BCs)"),g(),f(299,"li")(300,"strong"),p(301,"Cache Size:"),g(),p(302," 500 entries"),g(),f(303,"li")(304,"strong"),p(305,"Use Case:"),g(),p(306," High-frequency operations with large working sets "),g()(),f(307,"p",79),p(308,"Available for your use"),g()()(),f(309,"div",80)(310,"h4"),p(311,"\u{1F4BB} How to Use"),g(),f(312,"pre")(313,"code"),p(314,`import { signalTree } from '@signaltree/core';
import { withSelectorMemoization } from '@signaltree/memoization';

const tree = signalTree(state).with(withSelectorMemoization());`),g()()(),f(315,"div",81)(316,"p")(317,"strong"),p(318,"Bundle Impact:"),g(),p(319," ~0.3KB gzipped per preset \u2022 "),f(320,"strong"),p(321,"Algorithm:"),g(),p(322," Optimized shallow equality with zero allocations \u2022 "),f(323,"strong"),p(324,"Performance:"),g(),p(325," +40-60 pts expected gain "),g()()()()(),f(326,"section",82)(327,"h2"),p(328,"Test Scenarios"),g(),f(329,"div",83)(330,"h3"),p(331,"Quick Select Presets"),g(),f(332,"div",84),L(333,bp,7,3,"div",85),g()(),L(334,yp,7,2,"div",86),f(335,"div",87)(336,"h3"),p(337,"\u{1F3AF} Real-World Usage Weighting"),g(),f(338,"p",88),p(339," Different operations happen at different frequencies in real applications. Our weighting system applies research-based multipliers to benchmark results, reflecting actual usage patterns from 40,000+ developers and enterprise application analysis. "),g(),f(340,"div",89)(341,"div",90)(342,"h4"),p(343,"\u{1F4CA} Frequency Categories"),g(),f(344,"div",91)(345,"div",92)(346,"span",93),p(347,"2.5-3.0x"),g(),f(348,"span",94),p(349," Very High"),g(),f(350,"span",95),p(351," Forms, selectors, computed values"),g()(),f(352,"div",96)(353,"span",93),p(354,"2.0-2.4x"),g(),f(355,"span",94),p(356," High"),g(),f(357,"span",95),p(358," Arrays, batching, async (via middleware)"),g()(),f(359,"div",97)(360,"span",93),p(361,"1.0-1.9x"),g(),f(362,"span",94),p(363," Medium"),g(),f(364,"span",95),p(365," Memory efficiency, middleware"),g()(),f(366,"div",98)(367,"span",93),p(368,"0.5-0.9x"),g(),f(369,"span",94),p(370," Low"),g(),f(371,"span",95),p(372," Serialization, complex stacks"),g()(),f(373,"div",99)(374,"span",93),p(375,"0.1-0.4x"),g(),f(376,"span",94),p(377," Rare"),g(),f(378,"span",95),p(379," Time-travel, debugging tools"),g()()()(),f(380,"p",100)(381,"strong"),p(382,"Research Methodology:"),g(),p(383," Weights derived from State of JS 2023 survey data, GitHub repository analysis of 10,000+ applications, enterprise profiling studies, and React DevTools usage patterns. "),g()(),f(384,"div",101),L(385,xp,5,1,"div",102),f(386,"h4"),p(387,"Quick Presets:"),g(),f(388,"div",103)(389,"button",104),G("click",function(){return n.applyWeightingPreset("crud-app")}),p(390," \u{1F4CA} CRUD App "),f(391,"small"),p(392,"Heavy reads, occasional updates"),g()(),f(393,"button",104),G("click",function(){return n.applyWeightingPreset("real-time")}),p(394," \u26A1 Real-time Dashboard "),f(395,"small"),p(396,"Frequent targeted updates"),g()(),f(397,"button",104),G("click",function(){return n.applyWeightingPreset("forms")}),p(398," \u{1F4DD} Complex Forms "),f(399,"small"),p(400,"Deep nested updates, validation"),g()(),f(401,"button",104),G("click",function(){return n.applyWeightingPreset("enterprise")}),p(402," \u{1F3E2} Enterprise App "),f(403,"small"),p(404,"Audit trails, time-travel debugging"),g()(),f(405,"button",104),G("click",function(){return n.applyWeightingPreset("equal")}),p(406," \u2696\uFE0F Equal Weight "),f(407,"small"),p(408,"No frequency bias"),g()()()(),f(409,"div",105)(410,"h4"),p(411,"\u{1F3D7}\uFE0F Architectural Trade-offs to Consider:"),g(),f(412,"div",106)(413,"div",107)(414,"h5"),p(415,"Direct Mutation (SignalTree)"),g(),f(416,"div",108)(417,"div",109)(418,"strong"),p(419,"\u2705 Helps when:"),g(),f(420,"ul")(421,"li"),p(422,"Frequent targeted updates"),g(),f(423,"li"),p(424,"Large nested objects"),g(),f(425,"li"),p(426,"Real-time data streams"),g(),f(427,"li"),p(428,"Interactive editors"),g()()(),f(429,"div",110)(430,"strong"),p(431,"\u274C Costs:"),g(),f(432,"ul")(433,"li"),p(434,"Slower serialization (signals must be unwrapped)"),g()()()()(),f(435,"div",107)(436,"h5"),p(437,"Immutable Updates (NgRx/Redux)"),g(),f(438,"div",108)(439,"div",109)(440,"strong"),p(441,"\u2705 Helps when:"),g(),f(442,"ul")(443,"li"),p(444,"Predictable state flow needed"),g(),f(445,"li"),p(446,"Time-travel debugging"),g(),f(447,"li"),p(448,"Large team coordination"),g(),f(449,"li"),p(450,"Audit requirements"),g()()(),f(451,"div",110)(452,"strong"),p(453,"\u274C Costs:"),g(),f(454,"ul")(455,"li"),p(456,"More boilerplate"),g(),f(457,"li"),p(458,"Full object recreation"),g(),f(459,"li"),p(460,"Learning curve"),g()()()()(),f(461,"div",107)(462,"h5"),p(463,"Entity Stores (Akita/Elf)"),g(),f(464,"div",108)(465,"div",109)(466,"strong"),p(467,"\u2705 Helps when:"),g(),f(468,"ul")(469,"li"),p(470,"Managing entity collections"),g(),f(471,"li"),p(472,"CRUD operations"),g(),f(473,"li"),p(474,"Normalized data"),g(),f(475,"li"),p(476,"Caching patterns"),g()()(),f(477,"div",110)(478,"strong"),p(479,"\u274C Costs:"),g(),f(480,"ul")(481,"li"),p(482,"Domain-specific"),g(),f(483,"li"),p(484,"Less general-purpose"),g(),f(485,"li"),p(486,"Learning overhead"),g()()()()()()()(),f(487,"div",111)(488,"h3"),p(489,"Benchmarks"),g(),f(490,"div",112),L(491,Op,27,22,"div",113),g()()(),f(492,"section",114)(493,"button",115),G("click",function(){return n.runBenchmarks()}),At(),f(494,"svg",116),ge(495,"path",117),g(),p(496," Run Benchmarks "),g(),L(497,vp,4,2,"div",118)(498,Ep,4,3,"div",119),g(),L(499,Ap,35,14,"div",120)(500,a0,98,16,"section",121),g()),e&2&&(Yt("aria-busy",n.isRunning()),C(31),Ae("excellent",n.reliabilityScore()>=90)("good",n.reliabilityScore()>=75)("fair",n.reliabilityScore()>=60)("poor",n.reliabilityScore()<60),Yt("data-score",n.reliabilityScore()),C(4),$e("stroke-dasharray",n.scoreCircumference())("stroke-dashoffset",n.scoreOffset()),C(3),N(n.reliabilityScore()),C(4),D("ngForOf",n.environmentFactors()),C(2),D("disabled",n.isCalibrating()),C(),D("ngIf",!n.isCalibrating()),C(),D("ngIf",n.isCalibrating()),C(),j(" ",n.isCalibrating()?"Calibrating...":"Calibrate Environment"," "),C(),D("ngIf",n.calibrationData()),C(5),D("disabled",n.isRunning()),C(),j(" ",n.allLibrariesSelected()?"Deselect All":"Select All"," "),C(2),D("ngForOf",n.availableLibraries),C(69),D("ngModel",n.config().dataSize),C(),D("value",1e3),C(2),D("value",1e4),C(2),D("value",5e4),C(2),D("value",1e5),C(10),D("ngModel",n.config().complexity),C(17),D("ngModel",n.config().iterations),C(9),D("ngModel",n.config().warmupRuns),C(9),D("ngModel",n.memoMode())("disabled",n.isRunning()),C(13),j("Test Estimates (\u2248",n.estimatedDuration(),")"),C(6),N(Vn(197,48,n.totalOperations())),C(6),N(n.estimatedDuration()),C(5),j("~",n.estimatedMemory()," MB"),C(5),N(n.selectedScenarios().length),C(121),D("ngForOf",n.scenarioPresets),C(),D("ngIf",n.selectedScenarios().length>0),C(51),D("ngIf",n.shouldShowSuggestions()&&n.suggestedPresets().length>0),C(106),D("ngForOf",n.visibleScenarios()),C(2),D("disabled",!n.canRunBenchmarks()),C(4),D("ngIf",n.isRunning()),C(),D("ngIf",!n.canRunBenchmarks()),C(),D("ngIf",n.isRunning()),C(),D("ngIf",n.hasResults()))},dependencies:[Si,Bo,Fo,Go,Ho,qo,Vo,Wo,No,$o,Uo,Yo,Ko,jo,zo,Lo],styles:['@charset "UTF-8";.benchmark-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.benchmark-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.benchmark-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#1f2937;margin-bottom:.5rem}.benchmark-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem}.calibration-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]{margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:2rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.excellent[_ngcontent-%COMP%]{--score-color: #10b981}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.good[_ngcontent-%COMP%]{--score-color: #3b82f6}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.fair[_ngcontent-%COMP%]{--score-color: #f59e0b}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.poor[_ngcontent-%COMP%]{--score-color: #ef4444}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{position:relative;width:120px;height:120px}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke-width:8}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-bg[_ngcontent-%COMP%]{stroke:#fff3}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-fill[_ngcontent-%COMP%]{stroke:var(--score-color, #3b82f6);stroke-linecap:round;transition:stroke-dashoffset .5s ease}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr auto 3fr;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact[_ngcontent-%COMP%]{font-weight:600}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.positive[_ngcontent-%COMP%]{color:#86efac}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.negative[_ngcontent-%COMP%]{color:#fca5a5}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-reason[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]{margin-top:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;stroke:currentColor;fill:none;stroke-width:2}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,.1);border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#ffffff1a;border-radius:8px}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;opacity:.9;margin-bottom:.25rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]{height:4px;background:#fff3;border-radius:2px;overflow:hidden}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]   .metric-fill[_ngcontent-%COMP%]{height:100%;background:#fff;transition:width .5s ease}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]{margin-top:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fb923c33;border-radius:4px;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:#fed7aa}.library-section[_ngcontent-%COMP%]{margin-bottom:2rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#3b82f6;color:#fff;font-size:.875rem;padding:.5rem 1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;position:relative}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]:hover{border-color:var(--lib-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.library-section[_ngcontent-%COMP%]   .library-card.selected[_ngcontent-%COMP%]{border-color:var(--lib-color);background:linear-gradient(to bottom,rgba(var(--lib-color-rgb),.05),#fff)}.library-section[_ngcontent-%COMP%]   .library-card.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.8}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:.5rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]{display:flex;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;background:#3b82f6;color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.2);border-radius:8px}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#1f293705;border:1px solid #e5e7eb;border-radius:12px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#1f2937;font-size:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}@media (max-width: 768px){.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item[_ngcontent-%COMP%]{padding:1.25rem;border-radius:8px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]{background:#10b9810d;border:1px solid rgba(16,185,129,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#085b40;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#042c1f;font-size:.875rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]{background:#f59e0b0d;border:1px solid rgba(245,158,11,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#945f06;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#634004;font-size:.875rem;line-height:1.5}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p.explanation[_ngcontent-%COMP%]{margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]{padding:.75rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.15);border-radius:6px;font-size:.8rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.config-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #e5e7eb;border-radius:6px;font-size:1rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.25rem;color:#6b7280;font-size:.75rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]{padding:1.5rem;background:#f9fafb;border-radius:8px}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]{text-align:center}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280;margin-bottom:.25rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937;font-size:1.25rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .presets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem;margin-bottom:1.5rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;text-align:center}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f626}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#6b7280;font-size:.875rem;line-height:1.4}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   .preset-count[_ngcontent-%COMP%]{font-size:.75rem;color:#3b82f6;font-weight:600;background:#3b82f61a;padding:.25rem .75rem;border-radius:12px;display:inline-block}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancer-tag[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:.375rem .75rem;border-radius:6px;font-size:.875rem;font-weight:500;font-family:Monaco,Menlo,Ubuntu Mono,monospace}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-note[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#6b7280;font-style:italic}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]{margin-bottom:3rem}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.375rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:2px solid rgba(59,130,246,.2)}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:1.5rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605;border-left:4px solid #3b82f6}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#4b5563;font-size:.875rem;line-height:1.5}.benchmarks-section[_ngcontent-%COMP%]   .benchmarks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;border:2px solid #e5e7eb;transition:all .2s}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px)}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f60d}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none;background:#1f293705}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:not-allowed}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   .unsupported-badge[_ngcontent-%COMP%]{margin-left:auto;background:#ef44440f;color:#ef4444;font-weight:800;padding:.25rem .5rem;border-radius:6px;font-size:.75rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.controls-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;margin-bottom:2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;font-size:1.125rem;padding:1rem 2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:24px;height:24px;fill:currentColor}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]{margin-top:1rem}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]{margin-top:.75rem;display:inline-flex;align-items:center;gap:.5rem;color:#6b7280}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#3b82f6;animation:_ngcontent-%COMP%_pulse 1.2s ease-in-out infinite}.progress-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000bf;display:flex;align-items:center;justify-content:center;z-index:1000}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;width:90%;max-width:500px}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span.current-library[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:1.125rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#8b5cf6);transition:width .3s ease}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{position:absolute;right:0;top:-1.5rem;font-size:.875rem;color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;width:100%;background:#ef4444;color:#fff}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]{margin-top:3rem}.results-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;color:#1f2937;text-align:center}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#fff;display:flex;align-items:center;gap:2rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-trophy[_ngcontent-%COMP%]{font-size:4rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9}.results-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .summary-rank[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.faster[_ngcontent-%COMP%]{color:#10b981}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.slower[_ngcontent-%COMP%]{color:#ef4444}.results-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]   .btn-export.active[_ngcontent-%COMP%]{border-color:#3b82f6;color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:100%;width:100%!important;height:420px!important;max-height:420px;display:block}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;background:#f9fafb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]{font-weight:500}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:.75rem;font-weight:400}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]{background:#10b9811a;position:relative}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]:before{content:"\\1f3c6";position:absolute;top:.25rem;right:.25rem;font-size:.75rem}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-first[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70026,#ffd7000d);border-left:3px solid #ffd700}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-second[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c0c0c026,#c0c0c00d);border-left:3px solid #c0c0c0}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-third[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cd7f3226,#cd7f320d);border-left:3px solid #cd7f32}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{display:inline-block;font-size:1.25rem;margin-right:.5rem;vertical-align:middle}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .ops[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:1rem;background:#f9fafb;border-radius:8px}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.25rem 0;font-size:.875rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row.conclusion[_ngcontent-%COMP%]{margin-top:.5rem;padding-top:.5rem;border-top:1px solid #e5e7eb;font-weight:600}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .significant[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;text-align:center}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#1f2937;border:2px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover{border-color:#3b82f6;color:#3b82f6}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:currentColor}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:.6}50%{transform:scale(1);opacity:1}to{transform:scale(.9);opacity:.6}}@media (max-width: 768px){.benchmark-container[_ngcontent-%COMP%]{padding:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.library-grid[_ngcontent-%COMP%], .config-grid[_ngcontent-%COMP%], .benchmarks-grid[_ngcontent-%COMP%], .summary-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%], .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reliability-indicator[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.reliability-indicator[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{margin:0 auto}.results-table[_ngcontent-%COMP%]{font-size:.875rem}.results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:300px!important;max-height:300px}}.tooltip[_ngcontent-%COMP%]{position:relative;cursor:help}.tooltip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;background:#3b82f6;color:#fff;text-align:center;line-height:16px;font-size:12px;font-style:normal;margin-left:4px}.tooltip[_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:125%;left:50%;transform:translate(-50%);background:#1f2937;color:#fff;padding:8px 12px;border-radius:6px;font-size:12px;white-space:nowrap;max-width:250px;white-space:normal;width:max-content;max-width:300px;z-index:1000;box-shadow:0 4px 12px #00000026}.tooltip[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:115%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:#1f2937;z-index:1000}.performance-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;text-align:start;background:#fff;border:1px solid rgb(156.5219512195,192.1951219512,250.4780487805);border-radius:8px}.performance-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;line-height:1.5;color:#094fc2}.performance-disclaimer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#073b91}.unsupported[_ngcontent-%COMP%]{color:#f59e0b!important;font-style:italic}.summary-rank.unsupported[_ngcontent-%COMP%]{background:#f59e0b;color:#fff;font-size:.75rem;padding:2px 6px;border-radius:4px}.metric-value.unsupported[_ngcontent-%COMP%]{opacity:.6}.frequency-weighting-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);border:2px solid #3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-explanation[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937;line-height:1.6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]{margin-bottom:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:.75rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.75rem;border-radius:8px;text-align:center;border:2px solid transparent}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8;line-height:1.3}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]{background:#63f1c2;border-color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0d9467}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]{background:#63e4fb;border-color:#06b6d4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0592aa}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]{background:#faca79;border-color:#f59e0b}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#b87708}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]{background:#bfa5fa;border-color:#8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#5d1cf2}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]{background:#f69898;border-color:#ef4444}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#e21313}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:6px;border-left:4px solid #3b82f6;font-size:.9rem;line-height:1.5;color:#1f2937;margin-top:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#e8f2ff);border:2px solid #4dabf7;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1864ab;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #bee3f8;border-radius:8px;padding:1rem;transition:all .2s ease}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #4dabf726;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1864ab;font-size:1.1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   .confidence-badge[_ngcontent-%COMP%]{background:#4dabf7;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem;font-size:.9rem;line-height:1.4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#4dabf7;color:#fff;border:none;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover{background:#339af0;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6;border:2px solid #3b82f6;flex-direction:column;text-align:center;min-width:160px}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;font-weight:400;opacity:.8}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid #8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8b5cf6;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ef4444}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:auto;font-size:.8rem;width:100%}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ef4444,#f59e0b 35%,#06b6d4 65%,#10b981);transition:width .3s ease}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%]{font-weight:600;min-width:50px}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]{margin:1rem 0;padding:.75rem;background:#8b5cf61a;border-radius:6px;border-left:3px solid #8b5cf6}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#8b5cf6;font-size:.9rem}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%]{margin:0;font-size:.85rem;line-height:1.4;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.5rem;background:#3b82f60d;border-radius:4px}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1;height:6px;-webkit-appearance:none;appearance:none;background:#e5e7eb;border-radius:3px;outline:none}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;border:none;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#3b82f6;min-width:35px}.weighted-results-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#fef7cd,#fbbf24 20%,#f59e0b);border:2px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#322002;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighting-note[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px;margin-bottom:1.5rem;border-left:4px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border:2px solid transparent}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#ecfdf5,#d1fae5)}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#10b981}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{background:#10b981;color:#fff;font-weight:700}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{padding:.3rem .8rem;border-radius:12px;background:var(--card-color, #3b82f6);color:#fff;font-size:.8rem;font-weight:600}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3rem 0;border-bottom:1px solid #e5e7eb;font-size:.85rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%]{flex:1;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;margin:0 .5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .contribution[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600;min-width:50px;text-align:right}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#322002}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(229,231,235,.5)}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .scenario[_ngcontent-%COMP%], .weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .benchmark[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-weight:600;color:#f59e0b;min-width:40px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]{width:100px;height:8px;background:#e5e7eb80;border-radius:4px;overflow:hidden}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]   .weight-fill[_ngcontent-%COMP%]{height:100%;background:#f59e0b;transition:width .3s ease}.disclaimer-points[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0}.disclaimer-points[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-left:3px solid #3b82f6;padding:.5rem 0 .5rem 1rem;margin:.5rem 0}.key-insight[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:8px;margin-top:1rem;border-left:4px solid #3b82f6;font-style:italic}.smart-weighting-tools[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#10b9811a;border-radius:8px;display:flex;align-items:center;gap:1rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#10b981;color:#fff;font-size:.9rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover{background:#0c8a60}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-help[_ngcontent-%COMP%]{color:#065f46;font-size:.875rem;font-style:italic}.weight-impact-analysis[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#8b5cf60d;border-radius:12px;border:1px solid rgba(139,92,246,.2)}.weight-impact-analysis[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:1.5rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;font-weight:600;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-low[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-medium[_ngcontent-%COMP%]{background:#f59e0b33;color:#92400e}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-high[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .scenarios-count[_ngcontent-%COMP%], .weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .benchmarks-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e5e7eb}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-improved[_ngcontent-%COMP%]{border-left:4px solid #10b981;background:#10b9810d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-declined[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;background:#f59e0b0d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .library-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:600;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.detailed-analysis[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto;gap:1rem;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .raw-score[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{padding:.5rem;background:#e5e7eb4d;border-radius:6px;text-align:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{background:rgba(var(--card-color),.1);font-weight:600}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.5rem;border-radius:6px;font-weight:600;min-width:80px}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.positive-impact[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.negative-impact[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto auto;gap:1rem;padding:.75rem 0;border-bottom:1px solid #e5e7eb;align-items:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child, .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937;margin-bottom:.25rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-style:italic}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]{display:contents}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-size:.875rem;text-align:right}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-weight:600;color:var(--card-color)}.memoization-info[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #e5e7eb}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:1.5rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:.375rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);padding:1rem;border-radius:8px;margin-bottom:1.5rem;font-size:1rem;line-height:1.6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3b82f6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#1f29371a;padding:.125rem .375rem;border-radius:4px;font-family:Courier New,monospace;font-size:.9em}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;border-radius:8px;padding:1rem;transition:all .2s}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f626;transform:translateY(-2px)}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#1f2937;font-size:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-code[_ngcontent-%COMP%]{display:block;background:#1f29370d;padding:.5rem;border-radius:4px;font-family:Courier New,monospace;font-size:.85rem;color:#8b5cf6;margin-bottom:.75rem;word-break:break-all}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 .75rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.875rem;color:#4b5563}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-note[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#3b82f6;font-weight:600;padding-top:.5rem;border-top:1px solid #e5e7eb}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]{background:#1f2937;padding:1rem;border-radius:8px;margin-bottom:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin:0 0 .75rem;font-size:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;overflow-x:auto}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:#e5e7eb;font-family:Courier New,monospace;font-size:.875rem;line-height:1.5}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]{background:#06b6d41a;padding:1rem;border-radius:8px;border-left:4px solid #06b6d4}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#4b5563;line-height:1.6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937}']})};var cd=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=vi({type:i,selectors:[["app-realistic-comparison"]],decls:1,vars:0,template:function(e,n){e&1&&ge(0,"app-benchmark-orchestrator")},dependencies:[Si,wr],encapsulation:2})};export{cd as RealisticComparisonComponent};
