import{a as Xo}from"./chunk-XSGHV2FU.js";import"./chunk-KRPKKBIF.js";import{c as Jo}from"./chunk-FHPIMUZI.js";import{a as E,b as Te}from"./chunk-X4WEGLGO.js";import"./chunk-I4IBZIO3.js";import{a as No,b as Vo,c as Uo,d as jo,e as Wo,f as $o,g as Ho,h as qo,i as Ko,j as Yo,k as Go}from"./chunk-XS46G33B.js";import"./chunk-W3FZFDOG.js";import{$a as L,$b as q,Ab as G,B as jt,Ca as Ao,Cb as F,D as Mi,Eb as To,Fb as Io,Gb as Do,I as Er,Ib as $t,J as pe,Jb as At,K as So,Kb as Ro,L as wo,Lb as _,Mb as N,Na as x,Nb as W,O as re,Ob as se,P as ko,Q as un,Sb as Ir,Ub as ft,V as Eo,Vb as Vn,Wb as Tt,Xa as Oi,_ as xi,_b as hn,a as M,aa as Ar,ac as Ge,b as O,c as Oo,d as bi,da as Wt,ga as Y,h as Kt,ha as be,ia as st,j as I,jb as Ke,ka as Ci,m as vo,n as dn,oa as ct,pa as lt,pc as Bo,q as _t,qa as Ae,qc as Fo,r as Ut,ra as Pi,rb as D,s as _i,sa as Nn,sb as f,sc as zo,tb as m,tc as Lo,u as Ln,ub as mt,uc as vi,v as Zt,w as wr,x as kr,ya as Tr,yb as Ye,z as yi,za as Ct}from"./chunk-6DDIHEJP.js";function Wn(i){return i+.5|0}var Ie=(i,e,t)=>Math.max(Math.min(i,t),e);function Un(i){return Ie(Wn(i*2.55),0,255)}function De(i){return Ie(Wn(i*255),0,255)}function _e(i){return Ie(Wn(i/2.55)/100,0,1)}function Qo(i){return Ie(Wn(i*100),0,100)}var Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rr=[..."0123456789ABCDEF"],cd=i=>Rr[i&15],ld=i=>Rr[(i&240)>>4]+Rr[i&15],Si=i=>(i&240)>>4===(i&15),dd=i=>Si(i.r)&&Si(i.g)&&Si(i.b)&&Si(i.a);function ud(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&Yt[i[1]]*17,g:255&Yt[i[2]]*17,b:255&Yt[i[3]]*17,a:e===5?Yt[i[4]]*17:255}:(e===7||e===9)&&(t={r:Yt[i[1]]<<4|Yt[i[2]],g:Yt[i[3]]<<4|Yt[i[4]],b:Yt[i[5]]<<4|Yt[i[6]],a:e===9?Yt[i[7]]<<4|Yt[i[8]]:255})),t}var hd=(i,e)=>i<255?e(i):"";function gd(i){var e=dd(i)?cd:ld;return i?"#"+e(i.r)+e(i.g)+e(i.b)+hd(i.a,e):void 0}var md=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function na(i,e,t){let n=e*Math.min(t,1-t),r=(s,o=(s+i/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function fd(i,e,t){let n=(r,s=(r+i/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function pd(i,e,t){let n=na(i,1,.5),r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)n[r]*=1-e-t,n[r]+=e;return n}function bd(i,e,t,n,r){return i===r?(e-t)/n+(e<t?6:0):e===r?(t-i)/n+2:(i-e)/n+4}function Br(i){let t=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=bd(t,n,r,d,s),c=c*60+.5),[c|0,l||0,a]}function Fr(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(De)}function zr(i,e,t){return Fr(na,i,e,t)}function _d(i,e,t){return Fr(pd,i,e,t)}function yd(i,e,t){return Fr(fd,i,e,t)}function ia(i){return(i%360+360)%360}function Md(i){let e=md.exec(i),t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Un(+e[5]):De(+e[5]));let r=ia(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=_d(r,s,o):e[1]==="hsv"?n=yd(r,s,o):n=zr(r,s,o),{r:n[0],g:n[1],b:n[2],a:t}}function xd(i,e){var t=Br(i);t[0]=ia(t[0]+e),t=zr(t),i.r=t[0],i.g=t[1],i.b=t[2]}function Cd(i){if(!i)return;let e=Br(i),t=e[0],n=Qo(e[1]),r=Qo(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${r}%, ${_e(i.a)})`:`hsl(${t}, ${n}%, ${r}%)`}var Zo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ta={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Pd(){let i={},e=Object.keys(ta),t=Object.keys(Zo),n,r,s,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],r=0;r<t.length;r++)s=t[r],a=a.replace(s,Zo[s]);s=parseInt(ta[o],16),i[a]=[s>>16&255,s>>8&255,s&255]}return i}var wi;function Od(i){wi||(wi=Pd(),wi.transparent=[0,0,0,0]);let e=wi[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var vd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Sd(i){let e=vd.exec(i),t=255,n,r,s;if(e){if(e[7]!==n){let o=+e[7];t=e[8]?Un(o):Ie(o*255,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?Un(n):Ie(n,0,255)),r=255&(e[4]?Un(r):Ie(r,0,255)),s=255&(e[6]?Un(s):Ie(s,0,255)),{r:n,g:r,b:s,a:t}}}function wd(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${_e(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var Dr=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,gn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function kd(i,e,t){let n=gn(_e(i.r)),r=gn(_e(i.g)),s=gn(_e(i.b));return{r:De(Dr(n+t*(gn(_e(e.r))-n))),g:De(Dr(r+t*(gn(_e(e.g))-r))),b:De(Dr(s+t*(gn(_e(e.b))-s))),a:i.a+t*(e.a-i.a)}}function ki(i,e,t){if(i){let n=Br(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=zr(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function ra(i,e){return i&&Object.assign(e||{},i)}function ea(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=De(i[3]))):(e=ra(i,{r:0,g:0,b:0,a:1}),e.a=De(e.a)),e}function Ed(i){return i.charAt(0)==="r"?Sd(i):Md(i)}var jn=class i{constructor(e){if(e instanceof i)return e;let t=typeof e,n;t==="object"?n=ea(e):t==="string"&&(n=ud(e)||Od(e)||Ed(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=ra(this._rgb);return e&&(e.a=_e(e.a)),e}set rgb(e){this._rgb=ea(e)}rgbString(){return this._valid?wd(this._rgb):void 0}hexString(){return this._valid?gd(this._rgb):void 0}hslString(){return this._valid?Cd(this._rgb):void 0}mix(e,t){if(e){let n=this.rgb,r=e.rgb,s,o=t===s?.5:t,a=2*o-1,c=n.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=kd(this._rgb,e._rgb,t)),this}clone(){return new i(this.rgb)}alpha(e){return this._rgb.a=De(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Wn(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ki(this._rgb,2,e),this}darken(e){return ki(this._rgb,2,-e),this}saturate(e){return ki(this._rgb,1,e),this}desaturate(e){return ki(this._rgb,1,-e),this}rotate(e){return xd(this._rgb,e),this}};function ce(){}var fa=(()=>{let i=0;return()=>i++})();function j(i){return i==null}function tt(i){if(Array.isArray&&Array.isArray(i))return!0;let e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function ot(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function zt(i,e){return ot(i)?i:e}function z(i,e){return typeof i>"u"?e:i}var pa=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,Ur=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function Q(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function X(i,e,t,n){let r,s,o;if(tt(i))if(s=i.length,n)for(r=s-1;r>=0;r--)e.call(t,i[r],r);else for(r=0;r<s;r++)e.call(t,i[r],r);else if($(i))for(o=Object.keys(i),s=o.length,r=0;r<s;r++)e.call(t,i[o[r]],o[r])}function qn(i,e){let t,n,r,s;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(r=i[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Di(i){if(tt(i))return i.map(Di);if($(i)){let e=Object.create(null),t=Object.keys(i),n=t.length,r=0;for(;r<n;++r)e[t[r]]=Di(i[t[r]]);return e}return i}function ba(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Ad(i,e,t,n){if(!ba(i))return;let r=e[i],s=t[i];$(r)&&$(s)?fn(r,s,n):e[i]=Di(s)}function fn(i,e,t){let n=tt(e)?e:[e],r=n.length;if(!$(i))return i;t=t||{};let s=t.merger||Ad,o;for(let a=0;a<r;++a){if(o=n[a],!$(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],i,o,t)}return i}function bn(i,e){return fn(i,e,{merger:Td})}function Td(i,e,t){if(!ba(i))return;let n=e[i],r=t[i];$(n)&&$(r)?bn(n,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Di(r))}var sa={"":i=>i,x:i=>i.x,y:i=>i.y};function Id(i){let e=i.split("."),t=[],n="";for(let r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function Dd(i){let e=Id(i);return t=>{for(let n of e){if(n==="")break;t=t&&t[n]}return t}}function xe(i,e){return(sa[e]||(sa[e]=Dd(e)))(i)}function zi(i){return i.charAt(0).toUpperCase()+i.slice(1)}var _n=i=>typeof i<"u",ye=i=>typeof i=="function",jr=(i,e)=>{if(i.size!==e.size)return!1;for(let t of i)if(!e.has(t))return!1;return!0};function _a(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var K=Math.PI,et=2*K,Rd=et+K,Ri=Number.POSITIVE_INFINITY,Bd=K/180,dt=K/2,Xe=K/4,oa=K*2/3,Me=Math.log10,te=Math.sign;function yn(i,e,t){return Math.abs(i-e)<t}function Wr(i){let e=Math.round(i);i=yn(i,e,i/1e3)?e:i;let t=Math.pow(10,Math.floor(Me(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function ya(i){let e=[],t=Math.sqrt(i),n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function Fd(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Ze(i){return!Fd(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Ma(i,e){let t=Math.round(i);return t-e<=i&&t+e>=i}function $r(i,e,t){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Gt(i){return i*(K/180)}function Li(i){return i*(180/K)}function Hr(i){if(!ot(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function qr(i,e){let t=e.x-i.x,n=e.y-i.y,r=Math.sqrt(t*t+n*n),s=Math.atan2(n,t);return s<-.5*K&&(s+=et),{angle:s,distance:r}}function Bi(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function zd(i,e){return(i-e+Rd)%et-K}function vt(i){return(i%et+et)%et}function Mn(i,e,t,n){let r=vt(i),s=vt(e),o=vt(t),a=vt(s-r),c=vt(o-r),l=vt(r-s),d=vt(r-o);return r===s||r===o||n&&s===o||a>c&&l<d}function yt(i,e,t){return Math.max(e,Math.min(t,i))}function xa(i){return yt(i,-32768,32767)}function le(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function Ni(i,e,t){t=t||(o=>i[o]<e);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}var oe=(i,e,t,n)=>Ni(i,t,n?r=>{let s=i[r][e];return s<t||s===t&&i[r+1][e]===t}:r=>i[r][e]<t),Ca=(i,e,t)=>Ni(i,t,n=>i[n][e]>=t);function Pa(i,e,t){let n=0,r=i.length;for(;n<r&&i[n]<e;)n++;for(;r>n&&i[r-1]>t;)r--;return n>0||r<i.length?i.slice(n,r):i}var Oa=["push","pop","shift","splice","unshift"];function va(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Oa.forEach(t=>{let n="_onData"+zi(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function Kr(i,e){let t=i._chartjs;if(!t)return;let n=t.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(Oa.forEach(s=>{delete i[s]}),delete i._chartjs)}function Yr(i){let e=new Set(i);return e.size===i.length?i:Array.from(e)}var Gr=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Xr(i,e){let t=[],n=!1;return function(...r){t=r,n||(n=!0,Gr.call(window,()=>{n=!1,i.apply(e,t)}))}}function Sa(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}var Vi=i=>i==="start"?"left":i==="end"?"right":"center",St=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,wa=(i,e,t,n)=>i===(n?"left":"right")?t:i==="center"?(e+t)/2:e;function Jr(i,e,t){let n=e.length,r=0,s=n;if(i._sorted){let{iScale:o,vScale:a,_parsed:c}=i,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,d=o.axis,{min:u,max:h,minDefined:g,maxDefined:b}=o.getUserBounds();if(g){if(r=Math.min(oe(c,d,u).lo,t?n:oe(e,d,o.getPixelForValue(u)).lo),l){let p=c.slice(0,r+1).reverse().findIndex(y=>!j(y[a.axis]));r-=Math.max(0,p)}r=yt(r,0,n-1)}if(b){let p=Math.max(oe(c,o.axis,h,!0).hi+1,t?0:oe(e,d,o.getPixelForValue(h),!0).hi+1);if(l){let y=c.slice(p-1).findIndex(C=>!j(C[a.axis]));p+=Math.max(0,y)}s=yt(p,r,n)-r}else s=n-r}return{start:r,count:s}}function Qr(i){let{xScale:e,yScale:t,_scaleRanges:n}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=r,!0;let s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}var Ei=i=>i===0||i===1,aa=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*et/t)),ca=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*et/t)+1,mn={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*dt)+1,easeOutSine:i=>Math.sin(i*dt),easeInOutSine:i=>-.5*(Math.cos(K*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Ei(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Ei(i)?i:aa(i,.075,.3),easeOutElastic:i=>Ei(i)?i:ca(i,.075,.3),easeInOutElastic(i){return Ei(i)?i:i<.5?.5*aa(i*2,.1125,.45):.5+.5*ca(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-mn.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?mn.easeInBounce(i*2)*.5:mn.easeOutBounce(i*2-1)*.5+.5};function Zr(i){if(i&&typeof i=="object"){let e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ts(i){return Zr(i)?i:new jn(i)}function Lr(i){return Zr(i)?i:new jn(i).saturate(.5).darken(.1).hexString()}var Ld=["x","y","borderWidth","radius","tension"],Nd=["color","borderColor","backgroundColor"];function Vd(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:Nd},numbers:{type:"number",properties:Ld}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Ud(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var la=new Map;function jd(i,e){e=e||{};let t=i+JSON.stringify(e),n=la.get(t);return n||(n=new Intl.NumberFormat(i,e),la.set(t,n)),n}function xn(i,e,t){return jd(e,t).format(i)}var ka={values(i){return tt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";let n=this.chart.options.locale,r,s=i;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=Wd(i,t)}let o=Me(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),xn(i,n,c)},logarithmic(i,e,t){if(i===0)return"0";let n=t[e].significand||i/Math.pow(10,Math.floor(Me(i)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?ka.numeric.call(this,i,e,t):""}};function Wd(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var Kn={formatters:ka};function $d(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Be=Object.create(null),Ui=Object.create(null);function $n(i,e){if(!e)return i;let t=e.split(".");for(let n=0,r=t.length;n<r;++n){let s=t[n];i=i[s]||(i[s]=Object.create(null))}return i}function Nr(i,e,t){return typeof e=="string"?fn($n(i,e),t):fn($n(i,""),e)}var Vr=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Lr(r.backgroundColor),this.hoverBorderColor=(n,r)=>Lr(r.borderColor),this.hoverColor=(n,r)=>Lr(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Nr(this,e,t)}get(e){return $n(this,e)}describe(e,t){return Nr(Ui,e,t)}override(e,t){return Nr(Be,e,t)}route(e,t,n,r){let s=$n(this,e),o=$n(this,n),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=o[r];return $(c)?Object.assign({},l,c):z(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}},it=new Vr({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Vd,Ud,$d]);function Hd(i){return!i||j(i.size)||j(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Hn(i,e,t,n,r){let s=e[r];return s||(s=e[r]=i.measureText(r).width,t.push(r)),s>n&&(n=s),n}function Ea(i,e,t,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},s=n.garbageCollect=[],n.font=e),i.save(),i.font=e;let o=0,a=t.length,c,l,d,u,h;for(c=0;c<a;c++)if(u=t[c],u!=null&&!tt(u))o=Hn(i,r,s,o,u);else if(tt(u))for(l=0,d=u.length;l<d;l++)h=u[l],h!=null&&!tt(h)&&(o=Hn(i,r,s,o,h));i.restore();let g=s.length/2;if(g>t.length){for(c=0;c<g;c++)delete r[s[c]];s.splice(0,g)}return o}function Fe(i,e,t){let n=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*n)/n+r}function es(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function ji(i,e,t,n){ns(i,e,t,n,null)}function ns(i,e,t,n,r){let s,o,a,c,l,d,u,h,g=e.pointStyle,b=e.rotation,p=e.radius,y=(b||0)*Bd;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(y),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),i.restore();return}if(!(isNaN(p)||p<=0)){switch(i.beginPath(),g){default:r?i.ellipse(t,n,r/2,p,0,0,et):i.arc(t,n,p,0,et),i.closePath();break;case"triangle":d=r?r/2:p,i.moveTo(t+Math.sin(y)*d,n-Math.cos(y)*p),y+=oa,i.lineTo(t+Math.sin(y)*d,n-Math.cos(y)*p),y+=oa,i.lineTo(t+Math.sin(y)*d,n-Math.cos(y)*p),i.closePath();break;case"rectRounded":l=p*.516,c=p-l,o=Math.cos(y+Xe)*c,u=Math.cos(y+Xe)*(r?r/2-l:c),a=Math.sin(y+Xe)*c,h=Math.sin(y+Xe)*(r?r/2-l:c),i.arc(t-u,n-a,l,y-K,y-dt),i.arc(t+h,n-o,l,y-dt,y),i.arc(t+u,n+a,l,y,y+dt),i.arc(t-h,n+o,l,y+dt,y+K),i.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*p,d=r?r/2:c,i.rect(t-d,n-c,2*d,2*c);break}y+=Xe;case"rectRot":u=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,h=Math.sin(y)*(r?r/2:p),i.moveTo(t-u,n-a),i.lineTo(t+h,n-o),i.lineTo(t+u,n+a),i.lineTo(t-h,n+o),i.closePath();break;case"crossRot":y+=Xe;case"cross":u=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,h=Math.sin(y)*(r?r/2:p),i.moveTo(t-u,n-a),i.lineTo(t+u,n+a),i.moveTo(t+h,n-o),i.lineTo(t-h,n+o);break;case"star":u=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,h=Math.sin(y)*(r?r/2:p),i.moveTo(t-u,n-a),i.lineTo(t+u,n+a),i.moveTo(t+h,n-o),i.lineTo(t-h,n+o),y+=Xe,u=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,h=Math.sin(y)*(r?r/2:p),i.moveTo(t-u,n-a),i.lineTo(t+u,n+a),i.moveTo(t+h,n-o),i.lineTo(t-h,n+o);break;case"line":o=r?r/2:Math.cos(y)*p,a=Math.sin(y)*p,i.moveTo(t-o,n-a),i.lineTo(t+o,n+a);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(y)*(r?r/2:p),n+Math.sin(y)*p);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function ae(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Yn(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Gn(i){i.restore()}function Aa(i,e,t,n,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){let s=(e.x+t.x)/2;i.lineTo(s,e.y),i.lineTo(s,t.y)}else r==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function Ta(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function qd(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),j(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function Kd(i,e,t,n,r){if(r.strikethrough||r.underline){let s=i.measureText(n),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,l=t+s.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(o,d),i.lineTo(a,d),i.stroke()}}function Yd(i,e){let t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function ze(i,e,t,n,r,s={}){let o=tt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(i.save(),i.font=r.string,qd(i,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&Yd(i,s.backdrop),a&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),j(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(l,t,n,s.maxWidth)),i.fillText(l,t,n,s.maxWidth),Kd(i,t,n,l,s),n+=Number(r.lineHeight);i.restore()}function Cn(i,e){let{x:t,y:n,w:r,h:s,radius:o}=e;i.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*K,K,!0),i.lineTo(t,n+s-o.bottomLeft),i.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,K,dt,!0),i.lineTo(t+r-o.bottomRight,n+s),i.arc(t+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,dt,0,!0),i.lineTo(t+r,n+o.topRight),i.arc(t+r-o.topRight,n+o.topRight,o.topRight,0,-dt,!0),i.lineTo(t+o.topLeft,n)}var Gd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xd=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jd(i,e){let t=(""+i).match(Gd);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}var Qd=i=>+i||0;function Wi(i,e){let t={},n=$(e),r=n?Object.keys(e):e,s=$(i)?n?o=>z(i[o],i[e[o]]):o=>i[o]:()=>i;for(let o of r)t[o]=Qd(s(o));return t}function is(i){return Wi(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Le(i){return Wi(i,["topLeft","topRight","bottomLeft","bottomRight"])}function wt(i){let e=is(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pt(i,e){i=i||{},e=e||it.font;let t=z(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=z(i.style,e.style);n&&!(""+n).match(Xd)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:z(i.family,e.family),lineHeight:Jd(z(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:z(i.weight,e.weight),string:""};return r.string=Hd(r),r}function Pn(i,e,t,n){let r=!0,s,o,a;for(s=0,o=i.length;s<o;++s)if(a=i[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),t!==void 0&&tt(a)&&(a=a[t%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function Ia(i,e,t){let{min:n,max:r}=i,s=Ur(e,(r-n)/2),o=(a,c)=>t&&a===0?0:a+c;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function Ce(i,e){return Object.assign(Object.create(i),e)}function $i(i,e=[""],t,n,r=()=>i[0]){let s=t||i;typeof n>"u"&&(n=Ba("_fallback",i));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:r,override:a=>$i([a,...i],e,s,n)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete i[0][c],!0},get(a,c){return Da(a,c,()=>ou(c,e,i,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,c){return ua(a).includes(c)},ownKeys(a){return ua(a)},set(a,c,l){let d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function Qe(i,e,t,n){let r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:rs(i,n),setContext:s=>Qe(i,s,t,n),override:s=>Qe(i.override(s),e,t,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete i[o],!0},get(s,o,a){return Da(s,o,()=>tu(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(s,o,a){return i[o]=a,delete s[o],!0}})}function rs(i,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:n,isScriptable:ye(t)?t:()=>t,isIndexable:ye(n)?n:()=>n}}var Zd=(i,e)=>i?i+zi(e):e,ss=(i,e)=>$(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Da(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];let n=t();return i[e]=n,n}function tu(i,e,t){let{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=i,a=n[e];return ye(a)&&o.isScriptable(e)&&(a=eu(e,a,i,t)),tt(a)&&a.length&&(a=nu(e,a,i,o.isIndexable)),ss(e,a)&&(a=Qe(a,r,s&&s[e],o)),a}function eu(i,e,t,n){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=t;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let c=e(s,o||n);return a.delete(i),ss(i,c)&&(c=os(r._scopes,r,i,c)),c}function nu(i,e,t,n){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&n(i))return e[s.index%e.length];if($(e[0])){let c=e,l=r._scopes.filter(d=>d!==c);e=[];for(let d of c){let u=os(l,r,i,d);e.push(Qe(u,s,o&&o[i],a))}}return e}function Ra(i,e,t){return ye(i)?i(e,t):i}var iu=(i,e)=>i===!0?e:typeof i=="string"?xe(e,i):void 0;function ru(i,e,t,n,r){for(let s of e){let o=iu(t,s);if(o){i.add(o);let a=Ra(o._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==n)return a}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function os(i,e,t,n){let r=e._rootScopes,s=Ra(e._fallback,t,n),o=[...i,...r],a=new Set;a.add(n);let c=da(a,o,t,s||t,n);return c===null||typeof s<"u"&&s!==t&&(c=da(a,o,s,c,n),c===null)?!1:$i(Array.from(a),[""],r,s,()=>su(e,t,n))}function da(i,e,t,n,r){for(;t;)t=ru(i,e,t,n,r);return t}function su(i,e,t){let n=i._getTarget();e in n||(n[e]={});let r=n[e];return tt(r)&&$(t)?t:r||{}}function ou(i,e,t,n){let r;for(let s of e)if(r=Ba(Zd(s,i),t),typeof r<"u")return ss(i,r)?os(t,n,i,r):r}function Ba(i,e){for(let t of e){if(!t)continue;let n=t[i];if(typeof n<"u")return n}}function ua(i){let e=i._keys;return e||(e=i._keys=au(i._scopes)),e}function au(i){let e=new Set;for(let t of i)for(let n of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function as(i,e,t,n){let{iScale:r}=i,{key:s="r"}=this._parsing,o=new Array(n),a,c,l,d;for(a=0,c=n;a<c;++a)l=a+t,d=e[l],o[a]={r:r.parse(xe(d,s),l)};return o}var cu=Number.EPSILON||1e-14,pn=(i,e)=>e<i.length&&!i[e].skip&&i[e],Fa=i=>i==="x"?"y":"x";function lu(i,e,t,n){let r=i.skip?e:i,s=e,o=t.skip?e:t,a=Bi(s,r),c=Bi(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let u=n*l,h=n*d;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function du(i,e,t){let n=i.length,r,s,o,a,c,l=pn(i,0);for(let d=0;d<n-1;++d)if(c=l,l=pn(i,d+1),!(!c||!l)){if(yn(e[d],0,cu)){t[d]=t[d+1]=0;continue}r=t[d]/e[d],s=t[d+1]/e[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[d]=r*o*e[d],t[d+1]=s*o*e[d])}}function uu(i,e,t="x"){let n=Fa(t),r=i.length,s,o,a,c=pn(i,0);for(let l=0;l<r;++l){if(o=a,a=c,c=pn(i,l+1),!a)continue;let d=a[t],u=a[n];o&&(s=(d-o[t])/3,a[`cp1${t}`]=d-s,a[`cp1${n}`]=u-s*e[l]),c&&(s=(c[t]-d)/3,a[`cp2${t}`]=d+s,a[`cp2${n}`]=u+s*e[l])}}function hu(i,e="x"){let t=Fa(e),n=i.length,r=Array(n).fill(0),s=Array(n),o,a,c,l=pn(i,0);for(o=0;o<n;++o)if(a=c,c=l,l=pn(i,o+1),!!c){if(l){let d=l[e]-c[e];r[o]=d!==0?(l[t]-c[t])/d:0}s[o]=a?l?te(r[o-1])!==te(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}du(i,r,s),uu(i,s,e)}function Ai(i,e,t){return Math.max(Math.min(i,t),e)}function gu(i,e){let t,n,r,s,o,a=ae(i[0],e);for(t=0,n=i.length;t<n;++t)o=s,s=a,a=t<n-1&&ae(i[t+1],e),s&&(r=i[t],o&&(r.cp1x=Ai(r.cp1x,e.left,e.right),r.cp1y=Ai(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Ai(r.cp2x,e.left,e.right),r.cp2y=Ai(r.cp2y,e.top,e.bottom)))}function za(i,e,t,n,r){let s,o,a,c;if(e.spanGaps&&(i=i.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")hu(i,r);else{let l=n?i[i.length-1]:i[0];for(s=0,o=i.length;s<o;++s)a=i[s],c=lu(l,a,i[Math.min(s+1,o-(n?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&gu(i,t)}function Hi(){return typeof window<"u"&&typeof document<"u"}function qi(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fi(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}var Ki=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function mu(i,e){return Ki(i).getPropertyValue(e)}var fu=["top","right","bottom","left"];function Je(i,e,t){let n={};t=t?"-"+t:"";for(let r=0;r<4;r++){let s=fu[r];n[s]=parseFloat(i[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var pu=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function bu(i,e){let t=i.touches,n=t&&t.length?t[0]:i,{offsetX:r,offsetY:s}=n,o=!1,a,c;if(pu(r,s,i.target))a=r,c=s;else{let l=e.getBoundingClientRect();a=n.clientX-l.left,c=n.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Ne(i,e){if("native"in i)return i;let{canvas:t,currentDevicePixelRatio:n}=e,r=Ki(t),s=r.boxSizing==="border-box",o=Je(r,"padding"),a=Je(r,"border","width"),{x:c,y:l,box:d}=bu(i,t),u=o.left+(d&&a.left),h=o.top+(d&&a.top),{width:g,height:b}=e;return s&&(g-=o.width+a.width,b-=o.height+a.height),{x:Math.round((c-u)/g*t.width/n),y:Math.round((l-h)/b*t.height/n)}}function _u(i,e,t){let n,r;if(e===void 0||t===void 0){let s=i&&qi(i);if(!s)e=i.clientWidth,t=i.clientHeight;else{let o=s.getBoundingClientRect(),a=Ki(s),c=Je(a,"border","width"),l=Je(a,"padding");e=o.width-l.width-c.width,t=o.height-l.height-c.height,n=Fi(a.maxWidth,s,"clientWidth"),r=Fi(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||Ri,maxHeight:r||Ri}}var Ti=i=>Math.round(i*10)/10;function La(i,e,t,n){let r=Ki(i),s=Je(r,"margin"),o=Fi(r.maxWidth,i,"clientWidth")||Ri,a=Fi(r.maxHeight,i,"clientHeight")||Ri,c=_u(i,e,t),{width:l,height:d}=c;if(r.boxSizing==="content-box"){let h=Je(r,"border","width"),g=Je(r,"padding");l-=g.width+h.width,d-=g.height+h.height}return l=Math.max(0,l-s.width),d=Math.max(0,n?l/n:d-s.height),l=Ti(Math.min(l,o,c.maxWidth)),d=Ti(Math.min(d,a,c.maxHeight)),l&&!d&&(d=Ti(l/2)),(e!==void 0||t!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,l=Ti(Math.floor(d*n))),{width:l,height:d}}function cs(i,e,t){let n=e||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let o=i.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(i.currentDevicePixelRatio=n,o.height=r,o.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Na=function(){let i=!1;try{let e={get passive(){return i=!0,!1}};Hi()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i}();function ls(i,e){let t=mu(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Re(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function Va(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function Ua(i,e,t,n){let r={x:i.cp2x,y:i.cp2y},s={x:e.cp1x,y:e.cp1y},o=Re(i,r,t),a=Re(r,s,t),c=Re(s,e,t),l=Re(o,a,t),d=Re(a,c,t);return Re(l,d,t)}var yu=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Mu=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function tn(i,e,t){return i?yu(e,t):Mu()}function ds(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function us(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function ja(i){return i==="angle"?{between:Mn,compare:zd,normalize:vt}:{between:le,compare:(e,t)=>e-t,normalize:e=>e}}function ha({start:i,end:e,count:t,loop:n,style:r}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:r}}function xu(i,e,t){let{property:n,start:r,end:s}=t,{between:o,normalize:a}=ja(n),c=e.length,{start:l,end:d,loop:u}=i,h,g;if(u){for(l+=c,d+=c,h=0,g=c;h<g&&o(a(e[l%c][n]),r,s);++h)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:u,style:i.style}}function hs(i,e,t){if(!t)return[i];let{property:n,start:r,end:s}=t,o=e.length,{compare:a,between:c,normalize:l}=ja(n),{start:d,end:u,loop:h,style:g}=xu(i,e,t),b=[],p=!1,y=null,C,P,S,k=()=>c(r,S,C)&&a(r,S)!==0,v=()=>a(s,C)===0||c(s,S,C),w=()=>p||k(),R=()=>!p||v();for(let A=d,B=d;A<=u;++A)P=e[A%o],!P.skip&&(C=l(P[n]),C!==S&&(p=c(C,r,s),y===null&&w()&&(y=a(C,r)===0?A:B),y!==null&&R()&&(b.push(ha({start:y,end:A,loop:h,count:o,style:g})),y=null),B=A,S=C));return y!==null&&b.push(ha({start:y,end:u,loop:h,count:o,style:g})),b}function gs(i,e){let t=[],n=i.segments;for(let r=0;r<n.length;r++){let s=hs(n[r],i.points,e);s.length&&t.push(...s)}return t}function Cu(i,e,t,n){let r=0,s=e-1;if(t&&!n)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&i[s%e].skip;)s--;return s%=e,{start:r,end:s}}function Pu(i,e,t,n){let r=i.length,s=[],o=e,a=i[e],c;for(c=e+1;c<=t;++c){let l=i[c%r];l.skip||l.stop?a.skip||(n=!1,s.push({start:e%r,end:(c-1)%r,loop:n}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%r,end:o%r,loop:n}),s}function Wa(i,e){let t=i.points,n=i.options.spanGaps,r=t.length;if(!r)return[];let s=!!i._loop,{start:o,end:a}=Cu(t,r,s,n);if(n===!0)return ga(i,[{start:o,end:a,loop:s}],t,e);let c=a<o?a+r:a,l=!!i._fullLoop&&o===0&&a===r-1;return ga(i,Pu(t,o,c,l),t,e)}function ga(i,e,t,n){return!n||!n.setContext||!t?e:Ou(i,e,t,n)}function Ou(i,e,t,n){let r=i._chart.getContext(),s=ma(i.options),{_datasetIndex:o,options:{spanGaps:a}}=i,c=t.length,l=[],d=s,u=e[0].start,h=u;function g(b,p,y,C){let P=a?-1:1;if(b!==p){for(b+=c;t[b%c].skip;)b-=P;for(;t[p%c].skip;)p+=P;b%c!==p%c&&(l.push({start:b%c,end:p%c,loop:y,style:C}),d=C,u=p%c)}}for(let b of e){u=a?u:b.start;let p=t[u%c],y;for(h=u+1;h<=b.end;h++){let C=t[h%c];y=ma(n.setContext(Ce(r,{type:"segment",p0:p,p1:C,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),vu(y,d)&&g(u,h-1,b.loop,d),p=C,d=y}u<h-1&&g(u,h-1,b.loop,d)}return l}function ma(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function vu(i,e){if(!e)return!1;let t=[],n=function(r,s){return Zr(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(i,n)!==JSON.stringify(e,n)}function Ii(i,e,t){return i.options.clip?i[t]:e[t]}function Su(i,e){let{xScale:t,yScale:n}=i;return t&&n?{left:Ii(t,e,"left"),right:Ii(t,e,"right"),top:Ii(n,e,"top"),bottom:Ii(n,e,"bottom")}:e}function ms(i,e){let t=e._clip;if(t.disabled)return!1;let n=Su(e,i.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:n.bottom+(t.bottom===!0?0:t.bottom)}}var Ss=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){let s=t.listeners[r],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Gr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let s=n.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let n=t.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Pe=new Ss,$a="transparent",wu={boolean(i,e,t){return t>.5?e:i},color(i,e,t){let n=ts(i||$a),r=n.valid&&ts(e||$a);return r&&r.valid?r.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}},ws=class{constructor(e,t,n,r){let s=t[n];r=Pn([e.to,r,s,e.from]);let o=Pn([e.from,s,r]);this._active=!0,this._fn=e.fn||wu[e.type||typeof o],this._easing=mn[e.easing]||mn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);let r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Pn([e.to,t,r,e.from]),this._from=Pn([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||t<n),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){let t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}},nr=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!$(e))return;let t=Object.keys(it.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!$(s))return;let o={};for(let a of t)o[a]=s[a];(tt(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,t){let n=t.options,r=Eu(e,n);if(!r)return[];let s=this._createAnimations(r,n);return n.$shared&&ku(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){let n=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(e,t));continue}let d=t[l],u=s[l],h=n.get(l);if(u)if(h&&u.active()){u.update(h,d,a);continue}else u.cancel();if(!h||!h.duration){e[l]=d;continue}s[l]=u=new ws(h,e,l,d),r.push(u)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let n=this._createAnimations(e,t);if(n.length)return Pe.add(this._chart,n),!0}};function ku(i,e){let t=[],n=Object.keys(e);for(let r=0;r<n.length;r++){let s=i[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Eu(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Ha(i,e){let t=i&&i.options||{},n=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:r,end:n?r:s}}function Au(i,e,t){if(t===!1)return!1;let n=Ha(i,t),r=Ha(e,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Tu(i){let e,t,n,r;return $(i)?(e=i.top,t=i.right,n=i.bottom,r=i.left):e=t=n=r=i,{top:e,right:t,bottom:n,left:r,disabled:i===!1}}function $c(i,e){let t=[],n=i._getSortedDatasetMetas(e),r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function qa(i,e,t,n={}){let r=i.keys,s=n.mode==="single",o,a,c,l;if(e===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===t){if(d=!0,n.all)continue;break}l=i.values[c],ot(l)&&(s||e===0||te(e)===te(l))&&(e+=l)}return!d&&!n.all?0:e}function Iu(i,e){let{iScale:t,vScale:n}=e,r=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(i),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[r]:d,[s]:i[d]};return a}function fs(i,e){let t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function Du(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function Ru(i){let{min:e,max:t,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function Bu(i,e,t){let n=i[e]||(i[e]={});return n[t]||(n[t]={})}function Ka(i,e,t,n){for(let r of e.getMatchingVisibleMetas(n).reverse()){let s=i[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Ya(i,e){let{chart:t,_cachedMeta:n}=i,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=n,c=s.axis,l=o.axis,d=Du(s,o,n),u=e.length,h;for(let g=0;g<u;++g){let b=e[g],{[c]:p,[l]:y}=b,C=b._stacks||(b._stacks={});h=C[l]=Bu(r,d,p),h[a]=y,h._top=Ka(h,o,!0,n.type),h._bottom=Ka(h,o,!1,n.type);let P=h._visualValues||(h._visualValues={});P[a]=y}}function ps(i,e){let t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function Fu(i,e){return Ce(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zu(i,e,t){return Ce(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Xn(i,e){let t=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){e=e||i._parsed;for(let r of e){let s=r._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}var bs=i=>i==="reset"||i==="none",Ga=(i,e)=>e?i:Object.assign({},i),Lu=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:$c(t,!0),values:null},Ue=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=fs(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Xn(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,g,b,p)=>h==="x"?g:h==="r"?p:b,o=n.xAxisID=z(r.xAxisID,ps(t,"x")),a=n.yAxisID=z(r.yAxisID,ps(t,"y")),c=n.rAxisID=z(r.rAxisID,ps(t,"r")),l=n.indexAxis,d=n.iAxisID=s(l,o,a,c),u=n.vAxisID=s(l,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Kr(this._data,this),t._stacked&&Xn(t)}_dataCheck(){let t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if($(n)){let s=this._cachedMeta;this._data=Iu(n,s)}else if(r!==n){if(r){Kr(r,this);let s=this._cachedMeta;Xn(s),s._parsed=[]}n&&Object.isExtensible(n)&&va(n,this),this._syncList=[],this._data=n}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let n=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=n._stacked;n._stacked=fs(n.vScale,n),n.stack!==r.stack&&(s=!0,Xn(n),n.stack=r.stack),this._resyncElements(t),(s||o!==n._stacked)&&(Ya(this,n._parsed),n._stacked=fs(n.vScale,n))}configure(){let t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=t===0&&n===s.length?!0:r._sorted,d=t>0&&r._parsed[t-1],u,h,g;if(this._parsing===!1)r._parsed=s,r._sorted=!0,g=s;else{tt(s[t])?g=this.parseArrayData(r,s,t,n):$(s[t])?g=this.parseObjectData(r,s,t,n):g=this.parsePrimitiveData(r,s,t,n);let b=()=>h[c]===null||d&&h[c]<d[c];for(u=0;u<n;++u)r._parsed[u+t]=h=g[u],l&&(b()&&(l=!1),d=h);r._sorted=l}a&&Ya(this,g)}parsePrimitiveData(t,n,r,s){let{iScale:o,vScale:a}=t,c=o.axis,l=a.axis,d=o.getLabels(),u=o===a,h=new Array(s),g,b,p;for(g=0,b=s;g<b;++g)p=g+r,h[g]={[c]:u||o.parse(d[p],p),[l]:a.parse(n[p],p)};return h}parseArrayData(t,n,r,s){let{xScale:o,yScale:a}=t,c=new Array(s),l,d,u,h;for(l=0,d=s;l<d;++l)u=l+r,h=n[u],c[l]={x:o.parse(h[0],u),y:a.parse(h[1],u)};return c}parseObjectData(t,n,r,s){let{xScale:o,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),u,h,g,b;for(u=0,h=s;u<h;++u)g=u+r,b=n[g],d[u]={x:o.parse(xe(b,c),g),y:a.parse(xe(b,l),g)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){let s=this.chart,o=this._cachedMeta,a=n[t.axis],c={keys:$c(s,!0),values:n._stacks[t.axis]._visualValues};return qa(c,a,o.index,{mode:r})}updateRangeFromParsed(t,n,r,s){let o=r[n.axis],a=o===null?NaN:o,c=s&&r._stacks[n.axis];s&&c&&(s.values=c,a=qa(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,a=s.length,c=this._getOtherScale(t),l=Lu(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Ru(c),g,b;function p(){b=s[g];let y=b[c.axis];return!ot(b[t.axis])||u>y||h<y}for(g=0;g<a&&!(!p()&&(this.updateRangeFromParsed(d,t,b,l),o));++g);if(o){for(g=a-1;g>=0;--g)if(!p()){this.updateRangeFromParsed(d,t,b,l);break}}return d}getAllParsedValues(t){let n=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][t.axis],ot(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){let n=this._cachedMeta;this.update(t||"default"),n._clip=Tu(z(this.options.clip,Au(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],o=n.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,u;for(r.dataset&&r.dataset.draw(t,o,c,l),u=c;u<c+l;++u){let h=s[u];h.hidden||(h.active&&d?a.push(h):h.draw(t,o))}for(u=0;u<a.length;++u)a[u].draw(t,o)}getStyle(t,n){let r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){let s=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];o=a.$context||(a.$context=zu(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Fu(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){let s=n==="active",o=this._cachedDataOpts,a=t+"-"+n,c=o[a],l=this.enableOptionSharing&&_n(r);if(c)return Ga(c,l);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],g=d.getOptionScopes(this.getDataset(),u),b=Object.keys(it.elements[t]),p=()=>this.getContext(r,s,n),y=d.resolveNamedOptions(g,b,p,h);return y.$shared&&(y.$shared=l,o[a]=Object.freeze(Ga(y,l))),y}_resolveAnimations(t,n,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),g=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(g,this.getContext(t,r,n))}let d=new nr(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||bs(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){let r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:a}}updateElement(t,n,r,s){bs(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!bs(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;let o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let n=this._data,r=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=r.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,r=!0){let s=this._cachedMeta,o=s.data,a=t+n,c,l=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(l(o),c=t;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),r&&this.updateElements(o,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(t,n);r._stacked&&Xn(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function Nu(i,e){if(!i._cache.$bar){let t=i.getMatchingVisibleMetas(e),n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=Yr(n.sort((r,s)=>r-s))}return i._cache.$bar}function Vu(i){let e=i.iScale,t=Nu(e,i.type),n=e._length,r,s,o,a,c=()=>{o===32767||o===-32768||(_n(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),c();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return n}function Uu(i,e,t,n){let r=t.barThickness,s,o;return j(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[i]-s/2}}function ju(i,e,t,n){let r=e.pixels,s=r[i],o=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null,c=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/n,ratio:t.barPercentage,start:l}}function Wu(i,e,t,n){let r=t.parse(i[0],n),s=t.parse(i[1],n),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function Hc(i,e,t,n){return tt(i)?Wu(i,e,t,n):e[t.axis]=t.parse(i,n),e}function Xa(i,e,t,n){let r=i.iScale,s=i.vScale,o=r.getLabels(),a=r===s,c=[],l,d,u,h;for(l=t,d=t+n;l<d;++l)h=e[l],u={},u[r.axis]=a||r.parse(o[l],l),c.push(Hc(h,u,s,l));return c}function _s(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function $u(i,e,t){return i!==0?te(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Hu(i){let e,t,n,r,s;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:e,top:r,bottom:s}}function qu(i,e,t,n){let r=e.borderSkipped,s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=Hu(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?r=l:(t._bottom||0)===n?r=d:(s[Ja(d,o,a,c)]=!0,r=l)),s[Ja(r,o,a,c)]=!0,i.borderSkipped=s}function Ja(i,e,t,n){return n?(i=Ku(i,e,t),i=Qa(i,t,e)):i=Qa(i,e,t),i}function Ku(i,e,t){return i===e?t:i===t?e:i}function Qa(i,e,t){return i==="start"?e:i==="end"?t:i}function Yu(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}var Gu=(()=>{class i extends Ue{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,s){return Xa(t,n,r,s)}parseArrayData(t,n,r,s){return Xa(t,n,r,s)}parseObjectData(t,n,r,s){let{iScale:o,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,u=a.axis==="x"?c:l,h=[],g,b,p,y;for(g=r,b=r+s;g<b;++g)y=n[g],p={},p[o.axis]=o.parse(xe(y,d),g),h.push(Hc(xe(y,u),p,a,g));return h}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);let o=r._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(t),a=o._custom,c=_s(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:g}=this._getSharedOptions(n,s);for(let b=n;b<n+r;b++){let p=this.getParsed(b),y=o||j(p[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(b),C=this._calculateBarIndexPixels(b,u),P=(p._stacks||{})[c.axis],S={horizontal:d,base:y.base,enableBorderRadius:!P||_s(p._custom)||a===P._top||a===P._bottom,x:d?y.head:C.center,y:d?C.center:y.head,height:d?C.size:Math.abs(y.size),width:d?Math.abs(y.size):C.size};g&&(S.options=h||this.resolveDataElementOptions(b,t[b].active?"active":s));let k=S.options||t[b].options;qu(S,k,P,a),Yu(S,k,u.ratio),this.updateElement(t[b],b,S,s)}}_getStacks(t,n){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),l=c&&c[r.axis],d=u=>{let h=u._parsed.find(b=>b[r.axis]===l),g=h&&h[u.vScale.axis];if(j(g)||isNaN(g))return!0};for(let u of s)if(!(n!==void 0&&d(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){let t={},n=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)t[z(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){let s=this._getStacks(t,r),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){let t=this.options,n=this._cachedMeta,r=n.iScale,s=[],o,a;for(o=0,a=n.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=t.barThickness;return{min:c||Vu(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(t),d=l._custom,u=_s(d),h=l[n.axis],g=0,b=r?this.applyStack(n,l,r):h,p,y;b!==h&&(g=b-h,b=h),u&&(h=d.barStart,b=d.barEnd-d.barStart,h!==0&&te(h)!==te(d.barEnd)&&(g=0),g+=h);let C=!j(o)&&!u?o:g,P=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(g+b):p=P,y=p-P,Math.abs(y)<a){y=$u(y,n,c)*a,h===c&&(P-=y/2);let S=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),v=Math.min(S,k),w=Math.max(S,k);P=Math.max(Math.min(P,w),v),p=P+y,r&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(P))}if(P===n.getPixelForValue(c)){let S=te(y)*n.getLineWidthForValue(c)/2;P+=S,y-=S}return{size:y,base:P,head:p,center:p+y/2}}_calculateBarIndexPixels(t,n){let r=n.scale,s=this.options,o=s.skipNull,a=z(s.maxBarThickness,1/0),c,l,d=this._getAxisCount();if(n.grouped){let u=o?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?ju(t,n,s,u*d):Uu(t,n,s,u*d),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(z(g,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+b;c=h.start+h.chunk*p+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(a,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return i})(),Xu=(()=>{class i extends Ue{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,s){let o=super.parsePrimitiveData(t,n,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(t,n,r,s){let o=super.parseArrayData(t,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=z(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(t,n,r,s){let o=super.parseObjectData(t,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=z(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:r[t]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(t){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,s),u=a.axis,h=c.axis;for(let g=n;g<n+r;g++){let b=t[g],p=!o&&this.getParsed(g),y={},C=y[u]=o?a.getPixelForDecimal(.5):a.getPixelForValue(p[u]),P=y[h]=o?c.getBasePixel():c.getPixelForValue(p[h]);y.skip=isNaN(C)||isNaN(P),d&&(y.options=l||this.resolveDataElementOptions(g,b.active?"active":s),o&&(y.options.radius=0)),this.updateElement(b,g,y,s)}}resolveDataElementOptions(t,n){let r=this.getParsed(t),s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=z(r&&r._custom,o),s}}return i})();function Ju(i,e,t){let n=1,r=1,s=0,o=0;if(e<et){let a=i,c=a+e,l=Math.cos(a),d=Math.sin(a),u=Math.cos(c),h=Math.sin(c),g=(S,k,v)=>Mn(S,a,c,!0)?1:Math.max(k,k*t,v,v*t),b=(S,k,v)=>Mn(S,a,c,!0)?-1:Math.min(k,k*t,v,v*t),p=g(0,l,u),y=g(dt,d,h),C=b(K,l,u),P=b(K+dt,d,h);n=(p-C)/2,r=(y-P)/2,s=-(p+C)/2,o=-(y+P)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}var Ks=(()=>{class i extends Ue{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if($(r[t])){let{key:l="value"}=this._parsing;o=d=>+xe(r[d],l)}let a,c;for(a=t,c=t+n;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Gt(this.options.rotation-90)}_getCircumference(){return Gt(this.options.circumference)}_getRotationExtents(){let t=et,n=-et;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+a)}return{rotation:t,circumference:n-t}}update(t){let n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(pa(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:g,ratioY:b,offsetX:p,offsetY:y}=Ju(h,u,l),C=(r.width-a)/g,P=(r.height-a)/b,S=Math.max(Math.min(C,P)/2,0),k=Ur(this.options.radius,S),v=Math.max(k*l,0),w=(k-v)/this._getVisibleDatasetWeightTotal();this.offsetX=p*k,this.offsetY=y*k,s.total=this.calculateTotal(),this.outerRadius=k-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/et)}updateElements(t,n,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,u=(c.left+c.right)/2,h=(c.top+c.bottom)/2,g=o&&d.animateScale,b=g?0:this.innerRadius,p=g?0:this.outerRadius,{sharedOptions:y,includeOptions:C}=this._getSharedOptions(n,s),P=this._getRotation(),S;for(S=0;S<n;++S)P+=this._circumference(S,o);for(S=n;S<n+r;++S){let k=this._circumference(S,o),v=t[S],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:P,endAngle:P+k,circumference:k,outerRadius:p,innerRadius:b};C&&(w.options=y||this.resolveDataElementOptions(S,v.active?"active":s)),P+=k,this.updateElement(v,S,w,s)}}calculateTotal(){let t=this._cachedMeta,n=t.data,r=0,s;for(s=0;s<n.length;s++){let o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){let n=this._cachedMeta.total;return n>0&&!isNaN(t)?et*(Math.abs(t)/n):0}getLabelAndValue(t){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=xn(n._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0,r=this.chart,s,o,a,c,l;if(!t){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),t=a.data,c=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){let o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(z(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),Qu=(()=>{class i extends Ue{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled,{start:c,count:l}=Jr(n,s,a);this._drawStart=c,this._drawCount=l,Qr(n)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},t),this.updateElements(s,c,l,t)}updateElements(t,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),g=a.axis,b=c.axis,{spanGaps:p,segment:y}=this.options,C=Ze(p)?p:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||o||s==="none",S=n+r,k=t.length,v=n>0&&this.getParsed(n-1);for(let w=0;w<k;++w){let R=t[w],A=P?R:{};if(w<n||w>=S){A.skip=!0;continue}let B=this.getParsed(w),U=j(B[b]),V=A[g]=a.getPixelForValue(B[g],w),H=A[b]=o||U?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,B,l):B[b],w);A.skip=isNaN(V)||isNaN(H)||U,A.stop=w>0&&Math.abs(B[g]-v[g])>C,y&&(A.parsed=B,A.raw=d.data[w]),h&&(A.options=u||this.resolveDataElementOptions(w,R.active?"active":s)),P||this.updateElement(R,w,A,s),v=B}}getMaxOverflow(){let t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return i})(),qc=(()=>{class i extends Ue{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=xn(n._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,r,s){return as.bind(this)(t,n,r,s)}update(t){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){let t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){let t=this.chart,n=t.chartArea,r=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,g=d.getIndexAngle(0)-.5*K,b=g,p,y=360/this.countVisibleElements();for(p=0;p<n;++p)b+=this._computeAngle(p,s,y);for(p=n;p<n+r;p++){let C=t[p],P=b,S=b+this._computeAngle(p,s,y),k=a.getDataVisibility(p)?d.getDistanceFromCenterForValue(this.getParsed(p).r):0;b=S,o&&(l.animateScale&&(k=0),l.animateRotate&&(P=S=g));let v={x:u,y:h,innerRadius:0,outerRadius:k,startAngle:P,endAngle:S,options:this.resolveDataElementOptions(p,C.active?"active":s)};this.updateElement(C,p,v,s)}}countVisibleElements(){let t=this._cachedMeta,n=0;return t.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Gt(this.resolveDataElementOptions(t,n).angle||r):0}}return i})(),Zu=(()=>{class i extends Ks{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),th=(()=>{class i extends Ue{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,s){return as.bind(this)(t,n,r,s)}update(t){let n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=n;c<n+r;c++){let l=t[c],d=this.resolveDataElementOptions(c,l.active?"active":s),u=o.getPointPositionForValue(c,this.getParsed(c).r),h=a?o.xCenter:u.x,g=a?o.yCenter:u.y,b={x:h,y:g,angle:u.angle,skip:isNaN(h)||isNaN(g),options:d};this.updateElement(l,c,b,s)}}}return i})(),eh=(()=>{class i extends Ue{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[t]||"",value:"("+c+", "+l+")"}}update(t){let n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled,{start:o,count:a}=Jr(n,r,s);if(this._drawStart=o,this._drawCount=a,Qr(n)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),g=this.includeOptions(s,h),b=a.axis,p=c.axis,{spanGaps:y,segment:C}=this.options,P=Ze(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||s==="none",k=n>0&&this.getParsed(n-1);for(let v=n;v<n+r;++v){let w=t[v],R=this.getParsed(v),A=S?w:{},B=j(R[p]),U=A[b]=a.getPixelForValue(R[b],v),V=A[p]=o||B?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,R,l):R[p],v);A.skip=isNaN(U)||isNaN(V)||B,A.stop=v>0&&Math.abs(R[b]-k[b])>P,C&&(A.parsed=R,A.raw=d.data[v]),g&&(A.options=h||this.resolveDataElementOptions(v,w.active?"active":s)),S||this.updateElement(w,v,A,s),k=R}this.updateSharedOptions(h,s,u)}getMaxOverflow(){let t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;let o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}return i})(),nh=Object.freeze({__proto__:null,BarController:Gu,BubbleController:Xu,DoughnutController:Ks,LineController:Qu,PieController:Zu,PolarAreaController:qc,RadarController:th,ScatterController:eh});function en(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var ks=class i{static override(e){Object.assign(i.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return en()}parse(){return en()}format(){return en()}add(){return en()}diff(){return en()}startOf(){return en()}endOf(){return en()}},ih={_date:ks};function rh(i,e,t,n){let{controller:r,data:s,_sorted:o}=i,a=r._cachedMeta.iScale,c=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let l=a._reversePixels?Ca:oe;if(n){if(r._sharedOptions){let d=s[0],u=typeof d.getRange=="function"&&d.getRange(e);if(u){let h=l(s,e,t-u),g=l(s,e,t+u);return{lo:h.lo,hi:g.hi}}}}else{let d=l(s,e,t);if(c){let{vScale:u}=r._cachedMeta,{_parsed:h}=i,g=h.slice(0,d.lo+1).reverse().findIndex(p=>!j(p[u.axis]));d.lo-=Math.max(0,g);let b=h.slice(d.hi).findIndex(p=>!j(p[u.axis]));d.hi+=Math.max(0,b)}return d}}return{lo:0,hi:s.length-1}}function oi(i,e,t,n,r){let s=i.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:u,hi:h}=rh(s[a],e,o,r);for(let g=u;g<=h;++g){let b=d[g];b.skip||n(b,l,g)}}}function sh(i){let e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,r){let s=e?Math.abs(n.x-r.x):0,o=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function ys(i,e,t,n,r){let s=[];return!r&&!i.isPointInArea(e)||oi(i,t,e,function(a,c,l){!r&&!ae(a,i.chartArea,0)||a.inRange(e.x,e.y,n)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function oh(i,e,t,n){let r=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:u}=qr(o,{x:e.x,y:e.y});Mn(u,l,d)&&r.push({element:o,datasetIndex:a,index:c})}return oi(i,t,e,s),r}function ah(i,e,t,n,r,s){let o=[],a=sh(t),c=Number.POSITIVE_INFINITY;function l(d,u,h){let g=d.inRange(e.x,e.y,r);if(n&&!g)return;let b=d.getCenterPoint(r);if(!(!!s||i.isPointInArea(b))&&!g)return;let y=a(e,b);y<c?(o=[{element:d,datasetIndex:u,index:h}],c=y):y===c&&o.push({element:d,datasetIndex:u,index:h})}return oi(i,t,e,l),o}function Ms(i,e,t,n,r,s){return!s&&!i.isPointInArea(e)?[]:t==="r"&&!n?oh(i,e,t,r):ah(i,e,t,n,r,s)}function Za(i,e,t,n,r){let s=[],o=t==="x"?"inXRange":"inYRange",a=!1;return oi(i,t,e,(c,l,d)=>{c[o]&&c[o](e[t],r)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(e.x,e.y,r))}),n&&!a?[]:s}var ch={evaluateInteractionItems:oi,modes:{index(i,e,t,n){let r=Ne(e,i),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?ys(i,r,s,n,o):Ms(i,r,s,!1,n,o),c=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,u=l.data[d];u&&!u.skip&&c.push({element:u,datasetIndex:l.index,index:d})}),c):[]},dataset(i,e,t,n){let r=Ne(e,i),s=t.axis||"xy",o=t.includeInvisible||!1,a=t.intersect?ys(i,r,s,n,o):Ms(i,r,s,!1,n,o);if(a.length>0){let c=a[0].datasetIndex,l=i.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(i,e,t,n){let r=Ne(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return ys(i,r,s,n,o)},nearest(i,e,t,n){let r=Ne(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return Ms(i,r,s,t.intersect,n,o)},x(i,e,t,n){let r=Ne(e,i);return Za(i,r,"x",t.intersect,n)},y(i,e,t,n){let r=Ne(e,i);return Za(i,r,"y",t.intersect,n)}}},Kc=["left","top","right","bottom"];function Jn(i,e){return i.filter(t=>t.pos===e)}function tc(i,e){return i.filter(t=>Kc.indexOf(t.pos)===-1&&t.box.axis===e)}function Qn(i,e){return i.sort((t,n)=>{let r=e?n:t,s=e?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function lh(i){let e=[],t,n,r,s,o,a;for(t=0,n=(i||[]).length;t<n;++t)r=i[t],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function dh(i){let e={};for(let t of i){let{stack:n,pos:r,stackWeight:s}=t;if(!n||!Kc.includes(r))continue;let o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function uh(i,e){let t=dh(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=i.length;s<o;++s){a=i[s];let{fullSize:c}=a.box,l=t[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*n:c&&e.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:c&&e.availableHeight)}return t}function hh(i){let e=lh(i),t=Qn(e.filter(l=>l.box.fullSize),!0),n=Qn(Jn(e,"left"),!0),r=Qn(Jn(e,"right")),s=Qn(Jn(e,"top"),!0),o=Qn(Jn(e,"bottom")),a=tc(e,"x"),c=tc(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:Jn(e,"chartArea"),vertical:n.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function ec(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function Yc(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function gh(i,e,t,n){let{pos:r,box:s}=t,o=i.maxPadding;if(!$(r)){t.size&&(i[r]-=t.size);let u=n[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?s.height:s.width),t.size=u.size/u.count,i[r]+=t.size}s.getPadding&&Yc(o,s.getPadding());let a=Math.max(0,e.outerWidth-ec(o,i,"left","right")),c=Math.max(0,e.outerHeight-ec(o,i,"top","bottom")),l=a!==i.w,d=c!==i.h;return i.w=a,i.h=c,t.horizontal?{same:l,other:d}:{same:d,other:l}}function mh(i){let e=i.maxPadding;function t(n){let r=Math.max(e[n]-i[n],0);return i[n]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function fh(i,e){let t=e.maxPadding;function n(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return n(i?["left","right"]:["top","bottom"])}function ei(i,e,t,n){let r=[],s,o,a,c,l,d;for(s=0,o=i.length,l=0;s<o;++s){a=i[s],c=a.box,c.update(a.width||e.w,a.height||e.h,fh(a.horizontal,e));let{same:u,other:h}=gh(e,t,a,n);l|=u&&r.length,d=d||h,c.fullSize||r.push(a)}return l&&ei(r,e,t,n)||d}function Yi(i,e,t,n,r){i.top=t,i.left=e,i.right=e+n,i.bottom=t+r,i.width=n,i.height=r}function nc(i,e,t,n){let r=t.padding,{x:s,y:o}=e;for(let a of i){let c=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let u=e.w*d,h=l.size||c.height;_n(l.start)&&(o=l.start),c.fullSize?Yi(c,r.left,o,t.outerWidth-r.right-r.left,h):Yi(c,e.left+l.placed,o,u,h),l.start=o,l.placed+=u,o=c.bottom}else{let u=e.h*d,h=l.size||c.width;_n(l.start)&&(s=l.start),c.fullSize?Yi(c,s,r.top,h,t.outerHeight-r.bottom-r.top):Yi(c,s,e.top+l.placed,h,u),l.start=s,l.placed+=u,s=c.right}}e.x=s,e.y=o}var It={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){let t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;let r=wt(i.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),a=hh(i.boxes),c=a.vertical,l=a.horizontal;X(i.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});let d=c.reduce((p,y)=>y.box.options&&y.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},r);Yc(h,wt(n));let g=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),b=uh(c.concat(l),u);ei(a.fullSize,g,u,b),ei(c,g,u,b),ei(l,g,u,b)&&ei(c,g,u,b),mh(g),nc(a.leftAndTop,g,u,b),g.x+=g.w,g.y+=g.h,nc(a.rightAndBottom,g,u,b),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},X(a.chartArea,p=>{let y=p.box;Object.assign(y,i.chartArea),y.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},ir=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}},Es=class extends ir{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},tr="$chartjs",ph={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ic=i=>i===null||i==="";function bh(i,e){let t=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[tr]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ic(r)){let s=ls(i,"width");s!==void 0&&(i.width=s)}if(ic(n))if(i.style.height==="")i.height=i.width/(e||2);else{let s=ls(i,"height");s!==void 0&&(i.height=s)}return i}var Gc=Na?{passive:!0}:!1;function _h(i,e,t){i&&i.addEventListener(e,t,Gc)}function yh(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,Gc)}function Mh(i,e){let t=ph[i.type]||i.type,{x:n,y:r}=Ne(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function rr(i,e){for(let t of i)if(t===e||t.contains(e))return!0}function xh(i,e,t){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||rr(a.addedNodes,n),o=o&&!rr(a.removedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ch(i,e,t){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||rr(a.removedNodes,n),o=o&&!rr(a.addedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var ii=new Map,rc=0;function Xc(){let i=window.devicePixelRatio;i!==rc&&(rc=i,ii.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function Ph(i,e){ii.size||window.addEventListener("resize",Xc),ii.set(i,e)}function Oh(i){ii.delete(i),ii.size||window.removeEventListener("resize",Xc)}function vh(i,e,t){let n=i.canvas,r=n&&qi(n);if(!r)return;let s=Xr((a,c)=>{let l=r.clientWidth;t(a,c),l<r.clientWidth&&t()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(r),Ph(i,s),o}function xs(i,e,t){t&&t.disconnect(),e==="resize"&&Oh(i)}function Sh(i,e,t){let n=i.canvas,r=Xr(s=>{i.ctx!==null&&t(Mh(s,i))},i);return _h(n,e,r),r}var As=class extends ir{acquireContext(e,t){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(bh(e,t),n):null}releaseContext(e){let t=e.canvas;if(!t[tr])return!1;let n=t[tr].initial;["height","width"].forEach(s=>{let o=n[s];j(o)?t.removeAttribute(s):t.setAttribute(s,o)});let r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[tr],!0}addEventListener(e,t,n){this.removeEventListener(e,t);let r=e.$proxies||(e.$proxies={}),o={attach:xh,detach:Ch,resize:vh}[t]||Sh;r[t]=o(e,t,n)}removeEventListener(e,t){let n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:xs,detach:xs,resize:xs}[t]||yh)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return La(e,t,n,r)}isAttached(e){let t=e&&qi(e);return!!(t&&t.isConnected)}};function wh(i){return!Hi()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Es:As}var ee=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Ze(this.x)&&Ze(this.y)}getProps(e,t){let n=this.$animations;if(!t||!n)return this;let r={};return e.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}};function kh(i,e){let t=i.options.ticks,n=Eh(i),r=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?Th(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return Ih(e,l,s,o/r),l;let d=Ah(s,e,r);if(o>0){let u,h,g=o>1?Math.round((c-a)/(o-1)):null;for(Gi(e,l,d,j(g)?0:a-g,a),u=0,h=o-1;u<h;u++)Gi(e,l,d,s[u],s[u+1]);return Gi(e,l,d,c,j(g)?e.length:c+g),l}return Gi(e,l,d),l}function Eh(i){let e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(n,r))}function Ah(i,e,t){let n=Dh(i),r=e.length/t;if(!n)return Math.max(r,1);let s=ya(n);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function Th(i){let e=[],t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function Ih(i,e,t,n){let r=0,s=t[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===s&&(e.push(i[o]),r++,s=t[r*n])}function Gi(i,e,t,n,r){let s=z(n,0),o=Math.min(z(r,i.length),i.length),a=0,c,l,d;for(t=Math.ceil(t),r&&(c=r-n,t=c/Math.floor(c/t)),d=s;d<0;)a++,d=Math.round(s+a*t);for(l=Math.max(s,0);l<o;l++)l===d&&(e.push(i[l]),a++,d=Math.round(s+a*t))}function Dh(i){let e=i.length,t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}var Rh=i=>i==="left"?"right":i==="right"?"left":i,sc=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,oc=(i,e)=>Math.min(e||i,i);function ac(i,e){let t=[],n=i.length/e,r=i.length,s=0;for(;s<r;s+=n)t.push(i[Math.floor(s)]);return t}function Bh(i,e,t){let n=i.ticks.length,r=Math.min(e,n-1),s=i._startPixel,o=i._endPixel,a=1e-6,c=i.getPixelForTick(r),l;if(!(t&&(n===1?l=Math.max(c-s,o-c):e===0?l=(i.getPixelForTick(1)-c)/2:l=(c-i.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function Fh(i,e){X(i,t=>{let n=t.gc,r=n.length/2,s;if(r>e){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}function Zn(i){return i.drawTicks?i.tickLength:0}function cc(i,e){if(!i.display)return 0;let t=pt(i.font,e),n=wt(i.padding);return(tt(i.text)?i.text.length:1)*t.lineHeight+n.height}function zh(i,e){return Ce(i,{scale:e,type:"scale"})}function Lh(i,e,t){return Ce(i,{tick:t,index:e,type:"tick"})}function Nh(i,e,t){let n=Vi(i);return(t&&e!=="right"||!t&&e==="right")&&(n=Rh(n)),n}function Vh(i,e,t,n){let{top:r,left:s,bottom:o,right:a,chart:c}=i,{chartArea:l,scales:d}=c,u=0,h,g,b,p=o-r,y=a-s;if(i.isHorizontal()){if(g=St(n,s,a),$(t)){let C=Object.keys(t)[0],P=t[C];b=d[C].getPixelForValue(P)+p-e}else t==="center"?b=(l.bottom+l.top)/2+p-e:b=sc(i,t,e);h=a-s}else{if($(t)){let C=Object.keys(t)[0],P=t[C];g=d[C].getPixelForValue(P)-y+e}else t==="center"?g=(l.left+l.right)/2-y+e:g=sc(i,t,e);b=St(n,o,r),u=t==="left"?-dt:dt}return{titleX:g,titleY:b,maxWidth:h,rotation:u}}var rn=class i extends ee{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=zt(e,Number.POSITIVE_INFINITY),t=zt(t,Number.NEGATIVE_INFINITY),n=zt(n,Number.POSITIVE_INFINITY),r=zt(r,Number.NEGATIVE_INFINITY),{min:zt(e,n),max:zt(t,r),minDefined:ot(e),maxDefined:ot(t)}}getMinMax(e){let{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:n};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:zt(t,zt(n,t)),max:zt(n,zt(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Q(this.options.beforeUpdate,[this])}update(e,t,n){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ia(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?ac(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=kh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Q(this.options.afterUpdate,[this])}beforeSetDimensions(){Q(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Q(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Q(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=Q(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,n=oc(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation,o=r,a,c,l;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,g=yt(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:g/(n-1),u+6>a&&(a=g/(n-(e.offset?.5:1)),c=this.maxHeight-Zn(e.grid)-t.padding-cc(e.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),o=Li(Math.min(Math.asin(yt((d.highest.height+6)/a,-1,1)),Math.asin(yt(c/l,-1,1))-Math.asin(yt(h/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Q(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Q(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=cc(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=Zn(s)+c):(e.height=this.maxHeight,e.width=Zn(s)+c),n.display&&this.ticks.length){let{first:l,last:d,widest:u,highest:h}=this._getLabelSizes(),g=n.padding*2,b=Gt(this.labelRotation),p=Math.cos(b),y=Math.sin(b);if(a){let C=n.mirror?0:y*u.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+C+g)}else{let C=n.mirror?0:p*u.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+C+g)}this._calculatePadding(l,d,y,p)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),h=0,g=0;c?l?(h=r*e.width,g=n*t.height):(h=n*e.height,g=r*t.width):s==="start"?g=t.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,g=t.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-u+o)*this.width/(this.width-u),0)}else{let d=t.height/2,u=e.height/2;s==="start"?(d=0,u=e.height):s==="end"&&(d=t.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Q(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)j(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=ac(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(t/oc(t,n)),l=0,d=0,u,h,g,b,p,y,C,P,S,k,v;for(u=0;u<t;u+=c){if(b=e[u].label,p=this._resolveTickFontOptions(u),r.font=y=p.string,C=s[y]=s[y]||{data:{},gc:[]},P=p.lineHeight,S=k=0,!j(b)&&!tt(b))S=Hn(r,C.data,C.gc,S,b),k=P;else if(tt(b))for(h=0,g=b.length;h<g;++h)v=b[h],!j(v)&&!tt(v)&&(S=Hn(r,C.data,C.gc,S,v),k+=P);o.push(S),a.push(k),l=Math.max(S,l),d=Math.max(k,d)}Fh(s,t);let w=o.indexOf(l),R=a.indexOf(d),A=B=>({width:o[B]||0,height:a[B]||0});return{first:A(0),last:A(t-1),widest:A(w),highest:A(R),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return xa(this._alignToPixels?Fe(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let n=t[e];return n.$context||(n.$context=Lh(this.getContext(),e,n))}return this.$context||(this.$context=zh(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=Gt(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*n>a*r?a/n:c/r:c*r<a*n?c/n:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),h=Zn(s),g=[],b=a.setContext(this.getContext()),p=b.display?b.width:0,y=p/2,C=function(rt){return Fe(n,rt,p)},P,S,k,v,w,R,A,B,U,V,H,Ot;if(o==="top")P=C(this.bottom),R=this.bottom-h,B=P-y,V=C(e.top)+y,Ot=e.bottom;else if(o==="bottom")P=C(this.top),V=e.top,Ot=C(e.bottom)-y,R=P+y,B=this.top+h;else if(o==="left")P=C(this.right),w=this.right-h,A=P-y,U=C(e.left)+y,H=e.right;else if(o==="right")P=C(this.left),U=e.left,H=C(e.right)-y,w=P+y,A=this.left+h;else if(t==="x"){if(o==="center")P=C((e.top+e.bottom)/2+.5);else if($(o)){let rt=Object.keys(o)[0],ut=o[rt];P=C(this.chart.scales[rt].getPixelForValue(ut))}V=e.top,Ot=e.bottom,R=P+y,B=R+h}else if(t==="y"){if(o==="center")P=C((e.left+e.right)/2);else if($(o)){let rt=Object.keys(o)[0],ut=o[rt];P=C(this.chart.scales[rt].getPixelForValue(ut))}w=P-y,A=w-h,U=e.left,H=e.right}let Vt=z(r.ticks.maxTicksLimit,u),J=Math.max(1,Math.ceil(u/Vt));for(S=0;S<u;S+=J){let rt=this.getContext(S),ut=s.setContext(rt),Qt=a.setContext(rt),Et=ut.lineWidth,cn=ut.color,pi=Qt.dash||[],ln=Qt.dashOffset,Fn=ut.tickWidth,He=ut.tickColor,zn=ut.tickBorderDash||[],qe=ut.tickBorderDashOffset;k=Bh(this,S,c),k!==void 0&&(v=Fe(n,k,Et),l?w=A=U=H=v:R=B=V=Ot=v,g.push({tx1:w,ty1:R,tx2:A,ty2:B,x1:U,y1:V,x2:H,y2:Ot,width:Et,color:cn,borderDash:pi,borderDashOffset:ln,tickWidth:Fn,tickColor:He,tickBorderDash:zn,tickBorderDashOffset:qe}))}return this._ticksLength=u,this._borderValue=P,g}_computeLabelItems(e){let t=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:u}=s,h=Zn(n.grid),g=h+d,b=u?-d:g,p=-Gt(this.labelRotation),y=[],C,P,S,k,v,w,R,A,B,U,V,H,Ot="middle";if(r==="top")w=this.bottom-b,R=this._getXAxisLabelAlignment();else if(r==="bottom")w=this.top+b,R=this._getXAxisLabelAlignment();else if(r==="left"){let J=this._getYAxisLabelAlignment(h);R=J.textAlign,v=J.x}else if(r==="right"){let J=this._getYAxisLabelAlignment(h);R=J.textAlign,v=J.x}else if(t==="x"){if(r==="center")w=(e.top+e.bottom)/2+g;else if($(r)){let J=Object.keys(r)[0],rt=r[J];w=this.chart.scales[J].getPixelForValue(rt)+g}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")v=(e.left+e.right)/2-g;else if($(r)){let J=Object.keys(r)[0],rt=r[J];v=this.chart.scales[J].getPixelForValue(rt)}R=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(c==="start"?Ot="top":c==="end"&&(Ot="bottom"));let Vt=this._getLabelSizes();for(C=0,P=a.length;C<P;++C){S=a[C],k=S.label;let J=s.setContext(this.getContext(C));A=this.getPixelForTick(C)+s.labelOffset,B=this._resolveTickFontOptions(C),U=B.lineHeight,V=tt(k)?k.length:1;let rt=V/2,ut=J.color,Qt=J.textStrokeColor,Et=J.textStrokeWidth,cn=R;o?(v=A,R==="inner"&&(C===P-1?cn=this.options.reverse?"left":"right":C===0?cn=this.options.reverse?"right":"left":cn="center"),r==="top"?l==="near"||p!==0?H=-V*U+U/2:l==="center"?H=-Vt.highest.height/2-rt*U+U:H=-Vt.highest.height+U/2:l==="near"||p!==0?H=U/2:l==="center"?H=Vt.highest.height/2-rt*U:H=Vt.highest.height-V*U,u&&(H*=-1),p!==0&&!J.showLabelBackdrop&&(v+=U/2*Math.sin(p))):(w=A,H=(1-V)*U/2);let pi;if(J.showLabelBackdrop){let ln=wt(J.backdropPadding),Fn=Vt.heights[C],He=Vt.widths[C],zn=H-ln.top,qe=0-ln.left;switch(Ot){case"middle":zn-=Fn/2;break;case"bottom":zn-=Fn;break}switch(R){case"center":qe-=He/2;break;case"right":qe-=He;break;case"inner":C===P-1?qe-=He:C>0&&(qe-=He/2);break}pi={left:qe,top:zn,width:He+ln.width,height:Fn+ln.height,color:J.backdropColor}}y.push({label:k,font:B,textOffset:H,options:{rotation:p,color:ut,strokeColor:Qt,strokeWidth:Et,textAlign:cn,textBaseline:Ot,translation:[v,w],backdrop:pi}})}return y}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-Gt(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,d;return t==="left"?r?(d=this.right+s,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d=this.left)):t==="right"?r?(d=this.left+s,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){let c=r[s];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,u,h;this.isHorizontal()?(l=Fe(e,this.left,o)-o/2,d=Fe(e,this.right,a)+a/2,u=h=c):(u=Fe(e,this.top,o)-o/2,h=Fe(e,this.bottom,a)+a/2,l=d=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,u),t.lineTo(d,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&Yn(n,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;ze(n,l,0,d,c,a)}r&&Gn(n)}drawTitle(){let{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;let s=pt(n.font),o=wt(n.padding),a=n.align,c=s.lineHeight/2;t==="bottom"||t==="center"||$(t)?(c+=o.bottom,tt(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:u,rotation:h}=Vh(this,c,t,a);ze(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:Nh(a,t,r),textBaseline:"middle",translation:[l,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,n=z(e.grid&&e.grid.z,-1),r=z(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],s,o;for(s=0,o=t.length;s<o;++s){let a=t[s];a[n]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return pt(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},vn=class{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),n;Wh(t)&&(n=this.register(t));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Uh(e,o,n),this.override&&it.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in it[r]&&(delete it[r][n],this.override&&delete Be[n])}};function Uh(i,e,t){let n=fn(Object.create(null),[t?it.get(t):{},it.get(e),i.defaults]);it.set(e,n),i.defaultRoutes&&jh(e,i.defaultRoutes),i.descriptors&&it.describe(e,i.descriptors)}function jh(i,e){Object.keys(e).forEach(t=>{let n=t.split("."),r=n.pop(),s=[i].concat(n).join("."),o=e[t].split("."),a=o.pop(),c=o.join(".");it.route(s,r,c,a)})}function Wh(i){return"id"in i&&"defaults"in i}var Ts=class{constructor(){this.controllers=new vn(Ue,"datasets",!0),this.elements=new vn(ee,"elements"),this.plugins=new vn(Object,"plugins"),this.scales=new vn(rn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(r=>{let s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):X(r,o=>{let a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,n){let r=zi(e);Q(n["before"+r],[],n),t[e](n),Q(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){let r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}},ue=new Ts,Is=class{constructor(){this._init=[]}notify(e,t,n,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,r){r=r||{};for(let s of e){let o=s.plugin,a=o[n],c=[t,r,s.options];if(Q(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){j(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let n=e&&e.config,r=z(n.options&&n.options.plugins,{}),s=$h(n);return r===!1&&!t?[]:qh(e,s,r,t)}_notifyStateChanges(e){let t=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}};function $h(i){let e={},t=[],n=Object.keys(ue.plugins.items);for(let s=0;s<n.length;s++)t.push(ue.getPlugin(n[s]));let r=i.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function Hh(i,e){return!e&&i===!1?null:i===!0?{}:i}function qh(i,{plugins:e,localIds:t},n,r){let s=[],o=i.getContext();for(let a of e){let c=a.id,l=Hh(n[c],r);l!==null&&s.push({plugin:a,options:Kh(i.config,{plugin:a,local:t[c]},l,o)})}return s}function Kh(i,{plugin:e,local:t},n,r){let s=i.pluginScopeKeys(e),o=i.getOptionScopes(n,s);return t&&e.defaults&&o.push(e.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ds(i,e){let t=it.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Yh(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function Gh(i,e){return i===e?"_index_":"_value_"}function lc(i){if(i==="x"||i==="y"||i==="r")return i}function Xh(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Rs(i,...e){if(lc(i))return i;for(let t of e){let n=t.axis||Xh(t.position)||i.length>1&&lc(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function dc(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function Jh(i,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(t.length)return dc(i,"x",t[0])||dc(i,"y",t[0])}return{}}function Qh(i,e){let t=Be[i.type]||{scales:{}},n=e.scales||{},r=Ds(i.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{let a=n[o];if(!$(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=Rs(o,a,Jh(o,i),it.scales[a.type]),l=Gh(c,r),d=t.scales||{};s[o]=bn(Object.create(null),[{axis:c},a,d[c],d[l]])}),i.data.datasets.forEach(o=>{let a=o.type||i.type,c=o.indexAxis||Ds(a,e),d=(Be[a]||{}).scales||{};Object.keys(d).forEach(u=>{let h=Yh(u,c),g=o[h+"AxisID"]||h;s[g]=s[g]||Object.create(null),bn(s[g],[{axis:h},n[g],d[u]])})}),Object.keys(s).forEach(o=>{let a=s[o];bn(a,[it.scales[a.type],it.scale])}),s}function Jc(i){let e=i.options||(i.options={});e.plugins=z(e.plugins,{}),e.scales=Qh(i,e)}function Qc(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function Zh(i){return i=i||{},i.data=Qc(i.data),Jc(i),i}var uc=new Map,Zc=new Set;function Xi(i,e){let t=uc.get(i);return t||(t=e(),uc.set(i,t),Zc.add(t)),t}var ti=(i,e,t)=>{let n=xe(e,t);n!==void 0&&i.add(n)},Bs=class{constructor(e){this._config=Zh(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qc(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),Jc(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Xi(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Xi(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,n=this.type;return Xi(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let n=this._scopeCache,r=n.get(e);return(!r||t)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){let{options:r,type:s}=this,o=this._cachedScopes(e,n),a=o.get(t);if(a)return a;let c=new Set;t.forEach(d=>{e&&(c.add(e),d.forEach(u=>ti(c,e,u))),d.forEach(u=>ti(c,r,u)),d.forEach(u=>ti(c,Be[s]||{},u)),d.forEach(u=>ti(c,it,u)),d.forEach(u=>ti(c,Ui,u))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),Zc.has(t)&&o.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,Be[t]||{},it.datasets[t]||{},{type:t},it,Ui]}resolveNamedOptions(e,t,n,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=hc(this._resolverCache,e,r),c=o;if(eg(o,t)){s.$shared=!1,n=ye(n)?n():n;let l=this.createResolver(e,n,a);c=Qe(o,n,l)}for(let l of t)s[l]=c[l];return s}createResolver(e,t,n=[""],r){let{resolver:s}=hc(this._resolverCache,e,n);return $(t)?Qe(s,t,void 0,r):s}};function hc(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));let r=t.join(),s=n.get(r);return s||(s={resolver:$i(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,s)),s}var tg=i=>$(i)&&Object.getOwnPropertyNames(i).some(e=>ye(i[e]));function eg(i,e){let{isScriptable:t,isIndexable:n}=rs(i);for(let r of e){let s=t(r),o=n(r),a=(o||s)&&i[r];if(s&&(ye(a)||tg(a))||o&&tt(a))return!0}return!1}var ng="4.5.0",ig=["top","bottom","left","right","chartArea"];function gc(i,e){return i==="top"||i==="bottom"||ig.indexOf(i)===-1&&e==="x"}function mc(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function fc(i){let e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Q(t&&t.onComplete,[i],e)}function rg(i){let e=i.chart,t=e.options.animation;Q(t&&t.onProgress,[i],e)}function tl(i){return Hi()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var er={},pc=i=>{let e=tl(i);return Object.values(er).filter(t=>t.canvas===e).pop()};function sg(i,e,t){let n=Object.keys(i);for(let r of n){let s=+r;if(s>=e){let o=i[r];delete i[r],(t>0||s>e)&&(i[s+t]=o)}}}function og(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}var cr=(()=>{class i{static defaults=it;static instances=er;static overrides=Be;static registry=ue;static version=ng;static getChart=pc;static register(...t){ue.add(...t),bc()}static unregister(...t){ue.remove(...t),bc()}constructor(t,n){let r=this.config=new Bs(n),s=tl(t),o=pc(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||wh(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;if(this.id=fa(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Is,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Sa(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],er[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Pe.listen(this,"complete",fc),Pe.listen(this,"progress",rg),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return j(t)?n&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ue}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cs(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return es(this.canvas,this.ctx),this}stop(){return Pe.stop(this),this}resize(t,n){Pe.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,cs(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Q(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};X(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){let t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];n&&(o=o.concat(Object.keys(n).map(a=>{let c=n[a],l=Rs(a,c),d=l==="r",u=l==="x";return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),X(o,a=>{let c=a.options,l=c.id,d=Rs(l,c),u=z(c.type,a.dtype);(c.position===void 0||gc(c.position,d)!==gc(a.dposition))&&(c.position=a.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{let g=ue.getScale(u);h=new g({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(c,t)}),X(s,(a,c)=>{a||delete r[c]}),X(r,a=>{It.configure(this,a,a.options),It.addBox(this,a)})}_updateMetasets(){let t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(mc("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],n=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){let o=n[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||Ds(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=ue.getController(c),{datasetElementType:d,dataElementType:u}=it.datasets[c];Object.assign(l,{dataElementType:ue.getElement(u),datasetElementType:d&&ue.getElement(d)}),a.controller=new l(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){X(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:h}=this.getDatasetMeta(d),g=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(g),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||X(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mc("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){X(this.scales,t=>{It.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!jr(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of n){let a=r==="_removeElements"?-o:o;sg(t,s,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=o=>new Set(t.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!jr(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,t);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],X(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ye(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){let r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pe.has(this)?this.attached&&!Pe.running(this)&&Pe.start(this):(this.draw(),fc({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let n=this._sortedMetasets,r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=ms(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Yn(n,s),t.controller.draw(),s&&Gn(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ae(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){let o=ch.modes[n];return typeof o=="function"?o(this,t,r,s):[]}getDatasetMeta(t){let n=this.data.datasets[t],r=this._metasets,s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ce(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let n=this.data.datasets[t];if(!n)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){let r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){let s=r?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);_n(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){let n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Pe.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),es(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete er[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,n=this.platform,r=(o,a)=>{n.addEventListener(this,o,a),t[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};X(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,n=this.platform,r=(l,d)=>{n.addEventListener(this,l,d),t[l]=d},s=(l,d)=>{t[l]&&(n.removeEventListener(this,l,d),delete t[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){X(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},X(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){let s=r?"set":"remove",o,a,c,l;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let n=this._active||[],r=t.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!qn(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){let s=this.options.hover,o=(l,d)=>l.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=o(n,t),c=r?t:o(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){let r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,n,r){let{_active:s=[],options:o}=this,a=n,c=this._getActiveElements(t,s,r,a),l=_a(t),d=og(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Q(o.onHover,[t,c,this],this),l&&Q(o.onClick,[t,c,this],this));let u=!qn(c,s);return(u||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,u}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return i})();function bc(){return X(cr.instances,i=>i._plugins.invalidate())}function ag(i,e,t){let{startAngle:n,x:r,y:s,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:l,borderJoinStyle:d}=c,u=Math.min(l/o,vt(n-t));if(i.beginPath(),i.arc(r,s,o-l/2,n+u/2,t-u/2),a>0){let h=Math.min(l/a,vt(n-t));i.arc(r,s,a+l/2,t-h/2,n+h/2,!0)}else{let h=Math.min(l/2,o*vt(n-t));if(d==="round")i.arc(r,s,h,t-K/2,n+K/2,!0);else if(d==="bevel"){let g=2*h*h,b=-g*Math.cos(t+K/2)+r,p=-g*Math.sin(t+K/2)+s,y=g*Math.cos(n+K/2)+r,C=g*Math.sin(n+K/2)+s;i.lineTo(b,p),i.lineTo(y,C)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function cg(i,e,t){let{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=r/a;i.beginPath(),i.arc(s,o,a,n-l,t+l),c>r?(l=r/c,i.arc(s,o,c,t+l,n-l,!0)):i.arc(s,o,r,t+dt,n-dt),i.closePath(),i.clip()}function lg(i){return Wi(i,["outerStart","outerEnd","innerStart","innerEnd"])}function dg(i,e,t,n){let r=lg(i.options.borderRadius),s=(t-e)/2,o=Math.min(s,n*e/2),a=c=>{let l=(t-Math.min(s,c))*n/2;return yt(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:yt(r.innerStart,0,o),innerEnd:yt(r.innerEnd,0,o)}}function On(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function sr(i,e,t,n,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=e,u=Math.max(e.outerRadius+n+t-l,0),h=d>0?d+n+t+l:0,g=0,b=r-c;if(n){let J=d>0?d-n:0,rt=u>0?u-n:0,ut=(J+rt)/2,Qt=ut!==0?b*ut/(ut+n):b;g=(b-Qt)/2}let p=Math.max(.001,b*u-t/K)/u,y=(b-p)/2,C=c+y+g,P=r-y-g,{outerStart:S,outerEnd:k,innerStart:v,innerEnd:w}=dg(e,h,u,P-C),R=u-S,A=u-k,B=C+S/R,U=P-k/A,V=h+v,H=h+w,Ot=C+v/V,Vt=P-w/H;if(i.beginPath(),s){let J=(B+U)/2;if(i.arc(o,a,u,B,J),i.arc(o,a,u,J,U),k>0){let Et=On(A,U,o,a);i.arc(Et.x,Et.y,k,U,P+dt)}let rt=On(H,P,o,a);if(i.lineTo(rt.x,rt.y),w>0){let Et=On(H,Vt,o,a);i.arc(Et.x,Et.y,w,P+dt,Vt+Math.PI)}let ut=(P-w/h+(C+v/h))/2;if(i.arc(o,a,h,P-w/h,ut,!0),i.arc(o,a,h,ut,C+v/h,!0),v>0){let Et=On(V,Ot,o,a);i.arc(Et.x,Et.y,v,Ot+Math.PI,C-dt)}let Qt=On(R,C,o,a);if(i.lineTo(Qt.x,Qt.y),S>0){let Et=On(R,B,o,a);i.arc(Et.x,Et.y,S,C-dt,B)}}else{i.moveTo(o,a);let J=Math.cos(B)*u+o,rt=Math.sin(B)*u+a;i.lineTo(J,rt);let ut=Math.cos(U)*u+o,Qt=Math.sin(U)*u+a;i.lineTo(ut,Qt)}i.closePath()}function ug(i,e,t,n,r){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){sr(i,e,t,n,c,r);for(let l=0;l<s;++l)i.fill();isNaN(a)||(c=o+(a%et||et))}return sr(i,e,t,n,c,r),i.fill(),c}function hg(i,e,t,n,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:g}=c,b=c.borderAlign==="inner";if(!l)return;i.setLineDash(u||[]),i.lineDashOffset=h,b?(i.lineWidth=l*2,i.lineJoin=d||"round"):(i.lineWidth=l,i.lineJoin=d||"bevel");let p=e.endAngle;if(s){sr(i,e,t,n,p,r);for(let y=0;y<s;++y)i.stroke();isNaN(a)||(p=o+(a%et||et))}b&&cg(i,e,p),c.selfJoin&&p-o>=K&&g===0&&d!=="miter"&&ag(i,e,p),s||(sr(i,e,t,n,p,r),i.stroke())}var Fs=class extends ee{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){let r=this.getProps(["x","y"],n),{angle:s,distance:o}=qr(r,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,g=z(u,c-a),b=Mn(s,a,c)&&a!==c,p=g>=et||b,y=le(o,l+h,d+h);return p&&y}getCenterPoint(e){let{x:t,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,d=(r+s)/2,u=(o+a+l+c)/2;return{x:t+Math.cos(d)*u,y:n+Math.sin(d)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>et?Math.floor(n/et):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(K,n||0)),l=r*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,ug(e,this,l,s,o),hg(e,this,l,s,o),e.restore()}};function el(i,e,t=e){i.lineCap=z(t.borderCapStyle,e.borderCapStyle),i.setLineDash(z(t.borderDash,e.borderDash)),i.lineDashOffset=z(t.borderDashOffset,e.borderDashOffset),i.lineJoin=z(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=z(t.borderWidth,e.borderWidth),i.strokeStyle=z(t.borderColor,e.borderColor)}function gg(i,e,t){i.lineTo(t.x,t.y)}function mg(i){return i.stepped?Aa:i.tension||i.cubicInterpolationMode==="monotone"?Ta:gg}function nl(i,e,t={}){let n=i.length,{start:r=0,end:s=n-1}=t,{start:o,end:a}=e,c=Math.max(r,o),l=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:n,start:c,loop:e.loop,ilen:l<c&&!d?n+l-c:l-c}}function fg(i,e,t,n){let{points:r,options:s}=e,{count:o,start:a,loop:c,ilen:l}=nl(r,t,n),d=mg(s),{move:u=!0,reverse:h}=n||{},g,b,p;for(g=0;g<=l;++g)b=r[(a+(h?l-g:g))%o],!b.skip&&(u?(i.moveTo(b.x,b.y),u=!1):d(i,p,b,h,s.stepped),p=b);return c&&(b=r[(a+(h?l:0))%o],d(i,p,b,h,s.stepped)),!!c}function pg(i,e,t,n){let r=e.points,{count:s,start:o,ilen:a}=nl(r,t,n),{move:c=!0,reverse:l}=n||{},d=0,u=0,h,g,b,p,y,C,P=k=>(o+(l?a-k:k))%s,S=()=>{p!==y&&(i.lineTo(d,y),i.lineTo(d,p),i.lineTo(d,C))};for(c&&(g=r[P(0)],i.moveTo(g.x,g.y)),h=0;h<=a;++h){if(g=r[P(h)],g.skip)continue;let k=g.x,v=g.y,w=k|0;w===b?(v<p?p=v:v>y&&(y=v),d=(u*d+k)/++u):(S(),i.lineTo(k,v),b=w,u=0,p=y=v),C=v}S()}function zs(i){let e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?pg:fg}function bg(i){return i.stepped?Va:i.tension||i.cubicInterpolationMode==="monotone"?Ua:Re}function _g(i,e,t,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,n)&&r.closePath()),el(i,e.options),i.stroke(r)}function yg(i,e,t,n){let{segments:r,options:s}=e,o=zs(e);for(let a of r)el(i,s,a.style),i.beginPath(),o(i,e,a,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}var Mg=typeof Path2D=="function";function xg(i,e,t,n){Mg&&!e.options.segment?_g(i,e,t,n):yg(i,e,t,n)}var lr=(()=>{class i extends ee{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;za(this._points,r,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wa(this,this.options.segment))}first(){let t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){let t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){let r=this.options,s=t[n],o=this.points,a=gs(this,{property:n,start:s,end:s});if(!a.length)return;let c=[],l=bg(r),d,u;for(d=0,u=a.length;d<u;++d){let{start:h,end:g}=a[d],b=o[h],p=o[g];if(b===p){c.push(b);continue}let y=Math.abs((s-b[n])/(p[n]-b[n])),C=l(b,p,y,r.stepped);C[n]=t[n],c.push(C)}return c.length===1?c[0]:c}pathSegment(t,n,r){return zs(this)(t,this,n,r)}path(t,n,r){let s=this.segments,o=zs(this),a=this._loop;n=n||0,r=r||this.points.length-n;for(let c of s)a&=o(t,this,c,{start:n,end:n+r-1});return!!a}draw(t,n,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),xg(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function _c(i,e,t,n){let r=i.options,{[t]:s}=i.getProps([t],n);return Math.abs(e-s)<r.radius+r.hitRadius}var Cg=(()=>{class i extends ee{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return _c(this,t,"x",n)}inYRange(t,n){return _c(this,t,"y",n)}getCenterPoint(t){let{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);let r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){let r=this.options;this.skip||r.radius<.1||!ae(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,ji(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return i})();function il(i,e){let{x:t,y:n,base:r,width:s,height:o}=i.getProps(["x","y","base","width","height"],e),a,c,l,d,u;return i.horizontal?(u=o/2,a=Math.min(t,r),c=Math.max(t,r),l=n-u,d=n+u):(u=s/2,a=t-u,c=t+u,l=Math.min(n,r),d=Math.max(n,r)),{left:a,top:l,right:c,bottom:d}}function Ve(i,e,t,n){return i?0:yt(e,t,n)}function Pg(i,e,t){let n=i.options.borderWidth,r=i.borderSkipped,s=is(n);return{t:Ve(r.top,s.top,0,t),r:Ve(r.right,s.right,0,e),b:Ve(r.bottom,s.bottom,0,t),l:Ve(r.left,s.left,0,e)}}function Og(i,e,t){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Le(r),o=Math.min(e,t),a=i.borderSkipped,c=n||$(r);return{topLeft:Ve(!c||a.top||a.left,s.topLeft,0,o),topRight:Ve(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Ve(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ve(!c||a.bottom||a.right,s.bottomRight,0,o)}}function vg(i){let e=il(i),t=e.right-e.left,n=e.bottom-e.top,r=Pg(i,t/2,n/2),s=Og(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Cs(i,e,t,n){let r=e===null,s=t===null,a=i&&!(r&&s)&&il(i,n);return a&&(r||le(e,a.left,a.right))&&(s||le(t,a.top,a.bottom))}function Sg(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function wg(i,e){i.rect(e.x,e.y,e.w,e.h)}function Ps(i,e,t={}){let n=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,s=(i.x+i.w!==t.x+t.w?e:0)-n,o=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+o,radius:i.radius}}var Ls=class extends ee{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=vg(this),a=Sg(o.radius)?Cn:wg;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Ps(o,t,s)),e.clip(),a(e,Ps(s,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,Ps(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Cs(this,e,t,n)}inXRange(e,t){return Cs(this,e,null,t)}inYRange(e,t){return Cs(this,null,e,t)}getCenterPoint(e){let{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},kg=Object.freeze({__proto__:null,ArcElement:Fs,BarElement:Ls,LineElement:lr,PointElement:Cg}),Ns=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],yc=Ns.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function rl(i){return Ns[i%Ns.length]}function sl(i){return yc[i%yc.length]}function Eg(i,e){return i.borderColor=rl(e),i.backgroundColor=sl(e),++e}function Ag(i,e){return i.backgroundColor=i.data.map(()=>rl(e++)),e}function Tg(i,e){return i.backgroundColor=i.data.map(()=>sl(e++)),e}function Ig(i){let e=0;return(t,n)=>{let r=i.getDatasetMeta(n).controller;r instanceof Ks?e=Ag(t,e):r instanceof qc?e=Tg(t,e):r&&(e=Eg(t,e))}}function Mc(i){let e;for(e in i)if(i[e].borderColor||i[e].backgroundColor)return!0;return!1}function Dg(i){return i&&(i.borderColor||i.backgroundColor)}function Rg(){return it.borderColor!=="rgba(0,0,0,0.1)"||it.backgroundColor!=="rgba(0,0,0,0.1)"}var Bg={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,e,t){if(!t.enabled)return;let{data:{datasets:n},options:r}=i.config,{elements:s}=r,o=Mc(n)||Dg(r)||s&&Mc(s)||Rg();if(!t.forceOverride&&o)return;let a=Ig(i);n.forEach(a)}};function Fg(i,e,t,n,r){let s=r.samples||n;if(s>=t)return i.slice(e,e+t);let o=[],a=(t-2)/(s-2),c=0,l=e+t-1,d=e,u,h,g,b,p;for(o[c++]=i[d],u=0;u<s-2;u++){let y=0,C=0,P,S=Math.floor((u+1)*a)+1+e,k=Math.min(Math.floor((u+2)*a)+1,t)+e,v=k-S;for(P=S;P<k;P++)y+=i[P].x,C+=i[P].y;y/=v,C/=v;let w=Math.floor(u*a)+1+e,R=Math.min(Math.floor((u+1)*a)+1,t)+e,{x:A,y:B}=i[d];for(g=b=-1,P=w;P<R;P++)b=.5*Math.abs((A-y)*(i[P].y-B)-(A-i[P].x)*(C-B)),b>g&&(g=b,h=i[P],p=P);o[c++]=h,d=p}return o[c++]=i[l],o}function zg(i,e,t,n){let r=0,s=0,o,a,c,l,d,u,h,g,b,p,y=[],C=e+t-1,P=i[e].x,k=i[C].x-P;for(o=e;o<e+t;++o){a=i[o],c=(a.x-P)/k*n,l=a.y;let v=c|0;if(v===d)l<b?(b=l,u=o):l>p&&(p=l,h=o),r=(s*r+a.x)/++s;else{let w=o-1;if(!j(u)&&!j(h)){let R=Math.min(u,h),A=Math.max(u,h);R!==g&&R!==w&&y.push(O(M({},i[R]),{x:r})),A!==g&&A!==w&&y.push(O(M({},i[A]),{x:r}))}o>0&&w!==g&&y.push(i[w]),y.push(a),d=v,s=0,b=p=l,u=h=g=o}}return y}function ol(i){if(i._decimated){let e=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function xc(i){i.data.datasets.forEach(e=>{ol(e)})}function Lg(i,e){let t=e.length,n=0,r,{iScale:s}=i,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(n=yt(oe(e,s.axis,o).lo,0,t-1)),l?r=yt(oe(e,s.axis,a).hi+1,n,t)-n:r=t-n,{start:n,count:r}}var Ng={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,e,t)=>{if(!t.enabled){xc(i);return}let n=i.width;i.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=i.getDatasetMeta(s),l=o||r.data;if(Pn([a,i.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=i.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||i.options.parsing)return;let{start:u,count:h}=Lg(c,l),g=t.threshold||4*n;if(h<=g){ol(r);return}j(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let b;switch(t.algorithm){case"lttb":b=Fg(l,u,h,n,t);break;case"min-max":b=zg(l,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=b})},destroy(i){xc(i)}};function Vg(i,e,t){let n=i.segments,r=i.points,s=e.points,o=[];for(let a of n){let{start:c,end:l}=a;l=dr(c,l,r);let d=Vs(t,r[c],r[l],a.loop);if(!e.segments){o.push({source:a,target:d,start:r[c],end:r[l]});continue}let u=gs(e,d);for(let h of u){let g=Vs(t,s[h.start],s[h.end],h.loop),b=hs(a,r,g);for(let p of b)o.push({source:p,target:h,start:{[t]:Cc(d,g,"start",Math.max)},end:{[t]:Cc(d,g,"end",Math.min)}})}}return o}function Vs(i,e,t,n){if(n)return;let r=e[i],s=t[i];return i==="angle"&&(r=vt(r),s=vt(s)),{property:i,start:r,end:s}}function Ug(i,e){let{x:t=null,y:n=null}=i||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=dr(o,a,r);let c=r[o],l=r[a];n!==null?(s.push({x:c.x,y:n}),s.push({x:l.x,y:n})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:l.y}))}),s}function dr(i,e,t){for(;e>i;e--){let n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Cc(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function al(i,e){let t=[],n=!1;return tt(i)?(n=!0,t=i):t=Ug(i,e),t.length?new lr({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function Pc(i){return i&&i.fill!==!1}function jg(i,e,t){let r=i[e].fill,s=[e],o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ot(r))return r;if(o=i[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Wg(i,e,t){let n=Kg(i);if($(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return ot(r)&&Math.floor(r)===r?$g(n[0],e,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function $g(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function Hg(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:$(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function qg(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:$(i)?n=i.value:n=e.getBaseValue(),n}function Kg(i){let e=i.options,t=e.fill,n=z(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Yg(i){let{scale:e,index:t,line:n}=i,r=[],s=n.segments,o=n.points,a=Gg(e,t);a.push(al({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)Xg(r,o[d],a)}return new lr({points:r,options:{}})}function Gg(i,e){let t=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let s=n[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function Xg(i,e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],{first:o,last:a,point:c}=Jg(s,e,"x");if(!(!c||o&&a)){if(o)n.unshift(c);else if(i.push(c),!a)break}}i.push(...n)}function Jg(i,e,t){let n=i.interpolate(e,t);if(!n)return{};let r=n[t],s=i.segments,o=i.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],u=o[d.start][t],h=o[d.end][t];if(le(r,u,h)){a=r===u,c=r===h;break}}return{first:a,last:c,point:n}}var or=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){let{x:r,y:s,radius:o}=this;return t=t||{start:0,end:et},e.arc(r,s,o,t.end,t.start,!0),!n.bounds}interpolate(e){let{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}};function Qg(i){let{chart:e,fill:t,line:n}=i;if(ot(t))return Zg(e,t);if(t==="stack")return Yg(i);if(t==="shape")return!0;let r=tm(i);return r instanceof or?r:al(r,n)}function Zg(i,e){let t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function tm(i){return(i.scale||{}).getPointPositionForValue?nm(i):em(i)}function em(i){let{scale:e={},fill:t}=i,n=Hg(t,e);if(ot(n)){let r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function nm(i){let{scale:e,fill:t}=i,n=e.options,r=e.getLabels().length,s=n.reverse?e.max:e.min,o=qg(t,e,s),a=[];if(n.grid.circular){let c=e.getPointPositionForValue(0,s);return new or({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(e.getPointPositionForValue(c,o));return a}function Os(i,e,t){let n=Qg(e),{chart:r,index:s,line:o,scale:a,axis:c}=e,l=o.options,d=l.fill,u=l.backgroundColor,{above:h=u,below:g=u}=d||{},b=r.getDatasetMeta(s),p=ms(r,b);n&&o.points.length&&(Yn(i,t),im(i,{line:o,target:n,above:h,below:g,area:t,scale:a,axis:c,clip:p}),Gn(i))}function im(i,e){let{line:t,target:n,above:r,below:s,area:o,scale:a,clip:c}=e,l=t._loop?"angle":e.axis;i.save();let d=s;s!==r&&(l==="x"?(Oc(i,n,o.top),vs(i,{line:t,target:n,color:r,scale:a,property:l,clip:c}),i.restore(),i.save(),Oc(i,n,o.bottom)):l==="y"&&(vc(i,n,o.left),vs(i,{line:t,target:n,color:s,scale:a,property:l,clip:c}),i.restore(),i.save(),vc(i,n,o.right),d=r)),vs(i,{line:t,target:n,color:d,scale:a,property:l,clip:c}),i.restore()}function Oc(i,e,t){let{segments:n,points:r}=e,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[dr(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(d.x,t),i.lineTo(d.x,d.y)),o=!!e.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(u.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function vc(i,e,t){let{segments:n,points:r}=e,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[dr(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(t,d.y),i.lineTo(d.x,d.y)),o=!!e.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(t,u.y)}i.lineTo(t,e.first().y),i.closePath(),i.clip()}function vs(i,e){let{line:t,target:n,property:r,color:s,scale:o,clip:a}=e,c=Vg(t,n,r);for(let{source:l,target:d,start:u,end:h}of c){let{style:{backgroundColor:g=s}={}}=l,b=n!==!0;i.save(),i.fillStyle=g,rm(i,o,a,b&&Vs(r,u,h)),i.beginPath();let p=!!t.pathSegment(i,l),y;if(b){p?i.closePath():Sc(i,n,h,r);let C=!!n.pathSegment(i,d,{move:p,reverse:!0});y=p&&C,y||Sc(i,n,u,r)}i.closePath(),i.fill(y?"evenodd":"nonzero"),i.restore()}}function rm(i,e,t,n){let r=e.chart.chartArea,{property:s,start:o,end:a}=n||{};if(s==="x"||s==="y"){let c,l,d,u;s==="x"?(c=o,l=r.top,d=a,u=r.bottom):(c=r.left,l=o,d=r.right,u=a),i.beginPath(),t&&(c=Math.max(c,t.left),d=Math.min(d,t.right),l=Math.max(l,t.top),u=Math.min(u,t.bottom)),i.rect(c,l,d-c,u-l),i.clip()}}function Sc(i,e,t,n){let r=e.interpolate(t,n);r&&i.lineTo(r.x,r.y)}var sm={id:"filler",afterDatasetsUpdate(i,e,t){let n=(i.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<n;++o)s=i.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof lr&&(c={visible:i.isDatasetVisible(o),index:o,fill:Wg(a,o,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<n;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=jg(r,o,t.propagate))},beforeDraw(i,e,t){let n=t.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&Os(i.ctx,a,s))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let s=n[r].$filler;Pc(s)&&Os(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,e,t){let n=e.meta.$filler;!Pc(n)||t.drawTime!=="beforeDatasetDraw"||Os(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},wc=(i,e)=>{let{boxHeight:t=e,boxWidth:n=e}=i;return i.usePointStyle&&(t=Math.min(t,e),n=i.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},om=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index,ar=class extends ee{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Q(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,r=pt(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=wc(n,s),l,d;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a,u=e;s.textAlign="left",s.textBaseline="middle";let h=-1,g=-d;return this.legendItems.forEach((b,p)=>{let y=n+t/2+s.measureText(b.text).width;(p===0||l[l.length-1]+y+2*a>o)&&(u+=d,l[l.length-(p>0?0:1)]=0,g+=d,h++),c[p]={left:0,top:g,row:h,width:y,height:r},l[l.length-1]+=y+a}),u}_fitCols(e,t,n,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-e,u=a,h=0,g=0,b=0,p=0;return this.legendItems.forEach((y,C)=>{let{itemWidth:P,itemHeight:S}=am(n,t,s,y,r);C>0&&g+S+2*a>d&&(u+=h+a,l.push({width:h,height:g}),b+=h+a,p++,h=g=0),c[C]={left:b,top:g,col:p,width:P,height:S},h=Math.max(h,P),g+=S+a}),u+=h,l.push({width:h,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,o=tn(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=St(n,this.left+r,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=St(n,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+e+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=St(n,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=St(n,this.top+e+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Yn(e,this),this._draw(),Gn(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:o}=e,a=it.color,c=tn(e.rtl,this.left,this.width),l=pt(o.font),{padding:d}=o,u=l.size,h=u/2,g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:b,boxHeight:p,itemHeight:y}=wc(o,u),C=function(w,R,A){if(isNaN(b)||b<=0||isNaN(p)||p<0)return;r.save();let B=z(A.lineWidth,1);if(r.fillStyle=z(A.fillStyle,a),r.lineCap=z(A.lineCap,"butt"),r.lineDashOffset=z(A.lineDashOffset,0),r.lineJoin=z(A.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=z(A.strokeStyle,a),r.setLineDash(z(A.lineDash,[])),o.usePointStyle){let U={radius:p*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:B},V=c.xPlus(w,b/2),H=R+h;ns(r,U,V,H,o.pointStyleWidth&&b)}else{let U=R+Math.max((u-p)/2,0),V=c.leftForLtr(w,b),H=Le(A.borderRadius);r.beginPath(),Object.values(H).some(Ot=>Ot!==0)?Cn(r,{x:V,y:U,w:b,h:p,radius:H}):r.rect(V,U,b,p),r.fill(),B!==0&&r.stroke()}r.restore()},P=function(w,R,A){ze(r,A.text,w,R+y/2,l,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},S=this.isHorizontal(),k=this._computeTitleHeight();S?g={x:St(s,this.left+d,this.right-n[0]),y:this.top+d+k,line:0}:g={x:this.left+d,y:St(s,this.top+k+d,this.bottom-t[0].height),line:0},ds(this.ctx,e.textDirection);let v=y+d;this.legendItems.forEach((w,R)=>{r.strokeStyle=w.fontColor,r.fillStyle=w.fontColor;let A=r.measureText(w.text).width,B=c.textAlign(w.textAlign||(w.textAlign=o.textAlign)),U=b+h+A,V=g.x,H=g.y;c.setWidth(this.width),S?R>0&&V+U+d>this.right&&(H=g.y+=v,g.line++,V=g.x=St(s,this.left+d,this.right-n[g.line])):R>0&&H+v>this.bottom&&(V=g.x=V+t[g.line].width+d,g.line++,H=g.y=St(s,this.top+k+d,this.bottom-t[g.line].height));let Ot=c.x(V);if(C(Ot,H,w),V=wa(B,V+b+h,S?V+U:this.right,e.rtl),P(c.x(V),H,w),S)g.x+=U+d;else if(typeof w.text!="string"){let Vt=l.lineHeight;g.y+=cl(w,Vt)+d}else g.y+=v}),us(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,n=pt(t.font),r=wt(t.padding);if(!t.display)return;let s=tn(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=n.size/2,l=r.top+c,d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+l,u=St(e.align,u,this.right-h);else{let b=this.columnSizes.reduce((p,y)=>Math.max(p,y.height),0);d=l+St(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}let g=St(a,u,u+h);o.textAlign=s.textAlign(Vi(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,ze(o,t.text,g,d,n)}_computeTitleHeight(){let e=this.options.title,t=pt(e.font),n=wt(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(le(e,this.left,this.right)&&le(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],le(e,r.left,r.left+r.width)&&le(t,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){let t=this.options;if(!dm(e.type,t))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=om(r,n);r&&!s&&Q(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&Q(t.onHover,[e,n,this],this)}else n&&Q(t.onClick,[e,n,this],this)}};function am(i,e,t,n,r){let s=cm(n,i,e,t),o=lm(r,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function cm(i,e,t,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+n.measureText(r).width}function lm(i,e,t){let n=i;return typeof e.text!="string"&&(n=cl(e,t)),n}function cl(i,e){let t=i.text?i.text.length:0;return e*t}function dm(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var um={id:"legend",_element:ar,start(i,e,t){let n=i.legend=new ar({ctx:i.ctx,options:t,chart:i});It.configure(i,n,t),It.addBox(i,n)},stop(i){It.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){let n=i.legend;It.configure(i,n,t),n.options=t},afterUpdate(i){let e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){let n=e.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),d=wt(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},ri=class extends ee{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let r=tt(n.text)?n.text.length:1;this._padding=wt(n.padding);let s=r*pt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:n,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,d,u;return this.isHorizontal()?(d=St(a,n,s),u=t+e,l=s-n):(o.position==="left"?(d=n+e,u=St(a,r,t),c=K*-.5):(d=s-e,u=St(a,t,r),c=K*.5),l=r-t),{titleX:d,titleY:u,maxWidth:l,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let n=pt(t.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);ze(e,t.text,0,0,n,{color:t.color,maxWidth:c,rotation:l,textAlign:Vi(t.align),textBaseline:"middle",translation:[o,a]})}};function hm(i,e){let t=new ri({ctx:i.ctx,options:e,chart:i});It.configure(i,t,e),It.addBox(i,t),i.titleBlock=t}var gm={id:"title",_element:ri,start(i,e,t){hm(i,t)},stop(i){let e=i.titleBlock;It.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){let n=i.titleBlock;It.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ji=new WeakMap,mm={id:"subtitle",start(i,e,t){let n=new ri({ctx:i.ctx,options:t,chart:i});It.configure(i,n,t),It.addBox(i,n),Ji.set(i,n)},stop(i){It.removeBox(i,Ji.get(i)),Ji.delete(i)},beforeUpdate(i,e,t){let n=Ji.get(i);It.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ni={average(i){if(!i.length)return!1;let e,t,n=new Set,r=0,s=0;for(e=0,t=i.length;e<t;++e){let a=i[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();n.add(c.x),r+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,c)=>a+c)/n.size,y:r/s}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=i.length;s<o;++s){let c=i[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=Bi(e,l);d<r&&(r=d,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function de(i,e){return e&&(tt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function Oe(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function fm(i,e){let{element:t,datasetIndex:n,index:r}=e,s=i.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:i,label:o,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function kc(i,e){let t=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:o,boxHeight:a}=e,c=pt(e.bodyFont),l=pt(e.titleFont),d=pt(e.footerFont),u=s.length,h=r.length,g=n.length,b=wt(e.padding),p=b.height,y=0,C=n.reduce((k,v)=>k+v.before.length+v.lines.length+v.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,u&&(p+=u*l.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),C){let k=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;p+=g*k+(C-g)*c.lineHeight+(C-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let P=0,S=function(k){y=Math.max(y,t.measureText(k).width+P)};return t.save(),t.font=l.string,X(i.title,S),t.font=c.string,X(i.beforeBody.concat(i.afterBody),S),P=e.displayColors?o+2+e.boxPadding:0,X(n,k=>{X(k.before,S),X(k.lines,S),X(k.after,S)}),P=0,t.font=d.string,X(i.footer,S),t.restore(),y+=b.width,{width:y,height:p}}function pm(i,e){let{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function bm(i,e,t,n){let{x:r,width:s}=n,o=t.caretSize+t.caretPadding;if(i==="left"&&r+s+o>e.width||i==="right"&&r-s-o<0)return!0}function _m(i,e,t,n){let{x:r,width:s}=t,{width:o,chartArea:{left:a,right:c}}=i,l="center";return n==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),bm(l,i,e,t)&&(l="center"),l}function Ec(i,e,t){let n=t.yAlign||e.yAlign||pm(i,t);return{xAlign:t.xAlign||e.xAlign||_m(i,e,t,n),yAlign:n}}function ym(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function Mm(i,e,t){let{y:n,height:r}=i;return e==="top"?n+=t:e==="bottom"?n-=r+t:n-=r/2,n}function Ac(i,e,t,n){let{caretSize:r,caretPadding:s,cornerRadius:o}=i,{xAlign:a,yAlign:c}=t,l=r+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:g}=Le(o),b=ym(e,a),p=Mm(e,c,l);return c==="center"?a==="left"?b+=l:a==="right"&&(b-=l):a==="left"?b-=Math.max(d,h)+r:a==="right"&&(b+=Math.max(u,g)+r),{x:yt(b,0,n.width-e.width),y:yt(p,0,n.height-e.height)}}function Qi(i,e,t){let n=wt(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function Tc(i){return de([],Oe(i))}function xm(i,e,t){return Ce(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Ic(i,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}var ll={beforeTitle:ce,title(i){if(i.length>0){let e=i[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:ce,beforeBody:ce,beforeLabel:ce,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");let t=i.formattedValue;return j(t)||(e+=t),e},labelColor(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ce,afterBody:ce,beforeFooter:ce,footer:ce,afterFooter:ce};function Lt(i,e,t,n){let r=i[e].call(t,n);return typeof r>"u"?ll[e].call(t,n):r}var Dc=(()=>{class i extends ee{static positioners=ni;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new nr(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=xm(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){let{callbacks:r}=n,s=Lt(r,"beforeTitle",this,t),o=Lt(r,"title",this,t),a=Lt(r,"afterTitle",this,t),c=[];return c=de(c,Oe(s)),c=de(c,Oe(o)),c=de(c,Oe(a)),c}getBeforeBody(t,n){return Tc(Lt(n.callbacks,"beforeBody",this,t))}getBody(t,n){let{callbacks:r}=n,s=[];return X(t,o=>{let a={before:[],lines:[],after:[]},c=Ic(r,o);de(a.before,Oe(Lt(c,"beforeLabel",this,o))),de(a.lines,Lt(c,"label",this,o)),de(a.after,Oe(Lt(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,n){return Tc(Lt(n.callbacks,"afterBody",this,t))}getFooter(t,n){let{callbacks:r}=n,s=Lt(r,"beforeFooter",this,t),o=Lt(r,"footer",this,t),a=Lt(r,"afterFooter",this,t),c=[];return c=de(c,Oe(s)),c=de(c,Oe(o)),c=de(c,Oe(a)),c}_createItems(t){let n=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=n.length;l<d;++l)c.push(fm(this.chart,n[l]));return t.filter&&(c=c.filter((u,h,g)=>t.filter(u,h,g,r))),t.itemSort&&(c=c.sort((u,h)=>t.itemSort(u,h,r))),X(c,u=>{let h=Ic(t.callbacks,u);s.push(Lt(h,"labelColor",this,u)),o.push(Lt(h,"labelPointStyle",this,u)),a.push(Lt(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(t,n){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=ni[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=kc(this,r),d=Object.assign({},c,l),u=Ec(this.chart,r,d),h=Ac(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){let o=this.getCaretPosition(t,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:h}=Le(c),{x:g,y:b}=t,{width:p,height:y}=n,C,P,S,k,v,w;return o==="center"?(v=b+y/2,s==="left"?(C=g,P=C-a,k=v+a,w=v-a):(C=g+p,P=C+a,k=v-a,w=v+a),S=C):(s==="left"?P=g+Math.max(l,u)+a:s==="right"?P=g+p-Math.max(d,h)-a:P=this.caretX,o==="top"?(k=b,v=k-a,C=P-a,S=P+a):(k=b+y,v=k+a,C=P+a,S=P-a),w=k),{x1:C,x2:P,x3:S,y1:k,y2:v,y3:w}}drawTitle(t,n,r){let s=this.title,o=s.length,a,c,l;if(o){let d=tn(r.rtl,this.x,this.width);for(t.x=Qi(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=pt(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<o;++l)n.fillText(s[l],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===o&&(t.y+=r.titleMarginBottom-c)}}_drawColorBox(t,n,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=o,u=pt(o.bodyFont),h=Qi(this,"left",o),g=s.x(h),b=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+b;if(o.usePointStyle){let y={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=s.leftForLtr(g,d)+d/2,P=p+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,ji(t,y,C,P),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,ji(t,y,C,P)}else{t.lineWidth=$(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let y=s.leftForLtr(g,d),C=s.leftForLtr(s.xPlus(g,1),d-2),P=Le(a.borderRadius);Object.values(P).some(S=>S!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Cn(t,{x:y,y:p,w:d,h:l,radius:P}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Cn(t,{x:C,y:p+1,w:d-2,h:l-2,radius:P}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(y,p,d,l),t.strokeRect(y,p,d,l),t.fillStyle=a.backgroundColor,t.fillRect(C,p+1,d-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=r,h=pt(r.bodyFont),g=h.lineHeight,b=0,p=tn(r.rtl,this.x,this.width),y=function(B){n.fillText(B,p.x(t.x+b),t.y+g/2),t.y+=g+o},C=p.textAlign(a),P,S,k,v,w,R,A;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,t.x=Qi(this,C,r),n.fillStyle=r.bodyColor,X(this.beforeBody,y),b=c&&C!=="right"?a==="center"?d/2+u:d+2+u:0,v=0,R=s.length;v<R;++v){for(P=s[v],S=this.labelTextColors[v],n.fillStyle=S,X(P.before,y),k=P.lines,c&&k.length&&(this._drawColorBox(n,t,v,p,r),g=Math.max(h.lineHeight,l)),w=0,A=k.length;w<A;++w)y(k[w]),g=h.lineHeight;X(P.after,y)}b=0,g=h.lineHeight,X(this.afterBody,y),t.y-=o}drawFooter(t,n,r){let s=this.footer,o=s.length,a,c;if(o){let l=tn(r.rtl,this.x,this.width);for(t.x=Qi(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=pt(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=t,{width:d,height:u}=r,{topLeft:h,topRight:g,bottomLeft:b,bottomRight:p}=Le(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+h,l),a==="top"&&this.drawCaret(t,n,r,s),n.lineTo(c+d-g,l),n.quadraticCurveTo(c+d,l,c+d,l+g),a==="center"&&o==="right"&&this.drawCaret(t,n,r,s),n.lineTo(c+d,l+u-p),n.quadraticCurveTo(c+d,l+u,c+d-p,l+u),a==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(c+b,l+u),n.quadraticCurveTo(c,l+u,c,l+u-b),a==="center"&&o==="left"&&this.drawCaret(t,n,r,s),n.lineTo(c,l+h),n.quadraticCurveTo(c,l,c+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){let n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=ni[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=kc(this,t),l=Object.assign({},a,this._size),d=Ec(n,t,l),u=Ac(t,l,d,n);(s._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=wt(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,n),ds(t,n.textDirection),o.y+=a.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),us(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){let r=this._active,s=t.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!qn(r,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(t,o,n,r),c=this._positionChanged(a,t),l=n||!qn(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,s){let o=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(t,n){let{caretX:r,caretY:s,options:o}=this,a=ni[o.position].call(this,t,n);return a!==!1&&(r!==a.x||s!==a.y)}}return i})(),Cm={id:"tooltip",_element:Dc,positioners:ni,afterInit(i,e,t){t&&(i.tooltip=new Dc({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){let e=i.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",O(M({},t),{cancelable:!0}))===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){let t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ll},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Pm=Object.freeze({__proto__:null,Colors:Bg,Decimation:Ng,Filler:sm,Legend:um,SubTitle:mm,Title:gm,Tooltip:Cm}),Om=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function vm(i,e,t,n){let r=i.indexOf(e);if(r===-1)return Om(i,e,t,n);let s=i.lastIndexOf(e);return r!==s?t:r}var Sm=(i,e)=>i===null?null:yt(Math.round(i),0,e);function Rc(i){let e=this.getLabels();return i>=0&&i<e.length?e[i]:i}var wm=(()=>{class i extends rn{static id="category";static defaults={ticks:{callback:Rc}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(j(t))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:vm(r,t,z(n,t),this._addedLabels),Sm(n,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let t=this.min,n=this.max,r=this.options.offset,s=[],o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return Rc.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function km(i,e){let t=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:u,includeBounds:h}=i,g=s||1,b=d-1,{min:p,max:y}=e,C=!j(o),P=!j(a),S=!j(l),k=(y-p)/(u+1),v=Wr((y-p)/b/g)*g,w,R,A,B;if(v<1e-14&&!C&&!P)return[{value:p},{value:y}];B=Math.ceil(y/v)-Math.floor(p/v),B>b&&(v=Wr(B*v/b/g)*g),j(c)||(w=Math.pow(10,c),v=Math.ceil(v*w)/w),r==="ticks"?(R=Math.floor(p/v)*v,A=Math.ceil(y/v)*v):(R=p,A=y),C&&P&&s&&Ma((a-o)/s,v/1e3)?(B=Math.round(Math.min((a-o)/v,d)),v=(a-o)/B,R=o,A=a):S?(R=C?o:R,A=P?a:A,B=l-1,v=(A-R)/B):(B=(A-R)/v,yn(B,Math.round(B),v/1e3)?B=Math.round(B):B=Math.ceil(B));let U=Math.max(Hr(v),Hr(R));w=Math.pow(10,j(c)?U:c),R=Math.round(R*w)/w,A=Math.round(A*w)/w;let V=0;for(C&&(h&&R!==o?(t.push({value:o}),R<o&&V++,yn(Math.round((R+V*v)*w)/w,o,Bc(o,k,i))&&V++):R<o&&V++);V<B;++V){let H=Math.round((R+V*v)*w)/w;if(P&&H>a)break;t.push({value:H})}return P&&h&&A!==a?t.length&&yn(t[t.length-1].value,a,Bc(a,k,i))?t[t.length-1].value=a:t.push({value:a}):(!P||A===a)&&t.push({value:A}),t}function Bc(i,e,{horizontal:t,minRotation:n}){let r=Gt(n),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+i).length;return Math.min(e/s,o)}var Sn=class extends rn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return j(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=t?r:c,a=c=>s=n?s:c;if(e){let c=te(r),l=te(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=km(r,s);return e.bounds==="ticks"&&$r(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return xn(e,this.chart.options.locale,this.options.ticks.format)}},Us=class extends Sn{static id="linear";static defaults={ticks:{callback:Kn.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=ot(e)?e:0,this.max=ot(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,n=Gt(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},si=i=>Math.floor(Me(i)),nn=(i,e)=>Math.pow(10,si(i)+e);function Fc(i){return i/Math.pow(10,si(i))===1}function zc(i,e,t){let n=Math.pow(10,t),r=Math.floor(i/n);return Math.ceil(e/n)-r}function Em(i,e){let t=e-i,n=si(t);for(;zc(i,e,n)>10;)n++;for(;zc(i,e,n)<10;)n--;return Math.min(n,si(i))}function Am(i,{min:e,max:t}){e=zt(i.min,e);let n=[],r=si(e),s=Em(e,t),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((e-c)*o)/o,d=Math.floor((e-c)/a/10)*a*10,u=Math.floor((l-d)/Math.pow(10,s)),h=zt(i.min,Math.round((c+d+u*Math.pow(10,s))*o)/o);for(;h<t;)n.push({value:h,major:Fc(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),h=Math.round((c+d+u*Math.pow(10,s))*o)/o;let g=zt(i.max,h);return n.push({value:g,major:Fc(g),significand:u}),n}var js=class extends rn{static id="logarithmic";static defaults={ticks:{callback:Kn.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let n=Sn.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return ot(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=ot(e)?Math.max(0,e):null,this.max=ot(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ot(this._userMin)&&(this.min=e===nn(this.min,0)?nn(this.min,-1):nn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),n=this.min,r=this.max,s=a=>n=e?n:a,o=a=>r=t?r:a;n===r&&(n<=0?(s(1),o(10)):(s(nn(n,-1)),o(nn(r,1)))),n<=0&&s(nn(r,-1)),r<=0&&o(nn(n,1)),this.min=n,this.max=r}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},n=Am(t,this);return e.bounds==="ticks"&&$r(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":xn(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Me(e),this._valueRange=Me(this.max)-Me(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Me(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function Ws(i){let e=i.ticks;if(e.display&&i.display){let t=wt(e.backdropPadding);return z(e.font&&e.font.size,it.font.size)+t.height}return 0}function Tm(i,e,t){return t=tt(t)?t:[t],{w:Ea(i,e.string,t),h:t.length*e.lineHeight}}function Lc(i,e,t,n,r){return i===n||i===r?{start:e-t/2,end:e+t/2}:i<n||i>r?{start:e-t,end:e}:{start:e,end:e+t}}function Im(i){let e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),n=[],r=[],s=i._pointLabels.length,o=i.options.pointLabels,a=o.centerPointLabels?K/s:0;for(let c=0;c<s;c++){let l=o.setContext(i.getPointLabelContext(c));r[c]=l.padding;let d=i.getPointPosition(c,i.drawingArea+r[c],a),u=pt(l.font),h=Tm(i.ctx,u,i._pointLabels[c]);n[c]=h;let g=vt(i.getIndexAngle(c)+a),b=Math.round(Li(g)),p=Lc(b,d.x,h.w,0,180),y=Lc(b,d.y,h.h,90,270);Dm(t,e,g,p,y)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=Fm(i,n,r)}function Dm(i,e,t,n,r){let s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),a=0,c=0;n.start<e.l?(a=(e.l-n.start)/s,i.l=Math.min(i.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/s,i.r=Math.max(i.r,e.r+a)),r.start<e.t?(c=(e.t-r.start)/o,i.t=Math.min(i.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,i.b=Math.max(i.b,e.b+c))}function Rm(i,e,t){let n=i.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=t,c=i.getPointPosition(e,n+r+o,s),l=Math.round(Li(vt(c.angle+dt))),d=Nm(c.y,a.h,l),u=zm(l),h=Lm(c.x,a.w,u);return{visible:!0,x:c.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function Bm(i,e){if(!e)return!0;let{left:t,top:n,right:r,bottom:s}=i;return!(ae({x:t,y:n},e)||ae({x:t,y:s},e)||ae({x:r,y:n},e)||ae({x:r,y:s},e))}function Fm(i,e,t){let n=[],r=i._pointLabels.length,s=i.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:Ws(s)/2,additionalAngle:o?K/r:0},l;for(let d=0;d<r;d++){c.padding=t[d],c.size=e[d];let u=Rm(i,d,c);n.push(u),a==="auto"&&(u.visible=Bm(u,l),u.visible&&(l=u))}return n}function zm(i){return i===0||i===180?"center":i<180?"left":"right"}function Lm(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function Nm(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function Vm(i,e,t){let{left:n,top:r,right:s,bottom:o}=t,{backdropColor:a}=e;if(!j(a)){let c=Le(e.borderRadius),l=wt(e.backdropPadding);i.fillStyle=a;let d=n-l.left,u=r-l.top,h=s-n+l.width,g=o-r+l.height;Object.values(c).some(b=>b!==0)?(i.beginPath(),Cn(i,{x:d,y:u,w:h,h:g,radius:c}),i.fill()):i.fillRect(d,u,h,g)}}function Um(i,e){let{ctx:t,options:{pointLabels:n}}=i;for(let r=e-1;r>=0;r--){let s=i._pointLabelItems[r];if(!s.visible)continue;let o=n.setContext(i.getPointLabelContext(r));Vm(t,o,s);let a=pt(o.font),{x:c,y:l,textAlign:d}=s;ze(t,i._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function dl(i,e,t,n){let{ctx:r}=i;if(t)r.arc(i.xCenter,i.yCenter,e,0,et);else{let s=i.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=i.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function jm(i,e,t,n,r){let s=i.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!n||!a||!c||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),dl(i,t,o,n),s.closePath(),s.stroke(),s.restore())}function Wm(i,e,t){return Ce(i,{label:t,index:e,type:"pointLabel"})}var $s=class extends Sn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Kn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=wt(Ws(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=ot(e)&&!isNaN(e)?e:0,this.max=ot(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ws(this.options))}generateTickLabels(e){Sn.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{let r=Q(this.options.pointLabels.callback,[t,n],this);return r||r===0?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?Im(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){let t=et/(this._pointLabels.length||1),n=this.options.startAngle||0;return vt(e*t+Gt(n))}getDistanceFromCenterForValue(e){if(j(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(j(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let n=t[e];return Wm(this.getContext(),e,n)}}getPointPosition(e,t,n=0){let r=this.getIndexAngle(e)-dt+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),dl(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,o=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&Um(this,o),r.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(u),g=r.setContext(h),b=s.setContext(h);jm(this,g,c,o,b)}}),n.display){for(e.save(),a=o-1;a>=0;a--){let d=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:h}=d;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=n.setContext(this.getContext(c)),d=pt(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let u=wt(l.backdropPadding);e.fillRect(-o/2-u.left,-s-d.size/2-u.top,o+u.width,d.size+u.height)}ze(e,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},ur={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(ur);function Nc(i,e){return i-e}function Vc(i,e){if(j(e))return null;let t=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts,o=e;return typeof n=="function"&&(o=n(o)),ot(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Ze(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function Uc(i,e,t,n){let r=Nt.length;for(let s=Nt.indexOf(i);s<r-1;++s){let o=ur[Nt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=n)return Nt[s]}return Nt[r-1]}function $m(i,e,t,n,r){for(let s=Nt.length-1;s>=Nt.indexOf(t);s--){let o=Nt[s];if(ur[o].common&&i._adapter.diff(r,n,o)>=e-1)return o}return Nt[t?Nt.indexOf(t):0]}function Hm(i){for(let e=Nt.indexOf(i)+1,t=Nt.length;e<t;++e)if(ur[Nt[e]].common)return Nt[e]}function jc(i,e,t){if(!t)i[e]=!0;else if(t.length){let{lo:n,hi:r}=Ni(t,e),s=t[n]>=e?t[n]:t[r];i[s]=!0}}function qm(i,e,t,n){let r=i._adapter,s=+r.startOf(e[0].value,n),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,n))c=t[a],c>=0&&(e[c].major=!0);return e}function Wc(i,e,t){let n=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,n.push({value:a,major:!1});return s===0||!t?n:qm(i,n,r,t)}var Hs=(()=>{class i extends rn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){let r=t.time||(t.time={}),s=this._adapter=new ih._date(t.adapters.date);s.init(n),bn(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Vc(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,n=this._adapter,r=t.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ot(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=ot(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){let t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=Pa(s,o,a);return this._unit=n.unit||(r.autoSkip?Uc(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):$m(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Hm(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),Wc(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?r=o:r=(o-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;n=yt(n,0,a),r=yt(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let t=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||Uc(o.minUnit,n,r,this._getLabelCapacity(n)),c=z(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=Ze(l)||l===!0,u={},h=n,g,b;if(d&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,d?"day":a),t.diff(r,n,a)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+a);let p=s.ticks.source==="data"&&this.getDataTimestamps();for(g=h,b=0;g<r;g=+t.add(g,c,a),b++)jc(u,g,p);return(g===r||s.bounds==="ticks"||b===1)&&jc(u,g,p),Object.keys(u).sort(Nc).map(y=>+y)}getLabelForValue(t){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){let s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,n,r,s){let o=this.options,a=o.ticks.callback;if(a)return Q(a,[t,n,r],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,u=l&&c[l],h=d&&c[d],g=r[n],b=d&&h&&g&&g.major;return this._adapter.format(t,s||(b?h:u))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){let n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let n=this.options.ticks,r=this.ctx.measureText(t).width,s=Gt(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(t){let n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(t,0,Wc(this,[t],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],n,r;if(t.length)return t;let s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(Vc(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Yr(t.sort(Nc))}}return i})();function Zi(i,e,t){let n=0,r=i.length-1,s,o,a,c;t?(e>=i[n].pos&&e<=i[r].pos&&({lo:n,hi:r}=oe(i,"pos",e)),{pos:s,time:a}=i[n],{pos:o,time:c}=i[r]):(e>=i[n].time&&e<=i[r].time&&({lo:n,hi:r}=oe(i,"time",e)),{time:s,pos:a}=i[n],{time:o,pos:c}=i[r]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var qs=class extends Hs{static id="timeseries";static defaults=Hs.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Zi(t,this.min),this._tableRange=Zi(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:n}=this,r=[],s=[],o,a,c,l,d;for(o=0,a=e.length;o<a;++o)l=e[o],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],l=r[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,t=this.max,n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Zi(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Zi(this._table,n*this._tableRange+this._minPos,!0)}},Km=Object.freeze({__proto__:null,CategoryScale:wm,LinearScale:Us,LogarithmicScale:js,RadialLinearScale:$s,TimeScale:Hs,TimeSeriesScale:qs}),ul=[nh,kg,Pm,Km];var hl=[{id:"deep-nested",name:"Deep Nested Updates",description:"Updates to deeply nested state (15 levels)",operations:"1000 updates",complexity:"High",selected:!0,category:"core",purpose:"Measures surgical update performance in complex object hierarchies",frequencyWeight:2.5,realWorldFrequency:"Very High - Forms, settings, nested UI components",architecturalTradeOffs:"Direct mutation excels with deep updates vs immutable rebuilding",enhancers:{required:["withBatching"],optional:["withShallowMemoization"],rationale:"Batching prevents excessive notifications; shallow memoization helps with object updates"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"linear"}},{id:"large-array",name:"Large Array Mutations",description:"Array operations on large datasets",operations:"Size \xD7 10",complexity:"Medium",selected:!1,category:"core",purpose:"Tests O(1) direct mutation vs O(n) immutable array rebuilding",frequencyWeight:1.8,realWorldFrequency:"High - Lists, tables, data grids, search results",architecturalTradeOffs:"Direct mutation provides massive advantages for large arrays vs immutable rebuilding",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"High-performance batching essential for rapid array updates; memoization counterproductive"},dataRequirements:{minSize:1e3,maxSize:1e5,defaultSize:1e4,scalesWith:"linear"}},{id:"computed-chains",name:"Complex Computed Chains",description:"Cascading computed values with dependencies",operations:"500 computations",complexity:"High",selected:!1,category:"core",purpose:"Evaluates dependency graph resolution and computed value performance",frequencyWeight:2.2,realWorldFrequency:"High - Derived state, calculated fields, data transformations",architecturalTradeOffs:"Granular reactivity prevents unnecessary recalculations vs coarse invalidation",enhancers:{required:["withBatching","withShallowMemoization"],optional:[],rationale:"Batching reduces cascading updates; memoization prevents redundant computations"},dataRequirements:{minSize:100,maxSize:1e3,defaultSize:500,scalesWith:"logarithmic"}},{id:"batch-updates",name:"Batched Operations",description:"Multiple simultaneous state updates",operations:"100 batches",complexity:"Medium",selected:!1,category:"core",purpose:"Tests batching system efficiency and transaction-like behavior",frequencyWeight:2,realWorldFrequency:"Common - Form saves, bulk edits, transaction-like updates",architecturalTradeOffs:"Batching reduces render thrashing vs individual update overhead",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"Core batching functionality being tested - no other enhancers needed"},dataRequirements:{minSize:50,maxSize:1e3,defaultSize:100,scalesWith:"linear"}},{id:"selector-memoization",name:"Selector/Memoization",description:"Memoized selector performance",operations:"1000 selections",complexity:"Low",selected:!1,category:"core",purpose:"Evaluates memoization effectiveness and cache hit rates",frequencyWeight:2.8,realWorldFrequency:"Very High - Data filtering, searching, computed UI state",architecturalTradeOffs:"Memoization prevents expensive recalculations vs memory overhead",enhancers:{required:["withLightweightMemoization"],optional:["withBatching"],rationale:"Testing memoization system - lightweight version for better performance"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"serialization",name:"Serialization (Snapshot + JSON)",description:"Convert state to plain JSON (unwrap + stringify)",operations:"Per iteration",complexity:"Medium",selected:!1,category:"core",purpose:"Measures serialization overhead and JSON conversion performance",frequencyWeight:.8,realWorldFrequency:"Low - State persistence, debugging, server-side rendering",architecturalTradeOffs:"Direct JSON serialization vs complex immutable structure traversal",enhancers:{required:["withSerialization","withMemoization","withHighPerformanceBatching"],optional:[],rationale:"Testing serialization feature; memoization and batching for stable baseline"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"exponential"}},{id:"concurrent-updates",name:"Rapid Sequential Updates",description:"High-frequency sequential modifications",operations:"50 concurrent",complexity:"Extreme",selected:!1,category:"core",purpose:"Tests performance under high-frequency update pressure",frequencyWeight:.4,realWorldFrequency:"Rare - Gaming, real-time data streams, intensive animations",architecturalTradeOffs:"Direct mutation handles rapid updates vs immutable bottlenecks",enhancers:{required:["withBatching"],optional:[],rationale:"Batching essential to prevent overwhelming the reactivity system"},dataRequirements:{minSize:50,maxSize:500,defaultSize:50,scalesWith:"linear"}},{id:"memory-efficiency",name:"Memory Usage",description:"Memory consumption patterns",operations:"Continuous",complexity:"Variable",selected:!1,category:"core",purpose:"Measures memory overhead and garbage collection impact",frequencyWeight:1.5,realWorldFrequency:"Medium-High - Mobile apps, long-running sessions, large datasets",architecturalTradeOffs:"Direct mutation reduces garbage collection vs immutable allocation pressure",enhancers:{required:["withLightweightMemoization","withBatching"],optional:[],rationale:"Lightweight memoization minimizes memory overhead; batching reduces allocation pressure"},dataRequirements:{minSize:1e3,maxSize:5e4,defaultSize:1e4,scalesWith:"exponential"}},{id:"undo-redo",name:"Undo/Redo Operations",description:"Time-travel through state history",operations:"100 undo/redo",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel functionality and history navigation performance",frequencyWeight:.6,realWorldFrequency:"Low - Text editors, design tools, debugging workflows",architecturalTradeOffs:"Time-travel requires immutable snapshots vs direct mutation benefits",enhancers:{required:["withTimeTravel"],optional:["withBatching"],rationale:"Time-travel enhancer required; batching may improve performance"},dataRequirements:{minSize:50,maxSize:500,defaultSize:100,scalesWith:"linear"}},{id:"history-size",name:"Large History Size",description:"Performance with large history buffers",operations:"1000 history entries",complexity:"High",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel performance with large history buffers",frequencyWeight:.3,realWorldFrequency:"Rare - Development tools, complex debugging workflows",architecturalTradeOffs:"Large history requires significant memory vs lightweight state tracking",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer with large history size configuration"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"logarithmic"}},{id:"jump-to-state",name:"Jump to State",description:"Jumping to arbitrary points in history",operations:"50 jumps",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests random access performance in time-travel history",frequencyWeight:.2,realWorldFrequency:"Very Rare - Advanced debugging, development tools",architecturalTradeOffs:"Random state access requires indexed history vs linear traversal",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer for state jumping functionality"},dataRequirements:{minSize:25,maxSize:200,defaultSize:50,scalesWith:"linear"}},{id:"single-middleware",name:"Single Middleware",description:"Performance impact of one middleware",operations:"1000 operations",complexity:"Low",selected:!1,category:"middleware",purpose:"Measures overhead of middleware layer on performance",frequencyWeight:1.2,realWorldFrequency:"Medium - Logging, analytics, error tracking",architecturalTradeOffs:"Middleware adds flexibility vs direct performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing middleware impact"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"multiple-middleware",name:"Multiple Middleware",description:"Stack of multiple middleware layers",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance impact of middleware stack depth",frequencyWeight:.7,realWorldFrequency:"Low - Enterprise apps with complex middleware stacks",architecturalTradeOffs:"Middleware composition flexibility vs cumulative performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing cumulative middleware overhead"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"conditional-middleware",name:"Conditional Middleware",description:"Middleware with conditional logic",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance of conditional middleware execution paths",frequencyWeight:.5,realWorldFrequency:"Rare - Advanced middleware with conditional logic",architecturalTradeOffs:"Conditional middleware provides smart optimization vs branching overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing conditional middleware logic"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}}];var wn={type:null,entityIds:null,skip:!1,payload:null},Ys=!1;function Gs(){Ys=!1}function Ht(i,e,t){Mt(i,e,t),Ys=!0}function Mt(i,e,t){Ys===!1&&(wn.type=i,wn.entityIds=e,wn.payload=t)}function Xs(i,e){return function(t,n,r){let s=r.value;return r.value=function(...o){return Ht(i,e),s.apply(this,o)},r}}function he(i,e){return i.hasOwnProperty(e)}function Xt(i){return Array.isArray(i)}function ai(i){return i.hasOwnProperty("active")}function hr(i){return Xt(i)}function ci({active:i,ids:e,entities:t}){return hr(i)?gl(i,e):he(t,i)===!1?null:i}function gl(i,e){let t=i.filter(n=>e.indexOf(n)>-1);return t.length===i.length?i:t}function Js({state:i,entities:e,idKey:t,options:n={},preAddEntity:r}){let s={},o=[],a=!1;for(let c of e)if(he(i.entities,c[t])===!1){let l=r(c),d=l[t];s[d]=l,n.prepend?o.unshift(d):o.push(d),a=!0}return a?{newState:O(M({},i),{entities:M(M({},i.entities),s),ids:n.prepend?[...o,...i.ids]:[...i.ids,...o]}),newIds:o}:null}function Pt(i){return i==null}function ht(i){return Pt(i)?[]:Array.isArray(i)?i:[i]}var je="id";function ge(i){return Xt(i)?i.length===0:!1}function nt(i){return typeof i=="function"}function ve(i){let e=typeof i;return i!=null&&(e=="object"||e=="function")}var ml={resettable:!1,ttl:null,producerFn:void 0};function kn(){return ml}function fl(){return ml.producerFn}function sn(i){return Pt(i)===!1}var Qs=new _t,li=new _i(50,5e3),pl=new _t;function bl(i){Qs.next(i)}function _l(i){li.next(i)}function yl(i,e){pl.next({storeName:i,action:e})}var di=typeof window<"u";var Dt={},Ml={};di&&(window.$$stores=Dt,window.$$queries=Ml);var We=function(i){return i.Set="Set",i.Add="Add",i.Update="Update",i.Remove="Remove",i}(We||{});var gr=!0;function at(){return gr}function Zs(i,e,t){let n;if(Xt(i))n=i;else if(ve(i)){if(Pt(t))return;i=Object.assign({wrap:!0},i);let r=e.indexOf(t);if(i.prev){let s=r===0;if(s&&!i.wrap)return;n=s?e[e.length-1]:e[r-1]}else if(i.next){let s=e.length===r+1;if(s&&!i.wrap)return;n=s?e[0]:e[r+1]}}else{if(i===t)return;n=i}return n}var to=()=>({entities:{},ids:[],loading:!0,error:null});function ne(i){return i===void 0}function eo({state:i,ids:e}){if(Pt(e))return Cl(i);let t=i.entities,n={};for(let s of i.ids)e.includes(s)===!1&&(n[s]=t[s]);let r=O(M({},i),{entities:n,ids:i.ids.filter(s=>e.includes(s)===!1)});return ai(i)&&(r.active=ci(r)),r}function Cl(i){return O(M({},i),{entities:{},ids:[],active:hr(i.active)?[]:null})}function no(i,e,t){let n={entities:{},ids:[]};for(let r of i){let s=t(r);n.entities[s[e]]=s,n.ids.push(s[e])}return n}function Ol(i){return i.entities&&i.ids}function Pl(i,e){let t={};for(let n of Object.keys(i))t[n]=e(i[n]);return t}function io({state:i,entities:e,idKey:t,preAddEntity:n,isNativePreAdd:r}){let s,o;if(Xt(e)){let c=no(e,t,n);s=c.entities,o=c.ids}else Ol(e)?(s=r?e.entities:Pl(e.entities,n),o=e.ids):(s=r?e:Pl(e,n),o=Object.keys(s).map(c=>isNaN(c)?c:Number(c)));let a=O(M({},i),{entities:s,ids:o,loading:!1});return ai(i)&&(a.active=ci(a)),a}function ro(i){Object.freeze(i);let e=typeof i=="function",t=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(i).forEach(function(n){t.call(i,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")&&i[n]!==null&&(typeof i[n]=="object"||typeof i[n]=="function")&&!Object.isFrozen(i[n])&&ro(i[n])}),i}function vl(i,e){i||console.error(`@StoreConfig({ name }) is missing in ${e}`)}function Se(i){return i!=null&&`${i}`!="false"}function En(i){return Se(i)&&i.constructor.name==="Object"}var on="akitaConfig";function qt(i){return function(e){e[on]={idKey:"id"};for(let t=0,n=Object.keys(i);t<n.length;t++){let r=n[t];r==="name"?e[on].storeName=i[r]:e[on][r]=i[r]}}}var Qm=new _t,Sl=new Ut(!1),we={activeTransactions:0,batchTransaction:null};function wl(){mr()||(we.batchTransaction=new _t),we.activeTransactions++,Sl.next(!0)}function kl(){--we.activeTransactions===0&&(we.batchTransaction.next(!0),we.batchTransaction.complete(),Sl.next(!1),Qm.next(!0))}function mr(){return we.activeTransactions>0}function so(){return we.batchTransaction?we.batchTransaction.asObservable():kr(!0)}function ui(i,e=void 0){wl();try{return i.apply(e)}finally{Ht("@Transaction"),kl()}}function fr(){return function(i,e,t){let n=t.value;return t.value=function(...r){return ui(()=>n.apply(this,r),this)},t}}var me=class{constructor(e,t={}){this.options=t,this.inTransaction=!1,this.cache={active:new Ut(!1),ttl:null},this.onInit(e)}setLoading(e=!1){e!==this._value().loading&&(at()&&Mt("Set Loading"),this._setState(t=>O(M({},t),{loading:e})))}setHasCache(e,t={restartTTL:!1}){if(e!==this.cache.active.value&&this.cache.active.next(e),t.restartTTL){let n=this.getCacheTTL();n&&(this.cache.ttl!==null&&clearTimeout(this.cache.ttl),this.cache.ttl=setTimeout(()=>this.setHasCache(!1),n))}}getValue(){return this.storeValue}setError(e){e!==this._value().error&&(at()&&Mt("Set Error"),this._setState(t=>O(M({},t),{error:e})))}_select(e){return this.store.asObservable().pipe(jt(t=>e(t.state)),un())}_value(){return this.storeValue}_cache(){return this.cache.active}get config(){return this.constructor[on]||{}}get storeName(){return this.config.storeName||this.options.storeName||this.options.name}get deepFreeze(){return this.config.deepFreezeFn||this.options.deepFreezeFn||ro}get cacheConfig(){return this.config.cache||this.options.cache}get _producerFn(){return this.config.producerFn||this.options.producerFn||fl()}get resettable(){return sn(this.config.resettable)?this.config.resettable:this.options.resettable}_setState(e,t=!0){if(nt(e)){let n=e(this._value());this.storeValue=gr?this.deepFreeze(n):n}else this.storeValue=e;if(!this.store){this.store=new Ut({state:this.storeValue}),at()&&this.store.subscribe(({action:n})=>{n&&yl(this.storeName,n)});return}if(mr()){this.handleTransaction();return}this.dispatch(this.storeValue,t)}reset(){this.isResettable()&&(at()&&Mt("Reset"),this._setState(()=>Object.assign({},this._initialState)),this.setHasCache(!1))}update(e){at()&&Mt("Update");let t,n=this._value();nt(e)?t=nt(this._producerFn)?this._producerFn(n,e):e(n):t=e;let r=this.akitaPreUpdate(n,M(M({},n),t)),s=En(n)?r:new n.constructor(r);this._setState(s)}updateStoreConfig(e){this.options=M(M({},this.options),e)}akitaPreUpdate(e,t){return t}destroy(){!(di?window.hmrEnabled:!1)&&this===Dt[this.storeName]&&(delete Dt[this.storeName],bl(this.storeName),this.setHasCache(!1),this.cache.active.complete(),this.store.complete())}onInit(e){Dt[this.storeName]=this,this._setState(()=>e),_l(this.storeName),this.isResettable()&&(this._initialState=e),at()&&vl(this.storeName,this.constructor.name)}dispatch(e,t=!0){let n;t&&(n=wn,Gs()),this.store.next({state:e,action:n})}watchTransaction(){so().subscribe(()=>{this.inTransaction=!1,this.dispatch(this._value())})}isResettable(){return this.resettable===!1?!1:this.resettable||kn().resettable}handleTransaction(){this.inTransaction||(this.watchTransaction(),this.inTransaction=!0)}getCacheTTL(){return this.cacheConfig&&this.cacheConfig.ttl||kn().ttl}};function oo({state:i,ids:e,idKey:t,newStateOrFn:n,preUpdateEntity:r,producerFn:s,onEntityIdChanges:o}){let a={},c=!1,l;for(let g of e){if(he(i.entities,g)===!1)continue;let b=i.entities[g],p;nt(n)?p=nt(s)?s(b,n):n(b):p=n;let y=p.hasOwnProperty(t)&&p[t]!==b[t],C;l=g,y&&(c=!0,l=p[t]);let P=M(M({},b),p);En(b)?C=P:En(p)?C=new b.constructor(P):C=new p.constructor(P),a[l]=r(b,C)}let d=i.ids,u=i.entities;if(c){let[g]=e,h=i.entities,{[g]:b}=h;u=bi(h,[Oo(g)]),d=i.ids.map(y=>y===g?l:y),o(g,l)}return O(M({},i),{entities:M(M({},u),a),ids:d})}var El,xt=class i extends me{constructor(e={},t={}){super(M(M({},to()),e),t),this.options=t,this.entityActions=new _t,this.entityIdChanges=new _t}get selectEntityAction$(){return this.entityActions.asObservable()}get selectEntityIdChanges$(){return this.entityIdChanges.asObservable()}get idKey(){return this.config.idKey||this.options.idKey||je}set(e,t={}){if(Pt(e))return;at()&&Mt("Set Entity");let n=this.akitaPreAddEntity===i.prototype.akitaPreAddEntity;this.setHasCache(!0,{restartTTL:!0}),this._setState(r=>{let s=io({state:r,entities:e,idKey:this.idKey,preAddEntity:this.akitaPreAddEntity.bind(this),isNativePreAdd:n});return ne(t.activeId)===!1&&(s.active=t.activeId),s}),this.hasInitialUIState()&&this.handleUICreation(),this.entityActions.next({type:We.Set,ids:this.ids})}add(e,t={loading:!1}){let n=ht(e);if(ge(n))return;let r=Js({state:this._value(),preAddEntity:this.akitaPreAddEntity.bind(this),entities:n,idKey:this.idKey,options:t});r&&(at()&&Mt("Add Entity"),r.newState.loading=t.loading,this._setState(()=>r.newState),this.hasInitialUIState()&&this.handleUICreation(!0),this.entityActions.next({type:We.Add,ids:r.newIds}))}update(e,t){if(ne(t)){super.update(e);return}let n=[];if(nt(e)?n=this.ids.filter(s=>e(this.entities[s])):n=Pt(e)?this.ids:ht(e),ge(n))return;at()&&Mt("Update Entity",n);let r;this._setState(s=>oo({idKey:this.idKey,ids:n,preUpdateEntity:this.akitaPreUpdateEntity.bind(this),state:s,newStateOrFn:t,producerFn:this._producerFn,onEntityIdChanges:(o,a)=>{r={oldId:o,newId:a},this.entityIdChanges.next(O(M({},r),{pending:!0}))}})),r&&this.entityIdChanges.next(O(M({},r),{pending:!1})),this.entityActions.next({type:We.Update,ids:n})}upsert(e,t,n,r={}){let s=ht(e),o=u=>h=>he(this.entities,h)===u,a=nt(n)?r.baseClass:n?n.baseClass:void 0,c=nt(a),l=s.filter(o(!0)),d=s.filter(o(!1)).map(u=>{let h=typeof t=="function"?t({}):t,g=nt(n)?n(u,h):h,b=O(M({},g),{[this.idKey]:u});return c?new a(b):b});this.update(l,t),this.add(d),at()&&Ht("Upsert Entity")}upsertMany(e,t={}){let n=[],r=[],s={};for(let o of e){let a=this.akitaPreCheckEntity(o),c=a[this.idKey];if(he(this.entities,c)){let l=this._value().entities[c],d=M(M({},this._value().entities[c]),a),u=t.baseClass?new t.baseClass(d):d,h=this.akitaPreUpdateEntity(l,u),g=h[this.idKey];s[g]=h,r.push(g)}else{let l=t.baseClass?new t.baseClass(a):a,d=this.akitaPreAddEntity(l),u=d[this.idKey];n.push(u),s[u]=d}}at()&&Ht("Upsert Many"),this._setState(o=>O(M({},o),{ids:n.length?[...o.ids,...n]:o.ids,entities:M(M({},o.entities),s),loading:!!t.loading})),r.length&&this.entityActions.next({type:We.Update,ids:r}),n.length&&this.entityActions.next({type:We.Add,ids:n}),n.length&&this.hasUIStore()&&this.handleUICreation(!0)}replace(e,t){let n=ht(e);if(ge(n))return;let r={};for(let s of n)r[s]=O(M({},t),{[this.idKey]:s});at()&&Mt("Replace Entity",e),this._setState(s=>O(M({},s),{entities:M(M({},s.entities),r)}))}move(e,t){let n=this.ids.slice();n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),at()&&Mt("Move Entity"),this._setState(r=>O(M({},r),{entities:M({},r.entities),ids:n}))}remove(e){if(ge(this.ids))return;let t=sn(e),n=[];nt(e)?n=this.ids.filter(r=>e(this.entities[r])):n=t?ht(e):this.ids,!ge(n)&&(at()&&Mt("Remove Entity",n),this._setState(r=>eo({state:r,ids:n})),t||this.setHasCache(!1),this.handleUIRemove(n),this.entityActions.next({type:We.Remove,ids:n}))}updateActive(e){let t=ht(this.active);at()&&Mt("Update Active",t),this.update(t,e)}setActive(e){let t=Zs(e,this.ids,this.active);t!==void 0&&(at()&&Mt("Set Active",t),this._setActive(t))}addActive(e){let t=ht(e);ge(t)||t.every(r=>this.active.indexOf(r)>-1)||(at()&&Mt("Add Active",e),this._setState(r=>{let s=Array.from(new Set([...r.active,...t]));return O(M({},r),{active:s})}))}removeActive(e){let t=ht(e);ge(t)||!t.some(r=>this.active.indexOf(r)>-1)||(at()&&Mt("Remove Active",e),this._setState(r=>O(M({},r),{active:Array.isArray(r.active)?r.active.filter(s=>t.indexOf(s)===-1):null})))}toggleActive(e){let t=ht(e),n=o=>a=>this.active.includes(a)===o,r=t.filter(n(!0)),s=t.filter(n(!1));this.removeActive(r),this.addActive(s),at()&&Ht("Toggle Active")}createUIStore(e={},t={}){let n={name:`UI/${this.storeName}`,idKey:this.idKey};return this.ui=new hi(e,M(M({},n),t)),this.ui}destroy(){super.destroy(),this.ui instanceof i&&this.ui.destroy(),this.entityActions.complete()}akitaPreUpdateEntity(e,t){return t}akitaPreAddEntity(e){return e}akitaPreCheckEntity(e){return e}get ids(){return this._value().ids}get entities(){return this._value().entities}get active(){return this._value().active}_setActive(e){this._setState(t=>O(M({},t),{active:e}))}handleUICreation(e=!1){let t=this.ids,n=nt(this.ui._akitaCreateEntityFn),r,s=o=>{let a=this.entities[o],c=n?this.ui._akitaCreateEntityFn(a):this.ui._akitaCreateEntityFn;return M({[this.idKey]:a[this.idKey]},c)};e?r=this.ids.filter(o=>ne(this.ui.entities[o])).map(s):r=t.map(s),e?this.ui.add(r):this.ui.set(r)}hasInitialUIState(){return this.hasUIStore()&&ne(this.ui._akitaCreateEntityFn)===!1}handleUIRemove(e){this.hasUIStore()&&this.ui.remove(e)}hasUIStore(){return this.ui instanceof hi}};Ln([fr(),Zt("design:type",Function),Zt("design:paramtypes",[Object,Object,Object,Object]),Zt("design:returntype",void 0)],xt.prototype,"upsert",null);Ln([fr(),Zt("design:type",Function),Zt("design:paramtypes",[typeof(El=typeof T<"u"&&T)=="function"?El:Object]),Zt("design:returntype",void 0)],xt.prototype,"toggleActive",null);var hi=class extends xt{constructor(e={},t={}){super(e,t)}setInitialEntityState(e){this._akitaCreateEntityFn=e}};function ao(){return pe(i=>i!=null)}function An(i){return typeof i=="string"}function Tn(i,e){return e.split(".").length===1?i:e.split(".").slice(1).join(".").split(".").reduce((n,r)=>n&&n[r],i)}function gi(i,e,t,n=!1){let r=e.split(".");if(r.length===1)return M(M({},i),t);i=M({},i);let s=r.length-2;return e.split(".").slice(1).reduce((a,c,l)=>l!==s?(a[c]=M({},a[c]),a&&a[c]):(a[c]=n||Array.isArray(a[c])||!ve(a[c])?t:M(M({},a[c]),t),a&&a[c]),i),i}var sf=!1,oM=new _i(1);function co(i){sf=i}var $e=class{constructor(e,t){this.query=e,t&&t.resetFn&&kn().resettable&&this.onReset(t.resetFn)}getQuery(){return this.query}getStore(){return this.getQuery().__store__}isEntityBased(e){return Se(e)}selectSource(e,t){return this.isEntityBased(e)?this.getQuery().selectEntity(e).pipe(ao()):t?this.getQuery().select(n=>Tn(n,this.withStoreName(t))):this.getQuery().select()}getSource(e,t){if(this.isEntityBased(e))return this.getQuery().getEntity(e);let n=this.getQuery().getValue();return t?Tn(n,this.withStoreName(t)):n}withStoreName(e){return`${this.storeName}.${e}`}get storeName(){return this.getStore().storeName}updateStore(e,t,n,r=!1){if(this.isEntityBased(t)){let s=this.getStore();r?s.replace(t,e):s.update(t,e)}else{if(n){this.getStore()._setState(o=>gi(o,this.withStoreName(n),e,!0));return}let s=r?e:o=>M(M({},o),e);this.getStore()._setState(s)}}onReset(e){let t=this.getStore().reset;this.getStore().reset=(...n)=>{setTimeout(()=>{t.apply(this.getStore(),n),e()})}}};var lf={pagesControls:!1,range:!1,startWith:1,cacheTimeout:void 0,clearStoreWithCache:!0},pr=class extends $e{constructor(e,t={}){super(e,{resetFn:()=>{this.initial=!1,this.destroy({clearCache:!0,currentPage:1})}}),this.query=e,this.config=t,this.metadata=new Map,this.pages=new Map,this.pagination={currentPage:1,perPage:0,total:0,lastPage:0,data:[]},this.initial=!0,this.isLoading$=this.query.selectLoading().pipe(ko(0)),this.config=M(M({},lf),t);let{startWith:n,cacheTimeout:r}=this.config;this.page=new Ut(n),yi(r)&&(this.clearCacheSubscription=r.subscribe(()=>this.clearCache()))}get pageChanges(){return this.page.asObservable()}get currentPage(){return this.pagination.currentPage}get isFirst(){return this.currentPage===1}get isLast(){return this.currentPage===this.pagination.lastPage}withControls(){return this.config.pagesControls=!0,this}withRange(){return this.config.range=!0,this}setLoading(e=!0){this.getStore().setLoading(e)}update(e){this.pagination=e,this.addPage(e.data)}addPage(e){this.pages.set(this.currentPage,{ids:e.map(t=>t[this.getStore().idKey])}),this.getStore().upsertMany(e)}clearCache(e={}){this.initial||(Ht("@Pagination - Clear Cache"),e.clearStore!==!1&&(this.config.clearStoreWithCache||e.clearStore)&&this.getStore().remove(),this.pages=new Map,this.metadata=new Map),this.initial=!1}clearPage(e){this.pages.delete(e)}destroy({clearCache:e,currentPage:t}={}){this.clearCacheSubscription&&this.clearCacheSubscription.unsubscribe(),e&&this.clearCache(),ne(t)||this.setPage(t),this.initial=!0}isPageActive(e){return this.currentPage===e}setPage(e){(e!==this.currentPage||!this.hasPage(e))&&this.page.next(this.pagination.currentPage=e)}nextPage(){this.currentPage!==this.pagination.lastPage&&this.setPage(this.pagination.currentPage+1)}prevPage(){this.pagination.currentPage>1&&this.setPage(this.pagination.currentPage-1)}setLastPage(){this.setPage(this.pagination.lastPage)}setFirstPage(){this.setPage(1)}hasPage(e){return this.pages.has(e)}getPage(e){let t=this.pagination.currentPage;return this.hasPage(t)?this.selectPage(t):(this.setLoading(!0),wr(e()).pipe(xi(n=>(t=n.currentPage,ui(()=>{this.setLoading(!1),this.update(n)}),this.selectPage(t)))))}getQuery(){return this.query}refreshCurrentPage(){Pt(this.currentPage)===!1&&(this.clearPage(this.currentPage),this.setPage(this.currentPage))}getFrom(){return this.isFirst?1:(this.currentPage-1)*this.pagination.perPage+1}getTo(){return this.isLast?this.pagination.total:this.currentPage*this.pagination.perPage}selectPage(e){return this.query.selectAll({asObject:!0}).pipe(re(1),jt(t=>{let n=O(M({},this.pagination),{data:this.pages.get(e).ids.map(o=>t[o])}),{range:r,pagesControls:s}=this.config;return isNaN(this.pagination.total)&&(n.lastPage===1?n.total=n.data?n.data.length:0:n.total=n.perPage*n.lastPage,this.pagination.total=n.total),r&&(n.from=this.getFrom(),n.to=this.getTo()),s&&(n.pageControls=df(this.pagination.total,this.pagination.perPage)),n}))}};Ln([Xs("@Pagination - New Page"),Zt("design:type",Function),Zt("design:paramtypes",[Object]),Zt("design:returntype",void 0)],pr.prototype,"update",null);function df(i,e){let t=Math.ceil(i/e),n=[];for(let r=0;r<t;r++)n.push(r+1);return n}var lo=function(i){return i.Update="UPDATE",i}(lo||{}),gx={[lo.Update]:"update"},ke=function(i){return i.Update="UPDATE",i.AddEntities="ADD_ENTITIES",i.SetEntities="SET_ENTITIES",i.UpdateEntities="UPDATE_ENTITIES",i.RemoveEntities="REMOVE_ENTITIES",i.UpsertEntities="UPSERT_ENTITIES",i.UpsertManyEntities="UPSERT_MANY_ENTITIES",i}(ke||{}),mx={[ke.Update]:"update",[ke.AddEntities]:"add",[ke.SetEntities]:"set",[ke.UpdateEntities]:"update",[ke.RemoveEntities]:"remove",[ke.UpsertEntities]:"upsert",[ke.UpsertManyEntities]:"upsertMany"};var br=class{getStoresSnapshot(e=[]){let t={},r=e.length>0?e:Object.keys(Dt);for(let s=0;s<r.length;s++){let o=r[s];o!=="router"&&(t[o]=Dt[o]._value())}return t}setStoresSnapshot(e,t){let n=M({skipStorageUpdate:!1,lazy:!1},t);n.skipStorageUpdate&&co(!0);let r=e;An(e)&&(r=JSON.parse(r));let s=Object.keys(r).length;if(n.lazy)li.pipe(pe(o=>r.hasOwnProperty(o)),re(s)).subscribe(o=>Dt[o]._setState(()=>r[o]));else for(let o=0,a=Object.keys(r);o<a.length;o++){let c=a[o];Dt[c]&&Dt[c]._setState(()=>r[c])}n.skipStorageUpdate&&co(!1)}},hf=new br;var _r=class i{yieldToUI=Te();runSingleMiddlewareBenchmark(e){return I(this,null,function*(){class t extends me{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(o,a){let c=a.counter>-1;return a}}let n=new t,r=performance.now();for(let s=0;s<e;s++)n.update(o=>O(M({},o),{counter:o.counter+1}));return performance.now()-r})}runMultipleMiddlewareBenchmark(e,t){return I(this,null,function*(){class n extends me{constructor(c){super({counter:0,data:"test"});this.middlewareCount=c}akitaPreUpdate(c,l){for(let d=0;d<this.middlewareCount;d++){let u=0;for(let h=0;h<10;h++)u+=h}return l}}let r=new n(e),s=performance.now();for(let o=0;o<t;o++)r.update(a=>O(M({},a),{counter:a.counter+1}));return performance.now()-s})}runConditionalMiddlewareBenchmark(e){return I(this,null,function*(){class t extends me{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(o,a){if(a.counter%2===0){let c=0;for(let l=0;l<20;l++)c+=l}return a}}let n=new t,r=performance.now();for(let s=0;s<e;s++)s%2===0?n.update(a=>O(M({},a),{counter:a.counter+1})):n.update(a=>O(M({},a),{data:"modified"}));return performance.now()-r})}runAsyncWorkflowBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Math.min(e,E.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let s=0;s<n;s++)r.push(new Promise(o=>setTimeout(o,0)));return yield Promise.all(r),performance.now()-t})}runConcurrentAsyncBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Array.from({length:e},()=>new Promise(r=>setTimeout(r,0)));return yield Promise.all(n),performance.now()-t})}runAsyncCancellationBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=[];for(let r=0;r<e;r++)n.push(setTimeout(()=>{},10));for(let r=0;r<Math.floor(e/2);r++)clearTimeout(n[r]);return yield new Promise(r=>setTimeout(r,10)),performance.now()-t})}runDeepNestedBenchmark(n){return I(this,arguments,function*(e,t=E.DATA_GENERATION.NESTED_DEPTH){let r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=r(t),o=(c,l,d)=>l===0?O(M({},c),{value:d}):O(M({},c),{level:o(c.level??{},l-1,d)}),a=performance.now();for(let c=0;c<Math.min(e,E.ITERATIONS.DEEP_NESTED);c++)s=o(s,t-1,c);return s?.level?.level===null&&console.log("noop"),performance.now()-a})}runArrayBenchmark(e){return I(this,null,function*(){let t=class extends xt{constructor(){super({})}};t=Kt([qt({name:"akita-bench-items",idKey:"id"})],t);let n=new t;n.add(Array.from({length:e},(a,c)=>({id:c,value:Math.random()*1e3})));let r=performance.now(),s=Math.min(E.ITERATIONS.ARRAY_UPDATES,e);for(let a=0;a<s;a++){let c=a%e;n.update(c,{value:Math.random()*1e3})}return(n.getValue().ids?.length??0)===-1&&console.log("noop"),performance.now()-r})}runComputedBenchmark(e){return I(this,null,function*(){let t={value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(s,o)=>o+1)},n=()=>{let s=0;for(let o of t.factors)s+=Math.sin(t.value*o)*Math.cos(o);return s},r=performance.now();for(let s=0;s<Math.min(e,E.ITERATIONS.COMPUTED);s++)t=O(M({},t),{value:s}),n();return performance.now()-r})}runBatchUpdatesBenchmark(){return I(this,arguments,function*(e=E.ITERATIONS.BATCH_UPDATES,t=E.ITERATIONS.BATCH_SIZE){let n=class extends xt{constructor(){super({})}};n=Kt([qt({name:"akita-bench-batch",idKey:"id"})],n);let r=new n;r.add(Array.from({length:t},(o,a)=>({id:a,value:a})));let s=performance.now();for(let o=0;o<e;o++)r.update(Array.from({length:t},(a,c)=>c),a=>({value:a.value+1|0}));return performance.now()-s})}runSelectorBenchmark(e){return I(this,null,function*(){let t=class extends xt{constructor(){super({})}};t=Kt([qt({name:"akita-bench-select",idKey:"id"})],t);let n=new t;n.add(Array.from({length:e},(c,l)=>({id:l,flag:l%2===0})));let r=performance.now(),s,o=0,a=()=>{let c=n.getValue(),l=c.ids??[],d=c.entities??{},u=l.length;if(s!==void 0&&u===o)return s;let h=0;for(let g of l)d[g]?.flag&&h++;return s=h,o=u,h};for(let c=0;c<E.ITERATIONS.SELECTOR;c++)a()===-1&&console.log("noop");return performance.now()-r})}runSerializationBenchmark(e){return I(this,null,function*(){let t=class extends xt{constructor(){super({})}};t=Kt([qt({name:"akita-serialize",idKey:"id"})],t);let n=new t,r=Array.from({length:Math.max(100,Math.min(1e3,e))},(l,d)=>({id:d,name:`User ${d}`,roles:d%5===0?["admin","user"]:["user"],active:d%3===0,meta:{createdAt:new Date(2020,0,1+d%28)}}));n.set(r);for(let l=0;l<10;l++){let d=l%r.length;n.update(d,u=>O(M({},u),{active:!u.active}))}let s=performance.now(),o=n.getValue(),a=performance.now();JSON.stringify({data:o});let c=performance.now();return console.debug("[Akita][serialization] toPlain(ms)=",(a-s).toFixed(2)," stringify(ms)=",(c-a).toFixed(2)),c-s})}runConcurrentUpdatesBenchmark(){return I(this,arguments,function*(e=E.ITERATIONS.ASYNC_WORKFLOW,t=200){let n=class extends xt{constructor(){super({})}};n=Kt([qt({name:"akita-bench-conc",idKey:"id"})],n);let r=new n;r.add(Array.from({length:e},(l,d)=>({id:d,value:0})));let s=performance.now();for(let l=0;l<t;l++)r.update(Array.from({length:e},(d,u)=>u),d=>({value:d.value+1|0}));return((r.getValue().entities??{})[0]?.value??0)===-1&&console.log("noop"),performance.now()-s})}runMemoryEfficiencyBenchmark(e){return I(this,null,function*(){let t=class extends xt{constructor(){super({})}};t=Kt([qt({name:"akita-bench-mem",idKey:"id"})],t);let n=Math.max(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,e)),r=Math.max(10,Math.min(200,Math.floor(n/250))),s=new t;s.add(Array.from({length:n},(c,l)=>({id:l,score:l*13%997,tags:l%7===0?["hot","new"]:["cold"],group:l%r})));let o=performance.now(),a=Math.max(100,Math.floor(n*.01));for(let c=0;c<a;c++){let l=c%n;s.update(l,d=>({score:d.score+1|0,tags:(c&E.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?d.tags.includes("hot")?["cold"]:["hot"]:d.tags}))}return performance.now()-o})}runDataFetchingBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=class extends xt{constructor(){super({})}};n=Kt([qt({name:"akita-fetched-items",idKey:"id"})],n);let r=new n,s=Array.from({length:Math.min(e,E.ITERATIONS.DATA_FETCHING)},(o,a)=>({id:a,title:`Item ${a}`,description:`Description for item ${a}`,tags:[`tag${a%10}`,`category${a%5}`],meta:{createdAt:new Date(2023,0,1+a%365),updatedAt:new Date(2023,6,1+a%180),views:Math.floor(Math.random()*1e3),rating:Math.random()*5},relations:{authorId:Math.floor(a/10),parentId:a>0?a-1:null,childIds:a<e-1?[a+1]:[]}}));r.set(s);for(let o=0;o<Math.min(e/10,E.ITERATIONS.DATA_FETCHING);o++){let a=`search${o}`,c=`cat${o%5}`,l=s.filter(d=>d.title.includes(a)||d.tags.includes(c)).map(d=>d.id);l.length>0&&r.setActive(l[0])}return performance.now()-t})}runRealTimeUpdatesBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=class extends xt{constructor(){super({}),this.add({id:"main",activeUsers:0,totalSessions:0,pageViews:0,serverLoad:0,responseTime:0})}};n=Kt([qt({name:"akita-metrics",idKey:"id"})],n);let r=class extends xt{constructor(){super({})}};r=Kt([qt({name:"akita-events",idKey:"id"})],r);let s=class extends xt{constructor(){super({})}};s=Kt([qt({name:"akita-notifications",idKey:"id"})],s);let o=new n,a=new r,c=new s,l=Math.min(E.ITERATIONS.REAL_TIME_UPDATES,e);for(let d=0;d<l;d++){let u=o.getValue().entities?.main;if(u&&o.update("main",{activeUsers:u.activeUsers+Math.floor(Math.random()*10-5),pageViews:u.pageViews+Math.floor(Math.random()*20),serverLoad:Math.random(),responseTime:50+Math.random()*200}),(d&E.YIELD_FREQUENCY.DATA_FETCHING)===0){a.add({id:d,type:"user_action",timestamp:Date.now(),data:`event${d}`});let h=a.getValue().entities;if(h){let g=Object.values(h);if(g.length>100){let b=g.slice(0,g.length-100).map(p=>p.id);a.remove(b)}}}if((d&E.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0){c.add({id:d,message:`Notification ${d}`,priority:"normal",timestamp:Date.now()});let h=c.getValue().entities;if(h){let g=Object.values(h);if(g.length>10){let b=g.slice(0,g.length-10).map(p=>p.id);c.remove(b)}}}}return performance.now()-t})}runStateSizeScalingBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=class extends xt{constructor(){super({})}};n=Kt([qt({name:"akita-large-entities",idKey:"id"})],n);let r=new n,s=Array.from({length:Math.min(e*10,E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX)},(a,c)=>({id:c,name:`Entity ${c}`,properties:Array.from({length:20},(l,d)=>({key:`prop_${d}`,value:`value_${c}_${d}`,metadata:{type:"string",indexed:d%3===0}})),relations:Array.from({length:Math.min(5,c)},(l,d)=>({targetId:c-d-1,type:"reference"}))}));r.set(s);let o=E.ITERATIONS.STATE_SIZE_SCALING;for(let a=0;a<o;a++){let c=a%s.length;if(r.update(c,l=>O(M({},l),{properties:l.properties.map((d,u)=>u===0?O(M({},d),{value:`updated_${Date.now()}`}):d)})),(a&E.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0){let l=r.getValue().entities;if(l){let d=l[c];d&&d.properties.filter(u=>u.metadata.indexed)}}}return performance.now()-t})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function gf(...i){let e={config:{},state:{}};for(let{config:t,props:n}of i)Object.assign(e.config,t),Object.assign(e.state,n);return e}var Rl=new Ut(!1),mf=Rl.asObservable().pipe(pe(i=>!i),re(1));var Dn={},uo=class{registerPreStoreUpdate(e){Dn.preStoreUpdate=e}registerPreStateInit(e){Dn.preStateInit=e}},Y1=new uo,Bl=new Map,go=new _t,G1=go.asObservable();function ff(i){Bl.set(i.name,i),go.next({type:"add",store:i})}function pf(i){Bl.delete(i.name),go.next({type:"remove",store:i})}var yr=[];function bf(i){yr.push(i)}function Dl(i){yr.length&&yr.forEach(e=>i.next(e)),yr=[]}var ho=class extends Ut{constructor(e){super(e.state),this.storeDef=e,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new _t,this.context={config:this.getConfig(),setEvent:t=>{bf(t)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(e.state),this.initialState=this.getValue(),ff(this)}get name(){return this.storeDef.name}getInitialState(e){return Dn.preStateInit?Dn.preStateInit(e,this.name):e}getConfig(){return this.storeDef.config}query(e){return e(this.getValue())}update(...e){let t=this.getValue(),n=e.reduce((r,s)=>(r=s(r,this.context),r),t);Dn.preStoreUpdate&&(n=Dn.preStoreUpdate(t,n,this.name)),n!==t&&(this.state=n,Rl.getValue()?this.batchInProgress||(this.batchInProgress=!0,mf.subscribe(()=>{super.next(this.state),Dl(this.events),this.batchInProgress=!1})):(super.next(this.state),Dl(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(e){let t=!0,n={};return new dn(r=>{for(let[s,o]of Object.entries(e))r.add(o.subscribe(a=>{n[s]=a,t=!0}));return this.subscribe({next(){t&&(r.next(M({},n)),t=!1)},error(s){r.error(s)},complete(){r.complete()}})})}destroy(){pf(this),this.reset()}next(e){this.update(()=>e)}error(){}complete(){}};function Rt(i,...e){let{state:t,config:n}=gf(...e),{name:r}=i;return new ho({name:r,state:t,config:n})}function mi(i){return Array.isArray(i)?i:[i]}function Mr(i){return typeof i=="function"}function fi(i){return i.charAt(0).toUpperCase()+i.slice(1)}function _f(i){return typeof i=="object"&&!Array.isArray(i)&&i!==null}function Fl(i){return vo(jt(i),un())}function mo(i,{initialValue:e,config:t}){let n=e,r=fi(i);return{[`with${r}`](s=n){return{props:{[i]:s},config:t}},[`set${r}InitialValue`](s){n=s},[`set${r}`](s){return function(o){let a=Mr(s)?s(o):s;return a===o[i]?o:O(M({},o),{[i]:a})}},[`update${r}`](s){return function(o){let a=Mr(s)?s(o):s;return a===o[i]?o:O(M({},o),{[i]:_f(a)?M(M({},o[i]),a):a})}},[`reset${r}`](){return function(s){return O(M({},s),{[i]:n})}},[`select${r}`](){return Fl(s=>s[i])},[`get${r}`](s){return s[i]}}}function zl(i,e){let t=fi(i),n=mo(i,e);return O(M({},n),{[`add${t}`](r){return function(s){return O(M({},s),{[i]:yf(s[i],r)})}},[`remove${t}`](r){return function(s){return O(M({},s),{[i]:Mf(s[i],r)})}},[`toggle${t}`](r){return function(s){return O(M({},s),{[i]:xf(s[i],r)})}},[`update${t}`](r,s){return function(o){return O(M({},o),{[i]:Pf(o[i],r,s)})}},[`in${t}`](r){return s=>Cf(s[i],r)}})}function yf(i,e){return[...i,...mi(e)]}function Mf(i,e){let t=mi(e);return i.filter(n=>!t.includes(n))}function xf(i,e){let t=mi(e),n=[...i];return t.forEach(r=>{let s=n.indexOf(r);s>-1?n.splice(s,1):n.push(r)}),n}function Cf(i,e){return i.includes(e)}function Pf(i,e,t){return i.map(n=>n===e?t:n)}function Ll(i,e){let t={},n=[];for(let r of i){let s=r[e];n.push(s),t[s]=r}return{ids:n,asObject:t}}function Of(i,e){return i.config[e.idKeyRef]}var fo=class{constructor(e){this.entitiesKey=void 0,this.idsKey=void 0,this.idKeyRef="idKey",this.entitiesKey=e.entitiesKey,this.idsKey=e.idsKey,this.idKeyRef=e.idKeyRef}};function Nl(i){let e=i?`idKey${fi(i)}`:"idKey",t=new fo({entitiesKey:i?`${i}Entities`:"entities",idsKey:i?`${i}Ids`:"ids",idKeyRef:e});function n(r){let s={},o=[],a=r?.idKey||"id";return r?.initialValue&&({ids:o,asObject:s}=Ll(r.initialValue,a)),{props:{[t.entitiesKey]:s,[t.idsKey]:o},config:{[e]:a}}}return{[`${i}EntitiesRef`]:t,[`with${fi(i)}Entities`]:n}}var{withEntities:Bt,EntitiesRef:Rn}=Nl(""),{UIEntitiesRef:nP,withUIEntities:iP}=Nl("UI");function Ft(i,e={}){return function(t,n){let{ref:r=Rn}=e,{entitiesKey:s,idsKey:o}=r,{ids:a,asObject:c}=Ll(i,Of(n,r));return n.setEvent({type:"set",ids:a}),O(M({},t),{[s]:c,[o]:a})}}function fe(i={}){let{ref:{entitiesKey:e,idsKey:t}=Rn}=i;return function(n){return n[t].map(r=>n[e][r])}}function vf(i,e={}){return function(t){let{ref:{entitiesKey:n}=Rn}=e;return t[n][i]}}function Sf(i,e={}){return function(t){let{ref:{entitiesKey:n}=Rn}=e;return Reflect.has(t[n],i)}}function wf(i,e){return Mr(i)?i(e):M(M({},e),i)}function an(i,e,t={}){return function(n,r){let s=mi(i);if(!s.length)return n;let{ref:{entitiesKey:o}=Rn}=t,a={};for(let c of s)Sf(c,t)(n)&&(a[c]=wf(e,vf(c,t)(n)));return r.setEvent({type:"update",ids:s}),O(M({},n),{[o]:M(M({},n[o]),a)})}}function po(i,e={}){return function(t,n){let{ref:{idsKey:r}=Rn}=e;return an(t[r],i,e)(t,n)}}var{selectActiveId:rP,setActiveId:sP,withActiveId:oP,resetActiveId:aP,getActiveId:cP}=mo("activeId",{initialValue:void 0});var{setActiveIds:lP,resetActiveIds:dP,withActiveIds:uP,selectActiveIds:hP,toggleActiveIds:gP,removeActiveIds:mP,addActiveIds:fP,getActiveIds:pP}=zl("activeIds",{initialValue:[]});var xr=class i{yieldToUI=Te();runAsyncWorkflowBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Math.min(e,E.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let s=0;s<n;s++)r.push(new Promise(o=>setTimeout(o,0)));return yield Promise.all(r),performance.now()-t})}runConcurrentAsyncBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Array.from({length:e},()=>new Promise(r=>setTimeout(r,0)));return yield Promise.all(n),performance.now()-t})}runAsyncCancellationBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=[];for(let r=0;r<e;r++)n.push(setTimeout(()=>{},10));for(let r=0;r<Math.floor(e/2);r++)clearTimeout(n[r]);return yield new Promise(r=>setTimeout(r,10)),performance.now()-t})}runDeepNestedBenchmark(n){return I(this,arguments,function*(e,t=E.DATA_GENERATION.NESTED_DEPTH){let r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=r(t),o=(c,l,d)=>l===0?O(M({},c),{value:d}):O(M({},c),{level:o(c.level??{},l-1,d)}),a=performance.now();for(let c=0;c<Math.min(e,E.ITERATIONS.DEEP_NESTED);c++)s=o(s,t-1,c);return s?.level?.value===-1&&console.log("noop"),performance.now()-a})}runArrayBenchmark(e){return I(this,null,function*(){let t=Rt({name:"elf-bench-items"},Bt());t.update(Ft(Array.from({length:e},(o,a)=>({id:a,value:Math.random()*1e3}))));let n=performance.now(),r=Math.min(E.ITERATIONS.ARRAY_UPDATES,e);for(let o=0;o<r;o++){let a=o%e;t.update(an(a,c=>O(M({},c),{value:Math.random()*1e3})))}return t.query(fe()).length===-1&&console.log("noop"),performance.now()-n})}runComputedBenchmark(e){return I(this,null,function*(){let t={value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(s,o)=>o+1)},n=()=>{let s=0;for(let o of t.factors)s+=Math.sin(t.value*o)*Math.cos(o);return s},r=performance.now();for(let s=0;s<Math.min(e,E.ITERATIONS.COMPUTED);s++)t=O(M({},t),{value:s}),n();return performance.now()-r})}runBatchUpdatesBenchmark(){return I(this,arguments,function*(e=E.ITERATIONS.BATCH_UPDATES,t=E.ITERATIONS.BATCH_SIZE){let n=Rt({name:"elf-bench-batch"},Bt());n.update(Ft(Array.from({length:t},(s,o)=>({id:o,value:o}))));let r=performance.now();for(let s=0;s<e;s++)n.update(po(o=>O(M({},o),{value:o.value+1|0})));return performance.now()-r})}runSelectorBenchmark(e){return I(this,null,function*(){let t=Rt({name:"elf-bench-select"},Bt());t.update(Ft(Array.from({length:e},(a,c)=>({id:c,flag:c%2===0}))));let n=performance.now(),r,s,o=()=>{let a=t.query(fe());if(a===s&&r!==void 0)return r;let c=0;for(let l of a)l.flag&&c++;return s=a,r=c,c};for(let a=0;a<E.ITERATIONS.SELECTOR;a++)o()===-1&&console.log("noop");return performance.now()-n})}runSerializationBenchmark(e){return I(this,null,function*(){let t=Rt({name:"elf-serialize"},Bt()),n=Array.from({length:Math.max(E.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(E.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,e))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}}));t.update(Ft(n));for(let c=0;c<10;c++){let l=c%n.length;t.update(an(l,d=>O(M({},d),{active:!d.active})))}let r=performance.now(),s=t.getValue(),o=performance.now();JSON.stringify({data:s});let a=performance.now();return console.debug("[Elf][serialization] toPlain(ms)=",(o-r).toFixed(2)," stringify(ms)=",(a-o).toFixed(2)),a-r})}runConcurrentUpdatesBenchmark(){return I(this,arguments,function*(e=E.ITERATIONS.ASYNC_WORKFLOW,t=200){let n=Rt({name:"elf-bench-conc"},Bt());n.update(Ft(Array.from({length:e},(o,a)=>({id:a,value:0}))));let r=performance.now();for(let o=0;o<t;o++)n.update(po(a=>O(M({},a),{value:a.value+1|0})));let s=n.query(fe())[0];return s&&s.value===-1&&console.log("noop"),performance.now()-r})}runMemoryEfficiencyBenchmark(e){return I(this,null,function*(){let t=Rt({name:"elf-bench-mem"},Bt()),n=Math.max(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,e)),r=Math.max(10,Math.min(200,Math.floor(n/250)));t.update(Ft(Array.from({length:n},(a,c)=>({id:c,score:c*13%997,tags:c%7===0?["hot","new"]:["cold"],group:c%r}))));let s=performance.now(),o=Math.max(100,Math.floor(n*.01));for(let a=0;a<o;a++){let c=a%n;t.update(an(c,l=>O(M({},l),{score:l.score+1|0,tags:(a&E.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?l.tags.includes("hot")?["cold"]:["hot"]:l.tags})))}return performance.now()-s})}runDataFetchingBenchmark(){return I(this,null,function*(){let e=Rt({name:"elf-users"},Bt()),t=performance.now(),n=Array.from({length:E.ITERATIONS.DATA_FETCHING},(d,u)=>({id:u+1,name:`User ${u+1}`,email:`user${u+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));e.update(Ft(n));let s=e.query(fe()).filter(d=>d.isActive);Rt({name:"elf-active-users"},Bt()).update(Ft(s));let a=s.reduce((d,u)=>(d[u.department]||(d[u.department]=[]),d[u.department].push(u),d),{}),c={};Object.entries(a).forEach(([d,u])=>{c[d]=Rt({name:`elf-dept-${d}`},Bt()),c[d].update(Ft(u))});let l=performance.now()-t;return e.query(fe()).length===-1&&console.log("noop"),l})}runRealTimeUpdatesBenchmark(){return I(this,null,function*(){let e=Rt({name:"elf-metrics"},Bt()),t=Rt({name:"elf-messages"},Bt()),n=performance.now();for(let s=0;s<E.ITERATIONS.REAL_TIME_UPDATES;s++){let o={id:s,activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1,timestamp:Date.now()};if(s===0?e.update(Ft([o])):e.update(an(0,()=>o)),(s&E.YIELD_FREQUENCY.DATA_FETCHING)===0){let a={id:s,content:`Real-time message ${s}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"},c=t.query(fe());t.update(Ft([...c,a]))}}let r=performance.now()-n;return e.query(fe()).length===-1&&console.log("noop"),r})}runStateSizeScalingBenchmark(){return I(this,null,function*(){let e=Rt({name:"elf-large-data"},Bt()),t=performance.now(),n=Array.from({length:1e4},(d,u)=>({id:u+1,title:`Item ${u+1}`,description:`Description for item ${u+1} with some additional text to make it realistic`,category:`Category ${Math.floor(u/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${u%10}`,`tag${u%7}`,`tag${u%5}`],score:Math.random()*100}}));e.update(Ft(n));let s=e.query(fe()).filter(d=>d.status==="active");Rt({name:"elf-active-items"},Bt()).update(Ft(s));let a=[...s].sort((d,u)=>u.metadata.score-d.metadata.score);Rt({name:"elf-sorted-items"},Bt()).update(Ft(a));for(let d=0;d<E.ITERATIONS.STATE_SIZE_SCALING;d++){let u=Math.floor(Math.random()*n.length);e.update(an(u+1,h=>O(M({},h),{metadata:O(M({},h.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})})))}let l=performance.now()-t;return e.query(fe()).length===-1&&console.log("noop"),l})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Vl={};function Z(i,e){if(Vl[i]=(Vl[i]||0)+1,typeof e=="function")return bo(i,(...n)=>O(M({},e(...n)),{type:i}));switch(e?e._as:"empty"){case"empty":return bo(i,()=>({type:i}));case"props":return bo(i,n=>O(M({},n),{type:i}));default:throw new Error("Unexpected config.")}}function gt(){return{_as:"props",_p:void 0}}function bo(i,e){return Object.defineProperty(e,"type",{value:i,writable:!1})}function Ef(i,e){if(i==null)throw new Error(`${e} must be defined.`)}var Af="@ngrx/store/init",Co=(()=>{let e=class e extends Ut{constructor(){super({type:Af})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Wt({token:e,factory:e.\u0275fac});let i=e;return i})();var Tf=new Y("@ngrx/store Internal Root Guard"),VP=new Y("@ngrx/store Internal Initial State"),If=new Y("@ngrx/store Initial State"),Df=new Y("@ngrx/store Reducer Factory"),UP=new Y("@ngrx/store Internal Reducer Factory Provider"),Rf=new Y("@ngrx/store Initial Reducers"),jP=new Y("@ngrx/store Internal Initial Reducers"),WP=new Y("@ngrx/store Store Features"),$P=new Y("@ngrx/store Internal Store Reducers"),HP=new Y("@ngrx/store Internal Feature Reducers"),qP=new Y("@ngrx/store Internal Feature Configs"),Bf=new Y("@ngrx/store Internal Store Features"),KP=new Y("@ngrx/store Internal Feature Reducers Token"),Ff=new Y("@ngrx/store Feature Reducers"),YP=new Y("@ngrx/store User Provided Meta Reducers"),GP=new Y("@ngrx/store Meta Reducers"),XP=new Y("@ngrx/store Internal Resolved Meta Reducers"),JP=new Y("@ngrx/store User Runtime Checks Config"),QP=new Y("@ngrx/store Internal User Runtime Checks Config"),ZP=new Y("@ngrx/store Internal Runtime Checks"),jl=new Y("@ngrx/store Check if Action types are unique"),Cr=new Y("@ngrx/store Root Store Provider"),_o=new Y("@ngrx/store Feature State Provider");function zf(i,e){return Object.keys(i).filter(t=>t!==e).reduce((t,n)=>Object.assign(t,{[n]:i[n]}),{})}function Wl(...i){return function(e){if(i.length===0)return e;let t=i[i.length-1];return i.slice(0,-1).reduceRight((r,s)=>s(r),t(e))}}function Lf(i,e){return Array.isArray(e)&&e.length>0&&(i=Wl.apply(null,[...e,i])),(t,n)=>{let r=i(t);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function Nf(i){let e=Array.isArray(i)&&i.length>0?Wl(...i):t=>t;return(t,n)=>(t=e(t),(r,s)=>(r=r===void 0?n:r,t(r,s)))}var yo=class extends dn{},Mo=class extends Co{},Vf="@ngrx/store/update-reducers",$l=(()=>{let e=class e extends Ut{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:l,key:d})=>{let u=typeof o=="function"?Nf(c)(o,l):Lf(a,c)(o,l);return s[d]=u,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=M(M({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=zf(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Vf,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(be(Mo),be(If),be(Rf),be(Df))},e.\u0275prov=Wt({token:e,factory:e.\u0275fac});let i=e;return i})();var Hl=(()=>{let e=class e extends _t{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=Ao(e)))(s||e)}})(),e.\u0275prov=Wt({token:e,factory:e.\u0275fac});let i=e;return i})();var xo=class extends dn{};var ql=(()=>{let e=class e extends dn{constructor(n,r,s,o){super(),this.actionsObserver=r,this.reducerManager=s,this.injector=o,this.source=n,this.state=n.state}select(n,...r){return Uf.call(null,n,...r)(this)}selectSignal(n,r){return q(()=>n(this.state()),r)}lift(n){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n,r){if(typeof n=="function")return this.processDispatchFn(n,r);this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}processDispatchFn(n,r){Ef(this.injector,"Store Injector");let s=r?.injector??jf()??this.injector;return Ge(()=>{let o=n();hn(()=>this.dispatch(o))},{injector:s})}};e.\u0275fac=function(r){return new(r||e)(be(xo),be(Co),be($l),be(Nn))},e.\u0275prov=Wt({token:e,factory:e.\u0275fac});let i=e;return i})();function Uf(i,e,...t){return function(r){let s;if(typeof i=="string"){let o=[e,...t].filter(Boolean);s=r.pipe(Eo(i,...o))}else if(typeof i=="function")s=r.pipe(jt(o=>i(o,e)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return s.pipe(un())}}function jf(){try{return st(Nn)}catch{return}}function Ul(i,e){return i===e}function Wf(i,e,t){for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!0;return!1}function Kl(i,e=Ul,t=Ul){let n=null,r=null,s;function o(){n=null,r=null}function a(d=void 0){s={result:d}}function c(){s=void 0}function l(){if(s!==void 0)return s.result;if(!n)return r=i.apply(null,arguments),n=arguments,r;if(!Wf(arguments,n,e))return r;let d=i.apply(null,arguments);return n=arguments,t(r,d)?r:(r=d,d)}return{memoized:l,reset:o,setResult:a,clearResult:c}}function Po(...i){return Hf(Kl)(...i)}function $f(i,e,t,n){if(t===void 0){let s=e.map(o=>o(i));return n.memoized.apply(null,s)}let r=e.map(s=>s(i,t));return n.memoized.apply(null,[...r,t])}function Hf(i,e={stateFn:$f}){return function(...t){let n=t;if(Array.isArray(n[0])){let[d,...u]=n;n=[...d,...u]}else n.length===1&&qf(n[0])&&(n=Kf(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(d=>d.release&&typeof d.release=="function"),a=i(function(...d){return s.apply(null,d)}),c=Kl(function(d,u){return e.stateFn.apply(null,[d,r,u,a])});function l(){c.reset(),a.reset(),o.forEach(d=>d.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function qf(i){return!!i&&typeof i=="object"&&Object.values(i).every(e=>typeof e=="function")}function Kf(i){let e=Object.values(i),t=Object.keys(i),n=(...r)=>t.reduce((s,o,a)=>O(M({},s),{[o]:r[a]}),{});return[...e,n]}function Yf(i){return typeof i=="function"?i():i}function Gf(){st(Co),st(yo),st(Hl),st(ql),st(Tf,{optional:!0}),st(jl,{optional:!0})}var tO=[{provide:Cr,useFactory:Gf},Ci(()=>st(Cr))];function Xf(){st(Cr);let i=st(Bf),e=st(Ff),t=st($l);st(jl,{optional:!0});let n=i.map((r,s)=>{let a=e.shift()[s];return O(M({},r),{reducers:a,initialState:Yf(r.initialState)})});t.addFeatures(n)}var eO=[{provide:_o,useFactory:Xf},Ci(()=>st(_o))];function bt(...i){let e=i.pop(),t=i.map(n=>n.type);return{reducer:e,types:t}}function ie(i,...e){let t=new Map;for(let n of e)for(let r of n.types){let s=t.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);t.set(r,o)}else t.set(r,n.reducer)}return function(n=i,r){let s=t.get(r.type);return s?s(n,r):n}}var Jf=10;function Yl(i,e,t=Jf){return i.pipe(wo(n=>(e&&e.handleError(n),t<=1?i:Yl(i,e,t-1))))}function Pr(...i){return pe(e=>i.some(t=>typeof t=="string"?t===e.type:t.type===e.type))}var pO=new Y("@ngrx/effects Internal Root Guard"),bO=new Y("@ngrx/effects User Provided Effects"),_O=new Y("@ngrx/effects Internal Root Effects"),yO=new Y("@ngrx/effects Internal Root Effects Instances"),MO=new Y("@ngrx/effects Internal Feature Effects"),xO=new Y("@ngrx/effects Internal Feature Effects Instance Groups"),CO=new Y("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Yl}),Qf="@ngrx/effects/init",PO=Z(Qf);var Gl=Z("[Benchmark] Set Users",gt()),Xl=Z("[Benchmark] Set Filtered Users",gt()),Jl=Z("[Benchmark] Set Department Groups",gt()),Ql=Z("[Benchmark] Update Metrics",gt()),Zl=Z("[Benchmark] Add Message",gt()),td=Z("[Benchmark] Set Large Dataset",gt()),ed=Z("[Benchmark] Set Active Items",gt()),nd=Z("[Benchmark] Set Sorted Items",gt()),id=Z("[Benchmark] Update Item",gt()),Ee=ie({groups:[],posts:[],users:[]},bt(Gl,(i,{payload:e})=>O(M({},i),{users:e})),bt(Xl,(i,{payload:e})=>O(M({},i),{filteredUsers:e})),bt(Jl,(i,{payload:e})=>O(M({},i),{departmentGroups:e})),bt(Ql,(i,{payload:e})=>O(M({},i),{metrics:e})),bt(Zl,(i,{payload:e})=>O(M({},i),{messages:[...i.messages||[],e]})),bt(td,(i,{payload:e})=>O(M({},i),{largeDataset:e})),bt(ed,(i,{payload:e})=>O(M({},i),{activeItems:e})),bt(nd,(i,{payload:e})=>O(M({},i),{sortedItems:e})),bt(id,(i,{payload:e})=>O(M({},i),{largeDataset:i.largeDataset?.map((t,n)=>n===e.index?e.item:t)}))),Or=class i{static PerfWithMemory={};yieldToUI=Te();runSingleMiddlewareBenchmark(e){return I(this,null,function*(){let t=Z("[Test] Increment"),n=ie({counter:0,data:"test"},bt(t,c=>O(M({},c),{counter:c.counter+1}))),s=(c=>(l,d)=>{if(l){let u=l.counter>-1}return c(l,d)})(n),o=performance.now(),a={counter:0,data:"test"};for(let c=0;c<e;c++)a=s(a,t());return performance.now()-o})}runMultipleMiddlewareBenchmark(e,t){return I(this,null,function*(){let n=Z("[Test] Increment"),r=ie({counter:0,data:"test"},bt(n,l=>O(M({},l),{counter:l.counter+1}))),s=()=>l=>(d,u)=>{if(d){let h=0;for(let g=0;g<10;g++)h+=g}return l(d,u)},o=r;for(let l=0;l<e;l++)o=s()(o);let a=performance.now(),c={counter:0,data:"test"};for(let l=0;l<t;l++)c=o(c,n());return performance.now()-a})}runConditionalMiddlewareBenchmark(e){return I(this,null,function*(){let t=Z("[Test] Increment"),n=Z("[Test] Other"),r=ie({counter:0,data:"test"},bt(t,l=>O(M({},l),{counter:l.counter+1})),bt(n,l=>O(M({},l),{data:"modified"}))),o=(l=>(d,u)=>{if(u.type===t.type&&d&&d.counter%2===0){let h=0;for(let g=0;g<20;g++)h+=g}return l(d,u)})(r),a=performance.now(),c={counter:0,data:"test"};for(let l=0;l<e;l++){let d=l%2===0?t():n();c=o(c,d)}return performance.now()-a})}runAsyncWorkflowBenchmark(e){return I(this,null,function*(){let t=Z("[Async] Trigger",gt()),n=Z("[Async] Complete",gt()),r=new _t,o=r.pipe(Pr(t),Mi(u=>Er(0).pipe(jt(()=>n({id:u.id})),re(1)))),a=Math.min(e,E.ITERATIONS.ASYNC_WORKFLOW),c=0,l=new Promise(u=>{o.subscribe(h=>{h.type===n.type&&(c++,c>=a&&u())})}),d=performance.now();for(let u=0;u<a;u++)r.next(t({id:u}));return yield l,performance.now()-d})}runAsyncCancellationBenchmark(e){return I(this,null,function*(){let t=Z("[Task] Start",gt()),n=Z("[Task] Cancel",gt()),r=Z("[Task] Complete",gt()),s=new _t,o=s,a=new Set,c=o.pipe(Pr(t),Mi(h=>{let g=o.pipe(Pr(n),Ar(b=>{b.id===h.id&&a.add(h.id)}));return So(Er(10).pipe(jt(()=>r({id:h.id}))),g.pipe(re(1),xi(()=>[])))})),l=0,d=new Promise(h=>{c.subscribe(g=>{g.type===r.type&&(l++,l+a.size>=e&&h())})}),u=performance.now();for(let h=0;h<e;h++)s.next(t({id:h}));for(let h=0;h<Math.floor(e/2);h++)s.next(n({id:h}));return yield d,performance.now()-u})}runDeepNestedBenchmark(n){return I(this,arguments,function*(e,t=E.DATA_GENERATION.NESTED_DEPTH){console.log(`NgRx Deep Nested: Starting with dataSize=${e}, depth=${t}`);let r=performance.now();try{let s=Z("[Test] Update",gt()),o=g=>g===0?{value:0,data:"test"}:{level:o(g-1)};console.log(`NgRx Deep Nested: Creating initial state with depth ${t}`);let a=o(t),c=(g,b,p)=>b===0?O(M({},g),{value:p}):O(M({},g),{level:c(g.level??{},b-1,p)}),l=ie(a,bt(s,(g,{value:b})=>c(g,t-1,b))),d=a,u=Math.min(e,E.ITERATIONS.DEEP_NESTED);console.log(`NgRx Deep Nested: Starting ${u} iterations`);for(let g=0;g<u;g++)d=l(d,s({value:g}));let h=performance.now()-r;return console.log(`NgRx Deep Nested: Completed in ${h}ms`),h}catch(s){console.error("NgRx Deep Nested: Error occurred:",s);let o=performance.now()-r;throw console.log(`NgRx Deep Nested: Failed after ${o}ms`),s}return performance.now()-r})}runArrayBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Z("[Test] Update Item",gt()),r={items:Array.from({length:e},(c,l)=>({id:l,value:Math.random()*1e3}))},s=ie(r,bt(n,(c,{index:l,value:d})=>O(M({},c),{items:c.items.map((u,h)=>h===l?O(M({},u),{value:d}):u)}))),o=r,a=Math.min(E.ITERATIONS.ARRAY_UPDATES,e);for(let c=0;c<a;c++)o=s(o,n({index:c%e,value:Math.random()*1e3})),c&E.YIELD_FREQUENCY.ARRAY_UPDATES;return performance.now()-t})}runComputedBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Z("[Test] Update",gt()),r={value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(c,l)=>l+1)},s=ie(r,bt(n,(c,{value:l})=>O(M({},c),{value:l}))),o=r,a=c=>{let l=0;for(let d of c.factors)l+=Math.sin(c.value*d)*Math.cos(d);return l};for(let c=0;c<Math.min(e,E.ITERATIONS.COMPUTED);c++)o=s(o,n({value:c})),a(o),c&E.YIELD_FREQUENCY.COMPUTED;return performance.now()-t})}runBatchUpdatesBenchmark(e=100,t=1e3){return I(this,null,function*(){let n=performance.now(),r=Z("[Test] Apply Batch",gt()),s={items:Array.from({length:t},(c,l)=>l)},o=ie(s,bt(r,(c,{items:l})=>O(M({},c),{items:l}))),a=s;for(let c=0;c<e;c++){let l=a.items.map(d=>d+1|0);a=o(a,r({items:l}))}return performance.now()-n})}runSelectorBenchmark(e){return I(this,null,function*(){let t=performance.now(),n={items:Array.from({length:e},(a,c)=>({id:c,flag:c%2===0}))},s=Po(a=>a,a=>a.items),o=Po(s,a=>a.filter(c=>c.flag).length);for(let a=0;a<E.ITERATIONS.SELECTOR;a++)o(n);return performance.now()-t})}runSerializationBenchmark(e){return I(this,null,function*(){let n={users:Array.from({length:Math.max(100,Math.min(1e3,e))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(c,l)=>[l,l%2===0]))}};for(let c=0;c<10;c++){let l=c%n.users.length;n.users[l].active=!n.users[l].active}let r=performance.now(),s=n,o=performance.now();JSON.stringify({data:s});let a=performance.now();return console.debug("[NgRx][serialization] toPlain(ms)=",(o-r).toFixed(2)," stringify(ms)=",(a-o).toFixed(2)),a-r})}runConcurrentUpdatesBenchmark(e=50,t=200){return I(this,null,function*(){let n=Z("[Test] Bump",gt()),r={counters:Array.from({length:e},()=>({value:0}))},s=ie(r,bt(n,(c,{index:l})=>O(M({},c),{counters:c.counters.map((d,u)=>u===l?{value:d.value+1}:d)}))),o=r,a=performance.now();for(let c=0;c<t;c++){for(let l=0;l<e;l++)o=s(o,n({index:l}));c&31}return o.counters[0].value===-1&&console.log("noop"),performance.now()-a})}runMemoryEfficiencyBenchmark(e){return I(this,null,function*(){let t=Math.max(1e3,Math.min(5e4,e)),n=Math.max(10,Math.min(200,Math.floor(t/250))),r={groups:Array.from({length:n},(g,b)=>({id:b,items:Array.from({length:Math.floor(t/n)},(p,y)=>({id:b*1e6+y,score:y*13%997,tags:y%7===0?["hot","new"]:["cold"]}))}))},s=Z("[Test] Touch",gt()),o=ie(r,bt(s,(g,{group:b,index:p})=>O(M({},g),{groups:g.groups.map((y,C)=>C!==b?y:O(M({},y),{items:y.items.map((P,S)=>S!==p?P:O(M({},P),{score:P.score+1,tags:(p&63)===0?P.tags.includes("hot")?["cold"]:["hot"]:P.tags}))}))}))),a=performance.memory?.usedJSHeapSize??null,c=r,l=performance.now(),d=Math.max(100,Math.floor(t*.01));for(let g=0;g<d;g++){let b=g%n,p=g%c.groups[b].items.length;c=o(c,s({group:b,index:p})),g&63}let u=performance.now()-l,h=performance.memory?.usedJSHeapSize??null;if(a!=null&&h!=null){let g=(h-a)/1048576;console.debug("[NgRx][memory] usedJSHeapSize \u0394MB ~",g.toFixed(2))}return c.groups.length===-1&&console.log("noop"),u})}runDataFetchingBenchmark(){return I(this,null,function*(){let t={groups:[],posts:[],users:[]},n=performance.memory?.usedJSHeapSize??null,r=performance.now(),s=Array.from({length:1e3},(d,u)=>({id:u+1,name:`User ${u+1}`,email:`user${u+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));t=Ee(t,Gl({payload:s}));let o=s.filter(d=>d.isActive);t=Ee(t,Xl({payload:o}));let a=o.reduce((d,u)=>(d[u.department]||(d[u.department]=[]),d[u.department].push(u),d),{});t=Ee(t,Jl({payload:a}));let c=performance.now()-r,l=performance.memory?.usedJSHeapSize??null;if(n!=null&&l!=null){let d=(l-n)/1048576;console.debug("[NgRx][DataFetching][memory] usedJSHeapSize \u0394MB ~",d.toFixed(2))}return t.users?.length===-1&&console.log("noop"),c})}runRealTimeUpdatesBenchmark(){return I(this,null,function*(){let t={groups:[],posts:[],users:[],metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0}},n=performance.memory?.usedJSHeapSize??null,r=performance.now();for(let a=0;a<E.ITERATIONS.REAL_TIME_UPDATES;a++){let c={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(t=Ee(t,Ql({payload:c})),(a&E.YIELD_FREQUENCY.DATA_FETCHING)===0){let l={id:a,content:`Real-time message ${a}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};t=Ee(t,Zl({payload:l}))}}let s=performance.now()-r,o=performance.memory?.usedJSHeapSize??null;if(n!=null&&o!=null){let a=(o-n)/1048576;console.debug("[NgRx][RealTimeUpdates][memory] usedJSHeapSize \u0394MB ~",a.toFixed(2))}return t.metrics&&Object.keys(t.metrics).length===-1&&console.log("noop"),s})}runStateSizeScalingBenchmark(){return I(this,null,function*(){let t={groups:[],posts:[],users:[]},n=performance.memory?.usedJSHeapSize??null,r=performance.now(),s=Array.from({length:1e4},(d,u)=>({id:u+1,title:`Item ${u+1}`,description:`Description for item ${u+1} with some additional text to make it realistic`,category:`Category ${Math.floor(u/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${u%10}`,`tag${u%7}`,`tag${u%5}`],score:Math.random()*100}}));t=Ee(t,td({payload:s}));let o=s.filter(d=>d.status==="active");t=Ee(t,ed({payload:o}));let a=[...o].sort((d,u)=>u.metadata.score-d.metadata.score);t=Ee(t,nd({payload:a}));for(let d=0;d<E.ITERATIONS.BATCH_UPDATES;d++){let u=Math.floor(Math.random()*s.length),h=O(M({},s[u]),{metadata:O(M({},s[u].metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})});t=Ee(t,id({payload:{index:u,item:h}}))}let c=performance.now()-r,l=performance.memory?.usedJSHeapSize??null;if(n!=null&&l!=null){let d=(l-n)/1048576;console.debug("[NgRx][StateSizeScaling][memory] usedJSHeapSize \u0394MB ~",d.toFixed(2))}return t.largeDataset?.length===-1&&console.log("noop"),c})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var rd=Symbol("DEEP_SIGNAL");function sd(i){return new Proxy(i,{has(e,t){return!!this.get(e,t,void 0)},get(e,t){let n=hn(e);return!tp(n)||!(t in n)?(Tr(e[t])&&e[t][rd]&&delete e[t],e[t]):(Tr(e[t])||(Object.defineProperty(e,t,{value:q(()=>e()[t]),configurable:!0}),e[t][rd]=!0),sd(e[t]))}})}var Zf=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function tp(i){if(i===null||typeof i!="object"||ep(i))return!1;let e=Object.getPrototypeOf(i);if(e===Object.prototype)return!0;for(;e&&e!==Object.prototype;){if(Zf.includes(e.constructor))return!1;e=Object.getPrototypeOf(e)}return e===Object.prototype}function ep(i){return typeof i?.[Symbol.iterator]=="function"}var np=new WeakMap,Bn=Symbol("STATE_SOURCE");function kt(i,...e){let t=hn(()=>od(i)),n=e.reduce((o,a)=>M(M({},o),typeof a=="function"?a(o):a),t),r=i[Bn],s=Reflect.ownKeys(i[Bn]);for(let o of Reflect.ownKeys(n))if(s.includes(o)){let a=o;t[a]!==n[a]&&r[a].set(n[a])}rp(i)}function od(i){let e=i[Bn];return Reflect.ownKeys(i[Bn]).reduce((t,n)=>{let r=e[n]();return O(M({},t),{[n]:r})},{})}function ip(i){return np.get(i[Bn])||[]}function rp(i){let e=ip(i);for(let t of e){let n=hn(()=>od(i));t(n)}}function Jt(i){let e=Reflect.ownKeys(i),t=e.reduce((r,s)=>O(M({},r),{[s]:Ct(i[s])}),{}),n=q(()=>e.reduce((r,s)=>O(M({},r),{[s]:t[s]()}),{}));Object.defineProperty(n,Bn,{value:t});for(let r of e)Object.defineProperty(n,r,{value:sd(t[r])});return n}var vr=class i{static PerfWithMemory={};yieldToUI=Te();runAsyncWorkflowBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Math.min(e,E.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let s=0;s<n;s++)r.push(new Promise(o=>setTimeout(o,0)));return yield Promise.all(r),performance.now()-t})}runConcurrentAsyncBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=Array.from({length:e},()=>new Promise(r=>setTimeout(r,0)));return yield Promise.all(n),performance.now()-t})}runAsyncCancellationBenchmark(e){return I(this,null,function*(){let t=performance.now(),n=[];for(let r=0;r<e;r++)n.push(setTimeout(()=>{},10));for(let r=0;r<Math.floor(e/2);r++)clearTimeout(n[r]);return yield new Promise(r=>setTimeout(r,10)),performance.now()-t})}runDeepNestedBenchmark(n){return I(this,arguments,function*(e,t=E.DATA_GENERATION.NESTED_DEPTH){let r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=Jt(r(t));q(()=>{let c=s();for(let l=0;l<t;l++)c=c.level;return c?.value})();let a=performance.now();for(let c=0;c<Math.min(e,E.ITERATIONS.DEEP_NESTED);c++)kt(s,l=>{let d=(u,h)=>h===0?O(M({},u),{value:c}):O(M({},u),{level:d(u.level??{},h-1)});return d(l,t-1)});return performance.now()-a})}runArrayBenchmark(e){return I(this,null,function*(){let t=Jt({items:Array.from({length:e},(s,o)=>({id:o,value:Math.random()*1e3}))}),n=performance.now(),r=Math.min(E.ITERATIONS.ARRAY_UPDATES,e);for(let s=0;s<r;s++){let o=s%e;kt(t,a=>O(M({},a),{items:a.items.map((c,l)=>l===o?O(M({},c),{value:Math.random()*1e3}):c)}))}return performance.now()-n})}runComputedBenchmark(e){return I(this,null,function*(){let t=Jt({value:0,factors:Array.from({length:E.DATA_GENERATION.FACTOR_COUNT},(s,o)=>o+1)}),n=q(()=>{let s=t().value,o=0;for(let a of t().factors)o+=Math.sin(s*a)*Math.cos(a);return o});n();let r=performance.now();for(let s=0;s<Math.min(e,E.ITERATIONS.COMPUTED);s++)kt(t,o=>O(M({},o),{value:s})),n();return performance.now()-r})}runBatchUpdatesBenchmark(){return I(this,arguments,function*(e=E.ITERATIONS.BATCH_UPDATES,t=E.ITERATIONS.BATCH_SIZE){let n=Jt({items:Array.from({length:t},(s,o)=>o)}),r=performance.now();for(let s=0;s<e;s++)kt(n,o=>O(M({},o),{items:o.items.map(a=>a+1|0)}));return performance.now()-r})}runSelectorBenchmark(e){return I(this,null,function*(){let t=Jt({items:Array.from({length:e},(s,o)=>({id:o,flag:o%2===0}))}),n=q(()=>t().items.filter(s=>s.flag).length),r=performance.now();for(let s=0;s<E.ITERATIONS.SELECTOR;s++)n();return performance.now()-r})}runSerializationBenchmark(e){return I(this,null,function*(){let t=Jt({users:Array.from({length:Math.max(E.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(E.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,e))},(a,c)=>({id:c,name:`User ${c}`,roles:c%5===0?["admin","user"]:["user"],active:c%3===0,meta:{createdAt:new Date(2020,0,1+c%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(a,c)=>[c,c%2===0]))}});for(let a=0;a<10;a++){let c=a%t().users.length;kt(t,l=>O(M({},l),{users:l.users.map((d,u)=>u===c?O(M({},d),{active:!d.active}):d)}))}let n=performance.now(),r=t(),s=performance.now();JSON.stringify({data:r});let o=performance.now();return console.debug("[NgRxSignals][serialization] toPlain(ms)=",(s-n).toFixed(2)," stringify(ms)=",(o-s).toFixed(2)),o-n})}runConcurrentUpdatesBenchmark(){return I(this,arguments,function*(e=E.ITERATIONS.ASYNC_WORKFLOW,t=200){let n=Jt({counters:Array.from({length:e},()=>({value:0}))}),r=performance.now();for(let s=0;s<t;s++)for(let o=0;o<e;o++){let a=o;kt(n,c=>O(M({},c),{counters:c.counters.map((l,d)=>d===a?{value:l.value+1|0}:l)}))}return n().counters[0].value===-1&&console.log("noop"),performance.now()-r})}runMemoryEfficiencyBenchmark(e){return I(this,null,function*(){let t=Math.max(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(E.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,e)),n=Math.max(10,Math.min(200,Math.floor(t/250))),r=performance.memory?.usedJSHeapSize??null,s=Jt({groups:Array.from({length:n},(d,u)=>({id:u,items:Array.from({length:Math.floor(t/n)},(h,g)=>({id:u*1e6+g,score:g*13%997,tags:g%7===0?["hot","new"]:["cold"]}))}))}),o=performance.now(),a=Math.max(100,Math.floor(t*.01));for(let d=0;d<a;d++){let u=d%n,h=d%s().groups[u].items.length;kt(s,g=>O(M({},g),{groups:g.groups.map((b,p)=>p!==u?b:O(M({},b),{items:b.items.map((y,C)=>C!==h?y:O(M({},y),{score:y.score+1|0,tags:(d&E.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?y.tags.includes("hot")?["cold"]:["hot"]:y.tags}))}))}))}let c=performance.now()-o,l=performance.memory?.usedJSHeapSize??null;if(r!=null&&l!=null){let d=(l-r)/1048576;console.debug("[NgRxSignals][memory] usedJSHeapSize \u0394MB ~",d.toFixed(2))}return c})}runDataFetchingBenchmark(){return I(this,null,function*(){let e=Jt({users:[],filteredUsers:[],departmentGroups:{}}),t=performance.memory?.usedJSHeapSize??null,n=performance.now(),r=Array.from({length:E.ITERATIONS.DATA_FETCHING},(l,d)=>({id:d+1,name:`User ${d+1}`,email:`user${d+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));kt(e,{users:r});let s=r.filter(l=>l.isActive);kt(e,{filteredUsers:s});let o=s.reduce((l,d)=>(l[d.department]||(l[d.department]=[]),l[d.department].push(d),l),{});kt(e,{departmentGroups:o});let a=performance.now()-n,c=performance.memory?.usedJSHeapSize??null;if(t!=null&&c!=null){let l=(c-t)/1048576;console.debug("[NgRxSignals][DataFetching][memory] usedJSHeapSize \u0394MB ~",l.toFixed(2))}return e.users().length===-1&&console.log("noop"),a})}runRealTimeUpdatesBenchmark(){return I(this,null,function*(){let e=Jt({metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0},messages:[]}),t=performance.memory?.usedJSHeapSize??null,n=performance.now();for(let o=0;o<E.ITERATIONS.REAL_TIME_UPDATES;o++){let a={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(kt(e,{metrics:a}),(o&E.YIELD_FREQUENCY.DATA_FETCHING)===0){let c={id:o,content:`Real-time message ${o}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};kt(e,l=>({messages:[...l.messages,c]}))}}let r=performance.now()-n,s=performance.memory?.usedJSHeapSize??null;if(t!=null&&s!=null){let o=(s-t)/1048576;console.debug("[NgRxSignals][RealTimeUpdates][memory] usedJSHeapSize \u0394MB ~",o.toFixed(2))}return e.metrics().activeUsers===-1&&console.log("noop"),r})}runStateSizeScalingBenchmark(){return I(this,null,function*(){let e=Jt({largeDataset:[],activeItems:[],sortedItems:[]}),t=performance.memory?.usedJSHeapSize??null,n=performance.now(),r=Array.from({length:E.DATA_SIZE_LIMITS.LARGE_DATASET.MAX},(l,d)=>({id:d+1,title:`Item ${d+1}`,description:`Description for item ${d+1} with some additional text to make it realistic`,category:`Category ${Math.floor(d/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${d%10}`,`tag${d%7}`,`tag${d%5}`],score:Math.random()*100}}));kt(e,{largeDataset:r});let s=r.filter(l=>l.status==="active");kt(e,{activeItems:s});let o=[...s].sort((l,d)=>d.metadata.score-l.metadata.score);kt(e,{sortedItems:o});for(let l=0;l<E.ITERATIONS.STATE_SIZE_SCALING;l++){let d=Math.floor(Math.random()*r.length);kt(e,u=>({largeDataset:u.largeDataset.map((h,g)=>g===d?O(M({},h),{metadata:O(M({},h.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})}):h)}))}let a=performance.now()-n,c=performance.memory?.usedJSHeapSize??null;if(t!=null&&c!=null){let l=(c-t)/1048576;console.debug("[NgRxSignals][StateSizeScaling][memory] usedJSHeapSize \u0394MB ~",l.toFixed(2))}return e.largeDataset().length===-1&&console.log("noop"),a})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var op=["combinedChart"];function ap(i,e){if(i&1&&(f(0,"div",109)(1,"span",110),_(2),m(),f(3,"span",111),_(4),m(),f(5,"span",112),_(6),m()()),i&2){let t=e.$implicit;x(2),N(t.name),x(),At("positive",t.impact>0)("negative",t.impact<0),x(),se(" ",t.impact>0?"+":"","",t.impact," "),x(2),N(t.reason)}}function cp(i,e){i&1&&(Ae(),f(0,"svg",103),mt(1,"path",113),m())}function lp(i,e){i&1&&mt(0,"div",114)}function dp(i,e){if(i&1&&(f(0,"div",125),Ae(),f(1,"svg",126),mt(2,"path",127),m(),_(3),m()),i&2){let t=e.$implicit;x(3),W(" ",t," ")}}function up(i,e){if(i&1&&(f(0,"div",123),L(1,dp,4,1,"div",124),m()),i&2){let t=F(2);x(),D("ngForOf",t.calibrationWarnings())}}function hp(i,e){if(i&1&&(f(0,"div",115)(1,"h3"),_(2,"Calibration Results"),m(),f(3,"div",116)(4,"div",117)(5,"span",118),_(6,"CPU Performance"),m(),f(7,"span",119),_(8),ft(9,"number"),m(),f(10,"div",120),mt(11,"div",121),m()(),f(12,"div",117)(13,"span",118),_(14,"Memory Available"),m(),f(15,"span",119),_(16),ft(17,"number"),m(),f(18,"div",120),mt(19,"div",121),m()(),f(20,"div",117)(21,"span",118),_(22,"Recommended Test Size"),m(),f(23,"span",119),_(24),ft(25,"number"),m()(),f(26,"div",117)(27,"span",118),_(28,"Recommended Iterations"),m(),f(29,"span",119),_(30),m()()(),L(31,up,2,1,"div",122),m()),i&2){let t,n,r,s,o,a,c=F();x(8),W("",Tt(9,9,(t=c.calibrationData())==null?null:t.cpuOpsPerMs,"1.0-0")," ops/ms"),x(3),$t("width",(n=c.calibrationData())==null?null:n.cpuScore,"%"),x(5),W("",Tt(17,12,(r=c.calibrationData())==null?null:r.availableMemoryMB,"1.0-0")," MB"),x(3),$t("width",(s=c.calibrationData())==null?null:s.memoryScore,"%"),x(5),W("",Vn(25,15,(o=c.calibrationData())==null?null:o.recommendedSize)," items"),x(6),N((a=c.calibrationData())==null?null:a.recommendedIterations),x(),D("ngIf",c.calibrationWarnings().length>0)}}function gp(i,e){if(i&1&&(f(0,"div",134)(1,"span",135),_(2),m(),f(3,"span",135),_(4),ft(5,"number"),m()()),i&2){let t=F().$implicit;x(2),W("Bundle: ",t.stats.bundleSize),x(2),W("Stars: ",Vn(5,2,t.stats.githubStars))}}function mp(i,e){i&1&&(f(0,"div",136),_(1," Baseline "),m())}function fp(i,e){if(i&1){let t=Ye();f(0,"div",128),G("click",function(){let r=ct(t).$implicit,s=F();return lt(s.toggleLibrary(r))})("keydown",function(r){let s=ct(t).$implicit,o=F();return lt(o.onLibraryCardKeydown(r,s))}),f(1,"div",129)(2,"input",130),G("ngModelChange",function(r){let s=ct(t).$implicit,o=F();return lt(o.onLibraryCheckboxChange(s,r))})("click",function(r){return ct(t),lt(r.stopPropagation())})("change",function(r){return ct(t),lt(r.stopPropagation())}),m()(),f(3,"div",131)(4,"h3"),_(5),m(),f(6,"p"),_(7),m(),L(8,gp,6,4,"div",132),m(),L(9,mp,2,0,"div",133),m()}if(i&2){let t=e.$implicit;$t("--lib-color",t.color),At("selected",t.selected)("disabled",t.id==="signaltree"),Ke("data-test-id","lib-"+t.id+"-card")("aria-pressed",t.selected),x(2),D("ngModel",t.selected)("disabled",t.id==="signaltree"),Ke("data-test-id","lib-"+t.id+"-checkbox")("aria-label",t.name+" selection"),x(3),N(t.name),x(2),N(t.description),x(),D("ngIf",t.stats),x(),D("ngIf",t.id==="signaltree")}}function pp(i,e){if(i&1){let t=Ye();f(0,"div",137),G("click",function(){let r=ct(t).$implicit,s=F();return lt(s.applyScenarioPreset(r.id))}),f(1,"h4"),_(2),m(),f(3,"p"),_(4),m(),f(5,"div",138),_(6),m()()}if(i&2){let t=e.$implicit,n=F();x(2),N(t.name),x(2),N(t.description),x(2),W("",n.presetCount(t)," tests")}}function bp(i,e){if(i&1&&(f(0,"span",143),_(1),m()),i&2){let t=e.$implicit;x(),W(" ",t.name," ")}}function _p(i,e){if(i&1&&(f(0,"div",139)(1,"h3"),_(2,"Active SignalTree Enhancers"),m(),f(3,"div",140),L(4,bp,2,1,"span",141),m(),f(5,"p",142),_(6),m()()),i&2){let t=F();x(4),D("ngForOf",t.activeEnhancers()),x(2),W(" ",t.enhancerExplanation()," ")}}function yp(i,e){if(i&1){let t=Ye();f(0,"div",147)(1,"div",148)(2,"strong"),_(3),m(),f(4,"span",149),_(5),ft(6,"number"),m()(),f(7,"p",150),_(8),m(),f(9,"button",151),G("click",function(){let r=ct(t).$implicit,s=F(2);return lt(s.applySuggestedPreset(r.presetId))}),_(10),m()()}if(i&2){let t=e.$implicit;x(3),N(t.presetName),x(2),W("",Tt(6,4,t.confidence,"1.0-0"),"% match"),x(3),N(t.reason),x(2),W(" Apply ",t.presetName," Weights ")}}function Mp(i,e){if(i&1&&(f(0,"div",144)(1,"h4"),_(2,"\u{1F4A1} Suggested Presets for Your Selection:"),m(),f(3,"div",145),L(4,yp,11,7,"div",146),m()()),i&2){let t=F();x(4),D("ngForOf",t.suggestedPresets())}}function xp(i,e){if(i&1&&(f(0,"span",167),_(1),m()),i&2){let t=F().$implicit;x(),W(" ",t.disabledReason," ")}}function Cp(i,e){if(i&1&&(f(0,"div",168)(1,"h5"),_(2,"\u{1F3D7}\uFE0F Architecture Impact:"),m(),f(3,"p",169),_(4),m()()),i&2){let t=F().$implicit;x(4),N(t.architecturalTradeOffs)}}function Pp(i,e){if(i&1){let t=Ye();f(0,"div",152),G("click",function(){let r=ct(t).$implicit,s=F();return lt(s.toggleScenario(r))})("keydown",function(r){let s=ct(t).$implicit,o=F();return lt(o.onScenarioCardKeydown(r,s))}),f(1,"div",2)(2,"input",153),G("click",function(r){return ct(t),lt(r.stopPropagation())}),m(),f(3,"h3"),_(4),m(),L(5,xp,2,1,"span",154),m(),f(6,"div",155)(7,"span",156),_(8,"Usage"),m(),f(9,"div",157),mt(10,"div",158),m(),f(11,"span",159),_(12),m()(),f(13,"p"),_(14),m(),L(15,Cp,5,1,"div",160),f(16,"div",161)(17,"span",162),_(18),m(),f(19,"span",162),_(20),m(),f(21,"div",163)(22,"label",164),_(23,"Impact Weight:"),m(),f(24,"input",165),G("input",function(r){let s=ct(t).$implicit,o=F();return lt(o.updateTestCaseWeight(s.id,r))})("click",function(r){return ct(t),lt(r.stopPropagation())}),m(),f(25,"span",166),_(26),m()()()()}if(i&2){let t=e.$implicit,n=F();At("selected",t.selected)("disabled",t.disabledReason),Ke("aria-pressed",t.selected),x(2),D("checked",t.selected),x(2),N(t.name),x(),D("ngIf",t.disabledReason),x(),Ke("data-frequency",t.frequencyWeight),x(4),$t("width",n.getFrequencyBarWidth(t.frequencyWeight||1),"%"),x(2),N(n.getFrequencyLabel(t.frequencyWeight||1)),x(2),N(t.description),x(),D("ngIf",t.architecturalTradeOffs),x(3),W("Operations: ",t.operations),x(2),W("Complexity: ",t.complexity),x(2),D("for",Ir("weight-",t.id)),x(2),D("id",Ir("weight-",t.id))("value",t.frequencyWeight),x(2),W("",t.frequencyWeight,"x")}}function Op(i,e){if(i&1&&(f(0,"div",170),mt(1,"span",171),f(2,"span"),_(3),m()()),i&2){let t=F();x(3),se("Benchmarks running\u2026 ",t.completedTests(),"/",t.totalTests()," complete")}}function vp(i,e){i&1&&(f(0,"p"),_(1,"Please calibrate environment first"),m())}function Sp(i,e){if(i&1&&(f(0,"p"),_(1),m()),i&2){let t=F(2);x(),W(" Select at least one library to compare with ",t.baselineName()," ")}}function wp(i,e){i&1&&(f(0,"p"),_(1," Select at least one test scenario "),m())}function kp(i,e){if(i&1&&(f(0,"div",172),L(1,vp,2,0,"p",173)(2,Sp,2,1,"p",173)(3,wp,2,0,"p",173),m()),i&2){let t=F();x(),D("ngIf",!t.calibrationData()),x(),D("ngIf",t.selectedLibraries().length<2),x(),D("ngIf",t.selectedScenarios().length===0)}}function Ep(i,e){if(i&1){let t=Ye();f(0,"div",174)(1,"div",175)(2,"h2"),_(3,"Running Benchmarks"),m(),f(4,"div",176)(5,"span",177),_(6),m(),f(7,"span",178),_(8),m(),f(9,"span",179),_(10),m()(),f(11,"div",180)(12,"div",181),mt(13,"div",182),m(),f(14,"span",183),_(15),ft(16,"number"),m()(),f(17,"div",184)(18,"div",135)(19,"span",185),_(20,"Elapsed"),m(),f(21,"span",186),_(22),m()(),f(23,"div",135)(24,"span",185),_(25,"Estimated"),m(),f(26,"span",186),_(27),m()(),f(28,"div",135)(29,"span",185),_(30,"Tests Complete"),m(),f(31,"span",186),_(32),m()()(),f(33,"button",187),G("click",function(){ct(t);let r=F();return lt(r.cancelBenchmarks())}),_(34," Cancel "),m()()()}if(i&2){let t=F();x(6),N(t.currentLibrary()),x(2),N(t.currentScenario()),x(2),se("Iteration ",t.currentIteration()," / ",t.config().iterations),x(3),$t("width",t.progressPercent(),"%"),x(2),W("",Tt(16,11,t.progressPercent(),"1.0-0"),"%"),x(7),N(t.elapsedTime()),x(5),W("~",t.remainingTime()),x(5),se("",t.completedTests()," / ",t.totalTests())}}function Ap(i,e){if(i&1&&(f(0,"span",230),_(1),ft(2,"number"),m()),i&2){let t=F().$implicit;x(),se(" #",t.rank," (",Tt(2,2,t.weightedScore,"1.1-1")," pts) ")}}function Tp(i,e){i&1&&(f(0,"span",231),_(1," Incomplete "),m())}function Ip(i,e){if(i&1&&(f(0,"div",232)(1,"span",233),_(2),m(),f(3,"span",234),_(4),m(),f(5,"span",235),_(6),ft(7,"number"),m()()),i&2){let t=e.$implicit;x(2),N(t.scenarioName),x(2),W("",t.weight,"x"),x(2),W("",Tt(7,3,t.contribution,"1.1-1")," pts")}}function Dp(i,e){if(i&1&&(f(0,"div",224)(1,"div",225)(2,"h4"),_(3),m(),L(4,Ap,3,5,"span",226)(5,Tp,2,0,"span",227),m(),f(6,"div",228),L(7,Ip,8,6,"div",229),m()()),i&2){let t=e.$implicit;$t("--card-color",t.color),At("weighted-winner",t.rank===1),x(3),N(t.name),x(),D("ngIf",t.weightedScore!==-1),x(),D("ngIf",t.weightedScore===-1),x(2),D("ngForOf",t.breakdown)}}function Rp(i,e){if(i&1&&(f(0,"div",241)(1,"span",242),_(2,"Unsupported"),m(),f(3,"small",243),_(4),m()()),i&2){let t=F().$implicit;x(4),N(t.disabledReason)}}function Bp(i,e){if(i&1&&(f(0,"div",236)(1,"span",237),_(2),m(),f(3,"span",166),_(4),m(),L(5,Rp,5,1,"div",238),f(6,"div",239),mt(7,"div",240),m()()),i&2){let t=e.$implicit;At("disabled",t.disabledReason),x(2),N(t.name),x(2),W("",t.frequencyWeight||1,"x"),x(),D("ngIf",t.disabledReason),x(2),$t("width",(t.frequencyWeight||1)/3*100,"%")}}function Fp(i,e){if(i&1&&(f(0,"span",256),_(1),m()),i&2){let t=F().$implicit;x(),se(" ",t.rankChange>0?"\u2197\uFE0F":"\u2198\uFE0F"," ",t.rankChange>0?t.rankChange:-t.rankChange," ")}}function zp(i,e){if(i&1&&(f(0,"div",252)(1,"span",253),_(2),m(),f(3,"span",254),_(4),L(5,Fp,2,2,"span",255),m()()),i&2){let t=e.$implicit;At("ranking-improved",t.rankChange>0)("ranking-declined",t.rankChange<0),x(2),N(t.libraryName),x(2),se(" #",t.rawRank," \u2192 #",t.weightedRank," "),x(),D("ngIf",t.rankChange!==0)}}function Lp(i,e){if(i&1&&(f(0,"div",249)(1,"h5"),_(2,"\u{1F4C8} Ranking Changes Due to Weighting:"),m(),f(3,"div",250),L(4,zp,6,8,"div",251),m()()),i&2){let t=F().ngIf;x(4),D("ngForOf",t.rankingChanges)}}function Np(i,e){if(i&1&&(f(0,"div",244)(1,"h4"),_(2,"\u{1F52C} Weight Impact Analysis"),m(),f(3,"div",245)(4,"div",246)(5,"strong"),_(6),ft(7,"uppercase"),m(),_(8," impact from frequency weighting "),m(),f(9,"div",247),_(10),m()(),L(11,Lp,5,1,"div",248),m()),i&2){let t=e.ngIf;x(4),Ro("impact-"+t.weightingSignificance),x(2),N(Vn(7,5,t.weightingSignificance)),x(4),W(" ",t.totalScenariosAnalyzed," scenarios analyzed "),x(),D("ngIf",t.rankingChanges)}}function Vp(i,e){if(i&1&&(f(0,"div",268)(1,"div",269)(2,"span",233),_(3),m(),f(4,"span",270),_(5),m()(),f(6,"div",271)(7,"span",234),_(8),m(),f(9,"span",272),_(10),ft(11,"number"),m(),f(12,"span",273),_(13),ft(14,"number"),m()()()),i&2){let t=e.$implicit;x(3),N(t.scenarioName),x(2),N(t.realWorldFrequency),x(3),W("",t.weight,"x"),x(2),N(Tt(11,5,t.rawScore,"1.0-0")),x(3),N(Tt(14,8,t.weightedScore,"1.0-0"))}}function Up(i,e){if(i&1&&(f(0,"div",260)(1,"div",261)(2,"h4"),_(3),m(),f(4,"div",262)(5,"div",263),_(6),ft(7,"number"),m(),f(8,"div",264),_(9),ft(10,"number"),m(),f(11,"div",265),_(12),ft(13,"number"),m()()(),f(14,"div",266),L(15,Vp,15,11,"div",267),m()()),i&2){let t=e.$implicit;$t("--card-color",t.color),x(3),N(t.libraryName),x(3),W(" Raw: ",Tt(7,12,t.rawAverage,"1.0-0")," ops/sec "),x(3),W(" Weighted: ",Tt(10,15,t.weightedAverage,"1.0-0")," ops/sec "),x(2),At("positive-impact",t.weightingImpact>0)("negative-impact",t.weightingImpact<0),x(),se(" ",t.weightingImpact>0?"+":"","",Tt(13,18,t.weightingImpact,"1.1-1"),"% "),x(3),D("ngForOf",t.scenarioBreakdown)}}function jp(i,e){if(i&1&&(f(0,"div",257)(1,"h3"),_(2,"\u{1F4CB} Detailed Performance Breakdown"),m(),f(3,"div",258),L(4,Up,16,21,"div",259),m()()),i&2){let t=e.ngIf;x(4),D("ngForOf",t.libraryAnalysis)}}function Wp(i,e){if(i&1&&(f(0,"span",282),_(1),m()),i&2){let t=F().$implicit;x(),W("#",t.rank)}}function $p(i,e){i&1&&(f(0,"span",283),_(1,"Not Implemented"),m())}function Hp(i,e){if(i&1&&(f(0,"span",119),_(1),m()),i&2){let t=F().$implicit,n=F(2);x(),N(n.formatTime(t.median))}}function qp(i,e){i&1&&(f(0,"span",284),_(1,"N/A"),m())}function Kp(i,e){if(i&1&&(f(0,"span",119),_(1),m()),i&2){let t=F().$implicit,n=F(2);x(),N(n.formatTime(t.p95))}}function Yp(i,e){i&1&&(f(0,"span",284),_(1,"N/A"),m())}function Gp(i,e){if(i&1&&(f(0,"span",119),_(1),ft(2,"number"),m()),i&2){let t=F().$implicit;x(),N(Tt(2,1,t.opsPerSecond,"1.0-0"))}}function Xp(i,e){i&1&&(f(0,"span",284),_(1,"N/A"),m())}function Jp(i,e){if(i&1&&(f(0,"span",119),_(1),ft(2,"number"),m()),i&2){let t=F().$implicit;At("faster",t.relativeSpeed>1)("slower",t.relativeSpeed<1),x(),W(" ",Tt(2,5,t.relativeSpeed,"1.1-1"),"x ")}}function Qp(i,e){i&1&&(f(0,"span",284),_(1,"N/A"),m())}function Zp(i,e){if(i&1&&(f(0,"div",274)(1,"div",225)(2,"h3"),_(3),m(),L(4,Wp,2,1,"span",275)(5,$p,2,0,"span",276),m(),f(6,"div",277)(7,"div",278)(8,"span",118),_(9,"Median"),m(),L(10,Hp,2,1,"span",279)(11,qp,2,0,"span",280),m(),f(12,"div",278)(13,"span",118),_(14,"P95"),m(),L(15,Kp,2,1,"span",279)(16,Yp,2,0,"span",280),m(),f(17,"div",278)(18,"span",118),_(19,"Ops/sec"),m(),L(20,Gp,3,4,"span",279)(21,Xp,2,0,"span",280),m(),f(22,"div",278)(23,"span",118),_(24),m(),L(25,Jp,3,8,"span",281)(26,Qp,2,0,"span",280),m()()()),i&2){let t=e.$implicit,n=F(2);$t("--card-color",t.color),x(3),N(t.name),x(),D("ngIf",t.median!==-1),x(),D("ngIf",t.median===-1),x(5),D("ngIf",t.median!==-1),x(),D("ngIf",t.median===-1),x(4),D("ngIf",t.p95!==-1),x(),D("ngIf",t.p95===-1),x(4),D("ngIf",t.opsPerSecond!==-1&&n.isFinite(t.opsPerSecond)),x(),D("ngIf",t.opsPerSecond===-1||!n.isFinite(t.opsPerSecond)),x(3),W("vs ",n.baselineName()),x(),D("ngIf",t.relativeSpeed!==-1),x(),D("ngIf",t.relativeSpeed===-1)}}function t0(i,e){if(i&1&&(f(0,"th"),_(1),m()),i&2){let t=e.$implicit;$t("color",t.color),x(),W(" ",t.name," ")}}function e0(i,e){if(i&1&&(f(0,"span",289),_(1),m()),i&2){let t=F().$implicit,n=F().$implicit,r=F(2);x(),se(" ",r.getRelativePerformance(n.id,t.id),"x vs ",r.baselineName()," ")}}function n0(i,e){if(i&1&&(f(0,"td")(1,"span",286),_(2),m(),f(3,"span",287),_(4),m(),L(5,e0,2,2,"span",288),m()),i&2){let t=e.$implicit,n=F().$implicit,r=F(2);$t("--cell-color",t.color),At("winner",r.isScenarioWinner(n.id,t.id)),x(2),N(r.getScenarioTime(n.id,t.id)),x(2),W("",r.getScenarioOps(n.id,t.id)," ops/s"),x(),D("ngIf",t.id!=="signaltree")}}function i0(i,e){if(i&1&&(f(0,"tr")(1,"td",233),_(2),f(3,"small"),_(4),m()(),L(5,n0,6,7,"td",285),m()),i&2){let t=e.$implicit,n=F(2);x(2),W(" ",t.name," "),x(2),N(t.description),x(),D("ngForOf",n.librariesWithResults())}}function r0(i,e){if(i&1&&(f(0,"div",290)(1,"h4"),_(2),m(),f(3,"div",291)(4,"span"),_(5,"Sample Size:"),m(),f(6,"span"),_(7),m()(),f(8,"div",291)(9,"span"),_(10,"T-Statistic:"),m(),f(11,"span"),_(12),ft(13,"number"),m()(),f(14,"div",291)(15,"span"),_(16,"P-Value:"),m(),f(17,"span"),_(18),ft(19,"number"),m()(),f(20,"div",292)(21,"span"),_(22,"Conclusion:"),m(),f(23,"span"),_(24),m()()()),i&2){let t=e.$implicit;x(2),N(t.name),x(5),N(t.sampleSize),x(5),N(Tt(13,7,t.tStatistic,"1.2-2")),x(5),At("significant",t.pValue<.05),x(),W(" ",Tt(19,10,t.pValue,"1.4-4")," "),x(6),N(t.conclusion)}}function s0(i,e){if(i&1){let t=Ye();f(0,"section",188)(1,"h2"),_(2,"Benchmark Results"),m(),f(3,"div",189)(4,"h3"),_(5,"\u{1F3AF} Real-World Weighted Performance"),m(),f(6,"p",190),_(7," Results below are weighted by real-world usage frequency. "),f(8,"strong"),_(9,"This reflects how different architectures perform in typical applications."),m()(),f(10,"div",191),L(11,Dp,8,8,"div",192),m(),f(12,"div",193)(13,"h4"),_(14,"\u{1F4CA} Current Weights Applied:"),m(),f(15,"div",194),L(16,Bp,8,7,"div",195),m(),f(17,"div",196)(18,"button",197),G("click",function(){ct(t);let r=F();return lt(r.applySmartWeightAdjustments())}),_(19," \u{1F9E0} Apply Research-Based Weights "),m(),f(20,"span",198),_(21,"Based on real-world usage studies"),m()()(),L(22,Np,12,7,"div",199),m(),L(23,jp,5,1,"div",200),f(24,"div",201),L(25,Zp,27,14,"div",202),m(),f(26,"div",203)(27,"div",204)(28,"div",205)(29,"button",206),G("click",function(){ct(t);let r=F();return lt(r.setChartMode("scenarios"))}),_(30," Scenarios "),m(),f(31,"button",207),G("click",function(){ct(t);let r=F();return lt(r.setChartMode("distribution"))}),_(32," Distribution "),m(),f(33,"button",208),G("click",function(){ct(t);let r=F();return lt(r.setChartMode("percentiles"))}),_(34," Percentiles "),m(),f(35,"button",209),G("click",function(){ct(t);let r=F();return lt(r.setChartMode("timeseries"))}),_(36," Time Series "),m()(),mt(37,"canvas",null,0),m()(),f(39,"div",210)(40,"h3"),_(41,"Detailed Results by Scenario"),m(),f(42,"table")(43,"thead")(44,"tr")(45,"th"),_(46,"Scenario"),m(),L(47,t0,2,3,"th",211),m()(),f(48,"tbody"),L(49,i0,6,3,"tr",212),m()()(),f(50,"div",213)(51,"h3"),_(52,"Statistical Analysis"),m(),f(53,"div",214),L(54,r0,25,13,"div",215),m()(),f(55,"div",216)(56,"h3"),_(57,"Export Results"),m(),f(58,"div",217)(59,"button",218),G("click",function(){ct(t);let r=F();return lt(r.exportCSV())}),Ae(),f(60,"svg",103),mt(61,"path",219),m(),_(62," Export CSV "),m(),Pi(),f(63,"button",220),G("click",function(){ct(t);let r=F();return lt(r.exportJSON())}),Ae(),f(64,"svg",103),mt(65,"path",221),m(),_(66," Export JSON "),m(),Pi(),f(67,"button",222),G("click",function(){ct(t);let r=F();return lt(r.shareResults())}),Ae(),f(68,"svg",103),mt(69,"path",223),m(),_(70," Share Results "),m()()()()}if(i&2){let t=F();x(11),D("ngForOf",t.weightedLibrarySummaries()),x(5),D("ngForOf",t.visibleScenarios()),x(6),D("ngIf",t.weightedResultsAnalysis()),x(),D("ngIf",t.weightedResultsAnalysis()),x(2),D("ngForOf",t.librarySummaries()),x(4),At("active",t.chartMode()==="scenarios"),x(2),At("active",t.chartMode()==="distribution"),x(2),At("active",t.chartMode()==="percentiles"),x(2),At("active",t.chartMode()==="timeseries"),x(12),D("ngForOf",t.librariesWithResults()),x(2),D("ngForOf",t.completedScenarios()),x(5),D("ngForOf",t.statisticalComparisons())}}cr.register(...ul);var Sr=class i{combinedChartRef;destroy$=new _t;charts=[];chartMode=Ct("scenarios");config=Ct({dataSize:1e4,complexity:"moderate",iterations:50,warmupRuns:10});memoMode=Ct(this._readMemoModeFromUrl());_memoModeEffect=Ge(()=>{window.__SIGNALTREE_MEMO_MODE=this.memoMode()});_readMemoModeFromUrl(){try{let t=new URLSearchParams(window.location.search).get("memo");if(t==="off"||t==="light"||t==="shallow"||t==="full")return t}catch{}return"light"}setMemoMode(e){let t=typeof e=="string"?e:e?.value;if(t==="off"||t==="light"||t==="shallow"||t==="full"){this.memoMode(t);try{let n=new URL(window.location.href);n.searchParams.set("memo",t),history.replaceState(null,"",n.toString()),window.__SIGNALTREE_MEMO_MODE=t}catch{}}}calibrationData=Ct(null);isCalibrating=Ct(!1);isRunning=Ct(!1);currentLibrary=Ct("");currentScenario=Ct("");currentIteration=Ct(0);startTime=Ct(0);completedTests=Ct(0);elapsedTimeTimer=Ct(0);timerInterval;scenarioPresets=[{id:"core-performance",name:"Core Performance",description:"Essential state management operations",scenarios:["deep-nested","large-array","computed-chains","batch-updates","selector-memoization","serialization","concurrent-updates"]},{id:"real-world",name:"Real-World Usage",description:"Common application patterns",scenarios:["memory-efficiency"]},{id:"advanced-features",name:"Advanced Features",description:"Time travel, middleware, and complex workflows",scenarios:["single-middleware","multiple-middleware","conditional-middleware"]},{id:"performance-stress",name:"Performance Stress",description:"Heavy load and scaling tests",scenarios:["concurrent-updates","memory-efficiency","history-size","conditional-middleware"]},{id:"all-tests",name:"All Tests",description:"Complete benchmark suite",scenarios:[]}];results=Ct([]);selectionVersion=Ct(0);scenarioSelectionVersion=Ct(0);baselineName=q(()=>this.availableLibraries.find(e=>e.id==="signaltree")?.name||"SignalTree");stBench=st(Xo);ngrxBench=st(Or);ngrxSignalsBench=st(vr);akitaBench=st(_r);elfBench=st(xr);ngxsBench=st(Jo);availableLibraries=[{id:"signaltree",name:"SignalTree",description:"Granular reactive state with direct mutation",color:"#3b82f6",selected:!0,stats:{bundleSize:"7.3KB",githubStars:2800}},{id:"ngrx-store",name:"NgRx Store",description:"Redux pattern with immutable updates",color:"#ef4444",selected:!1,stats:{bundleSize:"25KB",githubStars:7900}},{id:"ngrx-signals",name:"NgRx SignalStore",description:"Signal-based store with immutable patterns",color:"#10b981",selected:!1,stats:{bundleSize:"12KB",githubStars:7900}},{id:"akita",name:"Akita",description:"Entity-focused state management",color:"#f59e0b",selected:!1,stats:{bundleSize:"~40KB",githubStars:3500}},{id:"elf",name:"Elf",description:"Modular reactive state",color:"#8b5cf6",selected:!1,stats:{bundleSize:"~5KB",githubStars:1500}},{id:"ngxs",name:"NgXs",description:"CQRS-inspired state management with actions, reducers, and selectors",color:"#f97316",selected:!1,stats:{bundleSize:"~30KB",githubStars:3400}}];testCases=hl;hiddenScenarioIds=new Set(["undo-redo","history-size","jump-to-state"]);selectedLibraries=q(()=>(this.selectionVersion(),this.availableLibraries.filter(e=>e.selected)));_autoDisableUnsupportedScenarios=Ge(()=>{let e=this.selectedLibraries(),t={signaltree:this.stBench,"ngrx-store":this.ngrxBench,"ngrx-signals":this.ngrxSignalsBench,akita:this.akitaBench,elf:this.elfBench,ngxs:this.ngxsBench},n={"deep-nested":"runDeepNestedBenchmark","large-array":"runArrayBenchmark","computed-chains":"runComputedBenchmark","batch-updates":"runBatchUpdatesBenchmark","selector-memoization":"runSelectorBenchmark",serialization:"runSerializationBenchmark","concurrent-updates":"runConcurrentUpdatesBenchmark","memory-efficiency":"runMemoryEfficiencyBenchmark","data-fetching":"runDataFetchingBenchmark","real-time-updates":"runRealTimeUpdatesBenchmark","state-size-scaling":"runStateSizeScalingBenchmark","undo-redo":"runUndoRedoBenchmark","history-size":"runHistorySizeBenchmark","jump-to-state":"runJumpToStateBenchmark","single-middleware":"runSingleMiddlewareBenchmark","multiple-middleware":"runMultipleMiddlewareBenchmark","conditional-middleware":"runConditionalMiddlewareBenchmark","async-workflow":"runAsyncWorkflowBenchmark","async-workflow-scheduling":"runAsyncWorkflowBenchmark","async-workflow-hydration":"runAsyncWorkflowHydrationBenchmark","concurrent-async":"runConcurrentAsyncBenchmark","async-cancellation":"runAsyncCancellationBenchmark"};this.testCases.forEach(r=>{let s=n[r.id]||null;if(!s){delete r.disabledReason;return}let o=[];if(e.forEach(a=>{let c=t[a.id];if(!c)return;c[s]||o.push(a.name)}),this.hiddenScenarioIds.has(r.id)){let a=r;a.disabledReason="Hidden (SignalTree-only)",a.selected&&(a.selected=!1);return}if(o.length>0){let a=`Unsupported by ${o.join(", ")}`,c=r;c.disabledReason=a,c.selected&&(c.selected=!1)}else delete r.disabledReason}),this.scenarioSelectionVersion.update(r=>r+1)});scenarioEnhancerMap={"deep-nested":["withBatching","withShallowMemoization"],"large-array":["withHighPerformanceBatching"],"computed-chains":["withBatching","withShallowMemoization"],"batch-updates":["withHighPerformanceBatching"],"selector-memoization":["withLightweightMemoization"],serialization:["withMemoization","withHighPerformanceBatching"],"concurrent-updates":["withBatching"],"memory-efficiency":["withLightweightMemoization","withBatching"],"data-fetching":["withBatching","withShallowMemoization"],"real-time-updates":["withHighPerformanceBatching","withLightweightMemoization"],"state-size-scaling":["withLightweightMemoization","withBatching"],"undo-redo":["withTimeTravel"],"history-size":["withTimeTravel"],"jump-to-state":["withTimeTravel"],"single-middleware":[],"multiple-middleware":[],"conditional-middleware":[]};activeEnhancers=q(()=>{let e=this.selectedScenarios(),t=new Map;return e.forEach(n=>{n.enhancers.required.forEach(r=>{let s=t.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.required++,s.scenarios.push(n.name),s.rationales.includes(n.enhancers.rationale)||s.rationales.push(n.enhancers.rationale),t.set(r,s)}),n.enhancers.optional.forEach(r=>{let s=t.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.optional++,s.scenarios.push(n.name),t.set(r,s)})}),Array.from(t.entries()).map(([n,r])=>O(M({name:n},r),{priority:r.required>0?"required":"optional"}))});enhancerExplanation=q(()=>{let e=this.activeEnhancers();if(this.selectedScenarios().length===0)return"Select scenarios to see which enhancers will be used in the actual tests.";if(e.length===0)return"Selected tests use bare SignalTree instances without enhancers for optimal performance comparison.";let n={withBatching:"groups multiple state updates for better performance",withHighPerformanceBatching:"optimized batching for high-frequency operations",withMemoization:"full memoization with deep equality checks",withShallowMemoization:"lightweight memoization for object structures",withLightweightMemoization:"minimal caching overhead for intensive workloads",withSerialization:"state persistence and snapshot capabilities",withTimeTravel:"undo/redo functionality with history management"};return`Active enhancers: ${e.map(s=>`${s.name} (${s.priority==="required"?"required":"optional"})`).join(", ")}. These enhance SignalTree with ${e.map(s=>n[s.name]||s.name).join(", ")}.`});applyScenarioPreset(e){let t=this.scenarioPresets.find(n=>n.id===e);t&&(this.testCases.forEach(n=>n.selected=!1),e==="all-tests"?this.testCases.forEach(n=>{let r=n;r.selected=!r.disabledReason}):t.scenarios.forEach(n=>{let r=this.testCases.find(s=>s.id===n);r&&(r.selected=!0)}),this.scenarioSelectionVersion.update(n=>n+1))}presetCount(e){return e.id==="all-tests"?this.visibleScenarios().length:(e.scenarios||[]).filter(n=>!this.hiddenScenarioIds.has(n)&&this.testCases.some(r=>r.id===n)).length}selectedScenarios=q(()=>(this.scenarioSelectionVersion(),this.testCases.filter(e=>e.selected&&!e.disabledReason)));visibleScenarios=q(()=>(this.scenarioSelectionVersion(),this.testCases.filter(e=>!this.hiddenScenarioIds.has(e.id))));suggestedPresets=q(()=>{let e=this.selectedScenarios();if(e.length===0)return[];let t=[],n=["selector-memoization","computed-chains","data-fetching","large-array"],r=e.filter(u=>n.includes(u.id)).length;r>=2&&t.push({presetId:"crud-app",presetName:"CRUD Application",confidence:Math.min(95,r/n.length*100),reason:`${r} scenarios match typical CRUD app patterns`});let s=["large-array","concurrent-updates","real-time-updates","batch-updates"],o=e.filter(u=>s.includes(u.id)).length;o>=2&&t.push({presetId:"real-time",presetName:"Real-Time Application",confidence:Math.min(95,o/s.length*100),reason:`${o} scenarios match real-time app patterns`});let a=["deep-nested","computed-chains","selector-memoization","serialization"],c=e.filter(u=>a.includes(u.id)).length;c>=2&&t.push({presetId:"forms",presetName:"Forms-Heavy Application",confidence:Math.min(95,c/a.length*100),reason:`${c} scenarios match forms-heavy patterns`});let l=["serialization","undo-redo","computed-chains","selector-memoization"],d=e.filter(u=>l.includes(u.id)).length;return d>=2&&t.push({presetId:"enterprise",presetName:"Enterprise Application",confidence:Math.min(95,d/l.length*100),reason:`${d} scenarios match enterprise patterns`}),t.sort((u,h)=>h.confidence-u.confidence).slice(0,2)});librariesWithResults=q(()=>{let e=this.results();if(e.length===0)return[];let t=new Set(e.map(n=>n.libraryId));return this.availableLibraries.filter(n=>t.has(n.id))});reliabilityScore=q(()=>{if(!this.calibrationData())return 0;let t=this.environmentFactors(),n=100,r=t.reduce((s,o)=>s+o.impact,0);return Math.max(0,Math.min(100,n+r))});environmentFactors=q(()=>{let e=[];this.isDevToolsOpen()&&e.push({name:"DevTools Open",impact:-15,reason:"V8 debugging overhead, disabled optimizations, memory pressure"});let t=navigator.hardwareConcurrency||4;t<4?e.push({name:"Limited CPU Cores",impact:-12,reason:`${t} logical cores - insufficient for concurrent operations`}):t>=16?e.push({name:"High-Performance CPU",impact:8,reason:`${t} logical cores - excellent parallel processing capacity`}):t>=8&&e.push({name:"Multi-Core CPU",impact:5,reason:`${t} logical cores - good for concurrent workloads`});let n=navigator.deviceMemory;n?n<4?e.push({name:"Low Memory",impact:-15,reason:`${n}GB RAM - may trigger GC pressure, swap usage`}):n>=32?e.push({name:"High Memory",impact:8,reason:`${n}GB RAM - excellent for large datasets, minimal GC pressure`}):n>=16&&e.push({name:"Ample Memory",impact:5,reason:`${n}GB RAM - sufficient for complex benchmarks`}):e.push({name:"Memory Unknown",impact:-3,reason:"Cannot assess memory constraints or GC behavior"});let r=navigator.userAgent,s=/Chrome\/(\d+)/.test(r),o=/Firefox\/(\d+)/.test(r),a=/Safari/.test(r)&&!/Chrome/.test(r),c=/Edg\/(\d+)/.test(r);if(s){let p=r.match(/Chrome\/(\d+)/)?.[1],y=p?parseInt(p):0;y>=100?e.push({name:"Modern V8 Engine",impact:8,reason:`Chrome ${y} - latest V8 optimizations, Sparkplug compiler`}):y>=90?e.push({name:"Current V8 Engine",impact:5,reason:`Chrome ${y} - good V8 performance, established optimizations`}):e.push({name:"Older V8 Engine",impact:-5,reason:`Chrome ${y} - missing recent V8 optimizations`})}else o?e.push({name:"SpiderMonkey Engine",impact:0,reason:"Firefox SpiderMonkey - different optimization patterns than V8"}):a?e.push({name:"JavaScriptCore Engine",impact:-3,reason:"Safari JSC - conservative optimizations, different GC behavior"}):c?e.push({name:"Edge Chromium",impact:6,reason:"Edge with Chromium engine - V8 optimizations with Edge enhancements"}):e.push({name:"Unknown Browser",impact:-8,reason:"Untested JavaScript engine - unpredictable performance characteristics"});document.hasFocus()||e.push({name:"Background Tab",impact:-10,reason:"Browser throttling active - reduced timer resolution, CPU limits"});let l=navigator.platform.toLowerCase();l.includes("win")?e.push({name:"Windows Platform",impact:0,reason:"Windows - standard performance baseline"}):l.includes("mac")?e.push({name:"macOS Platform",impact:3,reason:"macOS - generally consistent performance, good memory management"}):l.includes("linux")&&e.push({name:"Linux Platform",impact:2,reason:"Linux - minimal overhead, efficient resource utilization"});let d=navigator.connection;d&&((d.effectiveType==="slow-2g"||d.effectiveType==="2g")&&e.push({name:"Slow Network",impact:-5,reason:"Poor connectivity may affect resource loading and system responsiveness"}),d.downlink&&d.downlink<1&&e.push({name:"Limited Bandwidth",impact:-3,reason:`${d.downlink}Mbps - may impact background resource usage`}));let u=document.createElement("canvas"),h=u.getContext("webgl2")||u.getContext("webgl");if(h){let p=h.getExtension("WEBGL_debug_renderer_info");if(p){let y=h.getParameter(p.UNMASKED_RENDERER_WEBGL);y.includes("Intel")?e.push({name:"Integrated Graphics",impact:-2,reason:"Intel integrated GPU - may share system memory, limited parallel compute"}):(y.includes("NVIDIA")||y.includes("AMD"))&&e.push({name:"Dedicated Graphics",impact:3,reason:"Discrete GPU - hardware acceleration available, dedicated memory"})}}else e.push({name:"No WebGL Support",impact:-5,reason:"Limited hardware acceleration - software rendering only"});navigator?.getBattery&&e.push({name:"Mobile/Laptop Device",impact:-3,reason:"Battery-powered device - potential thermal throttling, power management"});let b=Intl.DateTimeFormat().resolvedOptions().timeZone;return(b.includes("Asia")||b.includes("Europe"))&&e.push({name:"Complex Timezone",impact:-1,reason:`${b} - complex DST rules may affect date operations`}),e});calibrationWarnings=q(()=>{let e=[],t=this.reliabilityScore(),n=this.environmentFactors();t<60&&e.push(`Low reliability score (${t}%) - Results may have high variance due to environmental factors`),this.isDevToolsOpen()&&e.push("Close DevTools to eliminate V8 debugging overhead and enable full JIT optimizations"),document.hasFocus()||e.push("Focus this tab to prevent browser throttling - background tabs have reduced timer resolution");let r=this.calibrationData();r&&(r.cpuOpsPerMs<100&&e.push(`CPU performance below baseline (${r.cpuOpsPerMs.toFixed(0)} ops/ms) - consider reducing data size`),r.availableMemoryMB<512&&e.push(`Low available memory (${r.availableMemoryMB}MB) - may trigger garbage collection during tests`));let s=n.some(u=>u.name==="DevTools Open"),o=n.some(u=>u.name==="Background Tab"),a=n.some(u=>u.name.includes("Low Memory")),c=n.some(u=>u.name==="Unknown Browser");s&&o&&e.push("Multiple performance impacts detected - close DevTools and focus tab for accurate results"),a&&e.push("Limited system memory detected - consider smaller data sizes to avoid memory pressure"),c&&e.push("Untested browser environment - results may not be comparable with established baselines");let l=n.some(u=>u.name==="Integrated Graphics"),d=n.some(u=>u.name==="Limited CPU Cores");return l&&d&&e.push("Low-end hardware detected - consider reducing complexity for meaningful comparisons"),e});totalOperations=q(()=>{let e=this.config(),t=this.selectedLibraries(),n=this.selectedScenarios(),r=0;for(let s of n){let o=this.getOperationsPerIteration(s.id,e.dataSize);r+=o*e.iterations*t.length,r+=o*e.warmupRuns*t.length}return r});getOperationsPerIteration(e,t){switch(e){case"deep-nested":return Math.min(t,1e3);case"large-array":return Math.min(1e3,t);case"computed-chains":return Math.min(t,500);case"batch-updates":return Math.min(t,100);case"selector-memoization":return 1e3;case"serialization":return 1;case"concurrent-updates":{let n=Math.max(10,Math.min(100,Math.floor(t/1e3))),r=Math.max(50,Math.min(500,Math.floor(50*4)));return n*r}case"memory-efficiency":return t;case"data-fetching":return Math.min(1e3,t)+Math.min(100,t/10);case"real-time-updates":return Math.min(500,t);case"state-size-scaling":return Math.min(200,t/5);default:return t}}estimatedDuration=q(()=>{let e=this.config(),t=this.selectedLibraries(),n=this.selectedScenarios(),r=this.getComplexityMultiplier(e.complexity);if(t.length===0||n.length===0)return"0s";let a=t.length*n.length*15*r;a*=1.3;let c=Math.ceil(a/1e3);if(c<60)return`${c} seconds`;let l=Math.floor(c/60),d=c%60;return`${l}m ${d}s`});estimatedMemory=q(()=>{let e=this.config(),t=this.selectedScenarios(),n=0;for(let r of t)n+=this.getScenarioMemoryUsage(r.id,e.dataSize);return Math.ceil(n)});getScenarioMemoryUsage(e,t){switch(e){case"deep-nested":return t*200*15/(1024*1024);case"large-array":return t*64/(1024*1024);case"computed-chains":return .0003814697265625+.5;case"batch-updates":return 2;case"selector-memoization":return 1;case"serialization":return t*64/1048576*2;case"concurrent-updates":return 5;case"memory-efficiency":return t*128/(1024*1024);case"data-fetching":return Math.min(1e3,t)*200/(1024*1024)+1;case"real-time-updates":return 3;case"state-size-scaling":return Math.min(t*10,1e4)*2048/(1024*1024);default:return t*64/(1024*1024)}}totalTests=q(()=>this.selectedLibraries().length*this.selectedScenarios().length);progressPercent=q(()=>{let e=this.totalTests();return e===0?0:this.completedTests()/e*100});elapsedTime=q(()=>{if(!this.isRunning())return"0s";this.elapsedTimeTimer();let e=Date.now()-this.startTime();return this.formatDuration(e)});remainingTime=q(()=>{let e=this.progressPercent();if(e===0)return"Calculating...";this.elapsedTimeTimer();let t=Date.now()-this.startTime(),r=t/(e/100)-t;return this.formatDuration(r)});canRunBenchmarks=q(()=>this.calibrationData()!==null&&this.selectedLibraries().length>=2&&this.selectedScenarios().length>0&&!this.isRunning());hasResults=q(()=>this.results().length>0);completedScenarios=q(()=>{let e=this.results(),t=[...new Set(e.map(n=>n.scenarioId))];return this.testCases.filter(n=>t.includes(n.id))});librarySummaries=q(()=>{let e=this.results(),n=this.selectedLibraries().map(a=>{let c=e.filter(g=>g.libraryId===a.id);if(c.length===0)return null;let l=c.filter(g=>g.median!==-1);if(l.length===0)return{name:a.name,color:a.color,rank:999,median:-1,p95:-1,opsPerSecond:-1,relativeSpeed:-1};let d=l.map(g=>g.median),u=l.map(g=>g.p95),h=l.map(g=>g.opsPerSecond);return{name:a.name,color:a.color,rank:0,median:this.average(d),p95:this.average(u),opsPerSecond:this.average(h),relativeSpeed:1}}).filter(a=>a!==null),r=n.filter(a=>a.median!==-1),s=n.filter(a=>a.median===-1);r.sort((a,c)=>a.median-c.median),r.forEach((a,c)=>a.rank=c+1);let o=r.find(a=>a.name==="SignalTree");return o&&r.forEach(a=>{a.relativeSpeed=o.median/a.median}),[...r,...s]});weightedResultsAnalysis=q(()=>{let e=this.results(),t=this.selectedLibraries();if(e.length===0||t.length===0)return null;let n=t.map(o=>{let a=e.filter(p=>p.libraryId===o.id),c=0,l=0,d=0,u=a.map(p=>{let y=this.testCases.find(k=>k.id===p.scenarioId),C=y?.frequencyWeight||1,P=p.opsPerSecond>0?p.opsPerSecond:0,S=P*C;return c+=P,l+=S,d+=C,{scenarioId:p.scenarioId,scenarioName:y?.name||p.scenarioId,weight:C,rawScore:P,weightedScore:S,impactOnTotal:d>0?S/d*100:0,realWorldFrequency:y?.realWorldFrequency||"Unknown"}}),h=a.length>0?c/a.length:0,g=d>0?l/d:0,b=h>0?(g-h)/h*100:0;return{libraryId:o.id,libraryName:o.name,color:o.color,rawAverage:h,weightedAverage:g,weightingImpact:b,scenarioBreakdown:u,rank:0}});n.sort((o,a)=>a.weightedAverage-o.weightedAverage),n.forEach((o,a)=>{o.rank=a+1});let r=[...n].sort((o,a)=>a.rawAverage-o.rawAverage),s=n.map(o=>{let a=r.findIndex(l=>l.libraryId===o.libraryId)+1,c=o.rank;return{libraryName:o.libraryName,rawRank:a,weightedRank:c,rankChange:a-c}});return{libraryAnalysis:n,rankingChanges:s,totalScenariosAnalyzed:e.length>0?new Set(e.map(o=>o.scenarioId)).size:0,weightingSignificance:this.calculateWeightingSignificance(n)}});calculateWeightingSignificance(e){let t=e.reduce((n,r)=>n+Math.abs(r.weightingImpact),0)/e.length;return t<5?"low":t<15?"medium":"high"}statisticalComparisons=q(()=>{let e=this.results(),t=this.selectedLibraries();if(t.length<2)return[];let n=[];return t.find(s=>s.id==="signaltree")&&t.filter(s=>s.id!=="signaltree").forEach(s=>{let o=e.filter(u=>u.libraryId==="signaltree"),a=e.filter(u=>u.libraryId===s.id);if(o.length===0||a.length===0)return;let c=o.flatMap(u=>u.samples),l=a.flatMap(u=>u.samples),d=this.calculateTTest(c,l);n.push({name:`${this.baselineName()} vs ${s.name}`,sampleSize:Math.min(c.length,l.length),tStatistic:d.tStatistic,pValue:d.pValue,conclusion:d.pValue<.05?"Statistically significant difference":"No significant difference"})}),n});constructor(){let e=this.scenarioPresets.find(t=>t.id==="all-tests");e&&(e.scenarios=this.testCases.map(t=>t.id)),Ge(()=>{this.hasResults()&&queueMicrotask(()=>requestAnimationFrame(()=>setTimeout(()=>this.updateCharts(),0)))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.charts.forEach(e=>e.destroy()),this.stopElapsedTimer()}runCalibration(){return I(this,null,function*(){this.isCalibrating.set(!0);try{let e=yield this.benchmarkCPU(),t=this.checkMemory(),n=Math.min(100,e/1e3*100),r=Math.min(100,t/1e3*100),s=e>500?5e4:e>200?1e4:e>100?5e3:1e3,o=e>500?100:e>200?75:e>100?50:25;this.calibrationData.set({cpuOpsPerMs:e,cpuScore:n,availableMemoryMB:t,memoryScore:r,recommendedSize:s,recommendedIterations:o,timestamp:new Date}),this.config.update(a=>O(M({},a),{dataSize:s,iterations:o}))}finally{this.isCalibrating.set(!1)}})}benchmarkCPU(){return I(this,null,function*(){let t=performance.now(),n=0,r=0,s=0,o=new Array(1e3).fill(0).map((l,d)=>d);for(let l=0;l<1e5;l++){n+=Math.sqrt(l)*Math.sin(l)*Math.cos(l),r++;let d=l%o.length;o[d]=o[d]*1.001+.1,s++,l%5e3===0&&(yield new Promise(u=>setTimeout(u,0)))}(Number.isNaN(n)||o.length===0)&&console.debug("Calibration completed:",{mathOps:r,memoryOps:s});let a=performance.now()-t,c=1e5/a;return console.debug("CPU Calibration Results:",{iterations:1e5,duration:`${a.toFixed(2)}ms`,opsPerMs:c.toFixed(2),mathOperations:r,memoryOperations:s,timerResolution:performance.timeOrigin?"High Resolution":"Standard"}),c})}executeBenchmark(e,t,n){return I(this,null,function*(){let r=this.getBenchmarkService(e);if(!r)return console.warn(`No benchmark service found for library: ${e}`),-1;let s=this.testCases.find(o=>o.id===t);if(s&&s.signalTreeOnly&&e!=="signaltree")return console.info(`Skipping ${t} for ${e}: scenario requires SignalTree-only features`),-1;try{switch(t){case"deep-nested":return r.runDeepNestedBenchmark?yield r.runDeepNestedBenchmark(n.dataSize):(console.warn(`${e} does not support deep-nested benchmarks`),-1);case"large-array":return r.runArrayBenchmark?yield r.runArrayBenchmark(n.dataSize):(console.warn(`${e} does not support large-array benchmarks`),-1);case"computed-chains":return r.runComputedBenchmark?yield r.runComputedBenchmark(n.dataSize):(console.warn(`${e} does not support computed-chains benchmarks`),-1);case"batch-updates":return r.runBatchUpdatesBenchmark?yield r.runBatchUpdatesBenchmark(E.ITERATIONS.BATCH_UPDATES,E.ITERATIONS.BATCH_SIZE):(console.warn(`${e} does not support batch-updates benchmarks`),-1);case"selector-memoization":return r.runSelectorBenchmark?yield r.runSelectorBenchmark(n.dataSize):(console.warn(`${e} does not support selector-memoization benchmarks`),-1);case"serialization":return r.runSerializationBenchmark?yield r.runSerializationBenchmark(n.dataSize):(console.warn(`${e} does not support serialization benchmarks`),-1);case"concurrent-updates":{if(!r.runConcurrentUpdatesBenchmark)return console.warn(`${e} does not support concurrent-updates benchmarks`),-1;let o=Math.max(10,Math.min(100,Math.floor(n.dataSize/1e3))),a=Math.max(50,Math.min(500,Math.floor(n.iterations*4)));return yield r.runConcurrentUpdatesBenchmark(o,a)}case"memory-efficiency":return r.runMemoryEfficiencyBenchmark?yield r.runMemoryEfficiencyBenchmark(n.dataSize):(console.warn(`${e} does not support memory-efficiency benchmarks`),-1);case"data-fetching":return r.runDataFetchingBenchmark?yield r.runDataFetchingBenchmark(n.dataSize):(console.warn(`${e} does not support data-fetching benchmarks`),-1);case"real-time-updates":return r.runRealTimeUpdatesBenchmark?yield r.runRealTimeUpdatesBenchmark(n.dataSize):(console.warn(`${e} does not support real-time-updates benchmarks`),-1);case"state-size-scaling":return r.runStateSizeScalingBenchmark?yield r.runStateSizeScalingBenchmark(n.dataSize):(console.warn(`${e} does not support state-size-scaling benchmarks`),-1);case"concurrent-async":return r.runConcurrentAsyncBenchmark?yield r.runConcurrentAsyncBenchmark(E.ITERATIONS.ASYNC_WORKFLOW):(console.warn(`${e} does not support concurrent-async benchmarks`),-1);case"async-cancellation":return r.runAsyncCancellationBenchmark?yield r.runAsyncCancellationBenchmark(E.ITERATIONS.ASYNC_WORKFLOW):(console.warn(`${e} does not support async-cancellation benchmarks`),-1);case"undo-redo":return r.runUndoRedoBenchmark?yield r.runUndoRedoBenchmark(E.ITERATIONS.BATCH_UPDATES):(console.warn(`${e} does not support undo-redo benchmarks`),-1);case"history-size":return r.runHistorySizeBenchmark?yield r.runHistorySizeBenchmark(E.ITERATIONS.SELECTOR):(console.warn(`${e} does not support history-size benchmarks`),-1);case"jump-to-state":return r.runJumpToStateBenchmark?yield r.runJumpToStateBenchmark(E.ITERATIONS.ASYNC_WORKFLOW):(console.warn(`${e} does not support jump-to-state benchmarks`),-1);case"single-middleware":return r.runSingleMiddlewareBenchmark?yield r.runSingleMiddlewareBenchmark(E.ITERATIONS.SELECTOR):(console.warn(`${e} does not support single-middleware benchmarks`),-1);case"multiple-middleware":return r.runMultipleMiddlewareBenchmark?yield r.runMultipleMiddlewareBenchmark(5,E.ITERATIONS.SELECTOR):(console.warn(`${e} does not support multiple-middleware benchmarks`),-1);case"conditional-middleware":return r.runConditionalMiddlewareBenchmark?yield r.runConditionalMiddlewareBenchmark(E.ITERATIONS.SELECTOR):(console.warn(`${e} does not support conditional-middleware benchmarks`),-1);default:return console.warn(`Unknown scenario: ${t} for library: ${e}`),-1}}catch(o){return console.error(`Error running ${t} benchmark for ${e}:`,o),-1}})}getBenchmarkService(e){switch(e){case"signaltree":return this.stBench;case"ngrx-store":return this.ngrxBench;case"ngrx-signals":return this.ngrxSignalsBench;case"akita":return this.akitaBench;case"elf":return this.elfBench;case"ngxs":return this.ngxsBench;default:return null}}checkMemory(){let e=performance;if(e.memory){let{jsHeapSizeLimit:n,usedJSHeapSize:r,totalJSHeapSize:s}=e.memory,o=n-r;return console.debug("Memory Analysis:",{heapSizeLimit:`${(n/(1024*1024)).toFixed(1)}MB`,usedHeapSize:`${(r/(1024*1024)).toFixed(1)}MB`,totalHeapSize:`${(s/(1024*1024)).toFixed(1)}MB`,availableHeap:`${(o/(1024*1024)).toFixed(1)}MB`,memoryPressure:r/n>.8?"High":"Normal"}),Math.round(o/(1024*1024))}let t=navigator.deviceMemory;return t?(console.debug("Device Memory Info:",{totalDeviceMemory:`${t}GB`,estimatedAvailable:`${t*.7}GB (estimated 70% available)`,source:"Device Memory API"}),t*1024*.7):(console.debug("Memory Info:",{source:"Default fallback",assumed:"4GB total, 2.8GB available"}),2048)}toggleLibrary(e){e.id!=="signaltree"&&(e.selected=!e.selected,this.selectionVersion.update(t=>t+1))}onLibraryCheckboxChange(e,t){e.id!=="signaltree"&&(e.selected=t,this.selectionVersion.update(n=>n+1))}toggleAllLibraries(){let e=this.allLibrariesSelected();this.availableLibraries.forEach(t=>{t.id!=="signaltree"&&(t.selected=!e)}),this.selectionVersion.update(t=>t+1)}allLibrariesSelected(){return this.availableLibraries.filter(e=>e.id!=="signaltree").every(e=>e.selected)}toggleScenario(e){e.selected=!e.selected,console.log(`Toggled ${e.name} to ${e.selected}`),this.scenarioSelectionVersion.update(t=>t+1),console.log("Updated scenarioSelectionVersion to",this.scenarioSelectionVersion())}startElapsedTimer(){this.stopElapsedTimer(),this.timerInterval=window.setInterval(()=>{this.elapsedTimeTimer.update(e=>e+1)},500)}stopElapsedTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=void 0)}runBenchmarks(){return I(this,null,function*(){if(!this.canRunBenchmarks())return;this.isRunning.set(!0),this.startTime.set(Date.now()),this.completedTests.set(0),this.results.set([]),this.startElapsedTimer();let e=this.selectedLibraries(),t=this.selectedScenarios(),n=this.config();console.log("Starting benchmarks with:",{libraries:e.map(r=>r.name),scenarios:t.map(r=>r.name),scenarioIds:t.map(r=>r.id)});try{for(let r of t){if(!this.isRunning())break;for(let s of e){if(!this.isRunning())break;this.currentLibrary.set(s.name),this.currentScenario.set(r.name);let o=yield this.runSingleBenchmark(s,r,n);this.results.update(a=>[...a,o]),this.completedTests.update(a=>a+1)}}}catch(r){console.error("Benchmark execution failed:",r)}finally{this.isRunning.set(!1),this.stopElapsedTimer(),console.log("Benchmarks completed")}})}runSingleBenchmark(e,t,n){return I(this,null,function*(){console.log(`Starting single benchmark: ${e.name} - ${t.name}`);let r=[],s=performance,o=t.id==="memory-efficiency"&&!!s.memory,a=o&&s.memory?s.memory.usedJSHeapSize:void 0;console.log(`Starting warmup runs: ${n.warmupRuns}`);for(let u=0;u<n.warmupRuns&&this.isRunning();u++)yield this.executeBenchmark(e.id,t.id,n),this.currentIteration.set(u+1);console.log(`Starting measurement runs: ${n.iterations}`);for(let u=0;u<n.iterations&&this.isRunning();u++){this.currentIteration.set(u+1);let h=yield this.executeBenchmark(e.id,t.id,n);if(console.log(`Iteration ${u+1} duration: ${h}ms`),h===-1)return console.log(`Benchmark unsupported for ${e.name} - ${t.name}`),{libraryId:e.id,scenarioId:t.id,samples:[],median:-1,mean:-1,p95:-1,p99:-1,min:-1,max:-1,stdDev:-1,opsPerSecond:-1,memoryDeltaMB:void 0};r.push(h),u%10===0&&(yield new Promise(g=>setTimeout(g,0)))}r.sort((u,h)=>u-h);let c=o&&s.memory?s.memory.usedJSHeapSize:void 0,l=o&&a!==void 0&&c!==void 0?(c-a)/(1024*1024):void 0,d=this.percentile(r,50);return{libraryId:e.id,scenarioId:t.id,samples:r,median:d,mean:this.average(r),p95:this.percentile(r,95),p99:this.percentile(r,99),min:r[0],max:r[r.length-1],stdDev:this.standardDeviation(r),opsPerSecond:d>0?Math.round(1e3/d):0,memoryDeltaMB:l}})}getComplexityMultiplier(e){switch(e){case"basic":return 1;case"moderate":return 2;case"complex":return 4;case"extreme":return 8;default:return 1}}cancelBenchmarks(){this.isRunning.set(!1),this.stopElapsedTimer()}onDataSizeChange(e){let t=typeof e=="string"?parseInt(e,10):e;this.config.update(n=>O(M({},n),{dataSize:Number(t)})),this.updateEstimates()}onComplexityChange(e){this.config.update(t=>O(M({},t),{complexity:e})),this.updateEstimates()}onIterationsChange(e){let t=typeof e=="string"?parseInt(e,10):e;this.config.update(n=>O(M({},n),{iterations:Number(t)})),this.updateEstimates()}onWarmupChange(e){let t=typeof e=="string"?parseInt(e,10):e;this.config.update(n=>O(M({},n),{warmupRuns:Number(t)})),this.updateEstimates()}onLibraryCardKeydown(e,t){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.toggleLibrary(t))}onScenarioCardKeydown(e,t){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.toggleScenario(t))}isScenarioWinner(e,t){let n=this.results().filter(s=>s.scenarioId===e&&s.median!==-1&&s.opsPerSecond>0&&isFinite(s.opsPerSecond));return n.length===0?!1:n.reduce((s,o)=>o.median<s.median?o:s).libraryId===t}getScenarioTime(e,t){let n=this.results().find(r=>r.scenarioId===e&&r.libraryId===t);return n?n.median===-1?"N/A":this.formatTime(n.median):"-"}getScenarioOps(e,t){let n=this.results().find(r=>r.scenarioId===e&&r.libraryId===t);return n?n.opsPerSecond===-1||n.opsPerSecond===0||!isFinite(n.opsPerSecond)?"N/A":Math.round(n.opsPerSecond).toLocaleString():"-"}isFinite(e){return Number.isFinite(e)}getRelativePerformance(e,t){let n=this.results().find(o=>o.scenarioId===e&&o.libraryId===t),r=this.results().find(o=>o.scenarioId===e&&o.libraryId==="signaltree");return!n||!r||n.median===-1||r.median===-1||n.opsPerSecond===0||n.opsPerSecond===-1?"N/A":(n.median/r.median).toFixed(2)}updateCharts(){if(this.hasResults())if(this.charts.forEach(e=>{try{e.destroy()}catch(t){console.warn("Error destroying chart:",t)}}),this.charts=[],this.combinedChartRef?.nativeElement){let e=this.combinedChartRef.nativeElement.getContext("2d");e&&e.clearRect(0,0,e.canvas.width,e.canvas.height),this.createCombinedChart()}else setTimeout(()=>this.updateCharts(),10)}setChartMode(e){this.chartMode.set(e),this.updateCharts()}createCombinedChart(){let e=this.combinedChartRef?.nativeElement.getContext("2d");if(!e){console.warn("Chart context not available");return}let t=this.chartMode(),n=this.selectedLibraries(),r=this.results();if(n.length===0||r.length===0){console.warn("No libraries or results available for chart");return}let s;if(t==="distribution")s={type:"bar",data:{datasets:n.map(c=>{let d=r.filter(h=>h.libraryId===c.id).flatMap(h=>h.samples),u=this.createHistogramBins(d,20);return{label:c.name,data:u.map(h=>({x:h.center,y:h.count})),backgroundColor:c.color+"40",borderColor:c.color,borderWidth:2}})},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Time (ms)"}},y:{title:{display:!0,text:"Frequency"}}}}};else if(t==="percentiles"){let a=[10,25,50,75,90,95,99],c=n.map(l=>{let u=r.filter(h=>h.libraryId===l.id).flatMap(h=>h.samples).sort((h,g)=>h-g);return{label:l.name,data:a.map(h=>this.percentile(u,h)),borderColor:l.color,backgroundColor:l.color+"20",borderWidth:2,tension:.3}});s={type:"line",data:{labels:a.map(l=>`P${l}`),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else if(t==="scenarios"){let a=this.completedScenarios(),c=n.map(l=>{let d=a.map(u=>{let h=r.find(g=>g.libraryId===l.id&&g.scenarioId===u.id);return h?h.median:0});return{label:l.name,data:d,backgroundColor:l.color+"80",borderColor:l.color,borderWidth:2}});s={type:"bar",data:{labels:a.map(l=>l.name),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else s={type:"line",data:{datasets:n.map(c=>{let l=r.filter(u=>u.libraryId===c.id),d=[];return l.forEach(u=>{d=d.concat(u.samples)}),{label:c.name,data:d.map((u,h)=>({x:h+1,y:u})),borderColor:c.color,backgroundColor:c.color+"20",borderWidth:2,pointRadius:1,pointHoverRadius:4,tension:.1,fill:!1}})},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{tooltip:{position:"nearest"}},scales:{x:{title:{display:!0,text:"Iteration #"},type:"linear"},y:{title:{display:!0,text:"Time (ms)"},beginAtZero:!0}}}};let o=new cr(e,s);this.charts.push(o),requestAnimationFrame(()=>{o.resize(),o.update("none")})}exportCSV(){let e=this.results(),t=this.availableLibraries,n=this.completedScenarios(),r=`Library,Scenario,Median (ms),Mean (ms),P95 (ms),P99 (ms),Min (ms),Max (ms),Std Dev,Ops/sec,Memory Delta (MB)
`;for(let s of e){let o=t.find(c=>c.id===s.libraryId),a=n.find(c=>c.id===s.scenarioId);r+=`${o?.name},${a?.name},${s.median===-1?-1:s.median.toFixed(3)},`,r+=`${s.mean===-1?-1:s.mean.toFixed(3)},${s.p95===-1?-1:s.p95.toFixed(3)},`,r+=`${s.p99===-1?-1:s.p99.toFixed(3)},${s.min===-1?-1:s.min.toFixed(3)},`,r+=`${s.max===-1?-1:s.max.toFixed(3)},${s.stdDev===-1?-1:s.stdDev.toFixed(3)},`,r+=`${s.opsPerSecond===-1||!isFinite(s.opsPerSecond)?-1:Math.round(s.opsPerSecond)},`,r+=`${typeof s.memoryDeltaMB=="number"?s.memoryDeltaMB.toFixed(2):""}
`}this.downloadFile(r,"benchmark-results.csv","text/csv")}exportJSON(){let e={timestamp:new Date().toISOString(),environment:{userAgent:navigator.userAgent,cores:navigator.hardwareConcurrency,memory:navigator.deviceMemory,reliability:this.reliabilityScore(),factors:this.environmentFactors()},configuration:this.config(),calibration:this.calibrationData(),results:this.results(),summaries:this.librarySummaries(),statistics:this.statisticalComparisons()},t=JSON.stringify(e,null,2);try{window.__LAST_BENCHMARK_RESULTS__=t,window.__LAST_BENCHMARK_RESULTS_OBJ__=e,window.__LAST_BENCHMARK_RESULTS_TS__=new Date().toISOString()}catch(n){console.warn("Failed to set global benchmark shim:",n)}this.downloadFile(t,"benchmark-results.json","application/json")}shareResults(){return I(this,null,function*(){let e=window.location.href,t=`Check out these benchmark results: ${this.baselineName()} vs ${this.selectedLibraries().slice(1).map(n=>n.name).join(", ")}`;if(navigator.share)try{yield navigator.share({title:"Benchmark Results",text:t,url:e})}catch(n){console.error("Share failed:",n)}else navigator.clipboard.writeText(`${t}
${e}`),alert("Link copied to clipboard!")})}updateEstimates(){}isDevToolsOpen(){let e=window.outerWidth-window.innerWidth>160,t=window.outerHeight-window.innerHeight>160;return e||t}formatTime(e){return e<1?`${(e*1e3).toFixed(0)}\u03BCs`:e<1e3?`${e.toFixed(2)}ms`:`${(e/1e3).toFixed(2)}s`}formatDuration(e){let t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${t%60}s`:`${t}s`}scoreCircumference(){let t=2*Math.PI*45;return`${t} ${t}`}scoreOffset(){let t=2*Math.PI*45,n=this.reliabilityScore();return(t-n/100*t).toString()}percentile(e,t){if(e.length===0)return 0;let n=[...e].sort((s,o)=>s-o),r=Math.ceil(t/100*n.length)-1;return n[Math.max(0,r)]}average(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}standardDeviation(e){let t=this.average(e),n=e.map(s=>Math.pow(s-t,2)),r=this.average(n);return Math.sqrt(r)}calculateTTest(e,t){let n=this.average(e),r=this.average(t),s=this.standardDeviation(e),o=this.standardDeviation(t),a=e.length,c=t.length,l=Math.sqrt(((a-1)*s*s+(c-1)*o*o)/(a+c-2)),d=(n-r)/(l*Math.sqrt(1/a+1/c)),u=a+c-2,h=this.approximatePValue(Math.abs(d),u);return{tStatistic:d,pValue:h}}approximatePValue(e,t){return t<0,e>3.5?.001:e>3?.01:e>2.5?.02:e>2?.05:e>1.5?.1:.5}createHistogramBins(e,t){if(e.length===0)return[];let n=Math.min(...e),s=(Math.max(...e)-n)/t,o=Array.from({length:t},(a,c)=>({min:n+c*s,max:n+(c+1)*s,center:n+(c+.5)*s,count:0}));return e.forEach(a=>{let c=Math.min(Math.floor((a-n)/s),t-1);o[c].count++}),o}downloadFile(e,t,n){let r=new Blob([e],{type:n}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=t,o.click(),URL.revokeObjectURL(s)}applyWeightingPreset(e){let n={"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"time-travel-debugging":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"memory-efficiency":1},equal:{}}[e];n&&(this.testCases=this.testCases.map(r=>O(M({},r),{frequencyWeight:e==="equal"?1:n[r.id]||1})))}updateTestCaseWeight(e,t){let n=t.target,r=parseFloat(n.value);this.testCases=this.testCases.map(s=>s.id===e?O(M({},s),{frequencyWeight:r}):s)}applySmartWeightAdjustments(){let e={"selector-memoization":2.9,"deep-nested":2.7,"computed-chains":2.4,"large-array":2.1,"batch-updates":2,"async-via-middleware":2.3,"memory-efficiency":1.8,"concurrent-updates":.6,serialization:.9,"single-middleware":1.3,"multiple-middleware":.7,"conditional-middleware":.4,"undo-redo":.8,"history-size":.3,"jump-to-state":.2};this.testCases=this.testCases.map(t=>{let n=e[t.id]||1,r=this.selectedScenarios(),s=this.analyzeCategoryDistribution(r);return s.core>.5&&t.category==="core"&&(n*=1.1),s.middleware>.3&&t.category==="middleware"&&(n*=1.2),s["time-travel"]>.2&&t.category==="time-travel"&&(n*=1.3),O(M({},t),{frequencyWeight:Math.round(n*10)/10})})}analyzeCategoryDistribution(e){if(e.length===0)return{};let t={};e.forEach(r=>{t[r.category]=(t[r.category]||0)+1});let n={};return Object.keys(t).forEach(r=>{n[r]=t[r]/e.length}),n}getFrequencyLabel(e){return e>=2.5?"Very High":e>=2?"High":e>=1.5?"Medium":e>=1?"Normal":e>=.5?"Low":"Very Low"}getFrequencyBarWidth(e){let t=Math.max(.1,Math.min(3,e));return Math.round((t-.1)/(3-.1)*90+10)}applySuggestedPreset(e){this.applyWeightingPreset(e)}lastScenarioSelectionHash="";checkForScenarioChanges(){let e=this.selectedScenarios().map(n=>n.id).sort().join(","),t=e!==this.lastScenarioSelectionHash;return this.lastScenarioSelectionHash=e,t}shouldShowSuggestions=q(()=>{let e=this.suggestedPresets();return e.length===0?!1:e.some(t=>{let n=this.getPresetWeights(t.presetId);if(!n)return!1;let r=this.selectedScenarios(),s=0,o=0;return r.forEach(c=>{let l=c.frequencyWeight||1,d=n[c.id]||1;s+=Math.abs(l-d),o++}),(o>0?s/o:0)>.2})});getPresetWeights(e){return{"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"undo-redo":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"memory-efficiency":1}}[e]||null}weightedLibrarySummaries=q(()=>{let e=this.results();if(this.scenarioSelectionVersion(),!e||e.length===0)return[];let t=new Map;e.forEach(s=>{t.has(s.libraryId)||t.set(s.libraryId,[]);let o=t.get(s.libraryId);o&&o.push(s)});let n=new Map;e.forEach(s=>{if(s.median!==-1&&s.opsPerSecond>0){let o=n.get(s.scenarioId)||0;n.set(s.scenarioId,Math.max(o,s.opsPerSecond))}});let r=Array.from(t.entries()).map(([s,o])=>{let a=this.selectedLibraries().find(u=>u.id===s),c=0,l=0,d=[];return o.forEach(u=>{let h=this.testCases.find(C=>C.id===u.scenarioId);if(!h)return;if(u.median===-1||u.opsPerSecond===-1||u.opsPerSecond===0){d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:h.frequencyWeight||1,median:-1,weightedScore:0,contribution:0,opsPerSecond:-1});return}let g=h.frequencyWeight||1,b=n.get(u.scenarioId)||1,p=u.opsPerSecond/b*100,y=p*g;c+=y,l+=g,d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:g,median:u.median,weightedScore:p,contribution:y,opsPerSecond:u.opsPerSecond})}),{name:a?.name||s,color:a?.color||"#666",weightedScore:l>0?c/l:-1,breakdown:d,rank:0}});return r.filter(s=>s.weightedScore!==-1).sort((s,o)=>o.weightedScore-s.weightedScore).forEach((s,o)=>{s.rank=o+1}),r});static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Oi({type:i,selectors:[["app-benchmark-orchestrator"]],viewQuery:function(t,n){if(t&1&&To(op,5),t&2){let r;Io(r=Do())&&(n.combinedChartRef=r.first)}},decls:388,vars:50,consts:[["combinedChart",""],[1,"benchmark-container"],[1,"benchmark-header"],[1,"subtitle"],[1,"performance-warning",2,"background","#fff3cd","border","2px solid #ffc107","border-radius","8px","padding","1rem","margin","1rem 0"],[2,"margin","0 0 0.5rem 0","color","#856404","font-size","1.1rem"],[2,"margin","0","color","#856404","font-size","0.9rem"],[1,"performance-disclaimer"],[1,"calibration-section"],[1,"calibration-header"],[1,"reliability-indicator"],[1,"score-circle"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",1,"score-bg"],["cx","50","cy","50","r","45",1,"score-fill"],[1,"score-text"],[1,"score-value"],[1,"score-label"],[1,"score-details"],["class","detail-item",4,"ngFor","ngForOf"],[1,"calibration-controls"],[1,"btn","btn-calibrate",3,"click","disabled"],["class","btn-icon","viewBox","0 0 24 24",4,"ngIf"],["class","spinner",4,"ngIf"],["class","calibration-results",4,"ngIf"],[1,"library-section"],[1,"library-selection-header"],["type","button",1,"btn","btn-select-all",3,"click","disabled"],[1,"library-grid"],["class","library-card","tabindex","0","role","button",3,"selected","disabled","--lib-color","click","keydown",4,"ngFor","ngForOf"],[1,"bundle-disclaimer"],[1,"performance-tradeoffs"],[1,"tradeoff-grid"],[1,"tradeoff-item","advantage"],[1,"tradeoff-item","known-limitation"],[1,"explanation"],[1,"mitigation"],[1,"config-section"],[1,"config-grid"],[1,"config-group"],["for","data-size"],["title","Number of items to process in each benchmark. Larger sizes reveal performance differences but take longer to run.",1,"tooltip"],["id","data-size",3,"ngModelChange","ngModel"],[3,"value"],["for","complexity"],["title","Complexity affects how many operations and edge cases each test includes. Higher complexity reveals differences in real-world usage patterns.",1,"tooltip"],["id","complexity",3,"ngModelChange","ngModel"],["value","basic"],["value","moderate"],["value","complex"],["value","extreme"],["for","iterations"],["title","Number of times each test runs to collect timing samples. More iterations provide better statistical significance but take longer.",1,"tooltip"],["type","number","id","iterations","min","10","max","1000",3,"ngModelChange","change","ngModel"],["for","warmup"],["title","Number of 'practice' runs before actual measurement to warm up the JavaScript engine and get stable results.",1,"tooltip"],["type","number","id","warmup","min","5","max","50",3,"ngModelChange","change","ngModel"],["for","memo-mode"],["title","Switch memoization strategy for in-browser A/B tests",1,"tooltip"],["id","memo-mode",3,"ngModelChange","ngModel","disabled"],["value","light"],["value","off"],["value","shallow"],["value","full"],[1,"test-estimates"],[1,"estimate-grid"],[1,"estimate"],[1,"estimate-label"],[1,"estimate-value"],[1,"benchmarks-section"],[1,"preset-section"],[1,"presets-grid"],["class","preset-card","tabindex","0","role","button",3,"click",4,"ngFor","ngForOf"],["class","enhancers-display",4,"ngIf"],[1,"frequency-weighting-section"],[1,"weighting-explanation"],[1,"weighting-details"],[1,"weight-categories"],[1,"category-grid"],[1,"category-item","very-high"],[1,"weight-range"],[1,"frequency"],[1,"examples"],[1,"category-item","high"],[1,"category-item","medium"],[1,"category-item","low"],[1,"category-item","rare"],[1,"methodology-note"],[1,"weighting-presets"],["class","smart-suggestions",4,"ngIf"],[1,"preset-buttons"],[1,"btn","btn-preset",3,"click"],[1,"architectural-insights"],[1,"insights-grid"],[1,"insight-card"],[1,"pros-cons"],[1,"pros"],[1,"cons"],[1,"all-benchmarks"],[1,"benchmarks-grid"],["class","benchmark-card","tabindex","0","role","button",3,"selected","disabled","click","keydown",4,"ngFor","ngForOf"],[1,"controls-section"],["data-test-id","run-benchmarks",1,"btn","btn-run",3,"click","disabled"],["viewBox","0 0 24 24",1,"btn-icon"],["d","M8 5v14l11-7z"],["class","controls-running","aria-live","polite",4,"ngIf"],["class","controls-info",4,"ngIf"],["class","progress-modal","data-test-id","progress-modal",4,"ngIf"],["class","results-section",4,"ngIf"],[1,"detail-item"],[1,"factor-name"],[1,"factor-impact"],[1,"factor-reason"],["d","M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41m11.32-11.32l1.41-1.41"],[1,"spinner"],[1,"calibration-results"],[1,"calibration-grid"],[1,"calibration-metric"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"metric-fill"],["class","calibration-warnings",4,"ngIf"],[1,"calibration-warnings"],["class","warning-item",4,"ngFor","ngForOf"],[1,"warning-item"],["viewBox","0 0 24 24",1,"warning-icon"],["d","M12 2L2 22h20L12 2zm0 6l1.5 7h-3L12 8zm0 9.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"],["tabindex","0","role","button",1,"library-card",3,"click","keydown"],[1,"library-checkbox"],["type","checkbox",3,"ngModelChange","click","change","ngModel","disabled"],[1,"library-info"],["class","library-stats",4,"ngIf"],["class","library-badge",4,"ngIf"],[1,"library-stats"],[1,"stat"],[1,"library-badge"],["tabindex","0","role","button",1,"preset-card",3,"click"],[1,"preset-count"],[1,"enhancers-display"],[1,"enhancers-list"],["class","enhancer-tag",4,"ngFor","ngForOf"],[1,"enhancers-note"],[1,"enhancer-tag"],[1,"smart-suggestions"],[1,"suggestion-cards"],["class","suggestion-card",4,"ngFor","ngForOf"],[1,"suggestion-card"],[1,"suggestion-header"],[1,"confidence-badge"],[1,"suggestion-reason"],[1,"btn","btn-suggestion",3,"click"],["tabindex","0","role","button",1,"benchmark-card",3,"click","keydown"],["type","checkbox",3,"click","checked"],["class","unsupported-badge",4,"ngIf"],[1,"frequency-indicator"],[1,"frequency-label"],[1,"frequency-bar"],[1,"frequency-fill"],[1,"frequency-text"],["class","architectural-note",4,"ngIf"],[1,"benchmark-details"],[1,"detail"],[1,"weight-control"],[3,"for"],["type","range","min","0","max","3","step","0.1",3,"input","click","id","value"],[1,"weight-value"],[1,"unsupported-badge"],[1,"architectural-note"],[1,"tradeoff-text"],["aria-live","polite",1,"controls-running"],[1,"dot"],[1,"controls-info"],[4,"ngIf"],["data-test-id","progress-modal",1,"progress-modal"],[1,"progress-content"],[1,"progress-current"],["data-test-id","progress-current-library",1,"current-library"],["data-test-id","progress-current-scenario",1,"current-scenario"],["data-test-id","progress-current-iteration",1,"current-iteration"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"progress-stats"],[1,"stat-label"],[1,"stat-value"],["data-test-id","progress-cancel",1,"btn","btn-cancel",3,"click"],[1,"results-section"],[1,"weighted-results-section"],[1,"weighting-note"],[1,"weighted-summary-grid"],["class","weighted-summary-card",3,"--card-color","weighted-winner",4,"ngFor","ngForOf"],[1,"weighting-transparency"],[1,"weight-display"],["class","weight-item",3,"disabled",4,"ngFor","ngForOf"],[1,"smart-weighting-tools"],["type","button",1,"smart-adjust-btn",3,"click"],[1,"smart-help"],["class","weight-impact-analysis",4,"ngIf"],["class","detailed-analysis",4,"ngIf"],[1,"summary-grid"],["class","summary-card",3,"--card-color",4,"ngFor","ngForOf"],[1,"charts-grid"],[1,"chart-container"],[1,"chart-toolbar"],["data-test-id","chart-scenarios",1,"btn","btn-export",3,"click"],["data-test-id","chart-distribution",1,"btn","btn-export",3,"click"],["data-test-id","chart-percentiles",1,"btn","btn-export",3,"click"],["data-test-id","chart-timeseries",1,"btn","btn-export",3,"click"],[1,"results-table"],[3,"color",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"statistics-section"],[1,"statistics-grid"],["class","stat-card",4,"ngFor","ngForOf"],[1,"export-section"],[1,"export-buttons"],["data-test-id","export-csv",1,"btn","btn-export",3,"click"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12,19L8,15H10.5V12H13.5V15H16L12,19Z"],["data-test-id","export-json",1,"btn","btn-export",3,"click"],["d","M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"],["data-test-id","share-results",1,"btn","btn-export",3,"click"],["d","M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z"],[1,"weighted-summary-card"],[1,"summary-header"],["class","weighted-rank",4,"ngIf"],["class","weighted-rank unsupported",4,"ngIf"],[1,"weighted-breakdown"],["class","breakdown-item",4,"ngFor","ngForOf"],[1,"weighted-rank"],[1,"weighted-rank","unsupported"],[1,"breakdown-item"],[1,"scenario-name"],[1,"weight"],[1,"contribution"],[1,"weight-item"],[1,"scenario"],["class","scenario-disabled",4,"ngIf"],[1,"weight-bar"],[1,"weight-fill"],[1,"scenario-disabled"],[1,"unsupported-label"],[1,"unsupported-reason"],[1,"weight-impact-analysis"],[1,"impact-summary"],[1,"impact-level"],[1,"scenarios-count"],["class","ranking-changes",4,"ngIf"],[1,"ranking-changes"],[1,"ranking-grid"],["class","ranking-change-item",3,"ranking-improved","ranking-declined",4,"ngFor","ngForOf"],[1,"ranking-change-item"],[1,"library-name"],[1,"rank-change"],["class","change-indicator",4,"ngIf"],[1,"change-indicator"],[1,"detailed-analysis"],[1,"library-analysis-grid"],["class","library-analysis-card",3,"--card-color",4,"ngFor","ngForOf"],[1,"library-analysis-card"],[1,"analysis-header"],[1,"score-comparison"],[1,"raw-score"],[1,"weighted-score"],[1,"impact"],[1,"scenario-breakdown"],["class","scenario-item",4,"ngFor","ngForOf"],[1,"scenario-item"],[1,"scenario-info"],[1,"frequency-note"],[1,"scenario-scores"],[1,"raw"],[1,"weighted"],[1,"summary-card"],["class","summary-rank",4,"ngIf"],["class","summary-rank unsupported",4,"ngIf"],[1,"summary-metrics"],[1,"metric"],["class","metric-value",4,"ngIf"],["class","metric-value unsupported",4,"ngIf"],["class","metric-value",3,"faster","slower",4,"ngIf"],[1,"summary-rank"],[1,"summary-rank","unsupported"],[1,"metric-value","unsupported"],[3,"winner","--cell-color",4,"ngFor","ngForOf"],[1,"time"],[1,"ops"],["class","relative",4,"ngIf"],[1,"relative"],[1,"stat-card"],[1,"stat-row"],[1,"stat-row","conclusion"]],template:function(t,n){t&1&&(f(0,"div",1)(1,"header",2)(2,"h1"),_(3,"Benchmarks vs Alternatives"),m(),f(4,"p",3),_(5," SignalTree compared to NgRx Store and NgRx SignalStore - Understanding trade-offs with real-world usage weighting "),m(),f(6,"div",4)(7,"h3",5),_(8," \u26A0\uFE0F Performance Notice "),m(),f(9,"p",6)(10,"strong"),_(11,"Benchmarks are computationally intensive."),m(),_(12,' You may see a "Page Unresponsive" warning during test execution. This is expected behavior. Please click '),f(13,"strong"),_(14,'"Wait"'),m(),_(15," and allow the benchmarks to complete. The tests are designed to stress-test performance under heavy load. "),m()(),f(16,"div",7)(17,"p"),_(18," While raw speed is important, the true purpose of these benchmarks is to show that "),f(19,"strong"),_(20,"SignalTree is architected with developer experience at its core, strategically rebalancing performance toward the most commonly used actions without compromise."),m(),mt(21,"br")(22,"br"),f(23,"strong"),_(24,"The goals:"),m(),mt(25,"br"),_(26," Create a state management system that embraces dot notation, type inference, and JSON\u2019s natural key-value structure. The outcome is a framework that feels both intuitive and efficient \u2014 delivering a streamlined DX while optimizing performance where it matters most. "),m()()(),f(27,"section",8)(28,"div",9)(29,"h2"),_(30,"Environment Calibration"),m(),f(31,"div",10)(32,"div",11),Ae(),f(33,"svg",12),mt(34,"circle",13)(35,"circle",14),m(),Pi(),f(36,"div",15)(37,"span",16),_(38),m(),f(39,"span",17),_(40,"Reliability"),m()()(),f(41,"div",18),L(42,ap,7,8,"div",19),m()()(),f(43,"div",20)(44,"button",21),G("click",function(){return n.runCalibration()}),L(45,cp,2,0,"svg",22)(46,lp,1,0,"div",23),_(47),m(),L(48,hp,32,17,"div",24),m()(),f(49,"section",25)(50,"div",26)(51,"h2"),_(52,"Select Libraries to Compare"),m(),f(53,"button",27),G("click",function(){return n.toggleAllLibraries()}),_(54),m()(),f(55,"div",28),L(56,fp,10,16,"div",29),m(),f(57,"div",30)(58,"p")(59,"strong"),_(60,"Note:"),m(),_(61," Bundle sizes are approximate and depend on usage patterns, tree-shaking, and build configuration. Actual production bundles may vary significantly based on which features you import and use. "),m()(),f(62,"div",31)(63,"h3"),_(64,"\u{1F4CA} Performance Trade-offs"),m(),f(65,"div",32)(66,"div",33)(67,"h4"),_(68,"\u2705 SignalTree Advantages"),m(),f(69,"ul")(70,"li")(71,"strong"),_(72,"25-65% faster"),m(),_(73," state updates and reads in most scenarios "),m(),f(74,"li")(75,"strong"),_(76,"85% memory reduction"),m(),_(77," through lazy signal creation "),m(),f(78,"li")(79,"strong"),_(80,"Automatic optimization"),m(),_(81," of reactive computations with intelligent caching "),m(),f(82,"li")(83,"strong"),_(84,"Fine-grained reactivity"),m(),_(85," for minimal re-renders and targeted updates "),m(),f(86,"li")(87,"strong"),_(88,"Zero-cost abstractions"),m(),_(89," with compile-time callable syntax transforms "),m(),f(90,"li")(91,"strong"),_(92,"Surgical updates"),m(),_(93," without parent object rebuilding for deep nested changes "),m(),f(94,"li")(95,"strong"),_(96,"Direct access patterns"),m(),_(97," eliminate complex selectors and reducers "),m(),f(98,"li")(99,"strong"),_(100,"Batching optimizations"),m(),_(101," prevent render thrashing in high-frequency scenarios "),m()()(),f(102,"div",34)(103,"h4"),_(104,"\u26A0\uFE0F Known Performance Trade-off"),m(),f(105,"p")(106,"strong"),_(107,"Serialization is ~2-3x slower"),m(),_(108," than libraries storing plain objects. "),m(),f(109,"p",35),_(110,' SignalTree stores reactive signals that must be "unwrapped" during serialization, while other libraries can serialize plain objects directly. This is by choice. Serialization takes very little time and by the sacrifice here enables the significant performance gains in all other operations. '),m(),f(111,"div",36)(112,"strong"),_(113,"Mitigation:"),m(),_(114," Built-in caching automatically optimizes storage I/O, and debounced auto-save reduces serialization frequency. "),m()()()()(),f(115,"section",37)(116,"h2"),_(117,"Test Configuration"),m(),f(118,"div",38)(119,"div",39)(120,"label",40),_(121,"Data Size "),f(122,"span",41)(123,"i"),_(124,"\u24D8"),m()()(),f(125,"select",42),G("ngModelChange",function(s){return n.onDataSizeChange(s)}),f(126,"option",43),_(127,"Small (1,000 items) - Quick test"),m(),f(128,"option",43),_(129,"Medium (10,000 items) - Balanced"),m(),f(130,"option",43),_(131,"Large (50,000 items) - Thorough"),m(),f(132,"option",43),_(133," Extreme (100,000 items) - Stress test "),m()(),f(134,"small"),_(135,"Larger datasets provide more accurate measurements"),m()(),f(136,"div",39)(137,"label",44),_(138,"Test Complexity "),f(139,"span",45)(140,"i"),_(141,"\u24D8"),m()()(),f(142,"select",46),G("ngModelChange",function(s){return n.onComplexityChange(s)}),f(143,"option",47),_(144,"Basic - Simple state updates"),m(),f(145,"option",48),_(146," Moderate - Nested updates + computeds "),m(),f(147,"option",49),_(148,"Complex - Deep nesting + selectors"),m(),f(149,"option",50),_(150," Extreme - All features + stress patterns "),m()(),f(151,"small"),_(152,"Higher complexity tests more realistic scenarios"),m()(),f(153,"div",39)(154,"label",51),_(155,"Measurement Iterations "),f(156,"span",52)(157,"i"),_(158,"\u24D8"),m()()(),f(159,"input",53),G("ngModelChange",function(s){return n.onIterationsChange(s)})("change",function(){return n.updateEstimates()}),m(),f(160,"small"),_(161,"More iterations improve statistical significance"),m()(),f(162,"div",39)(163,"label",54),_(164,"Warmup Runs "),f(165,"span",55)(166,"i"),_(167,"\u24D8"),m()()(),f(168,"input",56),G("ngModelChange",function(s){return n.onWarmupChange(s)})("change",function(){return n.updateEstimates()}),m(),f(169,"small"),_(170,"Warmup runs allow JIT optimization"),m()(),f(171,"div",39)(172,"label",57),_(173,"Memoization Mode "),f(174,"span",58)(175,"i"),_(176,"?"),m()()(),f(177,"select",59),G("ngModelChange",function(s){return n.setMemoMode(s)}),f(178,"option",60),_(179,"Light (default)"),m(),f(180,"option",61),_(181,"Off"),m(),f(182,"option",62),_(183,"Shallow"),m(),f(184,"option",63),_(185,"Full"),m()(),f(186,"small"),_(187,"Toggle memoization strategy for exporter A/B testing (updates URL param)"),m()()(),f(188,"div",64)(189,"h3"),_(190),m(),f(191,"div",65)(192,"div",66)(193,"span",67),_(194,"Total Operations"),m(),f(195,"span",68),_(196),ft(197,"number"),m()(),f(198,"div",66)(199,"span",67),_(200,"Estimated Duration"),m(),f(201,"span",68),_(202),m()(),f(203,"div",66)(204,"span",67),_(205,"Memory Required"),m(),f(206,"span",68),_(207),m()(),f(208,"div",66)(209,"span",67),_(210,"Scenarios to Run"),m(),f(211,"span",68),_(212),m()()()()(),f(213,"section",69)(214,"h2"),_(215,"Test Scenarios"),m(),f(216,"div",70)(217,"h3"),_(218,"Quick Select Presets"),m(),f(219,"div",71),L(220,pp,7,3,"div",72),m()(),L(221,_p,7,2,"div",73),f(222,"div",74)(223,"h3"),_(224,"\u{1F3AF} Real-World Usage Weighting"),m(),f(225,"p",75),_(226," Different operations happen at different frequencies in real applications. Our weighting system applies research-based multipliers to benchmark results, reflecting actual usage patterns from 40,000+ developers and enterprise application analysis. "),m(),f(227,"div",76)(228,"div",77)(229,"h4"),_(230,"\u{1F4CA} Frequency Categories"),m(),f(231,"div",78)(232,"div",79)(233,"span",80),_(234,"2.5-3.0x"),m(),f(235,"span",81),_(236," Very High"),m(),f(237,"span",82),_(238," Forms, selectors, computed values"),m()(),f(239,"div",83)(240,"span",80),_(241,"2.0-2.4x"),m(),f(242,"span",81),_(243," High"),m(),f(244,"span",82),_(245," Arrays, batching, async (via middleware)"),m()(),f(246,"div",84)(247,"span",80),_(248,"1.0-1.9x"),m(),f(249,"span",81),_(250," Medium"),m(),f(251,"span",82),_(252," Memory efficiency, middleware"),m()(),f(253,"div",85)(254,"span",80),_(255,"0.5-0.9x"),m(),f(256,"span",81),_(257," Low"),m(),f(258,"span",82),_(259," Serialization, complex stacks"),m()(),f(260,"div",86)(261,"span",80),_(262,"0.1-0.4x"),m(),f(263,"span",81),_(264," Rare"),m(),f(265,"span",82),_(266," Time-travel, debugging tools"),m()()()(),f(267,"p",87)(268,"strong"),_(269,"Research Methodology:"),m(),_(270," Weights derived from State of JS 2023 survey data, GitHub repository analysis of 10,000+ applications, enterprise profiling studies, and React DevTools usage patterns. "),m()(),f(271,"div",88),L(272,Mp,5,1,"div",89),f(273,"h4"),_(274,"Quick Presets:"),m(),f(275,"div",90)(276,"button",91),G("click",function(){return n.applyWeightingPreset("crud-app")}),_(277," \u{1F4CA} CRUD App "),f(278,"small"),_(279,"Heavy reads, occasional updates"),m()(),f(280,"button",91),G("click",function(){return n.applyWeightingPreset("real-time")}),_(281," \u26A1 Real-time Dashboard "),f(282,"small"),_(283,"Frequent targeted updates"),m()(),f(284,"button",91),G("click",function(){return n.applyWeightingPreset("forms")}),_(285," \u{1F4DD} Complex Forms "),f(286,"small"),_(287,"Deep nested updates, validation"),m()(),f(288,"button",91),G("click",function(){return n.applyWeightingPreset("enterprise")}),_(289," \u{1F3E2} Enterprise App "),f(290,"small"),_(291,"Audit trails, time-travel debugging"),m()(),f(292,"button",91),G("click",function(){return n.applyWeightingPreset("equal")}),_(293," \u2696\uFE0F Equal Weight "),f(294,"small"),_(295,"No frequency bias"),m()()()(),f(296,"div",92)(297,"h4"),_(298,"\u{1F3D7}\uFE0F Architectural Trade-offs to Consider:"),m(),f(299,"div",93)(300,"div",94)(301,"h5"),_(302,"Direct Mutation (SignalTree)"),m(),f(303,"div",95)(304,"div",96)(305,"strong"),_(306,"\u2705 Helps when:"),m(),f(307,"ul")(308,"li"),_(309,"Frequent targeted updates"),m(),f(310,"li"),_(311,"Large nested objects"),m(),f(312,"li"),_(313,"Real-time data streams"),m(),f(314,"li"),_(315,"Interactive editors"),m()()(),f(316,"div",97)(317,"strong"),_(318,"\u274C Costs:"),m(),f(319,"ul")(320,"li"),_(321,"Slower serialization (signals must be unwrapped)"),m()()()()(),f(322,"div",94)(323,"h5"),_(324,"Immutable Updates (NgRx/Redux)"),m(),f(325,"div",95)(326,"div",96)(327,"strong"),_(328,"\u2705 Helps when:"),m(),f(329,"ul")(330,"li"),_(331,"Predictable state flow needed"),m(),f(332,"li"),_(333,"Time-travel debugging"),m(),f(334,"li"),_(335,"Large team coordination"),m(),f(336,"li"),_(337,"Audit requirements"),m()()(),f(338,"div",97)(339,"strong"),_(340,"\u274C Costs:"),m(),f(341,"ul")(342,"li"),_(343,"More boilerplate"),m(),f(344,"li"),_(345,"Full object recreation"),m(),f(346,"li"),_(347,"Learning curve"),m()()()()(),f(348,"div",94)(349,"h5"),_(350,"Entity Stores (Akita/Elf)"),m(),f(351,"div",95)(352,"div",96)(353,"strong"),_(354,"\u2705 Helps when:"),m(),f(355,"ul")(356,"li"),_(357,"Managing entity collections"),m(),f(358,"li"),_(359,"CRUD operations"),m(),f(360,"li"),_(361,"Normalized data"),m(),f(362,"li"),_(363,"Caching patterns"),m()()(),f(364,"div",97)(365,"strong"),_(366,"\u274C Costs:"),m(),f(367,"ul")(368,"li"),_(369,"Domain-specific"),m(),f(370,"li"),_(371,"Less general-purpose"),m(),f(372,"li"),_(373,"Learning overhead"),m()()()()()()()(),f(374,"div",98)(375,"h3"),_(376,"Benchmarks"),m(),f(377,"div",99),L(378,Pp,27,22,"div",100),m()()(),f(379,"section",101)(380,"button",102),G("click",function(){return n.runBenchmarks()}),Ae(),f(381,"svg",103),mt(382,"path",104),m(),_(383," Run Benchmarks "),m(),L(384,Op,4,2,"div",105)(385,kp,4,3,"div",106),m(),L(386,Ep,35,14,"div",107)(387,s0,71,16,"section",108),m()),t&2&&(Ke("aria-busy",n.isRunning()),x(31),At("excellent",n.reliabilityScore()>=90)("good",n.reliabilityScore()>=75)("fair",n.reliabilityScore()>=60)("poor",n.reliabilityScore()<60),Ke("data-score",n.reliabilityScore()),x(4),$t("stroke-dasharray",n.scoreCircumference())("stroke-dashoffset",n.scoreOffset()),x(3),N(n.reliabilityScore()),x(4),D("ngForOf",n.environmentFactors()),x(2),D("disabled",n.isCalibrating()),x(),D("ngIf",!n.isCalibrating()),x(),D("ngIf",n.isCalibrating()),x(),W(" ",n.isCalibrating()?"Calibrating...":"Calibrate Environment"," "),x(),D("ngIf",n.calibrationData()),x(5),D("disabled",n.isRunning()),x(),W(" ",n.allLibrariesSelected()?"Deselect All":"Select All"," "),x(2),D("ngForOf",n.availableLibraries),x(69),D("ngModel",n.config().dataSize),x(),D("value",1e3),x(2),D("value",1e4),x(2),D("value",5e4),x(2),D("value",1e5),x(10),D("ngModel",n.config().complexity),x(17),D("ngModel",n.config().iterations),x(9),D("ngModel",n.config().warmupRuns),x(9),D("ngModel",n.memoMode())("disabled",n.isRunning()),x(13),W("Test Estimates (\u2248",n.estimatedDuration(),")"),x(6),N(Vn(197,48,n.totalOperations())),x(6),N(n.estimatedDuration()),x(5),W("~",n.estimatedMemory()," MB"),x(5),N(n.selectedScenarios().length),x(8),D("ngForOf",n.scenarioPresets),x(),D("ngIf",n.selectedScenarios().length>0),x(51),D("ngIf",n.shouldShowSuggestions()&&n.suggestedPresets().length>0),x(106),D("ngForOf",n.visibleScenarios()),x(2),D("disabled",!n.canRunBenchmarks()),x(4),D("ngIf",n.isRunning()),x(),D("ngIf",!n.canRunBenchmarks()),x(),D("ngIf",n.isRunning()),x(),D("ngIf",n.hasResults()))},dependencies:[vi,Bo,Fo,Go,Ho,qo,Vo,Wo,No,$o,Uo,Yo,Ko,jo,zo,Lo],styles:['@charset "UTF-8";.benchmark-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.benchmark-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.benchmark-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#1f2937;margin-bottom:.5rem}.benchmark-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem}.calibration-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]{margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:2rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.excellent[_ngcontent-%COMP%]{--score-color: #10b981}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.good[_ngcontent-%COMP%]{--score-color: #3b82f6}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.fair[_ngcontent-%COMP%]{--score-color: #f59e0b}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.poor[_ngcontent-%COMP%]{--score-color: #ef4444}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{position:relative;width:120px;height:120px}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke-width:8}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-bg[_ngcontent-%COMP%]{stroke:#fff3}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-fill[_ngcontent-%COMP%]{stroke:var(--score-color, #3b82f6);stroke-linecap:round;transition:stroke-dashoffset .5s ease}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr auto 3fr;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact[_ngcontent-%COMP%]{font-weight:600}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.positive[_ngcontent-%COMP%]{color:#86efac}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.negative[_ngcontent-%COMP%]{color:#fca5a5}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-reason[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]{margin-top:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;stroke:currentColor;fill:none;stroke-width:2}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,.1);border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#ffffff1a;border-radius:8px}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;opacity:.9;margin-bottom:.25rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]{height:4px;background:#fff3;border-radius:2px;overflow:hidden}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]   .metric-fill[_ngcontent-%COMP%]{height:100%;background:#fff;transition:width .5s ease}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]{margin-top:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fb923c33;border-radius:4px;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:#fed7aa}.library-section[_ngcontent-%COMP%]{margin-bottom:2rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#3b82f6;color:#fff;font-size:.875rem;padding:.5rem 1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;position:relative}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]:hover{border-color:var(--lib-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.library-section[_ngcontent-%COMP%]   .library-card.selected[_ngcontent-%COMP%]{border-color:var(--lib-color);background:linear-gradient(to bottom,rgba(var(--lib-color-rgb),.05),#fff)}.library-section[_ngcontent-%COMP%]   .library-card.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.8}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:.5rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]{display:flex;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;background:#3b82f6;color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.2);border-radius:8px}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#1f293705;border:1px solid #e5e7eb;border-radius:12px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#1f2937;font-size:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}@media (max-width: 768px){.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item[_ngcontent-%COMP%]{padding:1.25rem;border-radius:8px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]{background:#10b9810d;border:1px solid rgba(16,185,129,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#085b40;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#042c1f;font-size:.875rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]{background:#f59e0b0d;border:1px solid rgba(245,158,11,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#945f06;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#634004;font-size:.875rem;line-height:1.5}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p.explanation[_ngcontent-%COMP%]{margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]{padding:.75rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.15);border-radius:6px;font-size:.8rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.config-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #e5e7eb;border-radius:6px;font-size:1rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.25rem;color:#6b7280;font-size:.75rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]{padding:1.5rem;background:#f9fafb;border-radius:8px}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]{text-align:center}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280;margin-bottom:.25rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937;font-size:1.25rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .presets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem;margin-bottom:1.5rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;text-align:center}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f626}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#6b7280;font-size:.875rem;line-height:1.4}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   .preset-count[_ngcontent-%COMP%]{font-size:.75rem;color:#3b82f6;font-weight:600;background:#3b82f61a;padding:.25rem .75rem;border-radius:12px;display:inline-block}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancer-tag[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:.375rem .75rem;border-radius:6px;font-size:.875rem;font-weight:500;font-family:Monaco,Menlo,Ubuntu Mono,monospace}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-note[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#6b7280;font-style:italic}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]{margin-bottom:3rem}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.375rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:2px solid rgba(59,130,246,.2)}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:1.5rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605;border-left:4px solid #3b82f6}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#4b5563;font-size:.875rem;line-height:1.5}.benchmarks-section[_ngcontent-%COMP%]   .benchmarks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;border:2px solid #e5e7eb;transition:all .2s}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px)}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f60d}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none;background:#1f293705}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:not-allowed}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   .unsupported-badge[_ngcontent-%COMP%]{margin-left:auto;background:#ef44440f;color:#ef4444;font-weight:800;padding:.25rem .5rem;border-radius:6px;font-size:.75rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.controls-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;margin-bottom:2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;font-size:1.125rem;padding:1rem 2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:24px;height:24px;fill:currentColor}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]{margin-top:1rem}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]{margin-top:.75rem;display:inline-flex;align-items:center;gap:.5rem;color:#6b7280}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#3b82f6;animation:_ngcontent-%COMP%_pulse 1.2s ease-in-out infinite}.progress-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000bf;display:flex;align-items:center;justify-content:center;z-index:1000}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;width:90%;max-width:500px}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span.current-library[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:1.125rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#8b5cf6);transition:width .3s ease}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{position:absolute;right:0;top:-1.5rem;font-size:.875rem;color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;width:100%;background:#ef4444;color:#fff}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]{margin-top:3rem}.results-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;color:#1f2937;text-align:center}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#fff;display:flex;align-items:center;gap:2rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-trophy[_ngcontent-%COMP%]{font-size:4rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9}.results-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .summary-rank[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.faster[_ngcontent-%COMP%]{color:#10b981}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.slower[_ngcontent-%COMP%]{color:#ef4444}.results-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]   .btn-export.active[_ngcontent-%COMP%]{border-color:#3b82f6;color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:100%;width:100%!important;height:420px!important;max-height:420px;display:block}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;background:#f9fafb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]{font-weight:500}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:.75rem;font-weight:400}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]{background:#10b9811a;position:relative}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]:before{content:"\\1f3c6";position:absolute;top:.25rem;right:.25rem;font-size:.75rem}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .ops[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:1rem;background:#f9fafb;border-radius:8px}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.25rem 0;font-size:.875rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row.conclusion[_ngcontent-%COMP%]{margin-top:.5rem;padding-top:.5rem;border-top:1px solid #e5e7eb;font-weight:600}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .significant[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;text-align:center}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#1f2937;border:2px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover{border-color:#3b82f6;color:#3b82f6}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:currentColor}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:.6}50%{transform:scale(1);opacity:1}to{transform:scale(.9);opacity:.6}}@media (max-width: 768px){.benchmark-container[_ngcontent-%COMP%]{padding:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.library-grid[_ngcontent-%COMP%], .config-grid[_ngcontent-%COMP%], .benchmarks-grid[_ngcontent-%COMP%], .summary-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%], .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reliability-indicator[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.reliability-indicator[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{margin:0 auto}.results-table[_ngcontent-%COMP%]{font-size:.875rem}.results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:300px!important;max-height:300px}}.tooltip[_ngcontent-%COMP%]{position:relative;cursor:help}.tooltip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;background:#3b82f6;color:#fff;text-align:center;line-height:16px;font-size:12px;font-style:normal;margin-left:4px}.tooltip[_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:125%;left:50%;transform:translate(-50%);background:#1f2937;color:#fff;padding:8px 12px;border-radius:6px;font-size:12px;white-space:nowrap;max-width:250px;white-space:normal;width:max-content;max-width:300px;z-index:1000;box-shadow:0 4px 12px #00000026}.tooltip[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:115%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:#1f2937;z-index:1000}.performance-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;text-align:start;background:#fff;border:1px solid rgb(156.5219512195,192.1951219512,250.4780487805);border-radius:8px}.performance-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;line-height:1.5;color:#094fc2}.performance-disclaimer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#073b91}.unsupported[_ngcontent-%COMP%]{color:#f59e0b!important;font-style:italic}.summary-rank.unsupported[_ngcontent-%COMP%]{background:#f59e0b;color:#fff;font-size:.75rem;padding:2px 6px;border-radius:4px}.metric-value.unsupported[_ngcontent-%COMP%]{opacity:.6}.frequency-weighting-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);border:2px solid #3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-explanation[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937;line-height:1.6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]{margin-bottom:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:.75rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.75rem;border-radius:8px;text-align:center;border:2px solid transparent}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8;line-height:1.3}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]{background:#63f1c2;border-color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0d9467}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]{background:#63e4fb;border-color:#06b6d4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0592aa}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]{background:#faca79;border-color:#f59e0b}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#b87708}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]{background:#bfa5fa;border-color:#8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#5d1cf2}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]{background:#f69898;border-color:#ef4444}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#e21313}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:6px;border-left:4px solid #3b82f6;font-size:.9rem;line-height:1.5;color:#1f2937;margin-top:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#e8f2ff);border:2px solid #4dabf7;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1864ab;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #bee3f8;border-radius:8px;padding:1rem;transition:all .2s ease}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #4dabf726;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1864ab;font-size:1.1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   .confidence-badge[_ngcontent-%COMP%]{background:#4dabf7;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem;font-size:.9rem;line-height:1.4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#4dabf7;color:#fff;border:none;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover{background:#339af0;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6;border:2px solid #3b82f6;flex-direction:column;text-align:center;min-width:160px}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;font-weight:400;opacity:.8}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid #8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8b5cf6;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ef4444}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:auto;font-size:.8rem;width:100%}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ef4444,#f59e0b 35%,#06b6d4 65%,#10b981);transition:width .3s ease}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%]{font-weight:600;min-width:50px}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]{margin:1rem 0;padding:.75rem;background:#8b5cf61a;border-radius:6px;border-left:3px solid #8b5cf6}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#8b5cf6;font-size:.9rem}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%]{margin:0;font-size:.85rem;line-height:1.4;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.5rem;background:#3b82f60d;border-radius:4px}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1;height:6px;-webkit-appearance:none;appearance:none;background:#e5e7eb;border-radius:3px;outline:none}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;border:none;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#3b82f6;min-width:35px}.weighted-results-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#fef7cd,#fbbf24 20%,#f59e0b);border:2px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#322002;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighting-note[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px;margin-bottom:1.5rem;border-left:4px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border:2px solid transparent}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#ecfdf5,#d1fae5)}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#10b981}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{background:#10b981;color:#fff;font-weight:700}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{padding:.3rem .8rem;border-radius:12px;background:var(--card-color, #3b82f6);color:#fff;font-size:.8rem;font-weight:600}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3rem 0;border-bottom:1px solid #e5e7eb;font-size:.85rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%]{flex:1;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;margin:0 .5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .contribution[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600;min-width:50px;text-align:right}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#322002}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(229,231,235,.5)}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .scenario[_ngcontent-%COMP%], .weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .benchmark[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-weight:600;color:#f59e0b;min-width:40px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]{width:100px;height:8px;background:#e5e7eb80;border-radius:4px;overflow:hidden}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]   .weight-fill[_ngcontent-%COMP%]{height:100%;background:#f59e0b;transition:width .3s ease}.disclaimer-points[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0}.disclaimer-points[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-left:3px solid #3b82f6;padding:.5rem 0 .5rem 1rem;margin:.5rem 0}.key-insight[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:8px;margin-top:1rem;border-left:4px solid #3b82f6;font-style:italic}.smart-weighting-tools[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#10b9811a;border-radius:8px;display:flex;align-items:center;gap:1rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#10b981;color:#fff;font-size:.9rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover{background:#0c8a60}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-help[_ngcontent-%COMP%]{color:#065f46;font-size:.875rem;font-style:italic}.weight-impact-analysis[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#8b5cf60d;border-radius:12px;border:1px solid rgba(139,92,246,.2)}.weight-impact-analysis[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:1.5rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;font-weight:600;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-low[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-medium[_ngcontent-%COMP%]{background:#f59e0b33;color:#92400e}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-high[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .scenarios-count[_ngcontent-%COMP%], .weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .benchmarks-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e5e7eb}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-improved[_ngcontent-%COMP%]{border-left:4px solid #10b981;background:#10b9810d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-declined[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;background:#f59e0b0d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .library-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:600;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.detailed-analysis[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto;gap:1rem;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .raw-score[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{padding:.5rem;background:#e5e7eb4d;border-radius:6px;text-align:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{background:rgba(var(--card-color),.1);font-weight:600}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.5rem;border-radius:6px;font-weight:600;min-width:80px}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.positive-impact[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.negative-impact[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto auto;gap:1rem;padding:.75rem 0;border-bottom:1px solid #e5e7eb;align-items:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child, .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937;margin-bottom:.25rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-style:italic}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]{display:contents}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-size:.875rem;text-align:right}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-weight:600;color:var(--card-color)}']})};var ad=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Oi({type:i,selectors:[["app-realistic-comparison"]],decls:1,vars:0,template:function(t,n){t&1&&mt(0,"app-benchmark-orchestrator")},dependencies:[vi,Sr],encapsulation:2})};export{ad as RealisticComparisonComponent};
