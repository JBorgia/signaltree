import{a as Z}from"./chunk-YLHGKEPH.js";import{c as $,d as W,i as U,k as q,r as J,s as K,t as Y,u as G,v as X,x as Q}from"./chunk-SQ32NL3S.js";import{Ab as y,Cb as c,Dc as I,Ib as H,Ja as s,Jb as z,Lb as r,Mb as h,Nb as g,Rb as T,Sb as D,Tb as V,Ya as P,ba as A,ha as u,ia as b,ib as m,jb as p,lb as E,mb as v,nb as w,ob as k,pb as o,qb as a,rb as B,sa as x,sb as f,tb as _,wc as j,yb as R}from"./chunk-HZTNVCQU.js";import{a as L,b as N,j as M}from"./chunk-A3ECCK3J.js";var ie=(n,t)=>t.name;function re(n,t){if(n&1&&(f(0,"div",4),r(1),_()),n&2){let e=c().$implicit,i=c(2);s(),h(i.getLibraryVersion(e))}}function oe(n,t){if(n&1&&(f(0,"th")(1,"div"),r(2),_(),m(3,re,2,1,"div",4),_()),n&2){let e=t.$implicit,i=c(2);H("color",i.getLibraryColorValue(e)),s(2),h(e),s(),p(i.getLibraryVersion(e)?3:-1)}}function ae(n,t){n&1&&(f(0,"span",7),r(1,"\u{1F947}"),_())}function le(n,t){n&1&&(f(0,"span",7),r(1,"\u{1F948}"),_())}function se(n,t){n&1&&(f(0,"span",7),r(1,"\u{1F949}"),_())}function ce(n,t){if(n&1&&(f(0,"span",10),r(1),_()),n&2){let e=c().$implicit,i=c().$implicit,l=c(2);s(),g(" ",l.getRelativePerformance(i,e),"x vs SignalTree ")}}function de(n,t){if(n&1&&(f(0,"span",11),r(1),_()),n&2){let e=c(2).$implicit;s(),g(" +",(e.marginOfVictory==null?null:e.marginOfVictory.toFixed(1))||"0","% faster ")}}function me(n,t){n&1&&(f(0,"span",12),r(1,"\u26A0 Unstable"),_())}function pe(n,t){if(n&1&&(f(0,"td"),m(1,ae,2,0,"span",7),m(2,le,2,0,"span",7),m(3,se,2,0,"span",7),f(4,"div",8)(5,"span",9),r(6),_(),m(7,ce,2,1,"span",10),m(8,de,2,1,"span",11),_(),m(9,me,2,0,"span",12),_()),n&2){let e=t.$implicit,i=c().$implicit,l=c(2);H("--cell-color",l.getLibraryColorValue(e)),z("winner",i.winner===e)("second",l.getLibraryRank(i,e)===2)("third",l.getLibraryRank(i,e)===3),s(),p(l.getLibraryRank(i,e)===1?1:-1),s(),p(l.getLibraryRank(i,e)===2?2:-1),s(),p(l.getLibraryRank(i,e)===3?3:-1),s(3),g(" ",l.formatOpsPerSec(l.getLibraryOps(i,e))," ops/s "),s(),p(e!==i.winner&&i.winner==="signaltree"?7:-1),s(),p(i.winner===e&&e!=="signaltree"?8:-1),s(),p(!i.reliable&&i.winner===e?9:-1)}}function ge(n,t){if(n&1&&(f(0,"tr")(1,"td",5)(2,"strong"),r(3),_()(),v(4,pe,10,15,"td",6,E),_()),n&2){let e=t.$implicit,i=c(2);s(3),h(e.name),s(),w(i.getUniqueLibraries())}}function ue(n,t){if(n&1&&(f(0,"table",1)(1,"thead")(2,"tr")(3,"th"),r(4,"Scenario"),_(),v(5,oe,4,4,"th",3,E),_()(),f(7,"tbody"),v(8,ge,6,1,"tr",null,ie),_()()),n&2){let e=c();s(5),w(e.getUniqueLibraries()),s(3),w(e.results)}}function be(n,t){n&1&&(f(0,"p",2),r(1,"No test results available"),_())}var F=class n{results=[];compact=!1;getUniqueLibraries(){if(!this.results||this.results.length===0)return[];let t=new Set;this.results.forEach(l=>{l.libraryResults&&Object.keys(l.libraryResults).forEach(d=>t.add(d))});let e=Array.from(t).sort(),i=e.indexOf("signaltree");return i>0&&(e.splice(i,1),e.unshift("signaltree")),e}getLibraryColorValue(t){return{signaltree:"#1976d2",ngrx:"#7b1fa2","ngrx-signals":"#0097a7",akita:"#ef6c00",elf:"#2e7d32",ngxs:"#6a1b9a"}[t.toLowerCase()]||"#757575"}getLibraryOps(t,e){return!t.libraryResults||!t.libraryResults[e]?0:t.libraryResults[e].opsPerSec||0}getLibraryRank(t,e){return t.libraryResults?Object.entries(t.libraryResults).map(([d,C])=>({name:d,ops:C.opsPerSec||0})).sort((d,C)=>C.ops-d.ops).findIndex(d=>d.name===e)+1:999}getRelativePerformance(t,e){if(!t.libraryResults||!t.libraryResults.signaltree||!t.libraryResults[e])return"N/A";let i=t.libraryResults.signaltree.opsPerSec,l=t.libraryResults[e].opsPerSec;return i===0?"N/A":(i/l).toFixed(2)}formatOpsPerSec(t){return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(0)}getLibraryVersion(t){if(!this.results||this.results.length===0)return null;let e=this.results[0];if(e.libraryVersions?.[t])return e.libraryVersions[t];for(let i of this.results)if(i.libraryResults[t]?.version)return i.libraryResults[t].version||null;return null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["app-benchmark-results-table"]],inputs:{results:"results",compact:"compact"},decls:3,vars:3,consts:[[1,"results-table-wrapper"],[1,"results-table"],[1,"no-data"],[3,"color"],[1,"version-badge"],[1,"scenario-name"],[3,"winner","second","third","--cell-color"],[1,"rank-badge"],[1,"cell-content"],[1,"ops-value"],[1,"relative"],[1,"relative","winner-margin"],[1,"unreliable-badge"]],template:function(e,i){e&1&&(f(0,"div",0),m(1,ue,10,0,"table",1)(2,be,2,0,"p",2),_()),e&2&&(z("compact",i.compact),s(),p(i.results.length>0?1:2))},dependencies:[I],styles:[".results-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;border:1px solid var(--border, #e0e0e0)}.results-table-wrapper.compact[_ngcontent-%COMP%]{font-size:.8125rem}.results-table-wrapper.compact[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .results-table-wrapper.compact[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.625rem .75rem}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--background-secondary, #f5f5f5);position:sticky;top:0;z-index:5}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:center;font-size:.875rem;font-weight:600;white-space:nowrap;border-bottom:2px solid var(--border, #e0e0e0)}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left;position:sticky;left:0;background:var(--background-secondary, #f5f5f5);z-index:6}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .version-badge[_ngcontent-%COMP%]{display:inline-block;margin-top:.25rem;padding:.125rem .5rem;background:#0000000d;color:var(--text-secondary, #757575);border-radius:4px;font-size:.7rem;font-weight:500;font-family:Courier New,monospace}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--border, #e0e0e0)}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00000005}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:center;vertical-align:middle}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]{text-align:left;font-weight:500;color:var(--text, #212121);position:sticky;left:0;background:var(--card-background, #ffffff);z-index:1;min-width:200px}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary, #757575);display:block}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70026,#ffd7000d);border-left:3px solid #ffd700;font-weight:600}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.second[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c0c0c01f,#c0c0c008)}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.third[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cd7f321f,#cd7f3208)}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{display:inline-block;font-size:1.25rem;margin-bottom:.25rem}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:center}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .ops-value[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;font-size:.9375rem;color:var(--cell-color, var(--text, #212121))}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #757575);font-weight:500}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .relative.winner-margin[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .unreliable-badge[_ngcontent-%COMP%]{display:inline-block;margin-top:.25rem;padding:.125rem .5rem;background:#fff3e0;color:#ef6c00;border-radius:8px;font-size:.7rem;font-weight:600}.no-data[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-secondary, #757575);font-style:italic}@media (max-width: 768px){.results-table[_ngcontent-%COMP%]{font-size:.75rem}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.results-table[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{font-size:1rem!important}.results-table[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]   .ops-value[_ngcontent-%COMP%]{font-size:.8125rem!important}}"]})};var _e=(n,t)=>t.createdAt,he=(n,t)=>t.name;function fe(n,t){n&1&&(o(0,"div",3),B(1,"div",10),o(2,"p"),r(3,"Loading benchmark history..."),a()())}function ye(n,t){if(n&1){let e=R();o(0,"div",4)(1,"span",11),r(2,"\u26A0\uFE0F"),a(),r(3),o(4,"button",12),y("click",function(){u(e);let l=c();return b(l.loadBenchmarks())}),r(5,"Retry"),a()()}if(n&2){let e=c();s(3),g(" ",e.error()," ")}}function xe(n,t){if(n&1&&(o(0,"option",18),r(1),a()),n&2){let e=t.$implicit;k("value",e),s(),g(" ",e," ")}}function Ce(n,t){if(n&1&&(o(0,"option",18),r(1),a()),n&2){let e=t.$implicit;k("value",e),s(),g(" ",e," ")}}function ke(n,t){if(n&1){let e=R();o(0,"div",5)(1,"div",13)(2,"div",14)(3,"label",15),r(4,"Library Winner:"),a(),o(5,"select",16),V("ngModelChange",function(l){u(e);let d=c();return D(d.selectedLibrary,l)||(d.selectedLibrary=l),b(l)}),y("change",function(l){u(e);let d=c();return b(d.selectedLibrary.set(l.target.value))}),o(6,"option",17),r(7,"All Libraries"),a(),v(8,xe,2,2,"option",18,E),a()(),o(10,"div",14)(11,"label",19),r(12,"Machine Type:"),a(),o(13,"select",20),V("ngModelChange",function(l){u(e);let d=c();return D(d.selectedMachineType,l)||(d.selectedMachineType=l),b(l)}),y("change",function(l){u(e);let d=c();return b(d.selectedMachineType.set(l.target.value))}),o(14,"option",17),r(15,"All Machines"),a(),v(16,Ce,2,2,"option",18,E),a()(),o(18,"div",14)(19,"label",21),r(20,"Min Reliability:"),a(),o(21,"input",22),V("ngModelChange",function(l){u(e);let d=c();return D(d.minReliability,l)||(d.minReliability=l),b(l)}),y("change",function(l){u(e);let d=c();return d.minReliability.set(l.target.value),b(d.loadBenchmarks())}),a()()(),o(22,"div",23)(23,"button",12),y("click",function(){u(e);let l=c();return b(l.exportResults())}),r(24," \u{1F4E5} Export JSON "),a(),o(25,"button",12),y("click",function(){u(e);let l=c();return b(l.exportCSV())}),r(26,"\u{1F4CA} Export CSV"),a(),o(27,"button",24),y("click",function(){u(e);let l=c();return b(l.loadBenchmarks())}),r(28,"\u{1F504} Refresh"),a()()()}if(n&2){let e=c();s(5),T("ngModel",e.selectedLibrary),s(3),w(e.uniqueLibraries),s(5),T("ngModel",e.selectedMachineType),s(3),w(e.uniqueMachineTypes),s(5),T("ngModel",e.minReliability)}}function ve(n,t){if(n&1&&(o(0,"div",6)(1,"p"),r(2," Showing "),o(3,"strong"),r(4),a(),r(5," of "),o(6,"strong"),r(7),a(),r(8," benchmarks "),a()()),n&2){let e=c();s(4),h(e.filteredBenchmarks.length),s(3),h(e.benchmarks().length)}}function we(n,t){if(n&1){let e=R();o(0,"tr",27)(1,"td",28),r(2),a(),o(3,"td")(4,"span",29),r(5),a()(),o(6,"td",30),r(7),a(),o(8,"td")(9,"span",31),r(10),a()(),o(11,"td",32),r(12),a(),o(13,"td",33),r(14),a(),o(15,"td",34),r(16),a(),o(17,"td",23)(18,"button",35),y("click",function(){let l=u(e).$implicit,d=c(2);return b(d.viewDetails(l))}),r(19," View Details "),a()()()}if(n&2){let e=t.$implicit,i=c(2);s(2),h(i.formatDate(e.createdAt)),s(2),k("ngClass",i.getLibraryColor(e.summary.winnerLibrary)),s(),g(" ",e.summary.winnerLibrary," "),s(2),g(" ",e.summary.winnerScore.toFixed(1)," pts "),s(2),k("ngClass",i.getReliabilityColor(e.summary.reliabilityScore)),s(),g(" ",e.summary.reliabilityScore,"% "),s(2),h(e.summary.machineType),s(2),h(e.summary.totalTests),s(2),g(" ",i.formatDuration(e.summary.duration)," ")}}function Se(n,t){if(n&1){let e=R();o(0,"div",7)(1,"table",25)(2,"thead")(3,"tr")(4,"th",26),y("click",function(){u(e);let l=c();return b(l.toggleSort("date"))}),r(5),a(),o(6,"th"),r(7,"Winner"),a(),o(8,"th",26),y("click",function(){u(e);let l=c();return b(l.toggleSort("score"))}),r(9),a(),o(10,"th",26),y("click",function(){u(e);let l=c();return b(l.toggleSort("reliability"))}),r(11),a(),o(12,"th"),r(13,"Machine Type"),a(),o(14,"th"),r(15,"Tests"),a(),o(16,"th"),r(17,"Duration"),a(),o(18,"th"),r(19,"Actions"),a()()(),o(20,"tbody"),v(21,we,20,9,"tr",27,_e),a()()()}if(n&2){let e=c();s(5),g(" Date ",e.getSortIcon("date")," "),s(4),g(" Score ",e.getSortIcon("score")," "),s(2),g(" Reliability ",e.getSortIcon("reliability")," "),s(10),w(e.filteredBenchmarks)}}function Me(n,t){n&1&&(o(0,"p"),r(1," No benchmark results have been submitted yet. Run the "),o(2,"a",37),r(3,"realistic comparison benchmarks"),a(),r(4," to contribute! "),a())}function Ee(n,t){n&1&&(o(0,"p"),r(1," No benchmarks match your current filters. Try adjusting your filter criteria. "),a())}function Re(n,t){if(n&1&&(o(0,"div",8)(1,"div",36),r(2,"\u{1F4CA}"),a(),o(3,"h3"),r(4,"No Benchmarks Found"),a(),m(5,Me,5,0,"p"),m(6,Ee,2,0,"p"),a()),n&2){let e=c();s(5),p(e.benchmarks().length===0?5:-1),s(),p(e.benchmarks().length>0?6:-1)}}function Oe(n,t){if(n&1&&(o(0,"section",43)(1,"h3"),r(2,"\u{1F4CA} Summary"),a(),o(3,"div",46)(4,"div",47)(5,"span",48),r(6,"Date"),a(),o(7,"span",49),r(8),a()(),o(9,"div",47)(10,"span",48),r(11,"Winner"),a(),o(12,"span",49)(13,"span",29),r(14),a()()(),o(15,"div",47)(16,"span",48),r(17,"Score"),a(),o(18,"span",50),r(19),a()(),o(20,"div",47)(21,"span",48),r(22,"Reliability"),a(),o(23,"span",49)(24,"span",31),r(25),a()()(),o(26,"div",47)(27,"span",48),r(28,"Machine Type"),a(),o(29,"span",49),r(30),a()(),o(31,"div",47)(32,"span",48),r(33,"Total Tests"),a(),o(34,"span",49),r(35),a()(),o(36,"div",47)(37,"span",48),r(38,"Duration"),a(),o(39,"span",49),r(40),a()()()()),n&2){let e=t,i=c(2);s(8),h(i.formatDate(e.createdAt)),s(5),k("ngClass",i.getLibraryColor(e.summary.winnerLibrary)),s(),g(" ",e.summary.winnerLibrary," "),s(5),g(" ",e.summary.winnerScore.toFixed(2)," pts "),s(5),k("ngClass",i.getReliabilityColor(e.summary.reliabilityScore)),s(),g(" ",e.summary.reliabilityScore,"% "),s(5),h(e.summary.machineType),s(5),h(e.summary.totalTests),s(5),g(" ",i.formatDuration(e.summary.duration)," ")}}function Pe(n,t){n&1&&(o(0,"div",44),B(1,"div",10),o(2,"p"),r(3,"Loading detailed results..."),a()())}function Be(n,t){if(n&1&&(o(0,"div",45)(1,"span",11),r(2,"\u26A0\uFE0F"),a(),o(3,"span"),r(4),a()()),n&2){let e=c(2);s(4),h(e.detailsError())}}function Te(n,t){if(n&1&&(o(0,"div",47)(1,"span",48),r(2,"Browser"),a(),o(3,"span",49),r(4),a()()),n&2){let e=c(2);s(4),h(e.machineInfo.browser)}}function De(n,t){if(n&1&&(o(0,"div",47)(1,"span",48),r(2,"Operating System"),a(),o(3,"span",49),r(4),a()()),n&2){let e=c(2);s(4),h(e.machineInfo.os)}}function Ve(n,t){if(n&1&&(o(0,"div",47)(1,"span",48),r(2,"CPU Cores"),a(),o(3,"span",49),r(4),a()()),n&2){let e=c(2);s(4),h(e.machineInfo.cpuCores)}}function Ie(n,t){if(n&1&&(o(0,"div",47)(1,"span",48),r(2,"Memory"),a(),o(3,"span",49),r(4),a()()),n&2){let e=c(2);s(4),h(e.machineInfo.memory)}}function Fe(n,t){if(n&1&&(o(0,"div",51)(1,"span",48),r(2,"User Agent"),a(),o(3,"span",52),r(4),a()()),n&2){let e=c(2);s(4),h(e.machineInfo.userAgent)}}function Le(n,t){if(n&1&&(o(0,"section",43)(1,"h3"),r(2,"\u{1F4BB} Environment"),a(),o(3,"div",46),m(4,Te,5,1,"div",47),m(5,De,5,1,"div",47),m(6,Ve,5,1,"div",47),m(7,Ie,5,1,"div",47),m(8,Fe,5,1,"div",51),a()()),n&2){let e=c();s(4),p(e.machineInfo.browser?4:-1),s(),p(e.machineInfo.os?5:-1),s(),p(e.machineInfo.cpuCores?6:-1),s(),p(e.machineInfo.memory?7:-1),s(),p(e.machineInfo.userAgent?8:-1)}}function He(n,t){if(n&1&&(o(0,"section",43)(1,"h3"),r(2,"\u{1F3C6} Test Results"),a(),B(3,"app-benchmark-results-table",53),a()),n&2){let e=c();s(3),k("results",e.transformedResults)}}function ze(n,t){if(n&1&&(o(0,"span",57),r(1),a()),n&2){let e=c().$implicit,i=c(4);s(),h(i.getLibraryVersion(e.name))}}function Ne(n,t){n&1&&(o(0,"span",58),r(1,"\u{1F3C6} Winner"),a())}function Ae(n,t){if(n&1&&(o(0,"div",55)(1,"div",56)(2,"span",29),r(3),m(4,ze,2,1,"span",57),a(),m(5,Ne,2,0,"span",58),a(),o(6,"div",59),r(7),a(),o(8,"div",60)(9,"span",61),r(10),a(),o(11,"span",61),r(12),a()()()),n&2){let e=t.$implicit,i=c(4);k("ngClass",e.rank===1?"winner":""),s(2),k("ngClass",i.getLibraryColor(e.name)),s(),g(" ",e.name," "),s(),p(i.getLibraryVersion(e.name)?4:-1),s(),p(e.rank===1?5:-1),s(2),g("",e.weightedScore.toFixed(2)," pts"),s(3),g(" Rank #",e.rank," "),s(2),g(" Raw: ",e.rawScore.toFixed(2)," ")}}function je(n,t){if(n&1&&(o(0,"section",43)(1,"h3"),r(2,"\u{1F4C8} Library Scores"),a(),o(3,"div",54),v(4,Ae,13,8,"div",55,he),a()()),n&2){let e=c(),i=c(2);s(4),w(i.getWeightedResultsArray(e.weightedResults.libraries))}}function $e(n,t){if(n&1&&(m(0,Le,9,5,"section",43),m(1,He,4,1,"section",43),m(2,je,6,0,"section",43)),n&2){let e=t;p(e.machineInfo?0:-1),s(),p(e.transformedResults&&e.transformedResults.length>0?1:-1),s(),p(e.weightedResults!=null&&e.weightedResults.libraries?2:-1)}}function We(n,t){if(n&1){let e=R();o(0,"div",38),y("click",function(){u(e);let l=c();return b(l.closeDetails())})("keydown.escape",function(){u(e);let l=c();return b(l.closeDetails())}),o(1,"div",39),y("click",function(l){return u(e),b(l.stopPropagation())})("keydown",function(l){return u(e),b(l.stopPropagation())}),o(2,"div",40)(3,"h2"),r(4,"Benchmark Details"),a(),o(5,"button",41),y("click",function(){u(e);let l=c();return b(l.closeDetails())}),r(6,"\xD7"),a()(),o(7,"div",42),m(8,Oe,41,9,"section",43),m(9,Pe,4,0,"div",44),m(10,Be,5,1,"div",45),m(11,$e,3,3),a()()()}if(n&2){let e,i,l=c();s(8),p((e=l.selectedBenchmark())?8:-1,e),s(),p(l.detailsLoading()?9:-1),s(),p(l.detailsError()?10:-1),s(),p((i=l.selectedBenchmarkFull())?11:-1,i)}}var ee=class n{benchmarkService=A(Z);benchmarks=x([]);loading=x(!0);error=x("");detailsOpen=x(!1);detailsLoading=x(!1);detailsError=x("");selectedBenchmark=x(null);selectedBenchmarkFull=x(null);selectedLibrary=x("all");selectedMachineType=x("all");minReliability=x(0);sortBy=x("date");sortDirection=x("desc");ngOnInit(){return M(this,null,function*(){yield this.loadBenchmarks()})}loadBenchmarks(){return M(this,null,function*(){this.loading.set(!0),this.error.set("");try{let t=yield this.benchmarkService.getBenchmarkHistory({limit:100,minReliability:this.minReliability()>0?this.minReliability():void 0});t.success?this.benchmarks.set(t.benchmarks):this.error.set("Failed to load benchmark history.")}catch{this.error.set("Failed to load benchmark history. Please try again later.")}finally{this.loading.set(!1)}})}get filteredBenchmarks(){let t=this.benchmarks();return this.selectedLibrary()!=="all"&&(t=t.filter(e=>e.summary.winnerLibrary===this.selectedLibrary())),this.selectedMachineType()!=="all"&&(t=t.filter(e=>e.summary.machineType===this.selectedMachineType())),t.sort((e,i)=>{let l=0;switch(this.sortBy()){case"date":l=new Date(i.createdAt).getTime()-new Date(e.createdAt).getTime();break;case"score":l=i.summary.winnerScore-e.summary.winnerScore;break;case"reliability":l=i.summary.reliabilityScore-e.summary.reliabilityScore;break}return this.sortDirection()==="asc"?-l:l}),t}get uniqueLibraries(){let t=new Set(this.benchmarks().map(e=>e.summary.winnerLibrary));return Array.from(t).sort()}get uniqueMachineTypes(){let t=new Set(this.benchmarks().map(e=>e.summary.machineType));return Array.from(t).sort()}toggleSort(t){this.sortBy()===t?this.sortDirection.set(this.sortDirection()==="asc"?"desc":"asc"):(this.sortBy.set(t),this.sortDirection.set("desc"))}getSortIcon(t){return this.sortBy()!==t?"\u2195\uFE0F":this.sortDirection()==="asc"?"\u2191":"\u2193"}formatDate(t){return new Date(t).toLocaleString()}formatDuration(t){if(t<60)return`${t.toFixed(1)}s`;let e=Math.floor(t/60),i=t%60;return`${e}m ${i.toFixed(0)}s`}getReliabilityColor(t){return t>=90?"excellent":t>=75?"good":t>=60?"fair":"poor"}getLibraryColor(t){return{signaltree:"primary",ngrx:"secondary","ngrx-signals":"info",akita:"warning",elf:"success",ngxs:"purple"}[t.toLowerCase()]||"default"}exportResults(){return M(this,null,function*(){let t=this.filteredBenchmarks,e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(e),l=document.createElement("a");l.href=i,l.download=`signaltree-benchmark-history-${new Date().toISOString()}.json`,l.click(),URL.revokeObjectURL(i)})}exportCSV(){return M(this,null,function*(){let t=this.filteredBenchmarks;this.benchmarkService.exportAsCSV(t)})}viewDetails(t){return M(this,null,function*(){if(this.selectedBenchmark.set(t),this.detailsOpen.set(!0),this.selectedBenchmarkFull.set(null),t.fullData){this.selectedBenchmarkFull.set(this.transformResults(t.fullData));return}this.detailsLoading.set(!0),this.detailsError.set("");try{let e=yield this.benchmarkService.getBenchmarkDetails(t.id);if(e.success&&e.data){let i=this.transformResults(e.data);t.fullData=e.data,this.selectedBenchmarkFull.set(i)}else this.detailsError.set("Failed to load benchmark details"),this.selectedBenchmarkFull.set(null)}catch{this.detailsError.set("Failed to load benchmark details"),this.selectedBenchmarkFull.set(null)}finally{this.detailsLoading.set(!1)}})}transformResults(t){let e=new Map;Object.entries(t.results.libraries).forEach(([l,d])=>{Object.entries(d.scenarios).forEach(([C,S])=>{e.has(C)||e.set(C,{name:S.scenarioName,winner:"",marginOfVictory:0,reliable:!0,libraryResults:{}});let O=e.get(C);O.libraryResults[l]={opsPerSec:S.opsPerSec,time:S.median,version:d.version||t.results.libraryVersions?.[l]||void 0},O.libraryVersions||(O.libraryVersions={}),O.libraryVersions[l]=d.version||t.results.libraryVersions?.[l]||"unknown"})});let i=Array.from(e.values()).map(l=>{let d=Object.entries(l.libraryResults);if(d.sort((C,S)=>S[1].opsPerSec-C[1].opsPerSec),d.length>0&&(l.winner=d[0][0],d.length>1)){let C=d[0][1].opsPerSec,S=d[1][1].opsPerSec;l.marginOfVictory=(C-S)/S*100}return l});return N(L({},t),{transformedResults:i})}closeDetails(){this.detailsOpen.set(!1),this.selectedBenchmark.set(null),this.selectedBenchmarkFull.set(null),this.detailsError.set("")}formatOpsPerSec(t){return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(0)}getMarginClass(t){return t>=50?"high":t>=20?"medium":"low"}getWeightedResultsArray(t){return Object.entries(t).map(([e,i])=>L({name:e},i)).sort((e,i)=>e.rank-i.rank)}getLibraryVersion(t){let e=this.selectedBenchmarkFull();if(!e)return null;if(e.results.libraryVersions){let d={SignalTree:"signaltree","NgRx Store":"ngrx-store","NgRx Signals":"ngrx-signals",Akita:"akita",Elf:"elf",NGXS:"ngxs"}[t]||t.toLowerCase();return e.results.libraryVersions[d]||null}let i=Object.entries(e.results.libraries).find(([,l])=>l.name===t);return i&&i[1].version?i[1].version:null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["app-realistic-benchmark-history"]],decls:13,vars:7,consts:[[1,"history-container"],[1,"header"],[1,"subtitle"],[1,"loading"],[1,"error-banner"],[1,"controls"],[1,"results-info"],[1,"table-container"],[1,"empty-state"],["role","dialog","aria-modal","true","tabindex","0",1,"details-modal-backdrop"],[1,"spinner"],[1,"error-icon"],[1,"btn","secondary",3,"click"],[1,"filters"],[1,"filter-group"],["for","library-winner-select"],["id","library-winner-select",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value"],["for","machine-type-select"],["id","machine-type-select",3,"ngModelChange","change","ngModel"],["for","min-reliability-input"],["id","min-reliability-input","type","number","min","0","max","100","placeholder","0-100",3,"ngModelChange","change","ngModel"],[1,"actions"],[1,"btn","primary",3,"click"],[1,"benchmarks-table"],[1,"sortable",3,"click"],[1,"benchmark-row"],[1,"date"],[1,"library-badge",3,"ngClass"],[1,"score"],[1,"reliability-badge",3,"ngClass"],[1,"machine-type"],[1,"tests"],[1,"duration"],[1,"btn-small","primary",3,"click"],[1,"empty-icon"],["routerLink","/benchmarks"],["role","dialog","aria-modal","true","tabindex","0",1,"details-modal-backdrop",3,"click","keydown.escape"],["role","document",1,"details-modal",3,"click","keydown"],[1,"modal-header"],["title","Close",1,"close-btn",3,"click"],[1,"modal-body"],[1,"details-section"],[1,"details-loading"],[1,"details-error"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","score-highlight"],[1,"detail-item","full-width"],[1,"detail-value","user-agent"],[3,"results"],[1,"scores-grid"],[1,"score-card",3,"ngClass"],[1,"score-header"],[1,"version-badge-small"],[1,"winner-badge"],[1,"score-value"],[1,"score-details"],[1,"score-stat"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),r(3,"\u{1F4CA} Benchmark History"),a(),o(4,"p",2),r(5," Historical results from realistic comparison benchmarks across different machines "),a()(),m(6,fe,4,0,"div",3),m(7,ye,6,1,"div",4),m(8,ke,29,3,"div",5),m(9,ve,9,2,"div",6),m(10,Se,23,3,"div",7),m(11,Re,7,2,"div",8),a(),m(12,We,12,4,"div",9)),e&2&&(s(6),p(i.loading()?6:-1),s(),p(i.error()?7:-1),s(),p(!i.loading()&&!i.error()?8:-1),s(),p(!i.loading()&&!i.error()?9:-1),s(),p(!i.loading()&&!i.error()&&i.filteredBenchmarks.length>0?10:-1),s(),p(!i.loading()&&!i.error()&&i.filteredBenchmarks.length===0?11:-1),s(),p(i.detailsOpen()?12:-1))},dependencies:[I,j,Q,K,Y,$,q,J,W,X,G,U,F],styles:[`.details-modal-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:2rem;overflow-y:auto}.details-modal{background:#f5f5f5;color:#212121;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:1200px;width:100%;max-height:90vh;display:flex;flex-direction:column;animation:slideUp .3s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.details-modal .modal-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid #e0e0e0;position:sticky;top:0;background:#f5f5f5;border-radius:16px 16px 0 0;z-index:10}.details-modal .modal-header h2{margin:0;font-size:1.5rem;color:#212121}.details-modal .modal-header .close-btn{width:36px;height:36px;min-width:36px;min-height:36px;border-radius:50%;border:none;background:transparent;color:#757575;font-size:1.5rem;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;padding:0}.details-modal .modal-header .close-btn:hover{background:#00000014;color:#212121}.details-modal .modal-body{padding:2rem;overflow-y:auto;flex:1}.details-modal .details-section{margin-bottom:2rem}.details-modal .details-section:last-child{margin-bottom:0}.details-modal .details-section h3{font-size:1.125rem;margin-bottom:1rem;color:#212121;border-bottom:2px solid #e0e0e0;padding-bottom:.5rem}.details-modal .details-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.details-modal .details-grid .detail-item{display:flex;flex-direction:column;gap:.25rem}.details-modal .details-grid .detail-item.full-width{grid-column:1/-1}.details-modal .details-grid .detail-item .detail-label{font-size:.875rem;color:#757575;font-weight:500}.details-modal .details-grid .detail-item .detail-value{font-size:1rem;color:#212121;font-weight:400}.details-modal .details-grid .detail-item .detail-value.score-highlight{font-size:1.25rem;font-weight:700;color:#1976d2}.details-modal .details-grid .detail-item .detail-value.user-agent{font-size:.8125rem;word-break:break-all;font-family:Courier New,monospace;background:#f5f5f5;padding:.5rem;border-radius:4px}.details-modal .scores-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.details-modal .scores-grid .score-card{background:#fff;border-radius:8px;padding:1rem;border:2px solid #e0e0e0;transition:all .2s}.details-modal .scores-grid .score-card.winner{border-color:gold;background:linear-gradient(135deg,#ffd70026,#ffd7000d)}.details-modal .scores-grid .score-card .score-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.details-modal .scores-grid .score-card .score-header .library-badge{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.details-modal .scores-grid .score-card .score-header .version-badge-small{display:inline-block;padding:.125rem .375rem;background:#00000014;color:var(--text-secondary, #757575);border-radius:4px;font-size:.65rem;font-weight:500;font-family:Courier New,monospace;margin-left:.25rem}.details-modal .scores-grid .score-card .score-header .winner-badge{font-size:.875rem;color:gold;font-weight:600}.details-modal .scores-grid .score-card .score-value{font-size:1.5rem;font-weight:700;color:#1976d2;margin-bottom:.5rem}.details-modal .scores-grid .score-card .score-details{display:flex;gap:1rem;font-size:.875rem;color:#757575}.details-modal .scores-grid .score-card .score-details .score-stat{display:flex;align-items:center;gap:.25rem}.details-modal .details-loading,.details-modal .details-error{padding:2rem;text-align:center;color:#757575;display:flex;flex-direction:column;align-items:center;gap:1rem}.details-modal .details-loading .spinner,.details-modal .details-error .spinner{width:40px;height:40px;border:4px solid #e0e0e0;border-top-color:#1976d2;border-radius:50%;animation:spin 1s linear infinite}.details-modal .details-loading .error-icon,.details-modal .details-error .error-icon{font-size:2rem}.history-container{margin:0 auto;padding:2rem}.history-container .details-meta{display:grid;grid-template-columns:1fr 1fr;gap:.5rem 2rem;margin-bottom:1.5rem;font-size:1rem}.history-container .details-loading{display:flex;align-items:center;gap:1rem;margin:1.5rem 0}.history-container .details-error{color:#d32f2f;background:#fee;border:1px solid #fcc;border-radius:6px;padding:.75rem 1rem;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.history-container .details-json{background:var(--background-secondary);color:var(--text-secondary);border-radius:6px;padding:1rem;font-size:.95rem;max-height:300px;overflow:auto;margin-bottom:1rem}.history-container .header{text-align:center;margin-bottom:2rem}.history-container .header h1{font-size:2.5rem;margin-bottom:.5rem;color:var(--primary)}.history-container .header .subtitle{font-size:1.1rem;color:var(--text-secondary)}.history-container .loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 0;gap:1rem}.history-container .loading .spinner{width:50px;height:50px;border:4px solid rgba(0,0,0,.1);border-left-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.history-container .error-banner{background:#fee;border:1px solid #fcc;border-radius:8px;padding:1rem;margin-bottom:1rem;display:flex;align-items:center;gap:1rem}.history-container .error-banner .error-icon{font-size:1.5rem}.history-container .error-banner button{margin-left:auto}.history-container .controls{display:flex;justify-content:space-between;align-items:flex-end;gap:2rem;margin-bottom:1.5rem;padding:1rem;background:var(--card-background);border-radius:8px;box-shadow:var(--card-shadow)}.history-container .controls .filters{display:flex;gap:1.5rem;flex-wrap:wrap;flex:1}.history-container .controls .filters .filter-group{display:flex;flex-direction:column;gap:.5rem}.history-container .controls .filters .filter-group label{font-size:.875rem;font-weight:600;color:var(--text-secondary)}.history-container .controls .filters .filter-group select,.history-container .controls .filters .filter-group input{padding:.5rem;border:1px solid var(--border);border-radius:4px;background:var(--background);color:var(--text);font-size:.875rem;min-width:150px}.history-container .controls .filters .filter-group select:focus,.history-container .controls .filters .filter-group input:focus{outline:none;border-color:var(--primary)}.history-container .controls .actions{display:flex;gap:.5rem}.history-container .results-info{margin-bottom:1rem;color:var(--text-secondary);font-size:.9rem}.history-container .table-container{background:var(--card-background);border-radius:8px;box-shadow:var(--card-shadow);overflow-x:auto}.history-container .table-container .benchmarks-table{width:100%;border-collapse:collapse}.history-container .table-container .benchmarks-table thead{background:var(--background-secondary);border-bottom:2px solid var(--border)}.history-container .table-container .benchmarks-table thead th{padding:1rem;text-align:left;font-weight:600;color:var(--text);white-space:nowrap}.history-container .table-container .benchmarks-table thead th.sortable{cursor:pointer;-webkit-user-select:none;user-select:none}.history-container .table-container .benchmarks-table thead th.sortable:hover{background:#0000000d}.history-container .table-container .benchmarks-table tbody .benchmark-row{border-bottom:1px solid var(--border);transition:background .2s}.history-container .table-container .benchmarks-table tbody .benchmark-row:hover{background:#00000005}.history-container .table-container .benchmarks-table tbody .benchmark-row td{padding:.875rem 1rem;vertical-align:middle}.history-container .table-container .benchmarks-table tbody .benchmark-row td.date{font-size:.875rem;color:var(--text-secondary)}.history-container .table-container .benchmarks-table tbody .benchmark-row td.score,.history-container .table-container .benchmarks-table tbody .benchmark-row td.tests,.history-container .table-container .benchmarks-table tbody .benchmark-row td.duration{font-weight:500}.history-container .table-container .benchmarks-table tbody .benchmark-row td.machine-type{font-size:.875rem;color:var(--text-secondary)}.history-container .table-container .benchmarks-table tbody .benchmark-row td.actions{text-align:right}.history-container .library-badge{display:inline-block;padding:.25rem .75rem;border-radius:12px;font-size:.875rem;font-weight:600;text-transform:capitalize}.history-container .library-badge.primary{background:#e3f2fd;color:#1976d2}.history-container .library-badge.secondary{background:#f3e5f5;color:#7b1fa2}.history-container .library-badge.info{background:#e0f7fa;color:#0097a7}.history-container .library-badge.warning{background:#fff3e0;color:#f57c00}.history-container .library-badge.success{background:#e8f5e9;color:#388e3c}.history-container .library-badge.purple{background:#f3e5f5;color:#9c27b0}.history-container .library-badge.default{background:#f5f5f5;color:#616161}.history-container .reliability-badge{display:inline-block;padding:.25rem .75rem;border-radius:12px;font-size:.875rem;font-weight:600}.history-container .reliability-badge.excellent{background:#e8f5e9;color:#2e7d32}.history-container .reliability-badge.good{background:#e3f2fd;color:#1565c0}.history-container .reliability-badge.fair{background:#fff3e0;color:#ef6c00}.history-container .reliability-badge.poor{background:#ffebee;color:#c62828}.history-container .btn,.history-container .btn-small{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s}.history-container .btn.primary,.history-container .btn-small.primary{background:var(--primary);color:#fff}.history-container .btn.primary:hover,.history-container .btn-small.primary:hover{background:var(--primary-dark)}.history-container .btn.secondary,.history-container .btn-small.secondary{background:var(--secondary);color:#fff}.history-container .btn.secondary:hover,.history-container .btn-small.secondary:hover{background:var(--secondary-dark)}.history-container .btn-small{padding:.375rem .75rem;font-size:.8125rem}.history-container .empty-state{text-align:center;padding:4rem 2rem}.history-container .empty-state .empty-icon{font-size:4rem;margin-bottom:1rem;opacity:.5}.history-container .empty-state h3{font-size:1.5rem;margin-bottom:.5rem;color:var(--text)}.history-container .empty-state p{color:var(--text-secondary);max-width:500px;margin:0 auto;line-height:1.6}.history-container .empty-state p a{color:var(--primary);text-decoration:none;font-weight:600}.history-container .empty-state p a:hover{text-decoration:underline}.history-container{--primary: #1976d2;--primary-dark: #1565c0;--secondary: #7b1fa2;--secondary-dark: #6a1b9a;--background: #ffffff;--background-secondary: #f5f5f5;--card-background: #ffffff;--border: #e0e0e0;--text: #212121;--text-secondary: #757575;--card-shadow: 0 2px 8px rgba(0, 0, 0, .1)}
`],encapsulation:2})};export{ee as RealisticBenchmarkHistoryComponent};
