import{e as Bi,f as da,g as Yr}from"./chunk-CWHCZB47.js";import{a as la}from"./chunk-IS3XMQXG.js";import{b as w,c as dt,e as ua}from"./chunk-HMG7HNK7.js";import{a as Jo,b as Zo,c as ea,f as ta,h as na,j as ia,k as ra,l as sa,m as oa,n as aa,o as ca}from"./chunk-UWEITHFZ.js";import{a as X,b as Ye,c as xt,d as qr,e as Kr,f as Ri,g as en,h as yn,i as Yn,k as Di}from"./chunk-X4J5B7J5.js";import{$ as se,A as Vo,Bb as He,Cb as Te,Db as Hr,E as at,Eb as b,F as jo,Fa as P,Fb as U,G as bn,Gb as W,Hb as lt,L as Wo,Mb as $r,Ob as be,Pb as Kn,Q as Ei,Qb as Ae,S as Vr,Ua as Ai,Ub as _n,Vb as L,W as Ne,Wb as Zt,Ya as z,Z as ct,_ as Ct,ba as jr,c as Uo,cb as Qt,d as pn,fa as ce,g as ye,ga as le,h as We,ha as Ft,i as Si,ia as Ti,ja as qn,jb as R,k as $n,kb as p,kc as Yo,l as tt,lb as g,lc as Go,m as Nr,mb as pe,n as zr,nc as Xo,p as wi,pa as Wr,pc as Qo,qa as fe,qc as Ii,r as Le,rb as Jt,t as ki,ta as Ho,tb as Y,vb as F,xb as $o,y as Ur,yb as qo,z as Mt,zb as Ko}from"./chunk-RPO4BTFL.js";import{a as x,b as O,c as zo,d as vi,h as ot,j as v}from"./chunk-A3ECCK3J.js";function Qn(i){return i+.5|0}var Lt=(i,t,e)=>Math.max(Math.min(i,e),t);function Gn(i){return Lt(Qn(i*2.55),0,255)}function Nt(i){return Lt(Qn(i*255),0,255)}function Pt(i){return Lt(Qn(i/2.55)/100,0,1)}function ha(i){return Lt(Qn(i*100),0,100)}var Ge={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xr=[..."0123456789ABCDEF"],Cd=i=>Xr[i&15],xd=i=>Xr[(i&240)>>4]+Xr[i&15],Fi=i=>(i&240)>>4===(i&15),Pd=i=>Fi(i.r)&&Fi(i.g)&&Fi(i.b)&&Fi(i.a);function Od(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Ge[i[1]]*17,g:255&Ge[i[2]]*17,b:255&Ge[i[3]]*17,a:t===5?Ge[i[4]]*17:255}:(t===7||t===9)&&(e={r:Ge[i[1]]<<4|Ge[i[2]],g:Ge[i[3]]<<4|Ge[i[4]],b:Ge[i[5]]<<4|Ge[i[6]],a:t===9?Ge[i[7]]<<4|Ge[i[8]]:255})),e}var vd=(i,t)=>i<255?t(i):"";function Sd(i){var t=Pd(i)?Cd:xd;return i?"#"+t(i.r)+t(i.g)+t(i.b)+vd(i.a,t):void 0}var wd=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pa(i,t,e){let n=t*Math.min(e,1-e),r=(s,o=(s+i/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function kd(i,t,e){let n=(r,s=(r+i/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Ed(i,t,e){let n=pa(i,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function Td(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}function Qr(i){let e=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(e,n,r),o=Math.min(e,n,r),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=Td(e,n,r,d,s),c=c*60+.5),[c|0,l||0,a]}function Jr(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(Nt)}function Zr(i,t,e){return Jr(pa,i,t,e)}function Ad(i,t,e){return Jr(Ed,i,t,e)}function Id(i,t,e){return Jr(kd,i,t,e)}function ba(i){return(i%360+360)%360}function Rd(i){let t=wd.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Gn(+t[5]):Nt(+t[5]));let r=ba(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Ad(r,s,o):t[1]==="hsv"?n=Id(r,s,o):n=Zr(r,s,o),{r:n[0],g:n[1],b:n[2],a:e}}function Dd(i,t){var e=Qr(i);e[0]=ba(e[0]+t),e=Zr(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Bd(i){if(!i)return;let t=Qr(i),e=t[0],n=ha(t[1]),r=ha(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${Pt(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}var ma={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ga={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fd(){let i={},t=Object.keys(ga),e=Object.keys(ma),n,r,s,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],r=0;r<e.length;r++)s=e[r],a=a.replace(s,ma[s]);s=parseInt(ga[o],16),i[a]=[s>>16&255,s>>8&255,s&255]}return i}var Li;function Ld(i){Li||(Li=Fd(),Li.transparent=[0,0,0,0]);let t=Li[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Nd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zd(i){let t=Nd.exec(i),e=255,n,r,s;if(t){if(t[7]!==n){let o=+t[7];e=t[8]?Gn(o):Lt(o*255,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?Gn(n):Lt(n,0,255)),r=255&(t[4]?Gn(r):Lt(r,0,255)),s=255&(t[6]?Gn(s):Lt(s,0,255)),{r:n,g:r,b:s,a:e}}}function Ud(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Pt(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var Gr=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Mn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Vd(i,t,e){let n=Mn(Pt(i.r)),r=Mn(Pt(i.g)),s=Mn(Pt(i.b));return{r:Nt(Gr(n+e*(Mn(Pt(t.r))-n))),g:Nt(Gr(r+e*(Mn(Pt(t.g))-r))),b:Nt(Gr(s+e*(Mn(Pt(t.b))-s))),a:i.a+e*(t.a-i.a)}}function Ni(i,t,e){if(i){let n=Qr(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=Zr(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function _a(i,t){return i&&Object.assign(t||{},i)}function fa(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Nt(i[3]))):(t=_a(i,{r:0,g:0,b:0,a:1}),t.a=Nt(t.a)),t}function jd(i){return i.charAt(0)==="r"?zd(i):Rd(i)}var Xn=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=fa(t):e==="string"&&(n=Od(t)||Ld(t)||jd(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=_a(this._rgb);return t&&(t.a=Pt(t.a)),t}set rgb(t){this._rgb=fa(t)}rgbString(){return this._valid?Ud(this._rgb):void 0}hexString(){return this._valid?Sd(this._rgb):void 0}hslString(){return this._valid?Bd(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,r=t.rgb,s,o=e===s?.5:e,a=2*o-1,c=n.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=Vd(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=Nt(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Qn(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ni(this._rgb,2,t),this}darken(t){return Ni(this._rgb,2,-t),this}saturate(t){return Ni(this._rgb,1,t),this}desaturate(t){return Ni(this._rgb,1,-t),this}rotate(t){return Dd(this._rgb,t),this}};function mt(){}var Ea=(()=>{let i=0;return()=>i++})();function H(i){return i==null}function ee(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function oe(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function ze(i,t){return oe(i)?i:t}function N(i,t){return typeof i>"u"?t:i}var Ta=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,is=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Z(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function G(i,t,e,n){let r,s,o;if(ee(i))if(s=i.length,n)for(r=s-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<s;r++)t.call(e,i[r],r);else if($(i))for(o=Object.keys(i),s=o.length,r=0;r<s;r++)t.call(e,i[o[r]],o[r])}function ei(i,t){let e,n,r,s;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Wi(i){if(ee(i))return i.map(Wi);if($(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,r=0;for(;r<n;++r)t[e[r]]=Wi(i[e[r]]);return t}return i}function Aa(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Wd(i,t,e,n){if(!Aa(i))return;let r=t[i],s=e[i];$(r)&&$(s)?xn(r,s,n):t[i]=Wi(s)}function xn(i,t,e){let n=ee(t)?t:[t],r=n.length;if(!$(i))return i;e=e||{};let s=e.merger||Wd,o;for(let a=0;a<r;++a){if(o=n[a],!$(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],i,o,e)}return i}function On(i,t){return xn(i,t,{merger:Hd})}function Hd(i,t,e){if(!Aa(i))return;let n=t[i],r=e[i];$(n)&&$(r)?On(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Wi(r))}var ya={"":i=>i,x:i=>i.x,y:i=>i.y};function $d(i){let t=i.split("."),e=[],n="";for(let r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function qd(i){let t=$d(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function St(i,t){return(ya[t]||(ya[t]=qd(t)))(i)}function Ki(i){return i.charAt(0).toUpperCase()+i.slice(1)}var vn=i=>typeof i<"u",Ot=i=>typeof i=="function",rs=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function Ia(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var K=Math.PI,te=2*K,Kd=te+K,Hi=Number.POSITIVE_INFINITY,Yd=K/180,de=K/2,tn=K/4,Ma=K*2/3,vt=Math.log10,nt=Math.sign;function Sn(i,t,e){return Math.abs(i-t)<e}function ss(i){let t=Math.round(i);i=Sn(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(vt(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Ra(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function Gd(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function sn(i){return!Gd(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Da(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function os(i,t,e){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Xe(i){return i*(K/180)}function Yi(i){return i*(180/K)}function as(i){if(!oe(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function cs(i,t){let e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n),s=Math.atan2(n,e);return s<-.5*K&&(s+=te),{angle:s,distance:r}}function $i(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Xd(i,t){return(i-t+Kd)%te-K}function ve(i){return(i%te+te)%te}function wn(i,t,e,n){let r=ve(i),s=ve(t),o=ve(e),a=ve(s-r),c=ve(o-r),l=ve(r-s),d=ve(r-o);return r===s||r===o||n&&s===o||a>c&&l<d}function Me(i,t,e){return Math.max(t,Math.min(e,i))}function Ba(i){return Me(i,-32768,32767)}function gt(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function Gi(i,t,e){e=e||(o=>i[o]<t);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,e(s)?r=s:n=s;return{lo:r,hi:n}}var ut=(i,t,e,n)=>Gi(i,e,n?r=>{let s=i[r][t];return s<e||s===e&&i[r+1][t]===e}:r=>i[r][t]<e),Fa=(i,t,e)=>Gi(i,e,n=>i[n][t]>=e);function La(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}var Na=["push","pop","shift","splice","unshift"];function za(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Na.forEach(e=>{let n="_onData"+Ki(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function ls(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(Na.forEach(s=>{delete i[s]}),delete i._chartjs)}function ds(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var us=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function hs(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,us.call(window,()=>{n=!1,i.apply(t,e)}))}}function Ua(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var Xi=i=>i==="start"?"left":i==="end"?"right":"center",Se=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,Va=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function ms(i,t,e){let n=t.length,r=0,s=n;if(i._sorted){let{iScale:o,vScale:a,_parsed:c}=i,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,d=o.axis,{min:u,max:h,minDefined:m,maxDefined:f}=o.getUserBounds();if(m){if(r=Math.min(ut(c,d,u).lo,e?n:ut(t,d,o.getPixelForValue(u)).lo),l){let _=c.slice(0,r+1).reverse().findIndex(y=>!H(y[a.axis]));r-=Math.max(0,_)}r=Me(r,0,n-1)}if(f){let _=Math.max(ut(c,o.axis,h,!0).hi+1,e?0:ut(t,d,o.getPixelForValue(h),!0).hi+1);if(l){let y=c.slice(_-1).findIndex(M=>!H(M[a.axis]));_+=Math.max(0,y)}s=Me(_,r,n)-r}else s=n-r}return{start:r,count:s}}function gs(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;let s=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),s}var zi=i=>i===0||i===1,Ca=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*te/e)),xa=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*te/e)+1,Cn={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*de)+1,easeOutSine:i=>Math.sin(i*de),easeInOutSine:i=>-.5*(Math.cos(K*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>zi(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>zi(i)?i:Ca(i,.075,.3),easeOutElastic:i=>zi(i)?i:xa(i,.075,.3),easeInOutElastic(i){return zi(i)?i:i<.5?.5*Ca(i*2,.1125,.45):.5+.5*xa(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Cn.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Cn.easeInBounce(i*2)*.5:Cn.easeOutBounce(i*2-1)*.5+.5};function fs(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ps(i){return fs(i)?i:new Xn(i)}function es(i){return fs(i)?i:new Xn(i).saturate(.5).darken(.1).hexString()}var Qd=["x","y","borderWidth","radius","tension"],Jd=["color","borderColor","backgroundColor"];function Zd(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Jd},numbers:{type:"number",properties:Qd}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function eu(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Pa=new Map;function tu(i,t){t=t||{};let e=i+JSON.stringify(t),n=Pa.get(e);return n||(n=new Intl.NumberFormat(i,t),Pa.set(e,n)),n}function kn(i,t,e){return tu(t,e).format(i)}var ja={values(i){return ee(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,r,s=i;if(e.length>1){let l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=nu(i,e)}let o=vt(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),kn(i,n,c)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(vt(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?ja.numeric.call(this,i,t,e):""}};function nu(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var ti={formatters:ja};function iu(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ti.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Ut=Object.create(null),Qi=Object.create(null);function Jn(i,t){if(!t)return i;let e=t.split(".");for(let n=0,r=e.length;n<r;++n){let s=e[n];i=i[s]||(i[s]=Object.create(null))}return i}function ts(i,t,e){return typeof t=="string"?xn(Jn(i,t),e):xn(Jn(i,""),t)}var ns=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>es(r.backgroundColor),this.hoverBorderColor=(n,r)=>es(r.borderColor),this.hoverColor=(n,r)=>es(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ts(this,t,e)}get(t){return Jn(this,t)}describe(t,e){return ts(Qi,t,e)}override(t,e){return ts(Ut,t,e)}route(t,e,n,r){let s=Jn(this,t),o=Jn(this,n),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[a],l=o[r];return $(c)?Object.assign({},l,c):N(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}},ie=new ns({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Zd,eu,iu]);function ru(i){return!i||H(i.size)||H(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Zn(i,t,e,n,r){let s=t[r];return s||(s=t[r]=i.measureText(r).width,e.push(r)),s>n&&(n=s),n}function Wa(i,t,e,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},s=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let o=0,a=e.length,c,l,d,u,h;for(c=0;c<a;c++)if(u=e[c],u!=null&&!ee(u))o=Zn(i,r,s,o,u);else if(ee(u))for(l=0,d=u.length;l<d;l++)h=u[l],h!=null&&!ee(h)&&(o=Zn(i,r,s,o,h));i.restore();let m=s.length/2;if(m>e.length){for(c=0;c<m;c++)delete r[s[c]];s.splice(0,m)}return o}function Vt(i,t,e){let n=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function bs(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Ji(i,t,e,n){_s(i,t,e,n,null)}function _s(i,t,e,n,r){let s,o,a,c,l,d,u,h,m=t.pointStyle,f=t.rotation,_=t.radius,y=(f||0)*Yd;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(y),i.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),i.restore();return}if(!(isNaN(_)||_<=0)){switch(i.beginPath(),m){default:r?i.ellipse(e,n,r/2,_,0,0,te):i.arc(e,n,_,0,te),i.closePath();break;case"triangle":d=r?r/2:_,i.moveTo(e+Math.sin(y)*d,n-Math.cos(y)*_),y+=Ma,i.lineTo(e+Math.sin(y)*d,n-Math.cos(y)*_),y+=Ma,i.lineTo(e+Math.sin(y)*d,n-Math.cos(y)*_),i.closePath();break;case"rectRounded":l=_*.516,c=_-l,o=Math.cos(y+tn)*c,u=Math.cos(y+tn)*(r?r/2-l:c),a=Math.sin(y+tn)*c,h=Math.sin(y+tn)*(r?r/2-l:c),i.arc(e-u,n-a,l,y-K,y-de),i.arc(e+h,n-o,l,y-de,y),i.arc(e+u,n+a,l,y,y+de),i.arc(e-h,n+o,l,y+de,y+K),i.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*_,d=r?r/2:c,i.rect(e-d,n-c,2*d,2*c);break}y+=tn;case"rectRot":u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+h,n-o),i.lineTo(e+u,n+a),i.lineTo(e-h,n+o),i.closePath();break;case"crossRot":y+=tn;case"cross":u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o);break;case"star":u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o),y+=tn,u=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,h=Math.sin(y)*(r?r/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+h,n-o),i.lineTo(e-h,n+o);break;case"line":o=r?r/2:Math.cos(y)*_,a=Math.sin(y)*_,i.moveTo(e-o,n-a),i.lineTo(e+o,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(y)*(r?r/2:_),n+Math.sin(y)*_);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function ht(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function ni(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function ii(i){i.restore()}function Ha(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){let s=(t.x+e.x)/2;i.lineTo(s,t.y),i.lineTo(s,e.y)}else r==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function $a(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function su(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),H(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function ou(i,t,e,n,r){if(r.strikethrough||r.underline){let s=i.measureText(n),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,c=e-s.actualBoundingBoxAscent,l=e+s.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(o,d),i.lineTo(a,d),i.stroke()}}function au(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function jt(i,t,e,n,r,s={}){let o=ee(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(i.save(),i.font=r.string,su(i,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&au(i,s.backdrop),a&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),H(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(l,e,n,s.maxWidth)),i.fillText(l,e,n,s.maxWidth),ou(i,e,n,l,s),n+=Number(r.lineHeight);i.restore()}function En(i,t){let{x:e,y:n,w:r,h:s,radius:o}=t;i.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*K,K,!0),i.lineTo(e,n+s-o.bottomLeft),i.arc(e+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,K,de,!0),i.lineTo(e+r-o.bottomRight,n+s),i.arc(e+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,de,0,!0),i.lineTo(e+r,n+o.topRight),i.arc(e+r-o.topRight,n+o.topRight,o.topRight,0,-de,!0),i.lineTo(e+o.topLeft,n)}var cu=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function du(i,t){let e=(""+i).match(cu);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var uu=i=>+i||0;function Zi(i,t){let e={},n=$(t),r=n?Object.keys(t):t,s=$(i)?n?o=>N(i[o],i[t[o]]):o=>i[o]:()=>i;for(let o of r)e[o]=uu(s(o));return e}function ys(i){return Zi(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Wt(i){return Zi(i,["topLeft","topRight","bottomLeft","bottomRight"])}function we(i){let t=ys(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _e(i,t){i=i||{},t=t||ie.font;let e=N(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=N(i.style,t.style);n&&!(""+n).match(lu)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:N(i.family,t.family),lineHeight:du(N(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:N(i.weight,t.weight),string:""};return r.string=ru(r),r}function Tn(i,t,e,n){let r=!0,s,o,a;for(s=0,o=i.length;s<o;++s)if(a=i[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&ee(a)&&(a=a[e%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function qa(i,t,e){let{min:n,max:r}=i,s=is(t,(r-n)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function wt(i,t){return Object.assign(Object.create(i),t)}function er(i,t=[""],e,n,r=()=>i[0]){let s=e||i;typeof n>"u"&&(n=Ga("_fallback",i));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:r,override:a=>er([a,...i],t,s,n)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete i[0][c],!0},get(a,c){return Ka(a,c,()=>yu(c,t,i,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,c){return va(a).includes(c)},ownKeys(a){return va(a)},set(a,c,l){let d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function rn(i,t,e,n){let r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Ms(i,n),setContext:s=>rn(i,s,e,n),override:s=>rn(i.override(s),t,e,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete i[o],!0},get(s,o,a){return Ka(s,o,()=>mu(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(s,o,a){return i[o]=a,delete s[o],!0}})}function Ms(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:Ot(e)?e:()=>e,isIndexable:Ot(n)?n:()=>n}}var hu=(i,t)=>i?i+Ki(t):t,Cs=(i,t)=>$(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ka(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function mu(i,t,e){let{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=i,a=n[t];return Ot(a)&&o.isScriptable(t)&&(a=gu(t,a,i,e)),ee(a)&&a.length&&(a=fu(t,a,i,o.isIndexable)),Cs(t,a)&&(a=rn(a,r,s&&s[t],o)),a}function gu(i,t,e,n){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let c=t(s,o||n);return a.delete(i),Cs(i,c)&&(c=xs(r._scopes,r,i,c)),c}function fu(i,t,e,n){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&n(i))return t[s.index%t.length];if($(t[0])){let c=t,l=r._scopes.filter(d=>d!==c);t=[];for(let d of c){let u=xs(l,r,i,d);t.push(rn(u,s,o&&o[i],a))}}return t}function Ya(i,t,e){return Ot(i)?i(t,e):i}var pu=(i,t)=>i===!0?t:typeof i=="string"?St(t,i):void 0;function bu(i,t,e,n,r){for(let s of t){let o=pu(e,s);if(o){i.add(o);let a=Ya(o._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function xs(i,t,e,n){let r=t._rootScopes,s=Ya(t._fallback,e,n),o=[...i,...r],a=new Set;a.add(n);let c=Oa(a,o,e,s||e,n);return c===null||typeof s<"u"&&s!==e&&(c=Oa(a,o,s,c,n),c===null)?!1:er(Array.from(a),[""],r,s,()=>_u(t,e,n))}function Oa(i,t,e,n,r){for(;e;)e=bu(i,t,e,n,r);return e}function _u(i,t,e){let n=i._getTarget();t in n||(n[t]={});let r=n[t];return ee(r)&&$(e)?e:r||{}}function yu(i,t,e,n){let r;for(let s of t)if(r=Ga(hu(s,i),e),typeof r<"u")return Cs(i,r)?xs(e,n,i,r):r}function Ga(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function va(i){let t=i._keys;return t||(t=i._keys=Mu(i._scopes)),t}function Mu(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function Ps(i,t,e,n){let{iScale:r}=i,{key:s="r"}=this._parsing,o=new Array(n),a,c,l,d;for(a=0,c=n;a<c;++a)l=a+e,d=t[l],o[a]={r:r.parse(St(d,s),l)};return o}var Cu=Number.EPSILON||1e-14,Pn=(i,t)=>t<i.length&&!i[t].skip&&i[t],Xa=i=>i==="x"?"y":"x";function xu(i,t,e,n){let r=i.skip?t:i,s=t,o=e.skip?t:e,a=$i(s,r),c=$i(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let u=n*l,h=n*d;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function Pu(i,t,e){let n=i.length,r,s,o,a,c,l=Pn(i,0);for(let d=0;d<n-1;++d)if(c=l,l=Pn(i,d+1),!(!c||!l)){if(Sn(t[d],0,Cu)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],s=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[d]=r*o*t[d],e[d+1]=s*o*t[d])}}function Ou(i,t,e="x"){let n=Xa(e),r=i.length,s,o,a,c=Pn(i,0);for(let l=0;l<r;++l){if(o=a,a=c,c=Pn(i,l+1),!a)continue;let d=a[e],u=a[n];o&&(s=(d-o[e])/3,a[`cp1${e}`]=d-s,a[`cp1${n}`]=u-s*t[l]),c&&(s=(c[e]-d)/3,a[`cp2${e}`]=d+s,a[`cp2${n}`]=u+s*t[l])}}function vu(i,t="x"){let e=Xa(t),n=i.length,r=Array(n).fill(0),s=Array(n),o,a,c,l=Pn(i,0);for(o=0;o<n;++o)if(a=c,c=l,l=Pn(i,o+1),!!c){if(l){let d=l[t]-c[t];r[o]=d!==0?(l[e]-c[e])/d:0}s[o]=a?l?nt(r[o-1])!==nt(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Pu(i,r,s),Ou(i,s,t)}function Ui(i,t,e){return Math.max(Math.min(i,e),t)}function Su(i,t){let e,n,r,s,o,a=ht(i[0],t);for(e=0,n=i.length;e<n;++e)o=s,s=a,a=e<n-1&&ht(i[e+1],t),s&&(r=i[e],o&&(r.cp1x=Ui(r.cp1x,t.left,t.right),r.cp1y=Ui(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Ui(r.cp2x,t.left,t.right),r.cp2y=Ui(r.cp2y,t.top,t.bottom)))}function Qa(i,t,e,n,r){let s,o,a,c;if(t.spanGaps&&(i=i.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")vu(i,r);else{let l=n?i[i.length-1]:i[0];for(s=0,o=i.length;s<o;++s)a=i[s],c=xu(l,a,i[Math.min(s+1,o-(n?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&Su(i,e)}function tr(){return typeof window<"u"&&typeof document<"u"}function nr(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function qi(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var ir=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function wu(i,t){return ir(i).getPropertyValue(t)}var ku=["top","right","bottom","left"];function nn(i,t,e){let n={};e=e?"-"+e:"";for(let r=0;r<4;r++){let s=ku[r];n[s]=parseFloat(i[t+"-"+s+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Eu=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function Tu(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:s}=n,o=!1,a,c;if(Eu(r,s,i.target))a=r,c=s;else{let l=t.getBoundingClientRect();a=n.clientX-l.left,c=n.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Ht(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,r=ir(e),s=r.boxSizing==="border-box",o=nn(r,"padding"),a=nn(r,"border","width"),{x:c,y:l,box:d}=Tu(i,e),u=o.left+(d&&a.left),h=o.top+(d&&a.top),{width:m,height:f}=t;return s&&(m-=o.width+a.width,f-=o.height+a.height),{x:Math.round((c-u)/m*e.width/n),y:Math.round((l-h)/f*e.height/n)}}function Au(i,t,e){let n,r;if(t===void 0||e===void 0){let s=i&&nr(i);if(!s)t=i.clientWidth,e=i.clientHeight;else{let o=s.getBoundingClientRect(),a=ir(s),c=nn(a,"border","width"),l=nn(a,"padding");t=o.width-l.width-c.width,e=o.height-l.height-c.height,n=qi(a.maxWidth,s,"clientWidth"),r=qi(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:n||Hi,maxHeight:r||Hi}}var Vi=i=>Math.round(i*10)/10;function Ja(i,t,e,n){let r=ir(i),s=nn(r,"margin"),o=qi(r.maxWidth,i,"clientWidth")||Hi,a=qi(r.maxHeight,i,"clientHeight")||Hi,c=Au(i,t,e),{width:l,height:d}=c;if(r.boxSizing==="content-box"){let h=nn(r,"border","width"),m=nn(r,"padding");l-=m.width+h.width,d-=m.height+h.height}return l=Math.max(0,l-s.width),d=Math.max(0,n?l/n:d-s.height),l=Vi(Math.min(l,o,c.maxWidth)),d=Vi(Math.min(d,a,c.maxHeight)),l&&!d&&(d=Vi(l/2)),(t!==void 0||e!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,l=Vi(Math.floor(d*n))),{width:l,height:d}}function Os(i,t,e){let n=t||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(i.currentDevicePixelRatio=n,o.height=r,o.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Za=(function(){let i=!1;try{let t={get passive(){return i=!0,!1}};tr()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function vs(i,t){let e=wu(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function zt(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function ec(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function tc(i,t,e,n){let r={x:i.cp2x,y:i.cp2y},s={x:t.cp1x,y:t.cp1y},o=zt(i,r,e),a=zt(r,s,e),c=zt(s,t,e),l=zt(o,a,e),d=zt(a,c,e);return zt(l,d,e)}var Iu=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},Ru=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function on(i,t,e){return i?Iu(t,e):Ru()}function Ss(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function ws(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function nc(i){return i==="angle"?{between:wn,compare:Xd,normalize:ve}:{between:gt,compare:(t,e)=>t-e,normalize:t=>t}}function Sa({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:r}}function Du(i,t,e){let{property:n,start:r,end:s}=e,{between:o,normalize:a}=nc(n),c=t.length,{start:l,end:d,loop:u}=i,h,m;if(u){for(l+=c,d+=c,h=0,m=c;h<m&&o(a(t[l%c][n]),r,s);++h)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:u,style:i.style}}function ks(i,t,e){if(!e)return[i];let{property:n,start:r,end:s}=e,o=t.length,{compare:a,between:c,normalize:l}=nc(n),{start:d,end:u,loop:h,style:m}=Du(i,t,e),f=[],_=!1,y=null,M,C,S,E=()=>c(r,S,M)&&a(r,S)!==0,k=()=>a(s,M)===0||c(s,S,M),A=()=>_||E(),D=()=>!_||k();for(let I=d,B=d;I<=u;++I)C=t[I%o],!C.skip&&(M=l(C[n]),M!==S&&(_=c(M,r,s),y===null&&A()&&(y=a(M,r)===0?I:B),y!==null&&D()&&(f.push(Sa({start:y,end:I,loop:h,count:o,style:m})),y=null),B=I,S=M));return y!==null&&f.push(Sa({start:y,end:u,loop:h,count:o,style:m})),f}function Es(i,t){let e=[],n=i.segments;for(let r=0;r<n.length;r++){let s=ks(n[r],i.points,t);s.length&&e.push(...s)}return e}function Bu(i,t,e,n){let r=0,s=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&i[s%t].skip;)s--;return s%=t,{start:r,end:s}}function Fu(i,t,e,n){let r=i.length,s=[],o=t,a=i[t],c;for(c=t+1;c<=e;++c){let l=i[c%r];l.skip||l.stop?a.skip||(n=!1,s.push({start:t%r,end:(c-1)%r,loop:n}),t=o=l.stop?c:null):(o=c,a.skip&&(t=c)),a=l}return o!==null&&s.push({start:t%r,end:o%r,loop:n}),s}function ic(i,t){let e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];let s=!!i._loop,{start:o,end:a}=Bu(e,r,s,n);if(n===!0)return wa(i,[{start:o,end:a,loop:s}],e,t);let c=a<o?a+r:a,l=!!i._fullLoop&&o===0&&a===r-1;return wa(i,Fu(e,o,c,l),e,t)}function wa(i,t,e,n){return!n||!n.setContext||!e?t:Lu(i,t,e,n)}function Lu(i,t,e,n){let r=i._chart.getContext(),s=ka(i.options),{_datasetIndex:o,options:{spanGaps:a}}=i,c=e.length,l=[],d=s,u=t[0].start,h=u;function m(f,_,y,M){let C=a?-1:1;if(f!==_){for(f+=c;e[f%c].skip;)f-=C;for(;e[_%c].skip;)_+=C;f%c!==_%c&&(l.push({start:f%c,end:_%c,loop:y,style:M}),d=M,u=_%c)}}for(let f of t){u=a?u:f.start;let _=e[u%c],y;for(h=u+1;h<=f.end;h++){let M=e[h%c];y=ka(n.setContext(wt(r,{type:"segment",p0:_,p1:M,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Nu(y,d)&&m(u,h-1,f.loop,d),_=M,d=y}u<h-1&&m(u,h-1,f.loop,d)}return l}function ka(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Nu(i,t){if(!t)return!1;let e=[],n=function(r,s){return fs(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(i,n)!==JSON.stringify(t,n)}function ji(i,t,e){return i.options.clip?i[e]:t[e]}function zu(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:ji(e,t,"left"),right:ji(e,t,"right"),top:ji(n,t,"top"),bottom:ji(n,t,"bottom")}:t}function Ts(i,t){let e=t._clip;if(e.disabled)return!1;let n=zu(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var js=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){let s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=us.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let s=n.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),s.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},kt=new js,rc="transparent",Uu={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=ps(i||rc),r=n.valid&&ps(t||rc);return r&&r.valid?r.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},Ws=class{constructor(t,e,n,r){let s=e[n];r=Tn([t.to,r,s,t.from]);let o=Tn([t.from,s,r]);this._active=!0,this._fn=t.fn||Uu[t.type||typeof o],this._easing=Cn[t.easing]||Cn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Tn([t.to,e,r,t.from]),this._from=Tn([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||e<n),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}c=e/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}},hr=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$(t))return;let e=Object.keys(ie.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let s=t[r];if(!$(s))return;let o={};for(let a of e)o[a]=s[a];(ee(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,e){let n=e.options,r=ju(t,n);if(!r)return[];let s=this._createAnimations(r,n);return n.$shared&&Vu(t.options.$animations,n).then(()=>{t.options=n},()=>{}),s}_createAnimations(t,e){let n=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(t,e));continue}let d=e[l],u=s[l],h=n.get(l);if(u)if(h&&u.active()){u.update(h,d,a);continue}else u.cancel();if(!h||!h.duration){t[l]=d;continue}s[l]=u=new Ws(h,t,l,d),r.push(u)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return kt.add(this._chart,n),!0}};function Vu(i,t){let e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){let s=i[n[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function ju(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function sc(i,t){let e=i&&i.options||{},n=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:n?s:r,end:n?r:s}}function Wu(i,t,e){if(e===!1)return!1;let n=sc(i,e),r=sc(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Hu(i){let t,e,n,r;return $(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:i===!1}}function rl(i,t){let e=[],n=i._getSortedDatasetMetas(t),r,s;for(r=0,s=n.length;r<s;++r)e.push(n[r].index);return e}function oc(i,t,e,n={}){let r=i.keys,s=n.mode==="single",o,a,c,l;if(t===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===e){if(d=!0,n.all)continue;break}l=i.values[c],oe(l)&&(s||t===0||nt(t)===nt(l))&&(t+=l)}return!d&&!n.all?0:t}function $u(i,t){let{iScale:e,vScale:n}=t,r=e.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(i),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[r]:d,[s]:i[d]};return a}function As(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function qu(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Ku(i){let{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Yu(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function ac(i,t,e,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let s=i[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function cc(i,t){let{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=n,c=s.axis,l=o.axis,d=qu(s,o,n),u=t.length,h;for(let m=0;m<u;++m){let f=t[m],{[c]:_,[l]:y}=f,M=f._stacks||(f._stacks={});h=M[l]=Yu(r,d,_),h[a]=y,h._top=ac(h,o,!0,n.type),h._bottom=ac(h,o,!1,n.type);let C=h._visualValues||(h._visualValues={});C[a]=y}}function Is(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Gu(i,t){return wt(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Xu(i,t,e){return wt(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ri(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let r of t){let s=r._stacks;if(!s||s[n]===void 0||s[n][e]===void 0)return;delete s[n][e],s[n]._visualValues!==void 0&&s[n]._visualValues[e]!==void 0&&delete s[n]._visualValues[e]}}}var Rs=i=>i==="reset"||i==="none",lc=(i,t)=>t?i:Object.assign({},i),Qu=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:rl(e,!0),values:null},qt=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=As(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ri(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,m,f,_)=>h==="x"?m:h==="r"?_:f,o=n.xAxisID=N(r.xAxisID,Is(e,"x")),a=n.yAxisID=N(r.yAxisID,Is(e,"y")),c=n.rAxisID=N(r.rAxisID,Is(e,"r")),l=n.indexAxis,d=n.iAxisID=s(l,o,a,c),u=n.vAxisID=s(l,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&ls(this._data,this),e._stacked&&ri(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if($(n)){let s=this._cachedMeta;this._data=$u(n,s)}else if(r!==n){if(r){ls(r,this);let s=this._cachedMeta;ri(s),s._parsed=[]}n&&Object.isExtensible(n)&&za(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=n._stacked;n._stacked=As(n.vScale,n),n.stack!==r.stack&&(s=!0,ri(n),n.stack=r.stack),this._resyncElements(e),(s||o!==n._stacked)&&(cc(this,n._parsed),n._stacked=As(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],u,h,m;if(this._parsing===!1)r._parsed=s,r._sorted=!0,m=s;else{ee(s[e])?m=this.parseArrayData(r,s,e,n):$(s[e])?m=this.parseObjectData(r,s,e,n):m=this.parsePrimitiveData(r,s,e,n);let f=()=>h[c]===null||d&&h[c]<d[c];for(u=0;u<n;++u)r._parsed[u+e]=h=m[u],l&&(f()&&(l=!1),d=h);r._sorted=l}a&&cc(this,m)}parsePrimitiveData(e,n,r,s){let{iScale:o,vScale:a}=e,c=o.axis,l=a.axis,d=o.getLabels(),u=o===a,h=new Array(s),m,f,_;for(m=0,f=s;m<f;++m)_=m+r,h[m]={[c]:u||o.parse(d[_],_),[l]:a.parse(n[_],_)};return h}parseArrayData(e,n,r,s){let{xScale:o,yScale:a}=e,c=new Array(s),l,d,u,h;for(l=0,d=s;l<d;++l)u=l+r,h=n[u],c[l]={x:o.parse(h[0],u),y:a.parse(h[1],u)};return c}parseObjectData(e,n,r,s){let{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),u,h,m,f;for(u=0,h=s;u<h;++u)m=u+r,f=n[m],d[u]={x:o.parse(St(f,c),m),y:a.parse(St(f,l),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){let s=this.chart,o=this._cachedMeta,a=n[e.axis],c={keys:rl(s,!0),values:n._stacks[e.axis]._visualValues};return oc(c,a,o.index,{mode:r})}updateRangeFromParsed(e,n,r,s){let o=r[n.axis],a=o===null?NaN:o,c=s&&r._stacks[n.axis];s&&c&&(s.values=c,a=oc(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,a=s.length,c=this._getOtherScale(e),l=Qu(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Ku(c),m,f;function _(){f=s[m];let y=f[c.axis];return!oe(f[e.axis])||u>y||h<y}for(m=0;m<a&&!(!_()&&(this.updateRangeFromParsed(d,e,f,l),o));++m);if(o){for(m=a-1;m>=0;--m)if(!_()){this.updateRangeFromParsed(d,e,f,l);break}}return d}getAllParsedValues(e){let n=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][e.axis],oe(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=Hu(N(this.options.clip,Wu(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],o=n.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,u;for(r.dataset&&r.dataset.draw(e,o,c,l),u=c;u<c+l;++u){let h=s[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,o))}for(u=0;u<a.length;++u)a[u].draw(e,o)}getStyle(e,n){let r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){let s=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];o=a.$context||(a.$context=Xu(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Gu(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){let s=n==="active",o=this._cachedDataOpts,a=e+"-"+n,c=o[a],l=this.enableOptionSharing&&vn(r);if(c)return lc(c,l);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(ie.elements[e]),_=()=>this.getContext(r,s,n),y=d.resolveNamedOptions(m,f,_,h);return y.$shared&&(y.$shared=l,o[a]=Object.freeze(lc(y,l))),y}_resolveAnimations(e,n,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),m=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(m,this.getContext(e,r,n))}let d=new hr(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Rs(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:a}}updateElement(e,n,r,s){Rs(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Rs(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;let o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,r=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=r.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,r=!0){let s=this._cachedMeta,o=s.data,a=e+n,c,l=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(l(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(e,n);r._stacked&&ri(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function Ju(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let r=0,s=e.length;r<s;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=ds(n.sort((r,s)=>r-s))}return i._cache.$bar}function Zu(i){let t=i.iScale,e=Ju(t,i.type),n=t._length,r,s,o,a,c=()=>{o===32767||o===-32768||(vn(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),c();return n}function eh(i,t,e,n){let r=e.barThickness,s,o;return H(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:t.pixels[i]-s/2}}function th(i,t,e,n){let r=t.pixels,s=r[i],o=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null,c=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/n,ratio:e.barPercentage,start:l}}function nh(i,t,e,n){let r=e.parse(i[0],n),s=e.parse(i[1],n),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function sl(i,t,e,n){return ee(i)?nh(i,t,e,n):t[e.axis]=e.parse(i,n),t}function dc(i,t,e,n){let r=i.iScale,s=i.vScale,o=r.getLabels(),a=r===s,c=[],l,d,u,h;for(l=e,d=e+n;l<d;++l)h=t[l],u={},u[r.axis]=a||r.parse(o[l],l),c.push(sl(h,u,s,l));return c}function Ds(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function ih(i,t,e){return i!==0?nt(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function rh(i){let t,e,n,r,s;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:n,reverse:t,top:r,bottom:s}}function sh(i,t,e,n){let r=t.borderSkipped,s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=rh(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=l:(e._bottom||0)===n?r=d:(s[uc(d,o,a,c)]=!0,r=l)),s[uc(r,o,a,c)]=!0,i.borderSkipped=s}function uc(i,t,e,n){return n?(i=oh(i,t,e),i=hc(i,e,t)):i=hc(i,t,e),i}function oh(i,t,e){return i===t?e:i===e?t:i}function hc(i,t,e){return i==="start"?t:i==="end"?e:i}function ah(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var ch=(()=>{class i extends qt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return dc(e,n,r,s)}parseArrayData(e,n,r,s){return dc(e,n,r,s)}parseObjectData(e,n,r,s){let{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,u=a.axis==="x"?c:l,h=[],m,f,_,y;for(m=r,f=r+s;m<f;++m)y=n[m],_={},_[o.axis]=o.parse(St(y,d),m),h.push(sl(St(y,u),_,a,m));return h}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);let o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(e),a=o._custom,c=Ds(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,s);for(let f=n;f<n+r;f++){let _=this.getParsed(f),y=o||H(_[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),M=this._calculateBarIndexPixels(f,u),C=(_._stacks||{})[c.axis],S={horizontal:d,base:y.base,enableBorderRadius:!C||Ds(_._custom)||a===C._top||a===C._bottom,x:d?y.head:M.center,y:d?M.center:y.head,height:d?M.size:Math.abs(y.size),width:d?Math.abs(y.size):M.size};m&&(S.options=h||this.resolveDataElementOptions(f,e[f].active?"active":s));let E=S.options||e[f].options;sh(S,E,C,a),ah(S,E,u.ratio),this.updateElement(e[f],f,S,s)}}_getStacks(e,n){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),l=c&&c[r.axis],d=u=>{let h=u._parsed.find(f=>f[r.axis]===l),m=h&&h[u.vScale.axis];if(H(m)||isNaN(m))return!0};for(let u of s)if(!(n!==void 0&&d(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)e[N(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){let s=this._getStacks(e,r),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){let e=this.options,n=this._cachedMeta,r=n.iScale,s=[],o,a;for(o=0,a=n.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=e.barThickness;return{min:c||Zu(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(e),d=l._custom,u=Ds(d),h=l[n.axis],m=0,f=r?this.applyStack(n,l,r):h,_,y;f!==h&&(m=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&nt(h)!==nt(d.barEnd)&&(m=0),m+=h);let M=!H(o)&&!u?o:m,C=n.getPixelForValue(M);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(m+f):_=C,y=_-C,Math.abs(y)<a){y=ih(y,n,c)*a,h===c&&(C-=y/2);let S=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),k=Math.min(S,E),A=Math.max(S,E);C=Math.max(Math.min(C,A),k),_=C+y,r&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(_)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){let S=nt(y)*n.getLineWidthForValue(c)/2;C+=S,y-=S}return{size:y,base:C,head:_,center:_+y/2}}_calculateBarIndexPixels(e,n){let r=n.scale,s=this.options,o=s.skipNull,a=N(s.maxBarThickness,1/0),c,l,d=this._getAxisCount();if(n.grouped){let u=o?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?th(e,n,s,u*d):eh(e,n,s,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(N(m,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+f;c=h.start+h.chunk*_+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return i})(),lh=(()=>{class i extends qt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){let o=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,n,r,s){let o=super.parseArrayData(e,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=N(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(e,n,r,s){let o=super.parseObjectData(e,n,r,s);for(let a=0;a<o.length;a++){let c=n[r+a];o[a]._custom=N(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,s),u=a.axis,h=c.axis;for(let m=n;m<n+r;m++){let f=e[m],_=!o&&this.getParsed(m),y={},M=y[u]=o?a.getPixelForDecimal(.5):a.getPixelForValue(_[u]),C=y[h]=o?c.getBasePixel():c.getPixelForValue(_[h]);y.skip=isNaN(M)||isNaN(C),d&&(y.options=l||this.resolveDataElementOptions(m,f.active?"active":s),o&&(y.options.radius=0)),this.updateElement(f,m,y,s)}}resolveDataElementOptions(e,n){let r=this.getParsed(e),s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=N(r&&r._custom,o),s}}return i})();function dh(i,t,e){let n=1,r=1,s=0,o=0;if(t<te){let a=i,c=a+t,l=Math.cos(a),d=Math.sin(a),u=Math.cos(c),h=Math.sin(c),m=(S,E,k)=>wn(S,a,c,!0)?1:Math.max(E,E*e,k,k*e),f=(S,E,k)=>wn(S,a,c,!0)?-1:Math.min(E,E*e,k,k*e),_=m(0,l,u),y=m(de,d,h),M=f(K,l,u),C=f(K+de,d,h);n=(_-M)/2,r=(y-C)/2,s=-(_+M)/2,o=-(y+C)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}var lo=(()=>{class i extends qt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((o,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if($(r[e])){let{key:l="value"}=this._parsing;o=d=>+St(r[d],l)}let a,c;for(a=e,c=e+n;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Xe(this.options.rotation-90)}_getCircumference(){return Xe(this.options.circumference)}_getRotationExtents(){let e=te,n=-te;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),n=Math.max(n,o+a)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(Ta(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:_,offsetY:y}=dh(h,u,l),M=(r.width-a)/m,C=(r.height-a)/f,S=Math.max(Math.min(M,C)/2,0),E=is(this.options.radius,S),k=Math.max(E*l,0),A=(E-k)/this._getVisibleDatasetWeightTotal();this.offsetX=_*E,this.offsetY=y*E,s.total=this.calculateTotal(),this.outerRadius=E-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/te)}updateElements(e,n,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,u=(c.left+c.right)/2,h=(c.top+c.bottom)/2,m=o&&d.animateScale,f=m?0:this.innerRadius,_=m?0:this.outerRadius,{sharedOptions:y,includeOptions:M}=this._getSharedOptions(n,s),C=this._getRotation(),S;for(S=0;S<n;++S)C+=this._circumference(S,o);for(S=n;S<n+r;++S){let E=this._circumference(S,o),k=e[S],A={x:u+this.offsetX,y:h+this.offsetY,startAngle:C,endAngle:C+E,circumference:E,outerRadius:_,innerRadius:f};M&&(A.options=y||this.resolveDataElementOptions(S,k.active?"active":s)),C+=E,this.updateElement(k,S,A,s)}}calculateTotal(){let e=this._cachedMeta,n=e.data,r=0,s;for(s=0;s<n.length;s++){let o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?te*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=kn(n._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let n=0,r=this.chart,s,o,a,c,l;if(!e){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,c=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){let o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(N(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),uh=(()=>{class i extends qt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled,{start:c,count:l}=ms(n,s,a);this._drawStart=c,this._drawCount=l,gs(n)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(s,c,l,e)}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),m=a.axis,f=c.axis,{spanGaps:_,segment:y}=this.options,M=sn(_)?_:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||s==="none",S=n+r,E=e.length,k=n>0&&this.getParsed(n-1);for(let A=0;A<E;++A){let D=e[A],I=C?D:{};if(A<n||A>=S){I.skip=!0;continue}let B=this.getParsed(A),j=H(B[f]),V=I[m]=a.getPixelForValue(B[m],A),q=I[f]=o||j?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,B,l):B[f],A);I.skip=isNaN(V)||isNaN(q)||j,I.stop=A>0&&Math.abs(B[m]-k[m])>M,y&&(I.parsed=B,I.raw=d.data[A]),h&&(I.options=u||this.resolveDataElementOptions(A,D.active?"active":s)),C||this.updateElement(D,A,I,s),k=B}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),ol=(()=>{class i extends qt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((o,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=kn(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,n,r,s){return Ps.bind(this)(e,n,r,s)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/e.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,n,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,m=d.getIndexAngle(0)-.5*K,f=m,_,y=360/this.countVisibleElements();for(_=0;_<n;++_)f+=this._computeAngle(_,s,y);for(_=n;_<n+r;_++){let M=e[_],C=f,S=f+this._computeAngle(_,s,y),E=a.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;f=S,o&&(l.animateScale&&(E=0),l.animateRotate&&(C=S=m));let k={x:u,y:h,innerRadius:0,outerRadius:E,startAngle:C,endAngle:S,options:this.resolveDataElementOptions(_,M.active?"active":s)};this.updateElement(M,_,k,s)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Xe(this.resolveDataElementOptions(e,n).angle||r):0}}return i})(),hh=(()=>{class i extends lo{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),mh=(()=>{class i extends qt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return Ps.bind(this)(e,n,r,s)}update(e){let n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=n;c<n+r;c++){let l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":s),u=o.getPointPositionForValue(c,this.getParsed(c).r),h=a?o.xCenter:u.x,m=a?o.yCenter:u.y,f={x:h,y:m,angle:u.angle,skip:isNaN(h)||isNaN(m),options:d};this.updateElement(l,c,f,s)}}}return i})(),gh=(()=>{class i extends qt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){let n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled,{start:o,count:a}=ms(n,r,s);if(this._drawStart=o,this._drawCount=a,gs(n)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),m=this.includeOptions(s,h),f=a.axis,_=c.axis,{spanGaps:y,segment:M}=this.options,C=sn(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||s==="none",E=n>0&&this.getParsed(n-1);for(let k=n;k<n+r;++k){let A=e[k],D=this.getParsed(k),I=S?A:{},B=H(D[_]),j=I[f]=a.getPixelForValue(D[f],k),V=I[_]=o||B?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,D,l):D[_],k);I.skip=isNaN(j)||isNaN(V)||B,I.stop=k>0&&Math.abs(D[f]-E[f])>C,M&&(I.parsed=D,I.raw=d.data[k]),m&&(I.options=h||this.resolveDataElementOptions(k,A.active?"active":s)),S||this.updateElement(A,k,I,s),E=D}this.updateSharedOptions(h,s,u)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;let o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}return i})(),fh=Object.freeze({__proto__:null,BarController:ch,BubbleController:lh,DoughnutController:lo,LineController:uh,PieController:hh,PolarAreaController:ol,RadarController:mh,ScatterController:gh});function an(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Hs=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return an()}parse(){return an()}format(){return an()}add(){return an()}diff(){return an()}startOf(){return an()}endOf(){return an()}},ph={_date:Hs};function bh(i,t,e,n){let{controller:r,data:s,_sorted:o}=i,a=r._cachedMeta.iScale,c=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){let l=a._reversePixels?Fa:ut;if(n){if(r._sharedOptions){let d=s[0],u=typeof d.getRange=="function"&&d.getRange(t);if(u){let h=l(s,t,e-u),m=l(s,t,e+u);return{lo:h.lo,hi:m.hi}}}}else{let d=l(s,t,e);if(c){let{vScale:u}=r._cachedMeta,{_parsed:h}=i,m=h.slice(0,d.lo+1).reverse().findIndex(_=>!H(_[u.axis]));d.lo-=Math.max(0,m);let f=h.slice(d.hi).findIndex(_=>!H(_[u.axis]));d.hi+=Math.max(0,f)}return d}}return{lo:0,hi:s.length-1}}function gi(i,t,e,n,r){let s=i.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:u,hi:h}=bh(s[a],t,o,r);for(let m=u;m<=h;++m){let f=d[m];f.skip||n(f,l,m)}}}function _h(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,r){let s=t?Math.abs(n.x-r.x):0,o=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Bs(i,t,e,n,r){let s=[];return!r&&!i.isPointInArea(t)||gi(i,e,t,function(a,c,l){!r&&!ht(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function yh(i,t,e,n){let r=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:u}=cs(o,{x:t.x,y:t.y});wn(u,l,d)&&r.push({element:o,datasetIndex:a,index:c})}return gi(i,e,t,s),r}function Mh(i,t,e,n,r,s){let o=[],a=_h(e),c=Number.POSITIVE_INFINITY;function l(d,u,h){let m=d.inRange(t.x,t.y,r);if(n&&!m)return;let f=d.getCenterPoint(r);if(!(!!s||i.isPointInArea(f))&&!m)return;let y=a(t,f);y<c?(o=[{element:d,datasetIndex:u,index:h}],c=y):y===c&&o.push({element:d,datasetIndex:u,index:h})}return gi(i,e,t,l),o}function Fs(i,t,e,n,r,s){return!s&&!i.isPointInArea(t)?[]:e==="r"&&!n?yh(i,t,e,r):Mh(i,t,e,n,r,s)}function mc(i,t,e,n,r){let s=[],o=e==="x"?"inXRange":"inYRange",a=!1;return gi(i,e,t,(c,l,d)=>{c[o]&&c[o](t[e],r)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),n&&!a?[]:s}var Ch={evaluateInteractionItems:gi,modes:{index(i,t,e,n){let r=Ht(t,i),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Bs(i,r,s,n,o):Fs(i,r,s,!1,n,o),c=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,u=l.data[d];u&&!u.skip&&c.push({element:u,datasetIndex:l.index,index:d})}),c):[]},dataset(i,t,e,n){let r=Ht(t,i),s=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?Bs(i,r,s,n,o):Fs(i,r,s,!1,n,o);if(a.length>0){let c=a[0].datasetIndex,l=i.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(i,t,e,n){let r=Ht(t,i),s=e.axis||"xy",o=e.includeInvisible||!1;return Bs(i,r,s,n,o)},nearest(i,t,e,n){let r=Ht(t,i),s=e.axis||"xy",o=e.includeInvisible||!1;return Fs(i,r,s,e.intersect,n,o)},x(i,t,e,n){let r=Ht(t,i);return mc(i,r,"x",e.intersect,n)},y(i,t,e,n){let r=Ht(t,i);return mc(i,r,"y",e.intersect,n)}}},al=["left","top","right","bottom"];function si(i,t){return i.filter(e=>e.pos===t)}function gc(i,t){return i.filter(e=>al.indexOf(e.pos)===-1&&e.box.axis===t)}function oi(i,t){return i.sort((e,n)=>{let r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function xh(i){let t=[],e,n,r,s,o,a;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function Ph(i){let t={};for(let e of i){let{stack:n,pos:r,stackWeight:s}=e;if(!n||!al.includes(r))continue;let o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function Oh(i,t){let e=Ph(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t,s,o,a;for(s=0,o=i.length;s<o;++s){a=i[s];let{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*n:c&&t.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:c&&t.availableHeight)}return e}function vh(i){let t=xh(i),e=oi(t.filter(l=>l.box.fullSize),!0),n=oi(si(t,"left"),!0),r=oi(si(t,"right")),s=oi(si(t,"top"),!0),o=oi(si(t,"bottom")),a=gc(t,"x"),c=gc(t,"y");return{fullSize:e,leftAndTop:n.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:si(t,"chartArea"),vertical:n.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function fc(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function cl(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Sh(i,t,e,n){let{pos:r,box:s}=e,o=i.maxPadding;if(!$(r)){e.size&&(i[r]-=e.size);let u=n[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?s.height:s.width),e.size=u.size/u.count,i[r]+=e.size}s.getPadding&&cl(o,s.getPadding());let a=Math.max(0,t.outerWidth-fc(o,i,"left","right")),c=Math.max(0,t.outerHeight-fc(o,i,"top","bottom")),l=a!==i.w,d=c!==i.h;return i.w=a,i.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function wh(i){let t=i.maxPadding;function e(n){let r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function kh(i,t){let e=t.maxPadding;function n(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return n(i?["left","right"]:["top","bottom"])}function li(i,t,e,n){let r=[],s,o,a,c,l,d;for(s=0,o=i.length,l=0;s<o;++s){a=i[s],c=a.box,c.update(a.width||t.w,a.height||t.h,kh(a.horizontal,t));let{same:u,other:h}=Sh(t,e,a,n);l|=u&&r.length,d=d||h,c.fullSize||r.push(a)}return l&&li(r,t,e,n)||d}function rr(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function pc(i,t,e,n){let r=e.padding,{x:s,y:o}=t;for(let a of i){let c=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let u=t.w*d,h=l.size||c.height;vn(l.start)&&(o=l.start),c.fullSize?rr(c,r.left,o,e.outerWidth-r.right-r.left,h):rr(c,t.left+l.placed,o,u,h),l.start=o,l.placed+=u,o=c.bottom}else{let u=t.h*d,h=l.size||c.width;vn(l.start)&&(s=l.start),c.fullSize?rr(c,s,r.top,h,e.outerHeight-r.bottom-r.top):rr(c,s,t.top+l.placed,h,u),l.start=s,l.placed+=u,s=c.right}}t.x=s,t.y=o}var Ie={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let r=we(i.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=vh(i.boxes),c=a.vertical,l=a.horizontal;G(i.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let d=c.reduce((_,y)=>y.box.options&&y.box.options.display===!1?_:_+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},r);cl(h,we(n));let m=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),f=Oh(c.concat(l),u);li(a.fullSize,m,u,f),li(c,m,u,f),li(l,m,u,f)&&li(c,m,u,f),wh(m),pc(a.leftAndTop,m,u,f),m.x+=m.w,m.y+=m.h,pc(a.rightAndBottom,m,u,f),i.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},G(a.chartArea,_=>{let y=_.box;Object.assign(y,i.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},mr=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}},$s=class extends mr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},dr="$chartjs",Eh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bc=i=>i===null||i==="";function Th(i,t){let e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[dr]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",bc(r)){let s=vs(i,"width");s!==void 0&&(i.width=s)}if(bc(n))if(i.style.height==="")i.height=i.width/(t||2);else{let s=vs(i,"height");s!==void 0&&(i.height=s)}return i}var ll=Za?{passive:!0}:!1;function Ah(i,t,e){i&&i.addEventListener(t,e,ll)}function Ih(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,ll)}function Rh(i,t){let e=Eh[i.type]||i.type,{x:n,y:r}=Ht(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function gr(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Dh(i,t,e){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||gr(a.addedNodes,n),o=o&&!gr(a.removedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Bh(i,t,e){let n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||gr(a.removedNodes,n),o=o&&!gr(a.addedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var ui=new Map,_c=0;function dl(){let i=window.devicePixelRatio;i!==_c&&(_c=i,ui.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Fh(i,t){ui.size||window.addEventListener("resize",dl),ui.set(i,t)}function Lh(i){ui.delete(i),ui.size||window.removeEventListener("resize",dl)}function Nh(i,t,e){let n=i.canvas,r=n&&nr(n);if(!r)return;let s=hs((a,c)=>{let l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(r),Fh(i,s),o}function Ls(i,t,e){e&&e.disconnect(),t==="resize"&&Lh(i)}function zh(i,t,e){let n=i.canvas,r=hs(s=>{i.ctx!==null&&e(Rh(s,i))},i);return Ah(n,t,r),r}var qs=class extends mr{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Th(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[dr])return!1;let n=e[dr].initial;["height","width"].forEach(s=>{let o=n[s];H(o)?e.removeAttribute(s):e.setAttribute(s,o)});let r=n.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[dr],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),o={attach:Dh,detach:Bh,resize:Nh}[e]||zh;r[e]=o(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:Ls,detach:Ls,resize:Ls}[e]||Ih)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return Ja(t,e,n,r)}isAttached(t){let e=t&&nr(t);return!!(e&&e.isConnected)}};function Uh(i){return!tr()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?$s:qs}var it=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return sn(this.x)&&sn(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let r={};return t.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}};function Vh(i,t){let e=i.options.ticks,n=jh(i),r=Math.min(e.maxTicksLimit||n,n),s=e.major.enabled?Hh(t):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return $h(t,l,s,o/r),l;let d=Wh(s,t,r);if(o>0){let u,h,m=o>1?Math.round((c-a)/(o-1)):null;for(sr(t,l,d,H(m)?0:a-m,a),u=0,h=o-1;u<h;u++)sr(t,l,d,s[u],s[u+1]);return sr(t,l,d,c,H(m)?t.length:c+m),l}return sr(t,l,d),l}function jh(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(n,r))}function Wh(i,t,e){let n=qh(i),r=t.length/e;if(!n)return Math.max(r,1);let s=Ra(n);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function Hh(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function $h(i,t,e,n){let r=0,s=e[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===s&&(t.push(i[o]),r++,s=e[r*n])}function sr(i,t,e,n,r){let s=N(n,0),o=Math.min(N(r,i.length),i.length),a=0,c,l,d;for(e=Math.ceil(e),r&&(c=r-n,e=c/Math.floor(c/e)),d=s;d<0;)a++,d=Math.round(s+a*e);for(l=Math.max(s,0);l<o;l++)l===d&&(t.push(i[l]),a++,d=Math.round(s+a*e))}function qh(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var Kh=i=>i==="left"?"right":i==="right"?"left":i,yc=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Mc=(i,t)=>Math.min(t||i,i);function Cc(i,t){let e=[],n=i.length/t,r=i.length,s=0;for(;s<r;s+=n)e.push(i[Math.floor(s)]);return e}function Yh(i,t,e){let n=i.ticks.length,r=Math.min(t,n-1),s=i._startPixel,o=i._endPixel,a=1e-6,c=i.getPixelForTick(r),l;if(!(e&&(n===1?l=Math.max(c-s,o-c):t===0?l=(i.getPixelForTick(1)-c)/2:l=(c-i.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function Gh(i,t){G(i,e=>{let n=e.gc,r=n.length/2,s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}})}function ai(i){return i.drawTicks?i.tickLength:0}function xc(i,t){if(!i.display)return 0;let e=_e(i.font,t),n=we(i.padding);return(ee(i.text)?i.text.length:1)*e.lineHeight+n.height}function Xh(i,t){return wt(i,{scale:t,type:"scale"})}function Qh(i,t,e){return wt(i,{tick:e,index:t,type:"tick"})}function Jh(i,t,e){let n=Xi(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Kh(n)),n}function Zh(i,t,e,n){let{top:r,left:s,bottom:o,right:a,chart:c}=i,{chartArea:l,scales:d}=c,u=0,h,m,f,_=o-r,y=a-s;if(i.isHorizontal()){if(m=Se(n,s,a),$(e)){let M=Object.keys(e)[0],C=e[M];f=d[M].getPixelForValue(C)+_-t}else e==="center"?f=(l.bottom+l.top)/2+_-t:f=yc(i,e,t);h=a-s}else{if($(e)){let M=Object.keys(e)[0],C=e[M];m=d[M].getPixelForValue(C)-y+t}else e==="center"?m=(l.left+l.right)/2-y+t:m=yc(i,e,t);f=Se(n,o,r),u=e==="left"?-de:de}return{titleX:m,titleY:f,maxWidth:h,rotation:u}}var ln=class i extends it{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=ze(t,Number.POSITIVE_INFINITY),e=ze(e,Number.NEGATIVE_INFINITY),n=ze(n,Number.POSITIVE_INFINITY),r=ze(r,Number.NEGATIVE_INFINITY),{min:ze(t,n),max:ze(e,r),minDefined:oe(t),maxDefined:oe(e)}}getMinMax(t){let{min:e,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:n};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(n=Math.max(n,o.max));return e=s&&e>n?n:e,n=r&&e>n?e:n,{min:ze(e,ze(n,e)),max:ze(n,ze(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Z(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qa(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?Cc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Vh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Z(this.options.afterUpdate,[this])}beforeSetDimensions(){Z(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Z(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Z(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Z(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,r,s;for(n=0,r=t.length;n<r;n++)s=t[n],s.label=Z(e.callback,[s.value,n,t],this)}afterTickToLabelConversion(){Z(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Z(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=Mc(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation,o=r,a,c,l;if(!this._isVisible()||!e.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,m=Me(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:m/(n-1),u+6>a&&(a=m/(n-(t.offset?.5:1)),c=this.maxHeight-ai(t.grid)-e.padding-xc(t.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),o=Yi(Math.min(Math.asin(Me((d.highest.height+6)/a,-1,1)),Math.asin(Me(c/l,-1,1))-Math.asin(Me(h/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Z(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Z(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=xc(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=ai(s)+c):(t.height=this.maxHeight,t.width=ai(s)+c),n.display&&this.ticks.length){let{first:l,last:d,widest:u,highest:h}=this._getLabelSizes(),m=n.padding*2,f=Xe(this.labelRotation),_=Math.cos(f),y=Math.sin(f);if(a){let M=n.mirror?0:y*u.width+_*h.height;t.height=Math.min(this.maxHeight,t.height+M+m)}else{let M=n.mirror?0:_*u.width+y*h.height;t.width=Math.min(this.maxWidth,t.width+M+m)}this._calculatePadding(l,d,y,_)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),h=0,m=0;c?l?(h=r*t.width,m=n*e.height):(h=n*t.height,m=r*e.width):s==="start"?m=e.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,m=e.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-u+o)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;s==="start"?(d=0,u=t.height):s==="end"&&(d=e.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Z(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)H(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=Cc(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(e/Mc(e,n)),l=0,d=0,u,h,m,f,_,y,M,C,S,E,k;for(u=0;u<e;u+=c){if(f=t[u].label,_=this._resolveTickFontOptions(u),r.font=y=_.string,M=s[y]=s[y]||{data:{},gc:[]},C=_.lineHeight,S=E=0,!H(f)&&!ee(f))S=Zn(r,M.data,M.gc,S,f),E=C;else if(ee(f))for(h=0,m=f.length;h<m;++h)k=f[h],!H(k)&&!ee(k)&&(S=Zn(r,M.data,M.gc,S,k),E+=C);o.push(S),a.push(E),l=Math.max(S,l),d=Math.max(E,d)}Gh(s,e);let A=o.indexOf(l),D=a.indexOf(d),I=B=>({width:o[B]||0,height:a[B]||0});return{first:I(0),last:I(e-1),widest:I(A),highest:I(D),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Ba(this._alignToPixels?Vt(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=Qh(this.getContext(),t,n))}return this.$context||(this.$context=Xh(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Xe(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*n>a*r?a/n:c/r:c*r<a*n?c/n:a/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),h=ai(s),m=[],f=a.setContext(this.getContext()),_=f.display?f.width:0,y=_/2,M=function(re){return Vt(n,re,_)},C,S,E,k,A,D,I,B,j,V,q,Oe;if(o==="top")C=M(this.bottom),D=this.bottom-h,B=C-y,V=M(t.top)+y,Oe=t.bottom;else if(o==="bottom")C=M(this.top),V=t.top,Oe=M(t.bottom)-y,D=C+y,B=this.top+h;else if(o==="left")C=M(this.right),A=this.right-h,I=C-y,j=M(t.left)+y,q=t.right;else if(o==="right")C=M(this.left),j=t.left,q=M(t.right)-y,A=C+y,I=this.left+h;else if(e==="x"){if(o==="center")C=M((t.top+t.bottom)/2+.5);else if($(o)){let re=Object.keys(o)[0],he=o[re];C=M(this.chart.scales[re].getPixelForValue(he))}V=t.top,Oe=t.bottom,D=C+y,B=D+h}else if(e==="y"){if(o==="center")C=M((t.left+t.right)/2);else if($(o)){let re=Object.keys(o)[0],he=o[re];C=M(this.chart.scales[re].getPixelForValue(he))}A=C-y,I=A-h,j=t.left,q=t.right}let je=N(r.ticks.maxTicksLimit,u),Q=Math.max(1,Math.ceil(u/je));for(S=0;S<u;S+=Q){let re=this.getContext(S),he=s.setContext(re),et=a.setContext(re),Ee=he.lineWidth,gn=he.color,Oi=et.dash||[],fn=et.dashOffset,Wn=he.tickWidth,Gt=he.tickColor,Hn=he.tickBorderDash||[],Xt=he.tickBorderDashOffset;E=Yh(this,S,c),E!==void 0&&(k=Vt(n,E,Ee),l?A=I=j=q=k:D=B=V=Oe=k,m.push({tx1:A,ty1:D,tx2:I,ty2:B,x1:j,y1:V,x2:q,y2:Oe,width:Ee,color:gn,borderDash:Oi,borderDashOffset:fn,tickWidth:Wn,tickColor:Gt,tickBorderDash:Hn,tickBorderDashOffset:Xt}))}return this._ticksLength=u,this._borderValue=C,m}_computeLabelItems(t){let e=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:u}=s,h=ai(n.grid),m=h+d,f=u?-d:m,_=-Xe(this.labelRotation),y=[],M,C,S,E,k,A,D,I,B,j,V,q,Oe="middle";if(r==="top")A=this.bottom-f,D=this._getXAxisLabelAlignment();else if(r==="bottom")A=this.top+f,D=this._getXAxisLabelAlignment();else if(r==="left"){let Q=this._getYAxisLabelAlignment(h);D=Q.textAlign,k=Q.x}else if(r==="right"){let Q=this._getYAxisLabelAlignment(h);D=Q.textAlign,k=Q.x}else if(e==="x"){if(r==="center")A=(t.top+t.bottom)/2+m;else if($(r)){let Q=Object.keys(r)[0],re=r[Q];A=this.chart.scales[Q].getPixelForValue(re)+m}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")k=(t.left+t.right)/2-m;else if($(r)){let Q=Object.keys(r)[0],re=r[Q];k=this.chart.scales[Q].getPixelForValue(re)}D=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(c==="start"?Oe="top":c==="end"&&(Oe="bottom"));let je=this._getLabelSizes();for(M=0,C=a.length;M<C;++M){S=a[M],E=S.label;let Q=s.setContext(this.getContext(M));I=this.getPixelForTick(M)+s.labelOffset,B=this._resolveTickFontOptions(M),j=B.lineHeight,V=ee(E)?E.length:1;let re=V/2,he=Q.color,et=Q.textStrokeColor,Ee=Q.textStrokeWidth,gn=D;o?(k=I,D==="inner"&&(M===C-1?gn=this.options.reverse?"left":"right":M===0?gn=this.options.reverse?"right":"left":gn="center"),r==="top"?l==="near"||_!==0?q=-V*j+j/2:l==="center"?q=-je.highest.height/2-re*j+j:q=-je.highest.height+j/2:l==="near"||_!==0?q=j/2:l==="center"?q=je.highest.height/2-re*j:q=je.highest.height-V*j,u&&(q*=-1),_!==0&&!Q.showLabelBackdrop&&(k+=j/2*Math.sin(_))):(A=I,q=(1-V)*j/2);let Oi;if(Q.showLabelBackdrop){let fn=we(Q.backdropPadding),Wn=je.heights[M],Gt=je.widths[M],Hn=q-fn.top,Xt=0-fn.left;switch(Oe){case"middle":Hn-=Wn/2;break;case"bottom":Hn-=Wn;break}switch(D){case"center":Xt-=Gt/2;break;case"right":Xt-=Gt;break;case"inner":M===C-1?Xt-=Gt:M>0&&(Xt-=Gt/2);break}Oi={left:Xt,top:Hn,width:Gt+fn.width,height:Wn+fn.height,color:Q.backdropColor}}y.push({label:E,font:B,textOffset:q,options:{rotation:_,color:he,strokeColor:et,strokeWidth:Ee,textAlign:gn,textBaseline:Oe,translation:[k,A],backdrop:Oi}})}return y}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Xe(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,c=o.widest.width,l,d;return e==="left"?r?(d=this.right+s,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d=this.left)):e==="right"?r?(d=this.left+s,n==="near"?l="right":n==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,n==="near"?l="left":n==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,s,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),s,o,a=(c,l,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){let c=r[s];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,u,h;this.isHorizontal()?(l=Vt(t,this.left,o)-o/2,d=Vt(t,this.right,a)+a/2,u=h=c):(u=Vt(t,this.top,o)-o/2,h=Vt(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(l,u),e.lineTo(d,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&ni(n,r);let s=this.getLabelItems(t);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;jt(n,l,0,d,c,a)}r&&ii(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;let s=_e(n.font),o=we(n.padding),a=n.align,c=s.lineHeight/2;e==="bottom"||e==="center"||$(e)?(c+=o.bottom,ee(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:u,rotation:h}=Zh(this,c,e,a);jt(t,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:Jh(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=N(t.grid&&t.grid.z,-1),r=N(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],s,o;for(s=0,o=e.length;s<o;++s){let a=e[s];a[n]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return _e(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},In=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;nm(e)&&(n=this.register(e));let r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,em(t,o,n),this.override&&ie.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in ie[r]&&(delete ie[r][n],this.override&&delete Ut[n])}};function em(i,t,e){let n=xn(Object.create(null),[e?ie.get(e):{},ie.get(t),i.defaults]);ie.set(t,n),i.defaultRoutes&&tm(t,i.defaultRoutes),i.descriptors&&ie.describe(t,i.descriptors)}function tm(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),r=n.pop(),s=[i].concat(n).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");ie.route(s,r,c,a)})}function nm(i){return"id"in i&&"defaults"in i}var Ks=class{constructor(){this.controllers=new In(qt,"datasets",!0),this.elements=new In(it,"elements"),this.plugins=new In(Object,"plugins"),this.scales=new In(ln,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{let s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):G(r,o=>{let a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,n){let r=Ki(t);Z(n["before"+r],[],n),e[t](n),Z(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}},pt=new Ks,Ys=class{constructor(){this._init=[]}notify(t,e,n,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,n);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(let s of t){let o=s.plugin,a=o[n],c=[e,r,s.options];if(Z(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){H(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,r=N(n.options&&n.options.plugins,{}),s=im(n);return r===!1&&!e?[]:sm(t,s,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}};function im(i){let t={},e=[],n=Object.keys(pt.plugins.items);for(let s=0;s<n.length;s++)e.push(pt.getPlugin(n[s]));let r=i.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function rm(i,t){return!t&&i===!1?null:i===!0?{}:i}function sm(i,{plugins:t,localIds:e},n,r){let s=[],o=i.getContext();for(let a of t){let c=a.id,l=rm(n[c],r);l!==null&&s.push({plugin:a,options:om(i.config,{plugin:a,local:e[c]},l,o)})}return s}function om(i,{plugin:t,local:e},n,r){let s=i.pluginScopeKeys(t),o=i.getOptionScopes(n,s);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gs(i,t){let e=ie.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function am(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function cm(i,t){return i===t?"_index_":"_value_"}function Pc(i){if(i==="x"||i==="y"||i==="r")return i}function lm(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Xs(i,...t){if(Pc(i))return i;for(let e of t){let n=e.axis||lm(e.position)||i.length>1&&Pc(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Oc(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function dm(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return Oc(i,"x",e[0])||Oc(i,"y",e[0])}return{}}function um(i,t){let e=Ut[i.type]||{scales:{}},n=t.scales||{},r=Gs(i.type,t),s=Object.create(null);return Object.keys(n).forEach(o=>{let a=n[o];if(!$(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=Xs(o,a,dm(o,i),ie.scales[a.type]),l=cm(c,r),d=e.scales||{};s[o]=On(Object.create(null),[{axis:c},a,d[c],d[l]])}),i.data.datasets.forEach(o=>{let a=o.type||i.type,c=o.indexAxis||Gs(a,t),d=(Ut[a]||{}).scales||{};Object.keys(d).forEach(u=>{let h=am(u,c),m=o[h+"AxisID"]||h;s[m]=s[m]||Object.create(null),On(s[m],[{axis:h},n[m],d[u]])})}),Object.keys(s).forEach(o=>{let a=s[o];On(a,[ie.scales[a.type],ie.scale])}),s}function ul(i){let t=i.options||(i.options={});t.plugins=N(t.plugins,{}),t.scales=um(i,t)}function hl(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function hm(i){return i=i||{},i.data=hl(i.data),ul(i),i}var vc=new Map,ml=new Set;function or(i,t){let e=vc.get(i);return e||(e=t(),vc.set(i,e),ml.add(e)),e}var ci=(i,t,e)=>{let n=St(t,e);n!==void 0&&i.add(n)},Qs=class{constructor(t){this._config=hm(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),ul(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return or(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return or(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return or(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return or(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){let{options:r,type:s}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;let c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(u=>ci(c,t,u))),d.forEach(u=>ci(c,r,u)),d.forEach(u=>ci(c,Ut[s]||{},u)),d.forEach(u=>ci(c,ie,u)),d.forEach(u=>ci(c,Qi,u))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),ml.has(e)&&o.set(e,l),l}chartOptionScopes(){let{options:t,type:e}=this;return[t,Ut[e]||{},ie.datasets[e]||{},{type:e},ie,Qi]}resolveNamedOptions(t,e,n,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=Sc(this._resolverCache,t,r),c=o;if(gm(o,e)){s.$shared=!1,n=Ot(n)?n():n;let l=this.createResolver(t,n,a);c=rn(o,n,l)}for(let l of e)s[l]=c[l];return s}createResolver(t,e,n=[""],r){let{resolver:s}=Sc(this._resolverCache,t,n);return $(e)?rn(s,e,void 0,r):s}};function Sc(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let r=e.join(),s=n.get(r);return s||(s={resolver:er(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,s)),s}var mm=i=>$(i)&&Object.getOwnPropertyNames(i).some(t=>Ot(i[t]));function gm(i,t){let{isScriptable:e,isIndexable:n}=Ms(i);for(let r of t){let s=e(r),o=n(r),a=(o||s)&&i[r];if(s&&(Ot(a)||mm(a))||o&&ee(a))return!0}return!1}var fm="4.5.0",pm=["top","bottom","left","right","chartArea"];function wc(i,t){return i==="top"||i==="bottom"||pm.indexOf(i)===-1&&t==="x"}function kc(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function Ec(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Z(e&&e.onComplete,[i],t)}function bm(i){let t=i.chart,e=t.options.animation;Z(e&&e.onProgress,[i],t)}function gl(i){return tr()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var ur={},Tc=i=>{let t=gl(i);return Object.values(ur).filter(e=>e.canvas===t).pop()};function _m(i,t,e){let n=Object.keys(i);for(let r of n){let s=+r;if(s>=t){let o=i[r];delete i[r],(e>0||s>t)&&(i[s+e]=o)}}}function ym(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}var _r=(()=>{class i{static defaults=ie;static instances=ur;static overrides=Ut;static registry=pt;static version=fm;static getChart=Tc;static register(...e){pt.add(...e),Ac()}static unregister(...e){pt.remove(...e),Ac()}constructor(e,n){let r=this.config=new Qs(n),s=gl(e),o=Tc(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Uh(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;if(this.id=Ea(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ys,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ua(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],ur[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}kt.listen(this,"complete",Ec),kt.listen(this,"progress",bm),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return H(e)?n&&o?o:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return pt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Os(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bs(this.canvas,this.ctx),this}stop(){return kt.stop(this),this}resize(e,n){kt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Os(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Z(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};G(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){let e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];n&&(o=o.concat(Object.keys(n).map(a=>{let c=n[a],l=Xs(a,c),d=l==="r",u=l==="x";return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),G(o,a=>{let c=a.options,l=c.id,d=Xs(l,c),u=N(c.type,a.dtype);(c.position===void 0||wc(c.position,d)!==wc(a.dposition))&&(c.position=a.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{let m=pt.getScale(u);h=new m({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(c,e)}),G(s,(a,c)=>{a||delete r[c]}),G(r,a=>{Ie.configure(this,a,a.options),Ie.addBox(this,a)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(kc("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){let o=n[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||Gs(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=pt.getController(c),{datasetElementType:d,dataElementType:u}=ie.datasets[c];Object.assign(l,{dataElementType:pt.getElement(u),datasetElementType:d&&pt.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){G(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:h}=this.getDatasetMeta(d),m=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(m),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||G(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kc("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){G(this.scales,e=>{Ie.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!rs(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of n){let a=r==="_removeElements"?-o:o;_m(e,s,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!rs(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ie.update(this,this.width,this.height,e);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],G(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ot(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(kt.has(this)?this.attached&&!kt.running(this)&&kt.start(this):(this.draw(),Ec({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=Ts(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&ni(n,s),e.controller.draw(),s&&ii(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ht(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){let o=Ch.modes[n];return typeof o=="function"?o(this,e,r,s):[]}getDatasetMeta(e){let n=this.data.datasets[e],r=this._metasets,s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=wt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){let r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){let s=r?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);vn(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),kt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bs(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ur[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,r=(o,a)=>{n.addEventListener(this,o,a),e[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};G(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,r=(l,d)=>{n.addEventListener(this,l,d),e[l]=d},s=(l,d)=>{e[l]&&(n.removeEventListener(this,l,d),delete e[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){G(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},G(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){let s=r?"set":"remove",o,a,c,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],r=e.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!ei(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){let s=this.options.hover,o=(l,d)=>l.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=o(n,e),c=r?e:o(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){let r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){let{_active:s=[],options:o}=this,a=n,c=this._getActiveElements(e,s,r,a),l=Ia(e),d=ym(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Z(o.onHover,[e,c,this],this),l&&Z(o.onClick,[e,c,this],this));let u=!ei(c,s);return(u||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}return i})();function Ac(){return G(_r.instances,i=>i._plugins.invalidate())}function Mm(i,t,e){let{startAngle:n,x:r,y:s,outerRadius:o,innerRadius:a,options:c}=t,{borderWidth:l,borderJoinStyle:d}=c,u=Math.min(l/o,ve(n-e));if(i.beginPath(),i.arc(r,s,o-l/2,n+u/2,e-u/2),a>0){let h=Math.min(l/a,ve(n-e));i.arc(r,s,a+l/2,e-h/2,n+h/2,!0)}else{let h=Math.min(l/2,o*ve(n-e));if(d==="round")i.arc(r,s,h,e-K/2,n+K/2,!0);else if(d==="bevel"){let m=2*h*h,f=-m*Math.cos(e+K/2)+r,_=-m*Math.sin(e+K/2)+s,y=m*Math.cos(n+K/2)+r,M=m*Math.sin(n+K/2)+s;i.lineTo(f,_),i.lineTo(y,M)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function Cm(i,t,e){let{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=t,l=r/a;i.beginPath(),i.arc(s,o,a,n-l,e+l),c>r?(l=r/c,i.arc(s,o,c,e+l,n-l,!0)):i.arc(s,o,r,e+de,n-de),i.closePath(),i.clip()}function xm(i){return Zi(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Pm(i,t,e,n){let r=xm(i.options.borderRadius),s=(e-t)/2,o=Math.min(s,n*t/2),a=c=>{let l=(e-Math.min(s,c))*n/2;return Me(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Me(r.innerStart,0,o),innerEnd:Me(r.innerEnd,0,o)}}function An(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function fr(i,t,e,n,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,u=Math.max(t.outerRadius+n+e-l,0),h=d>0?d+n+e+l:0,m=0,f=r-c;if(n){let Q=d>0?d-n:0,re=u>0?u-n:0,he=(Q+re)/2,et=he!==0?f*he/(he+n):f;m=(f-et)/2}let _=Math.max(.001,f*u-e/K)/u,y=(f-_)/2,M=c+y+m,C=r-y-m,{outerStart:S,outerEnd:E,innerStart:k,innerEnd:A}=Pm(t,h,u,C-M),D=u-S,I=u-E,B=M+S/D,j=C-E/I,V=h+k,q=h+A,Oe=M+k/V,je=C-A/q;if(i.beginPath(),s){let Q=(B+j)/2;if(i.arc(o,a,u,B,Q),i.arc(o,a,u,Q,j),E>0){let Ee=An(I,j,o,a);i.arc(Ee.x,Ee.y,E,j,C+de)}let re=An(q,C,o,a);if(i.lineTo(re.x,re.y),A>0){let Ee=An(q,je,o,a);i.arc(Ee.x,Ee.y,A,C+de,je+Math.PI)}let he=(C-A/h+(M+k/h))/2;if(i.arc(o,a,h,C-A/h,he,!0),i.arc(o,a,h,he,M+k/h,!0),k>0){let Ee=An(V,Oe,o,a);i.arc(Ee.x,Ee.y,k,Oe+Math.PI,M-de)}let et=An(D,M,o,a);if(i.lineTo(et.x,et.y),S>0){let Ee=An(D,B,o,a);i.arc(Ee.x,Ee.y,S,M-de,B)}}else{i.moveTo(o,a);let Q=Math.cos(B)*u+o,re=Math.sin(B)*u+a;i.lineTo(Q,re);let he=Math.cos(j)*u+o,et=Math.sin(j)*u+a;i.lineTo(he,et)}i.closePath()}function Om(i,t,e,n,r){let{fullCircles:s,startAngle:o,circumference:a}=t,c=t.endAngle;if(s){fr(i,t,e,n,c,r);for(let l=0;l<s;++l)i.fill();isNaN(a)||(c=o+(a%te||te))}return fr(i,t,e,n,c,r),i.fill(),c}function vm(i,t,e,n,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=c,f=c.borderAlign==="inner";if(!l)return;i.setLineDash(u||[]),i.lineDashOffset=h,f?(i.lineWidth=l*2,i.lineJoin=d||"round"):(i.lineWidth=l,i.lineJoin=d||"bevel");let _=t.endAngle;if(s){fr(i,t,e,n,_,r);for(let y=0;y<s;++y)i.stroke();isNaN(a)||(_=o+(a%te||te))}f&&Cm(i,t,_),c.selfJoin&&_-o>=K&&m===0&&d!=="miter"&&Mm(i,t,_),s||(fr(i,t,e,n,_,r),i.stroke())}var Js=class extends it{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let r=this.getProps(["x","y"],n),{angle:s,distance:o}=cs(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,m=N(u,c-a),f=wn(s,a,c)&&a!==c,_=m>=te||f,y=gt(o,l+h,d+h);return _&&y}getCenterPoint(t){let{x:e,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+s)/2,u=(o+a+l+c)/2;return{x:e+Math.cos(d)*u,y:n+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>te?Math.floor(n/te):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(K,n||0)),l=r*c;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Om(t,this,l,s,o),vm(t,this,l,s,o),t.restore()}};function fl(i,t,e=t){i.lineCap=N(e.borderCapStyle,t.borderCapStyle),i.setLineDash(N(e.borderDash,t.borderDash)),i.lineDashOffset=N(e.borderDashOffset,t.borderDashOffset),i.lineJoin=N(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=N(e.borderWidth,t.borderWidth),i.strokeStyle=N(e.borderColor,t.borderColor)}function Sm(i,t,e){i.lineTo(e.x,e.y)}function wm(i){return i.stepped?Ha:i.tension||i.cubicInterpolationMode==="monotone"?$a:Sm}function pl(i,t,e={}){let n=i.length,{start:r=0,end:s=n-1}=e,{start:o,end:a}=t,c=Math.max(r,o),l=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:n,start:c,loop:t.loop,ilen:l<c&&!d?n+l-c:l-c}}function km(i,t,e,n){let{points:r,options:s}=t,{count:o,start:a,loop:c,ilen:l}=pl(r,e,n),d=wm(s),{move:u=!0,reverse:h}=n||{},m,f,_;for(m=0;m<=l;++m)f=r[(a+(h?l-m:m))%o],!f.skip&&(u?(i.moveTo(f.x,f.y),u=!1):d(i,_,f,h,s.stepped),_=f);return c&&(f=r[(a+(h?l:0))%o],d(i,_,f,h,s.stepped)),!!c}function Em(i,t,e,n){let r=t.points,{count:s,start:o,ilen:a}=pl(r,e,n),{move:c=!0,reverse:l}=n||{},d=0,u=0,h,m,f,_,y,M,C=E=>(o+(l?a-E:E))%s,S=()=>{_!==y&&(i.lineTo(d,y),i.lineTo(d,_),i.lineTo(d,M))};for(c&&(m=r[C(0)],i.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=r[C(h)],m.skip)continue;let E=m.x,k=m.y,A=E|0;A===f?(k<_?_=k:k>y&&(y=k),d=(u*d+E)/++u):(S(),i.lineTo(E,k),f=A,u=0,_=y=k),M=k}S()}function Zs(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Em:km}function Tm(i){return i.stepped?ec:i.tension||i.cubicInterpolationMode==="monotone"?tc:zt}function Am(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),fl(i,t.options),i.stroke(r)}function Im(i,t,e,n){let{segments:r,options:s}=t,o=Zs(t);for(let a of r)fl(i,s,a.style),i.beginPath(),o(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var Rm=typeof Path2D=="function";function Dm(i,t,e,n){Rm&&!t.options.segment?Am(i,t,e,n):Im(i,t,e,n)}var yr=(()=>{class i extends it{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;Qa(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ic(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){let r=this.options,s=e[n],o=this.points,a=Es(this,{property:n,start:s,end:s});if(!a.length)return;let c=[],l=Tm(r),d,u;for(d=0,u=a.length;d<u;++d){let{start:h,end:m}=a[d],f=o[h],_=o[m];if(f===_){c.push(f);continue}let y=Math.abs((s-f[n])/(_[n]-f[n])),M=l(f,_,y,r.stepped);M[n]=e[n],c.push(M)}return c.length===1?c[0]:c}pathSegment(e,n,r){return Zs(this)(e,this,n,r)}path(e,n,r){let s=this.segments,o=Zs(this),a=this._loop;n=n||0,r=r||this.points.length-n;for(let c of s)a&=o(e,this,c,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Dm(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function Ic(i,t,e,n){let r=i.options,{[e]:s}=i.getProps([e],n);return Math.abs(t-s)<r.radius+r.hitRadius}var Bm=(()=>{class i extends it{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return Ic(this,e,"x",n)}inYRange(e,n){return Ic(this,e,"y",n)}getCenterPoint(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){let r=this.options;this.skip||r.radius<.1||!ht(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ji(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function bl(i,t){let{x:e,y:n,base:r,width:s,height:o}=i.getProps(["x","y","base","width","height"],t),a,c,l,d,u;return i.horizontal?(u=o/2,a=Math.min(e,r),c=Math.max(e,r),l=n-u,d=n+u):(u=s/2,a=e-u,c=e+u,l=Math.min(n,r),d=Math.max(n,r)),{left:a,top:l,right:c,bottom:d}}function $t(i,t,e,n){return i?0:Me(t,e,n)}function Fm(i,t,e){let n=i.options.borderWidth,r=i.borderSkipped,s=ys(n);return{t:$t(r.top,s.top,0,e),r:$t(r.right,s.right,0,t),b:$t(r.bottom,s.bottom,0,e),l:$t(r.left,s.left,0,t)}}function Lm(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Wt(r),o=Math.min(t,e),a=i.borderSkipped,c=n||$(r);return{topLeft:$t(!c||a.top||a.left,s.topLeft,0,o),topRight:$t(!c||a.top||a.right,s.topRight,0,o),bottomLeft:$t(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:$t(!c||a.bottom||a.right,s.bottomRight,0,o)}}function Nm(i){let t=bl(i),e=t.right-t.left,n=t.bottom-t.top,r=Fm(i,e/2,n/2),s=Lm(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Ns(i,t,e,n){let r=t===null,s=e===null,a=i&&!(r&&s)&&bl(i,n);return a&&(r||gt(t,a.left,a.right))&&(s||gt(e,a.top,a.bottom))}function zm(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function Um(i,t){i.rect(t.x,t.y,t.w,t.h)}function zs(i,t,e={}){let n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,s=(i.x+i.w!==e.x+e.w?t:0)-n,o=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+o,radius:i.radius}}var eo=class extends it{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=Nm(this),a=zm(o.radius)?En:Um;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,zs(o,e,s)),t.clip(),a(t,zs(s,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,zs(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Ns(this,t,e,n)}inXRange(t,e){return Ns(this,t,null,e)}inYRange(t,e){return Ns(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},Vm=Object.freeze({__proto__:null,ArcElement:Js,BarElement:eo,LineElement:yr,PointElement:Bm}),to=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Rc=to.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function _l(i){return to[i%to.length]}function yl(i){return Rc[i%Rc.length]}function jm(i,t){return i.borderColor=_l(t),i.backgroundColor=yl(t),++t}function Wm(i,t){return i.backgroundColor=i.data.map(()=>_l(t++)),t}function Hm(i,t){return i.backgroundColor=i.data.map(()=>yl(t++)),t}function $m(i){let t=0;return(e,n)=>{let r=i.getDatasetMeta(n).controller;r instanceof lo?t=Wm(e,t):r instanceof ol?t=Hm(e,t):r&&(t=jm(e,t))}}function Dc(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function qm(i){return i&&(i.borderColor||i.backgroundColor)}function Km(){return ie.borderColor!=="rgba(0,0,0,0.1)"||ie.backgroundColor!=="rgba(0,0,0,0.1)"}var Ym={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:r}=i.config,{elements:s}=r,o=Dc(n)||qm(r)||s&&Dc(s)||Km();if(!e.forceOverride&&o)return;let a=$m(i);n.forEach(a)}};function Gm(i,t,e,n,r){let s=r.samples||n;if(s>=e)return i.slice(t,t+e);let o=[],a=(e-2)/(s-2),c=0,l=t+e-1,d=t,u,h,m,f,_;for(o[c++]=i[d],u=0;u<s-2;u++){let y=0,M=0,C,S=Math.floor((u+1)*a)+1+t,E=Math.min(Math.floor((u+2)*a)+1,e)+t,k=E-S;for(C=S;C<E;C++)y+=i[C].x,M+=i[C].y;y/=k,M/=k;let A=Math.floor(u*a)+1+t,D=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:I,y:B}=i[d];for(m=f=-1,C=A;C<D;C++)f=.5*Math.abs((I-y)*(i[C].y-B)-(I-i[C].x)*(M-B)),f>m&&(m=f,h=i[C],_=C);o[c++]=h,d=_}return o[c++]=i[l],o}function Xm(i,t,e,n){let r=0,s=0,o,a,c,l,d,u,h,m,f,_,y=[],M=t+e-1,C=i[t].x,E=i[M].x-C;for(o=t;o<t+e;++o){a=i[o],c=(a.x-C)/E*n,l=a.y;let k=c|0;if(k===d)l<f?(f=l,u=o):l>_&&(_=l,h=o),r=(s*r+a.x)/++s;else{let A=o-1;if(!H(u)&&!H(h)){let D=Math.min(u,h),I=Math.max(u,h);D!==m&&D!==A&&y.push(O(x({},i[D]),{x:r})),I!==m&&I!==A&&y.push(O(x({},i[I]),{x:r}))}o>0&&A!==m&&y.push(i[A]),y.push(a),d=k,s=0,f=_=l,u=h=m=o}}return y}function Ml(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Bc(i){i.data.datasets.forEach(t=>{Ml(t)})}function Qm(i,t){let e=t.length,n=0,r,{iScale:s}=i,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(n=Me(ut(t,s.axis,o).lo,0,e-1)),l?r=Me(ut(t,s.axis,a).hi+1,n,e)-n:r=e-n,{start:n,count:r}}var Jm={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){Bc(i);return}let n=i.width;i.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=i.getDatasetMeta(s),l=o||r.data;if(Tn([a,i.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=i.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||i.options.parsing)return;let{start:u,count:h}=Qm(c,l),m=e.threshold||4*n;if(h<=m){Ml(r);return}H(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let f;switch(e.algorithm){case"lttb":f=Gm(l,u,h,n,e);break;case"min-max":f=Xm(l,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=f})},destroy(i){Bc(i)}};function Zm(i,t,e){let n=i.segments,r=i.points,s=t.points,o=[];for(let a of n){let{start:c,end:l}=a;l=Mr(c,l,r);let d=no(e,r[c],r[l],a.loop);if(!t.segments){o.push({source:a,target:d,start:r[c],end:r[l]});continue}let u=Es(t,d);for(let h of u){let m=no(e,s[h.start],s[h.end],h.loop),f=ks(a,r,m);for(let _ of f)o.push({source:_,target:h,start:{[e]:Fc(d,m,"start",Math.max)},end:{[e]:Fc(d,m,"end",Math.min)}})}}return o}function no(i,t,e,n){if(n)return;let r=t[i],s=e[i];return i==="angle"&&(r=ve(r),s=ve(s)),{property:i,start:r,end:s}}function eg(i,t){let{x:e=null,y:n=null}=i||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Mr(o,a,r);let c=r[o],l=r[a];n!==null?(s.push({x:c.x,y:n}),s.push({x:l.x,y:n})):e!==null&&(s.push({x:e,y:c.y}),s.push({x:e,y:l.y}))}),s}function Mr(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Fc(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function Cl(i,t){let e=[],n=!1;return ee(i)?(n=!0,e=i):e=eg(i,t),e.length?new yr({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Lc(i){return i&&i.fill!==!1}function tg(i,t,e){let r=i[t].fill,s=[t],o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!oe(r))return r;if(o=i[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function ng(i,t,e){let n=og(i);if($(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return oe(r)&&Math.floor(r)===r?ig(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function ig(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function rg(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:$(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function sg(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:$(i)?n=i.value:n=t.getBaseValue(),n}function og(i){let t=i.options,e=t.fill,n=N(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function ag(i){let{scale:t,index:e,line:n}=i,r=[],s=n.segments,o=n.points,a=cg(t,e);a.push(Cl({x:null,y:t.bottom},n));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)lg(r,o[d],a)}return new yr({points:r,options:{}})}function cg(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let s=n[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function lg(i,t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],{first:o,last:a,point:c}=dg(s,t,"x");if(!(!c||o&&a)){if(o)n.unshift(c);else if(i.push(c),!a)break}}i.push(...n)}function dg(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let r=n[e],s=i.segments,o=i.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],u=o[d.start][e],h=o[d.end][e];if(gt(r,u,h)){a=r===u,c=r===h;break}}return{first:a,last:c,point:n}}var pr=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:r,y:s,radius:o}=this;return e=e||{start:0,end:te},t.arc(r,s,o,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}};function ug(i){let{chart:t,fill:e,line:n}=i;if(oe(e))return hg(t,e);if(e==="stack")return ag(i);if(e==="shape")return!0;let r=mg(i);return r instanceof pr?r:Cl(r,n)}function hg(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function mg(i){return(i.scale||{}).getPointPositionForValue?fg(i):gg(i)}function gg(i){let{scale:t={},fill:e}=i,n=rg(e,t);if(oe(n)){let r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function fg(i){let{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,s=n.reverse?t.max:t.min,o=sg(e,t,s),a=[];if(n.grid.circular){let c=t.getPointPositionForValue(0,s);return new pr({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,o));return a}function Us(i,t,e){let n=ug(t),{chart:r,index:s,line:o,scale:a,axis:c}=t,l=o.options,d=l.fill,u=l.backgroundColor,{above:h=u,below:m=u}=d||{},f=r.getDatasetMeta(s),_=Ts(r,f);n&&o.points.length&&(ni(i,e),pg(i,{line:o,target:n,above:h,below:m,area:e,scale:a,axis:c,clip:_}),ii(i))}function pg(i,t){let{line:e,target:n,above:r,below:s,area:o,scale:a,clip:c}=t,l=e._loop?"angle":t.axis;i.save();let d=s;s!==r&&(l==="x"?(Nc(i,n,o.top),Vs(i,{line:e,target:n,color:r,scale:a,property:l,clip:c}),i.restore(),i.save(),Nc(i,n,o.bottom)):l==="y"&&(zc(i,n,o.left),Vs(i,{line:e,target:n,color:s,scale:a,property:l,clip:c}),i.restore(),i.save(),zc(i,n,o.right),d=r)),Vs(i,{line:e,target:n,color:d,scale:a,property:l,clip:c}),i.restore()}function Nc(i,t,e){let{segments:n,points:r}=t,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[Mr(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(d.x,e),i.lineTo(d.x,d.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(u.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function zc(i,t,e){let{segments:n,points:r}=t,s=!0,o=!1;i.beginPath();for(let a of n){let{start:c,end:l}=a,d=r[c],u=r[Mr(c,l,r)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(e,d.y),i.lineTo(d.x,d.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(e,u.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function Vs(i,t){let{line:e,target:n,property:r,color:s,scale:o,clip:a}=t,c=Zm(e,n,r);for(let{source:l,target:d,start:u,end:h}of c){let{style:{backgroundColor:m=s}={}}=l,f=n!==!0;i.save(),i.fillStyle=m,bg(i,o,a,f&&no(r,u,h)),i.beginPath();let _=!!e.pathSegment(i,l),y;if(f){_?i.closePath():Uc(i,n,h,r);let M=!!n.pathSegment(i,d,{move:_,reverse:!0});y=_&&M,y||Uc(i,n,u,r)}i.closePath(),i.fill(y?"evenodd":"nonzero"),i.restore()}}function bg(i,t,e,n){let r=t.chart.chartArea,{property:s,start:o,end:a}=n||{};if(s==="x"||s==="y"){let c,l,d,u;s==="x"?(c=o,l=r.top,d=a,u=r.bottom):(c=r.left,l=o,d=r.right,u=a),i.beginPath(),e&&(c=Math.max(c,e.left),d=Math.min(d,e.right),l=Math.max(l,e.top),u=Math.min(u,e.bottom)),i.rect(c,l,d-c,u-l),i.clip()}}function Uc(i,t,e,n){let r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var _g={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<n;++o)s=i.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof yr&&(c={visible:i.isDatasetVisible(o),index:o,fill:ng(a,o,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<n;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=tg(r,o,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&Us(i.ctx,a,s))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let s=n[r].$filler;Lc(s)&&Us(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!Lc(n)||e.drawTime!=="beforeDatasetDraw"||Us(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Vc=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},yg=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,br=class extends it{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Z(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,r=_e(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Vc(n,s),l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a,u=t;s.textAlign="left",s.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((f,_)=>{let y=n+e/2+s.measureText(f.text).width;(_===0||l[l.length-1]+y+2*a>o)&&(u+=d,l[l.length-(_>0?0:1)]=0,m+=d,h++),c[_]={left:0,top:m,row:h,width:y,height:r},l[l.length-1]+=y+a}),u}_fitCols(t,e,n,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-t,u=a,h=0,m=0,f=0,_=0;return this.legendItems.forEach((y,M)=>{let{itemWidth:C,itemHeight:S}=Mg(n,e,s,y,r);M>0&&m+S+2*a>d&&(u+=h+a,l.push({width:h,height:m}),f+=h+a,_++,h=m=0),c[M]={left:f,top:m,col:_,width:C,height:S},h=Math.max(h,C),m+=S+a}),u+=h,l.push({width:h,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:s}}=this,o=on(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Se(n,this.left+r,this.right-this.lineWidths[a]);for(let l of e)a!==l.row&&(a=l.row,c=Se(n,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=Se(n,this.top+t+r,this.bottom-this.columnSizes[a].height);for(let l of e)l.col!==a&&(a=l.col,c=Se(n,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;ni(t,this),this._draw(),ii(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:s,labels:o}=t,a=ie.color,c=on(t.rtl,this.left,this.width),l=_e(o.font),{padding:d}=o,u=l.size,h=u/2,m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:f,boxHeight:_,itemHeight:y}=Vc(o,u),M=function(A,D,I){if(isNaN(f)||f<=0||isNaN(_)||_<0)return;r.save();let B=N(I.lineWidth,1);if(r.fillStyle=N(I.fillStyle,a),r.lineCap=N(I.lineCap,"butt"),r.lineDashOffset=N(I.lineDashOffset,0),r.lineJoin=N(I.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=N(I.strokeStyle,a),r.setLineDash(N(I.lineDash,[])),o.usePointStyle){let j={radius:_*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:B},V=c.xPlus(A,f/2),q=D+h;_s(r,j,V,q,o.pointStyleWidth&&f)}else{let j=D+Math.max((u-_)/2,0),V=c.leftForLtr(A,f),q=Wt(I.borderRadius);r.beginPath(),Object.values(q).some(Oe=>Oe!==0)?En(r,{x:V,y:j,w:f,h:_,radius:q}):r.rect(V,j,f,_),r.fill(),B!==0&&r.stroke()}r.restore()},C=function(A,D,I){jt(r,I.text,A,D+y/2,l,{strikethrough:I.hidden,textAlign:c.textAlign(I.textAlign)})},S=this.isHorizontal(),E=this._computeTitleHeight();S?m={x:Se(s,this.left+d,this.right-n[0]),y:this.top+d+E,line:0}:m={x:this.left+d,y:Se(s,this.top+E+d,this.bottom-e[0].height),line:0},Ss(this.ctx,t.textDirection);let k=y+d;this.legendItems.forEach((A,D)=>{r.strokeStyle=A.fontColor,r.fillStyle=A.fontColor;let I=r.measureText(A.text).width,B=c.textAlign(A.textAlign||(A.textAlign=o.textAlign)),j=f+h+I,V=m.x,q=m.y;c.setWidth(this.width),S?D>0&&V+j+d>this.right&&(q=m.y+=k,m.line++,V=m.x=Se(s,this.left+d,this.right-n[m.line])):D>0&&q+k>this.bottom&&(V=m.x=V+e[m.line].width+d,m.line++,q=m.y=Se(s,this.top+E+d,this.bottom-e[m.line].height));let Oe=c.x(V);if(M(Oe,q,A),V=Va(B,V+f+h,S?V+j:this.right,t.rtl),C(c.x(V),q,A),S)m.x+=j+d;else if(typeof A.text!="string"){let je=l.lineHeight;m.y+=xl(A,je)+d}else m.y+=k}),ws(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=_e(e.font),r=we(e.padding);if(!e.display)return;let s=on(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=n.size/2,l=r.top+c,d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+l,u=Se(t.align,u,this.right-h);else{let f=this.columnSizes.reduce((_,y)=>Math.max(_,y.height),0);d=l+Se(t.align,this.top,this.bottom-f-t.labels.padding-this._computeTitleHeight())}let m=Se(a,u,u+h);o.textAlign=s.textAlign(Xi(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,jt(o,e.text,m,d,n)}_computeTitleHeight(){let t=this.options.title,e=_e(t.font),n=we(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,s;if(gt(t,this.left,this.right)&&gt(e,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],gt(t,r.left,r.left+r.width)&&gt(e,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!Pg(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,s=yg(r,n);r&&!s&&Z(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!s&&Z(e.onHover,[t,n,this],this)}else n&&Z(e.onClick,[t,n,this],this)}};function Mg(i,t,e,n,r){let s=Cg(n,i,t,e),o=xg(r,n,t.lineHeight);return{itemWidth:s,itemHeight:o}}function Cg(i,t,e,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+n.measureText(r).width}function xg(i,t,e){let n=i;return typeof t.text!="string"&&(n=xl(t,e)),n}function xl(i,t){let e=i.text?i.text.length:0;return t*e}function Pg(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var Og={id:"legend",_element:br,start(i,t,e){let n=i.legend=new br({ctx:i.ctx,options:e,chart:i});Ie.configure(i,n,e),Ie.addBox(i,n)},stop(i){Ie.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;Ie.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(e?0:void 0),d=we(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},hi=class extends it{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=ee(n.text)?n.text.length:1;this._padding=we(n.padding);let s=r*_e(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,d,u;return this.isHorizontal()?(d=Se(a,n,s),u=e+t,l=s-n):(o.position==="left"?(d=n+t,u=Se(a,r,e),c=K*-.5):(d=s-t,u=Se(a,e,r),c=K*.5),l=r-e),{titleX:d,titleY:u,maxWidth:l,rotation:c}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=_e(e.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);jt(t,e.text,0,0,n,{color:e.color,maxWidth:c,rotation:l,textAlign:Xi(e.align),textBaseline:"middle",translation:[o,a]})}};function vg(i,t){let e=new hi({ctx:i.ctx,options:t,chart:i});Ie.configure(i,e,t),Ie.addBox(i,e),i.titleBlock=e}var Sg={id:"title",_element:hi,start(i,t,e){vg(i,e)},stop(i){let t=i.titleBlock;Ie.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;Ie.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ar=new WeakMap,wg={id:"subtitle",start(i,t,e){let n=new hi({ctx:i.ctx,options:e,chart:i});Ie.configure(i,n,e),Ie.addBox(i,n),ar.set(i,n)},stop(i){Ie.removeBox(i,ar.get(i)),ar.delete(i)},beforeUpdate(i,t,e){let n=ar.get(i);Ie.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},di={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,s=0;for(t=0,e=i.length;t<e;++t){let a=i[t].element;if(a&&a.hasValue()){let c=a.tooltipPosition();n.add(c.x),r+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,c)=>a+c)/n.size,y:r/s}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=i.length;s<o;++s){let c=i[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=$i(t,l);d<r&&(r=d,a=c)}}if(a){let c=a.tooltipPosition();e=c.x,n=c.y}return{x:e,y:n}}};function ft(i,t){return t&&(ee(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Et(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function kg(i,t){let{element:e,datasetIndex:n,index:r}=t,s=i.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:i,label:o,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function jc(i,t){let e=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:o,boxHeight:a}=t,c=_e(t.bodyFont),l=_e(t.titleFont),d=_e(t.footerFont),u=s.length,h=r.length,m=n.length,f=we(t.padding),_=f.height,y=0,M=n.reduce((E,k)=>E+k.before.length+k.lines.length+k.after.length,0);if(M+=i.beforeBody.length+i.afterBody.length,u&&(_+=u*l.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),M){let E=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;_+=m*E+(M-m)*c.lineHeight+(M-1)*t.bodySpacing}h&&(_+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let C=0,S=function(E){y=Math.max(y,e.measureText(E).width+C)};return e.save(),e.font=l.string,G(i.title,S),e.font=c.string,G(i.beforeBody.concat(i.afterBody),S),C=t.displayColors?o+2+t.boxPadding:0,G(n,E=>{G(E.before,S),G(E.lines,S),G(E.after,S)}),C=0,e.font=d.string,G(i.footer,S),e.restore(),y+=f.width,{width:y,height:_}}function Eg(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function Tg(i,t,e,n){let{x:r,width:s}=n,o=e.caretSize+e.caretPadding;if(i==="left"&&r+s+o>t.width||i==="right"&&r-s-o<0)return!0}function Ag(i,t,e,n){let{x:r,width:s}=e,{width:o,chartArea:{left:a,right:c}}=i,l="center";return n==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),Tg(l,i,t,e)&&(l="center"),l}function Wc(i,t,e){let n=e.yAlign||t.yAlign||Eg(i,e);return{xAlign:e.xAlign||t.xAlign||Ag(i,t,e,n),yAlign:n}}function Ig(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Rg(i,t,e){let{y:n,height:r}=i;return t==="top"?n+=e:t==="bottom"?n-=r+e:n-=r/2,n}function Hc(i,t,e,n){let{caretSize:r,caretPadding:s,cornerRadius:o}=i,{xAlign:a,yAlign:c}=e,l=r+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Wt(o),f=Ig(t,a),_=Rg(t,c,l);return c==="center"?a==="left"?f+=l:a==="right"&&(f-=l):a==="left"?f-=Math.max(d,h)+r:a==="right"&&(f+=Math.max(u,m)+r),{x:Me(f,0,n.width-t.width),y:Me(_,0,n.height-t.height)}}function cr(i,t,e){let n=we(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function $c(i){return ft([],Et(i))}function Dg(i,t,e){return wt(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function qc(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var Pl={beforeTitle:mt,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:mt,beforeBody:mt,beforeLabel:mt,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return H(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:mt,afterBody:mt,beforeFooter:mt,footer:mt,afterFooter:mt};function Ue(i,t,e,n){let r=i[t].call(e,n);return typeof r>"u"?Pl[t].call(e,n):r}var Kc=(()=>{class i extends it{static positioners=di;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new hr(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Dg(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:r}=n,s=Ue(r,"beforeTitle",this,e),o=Ue(r,"title",this,e),a=Ue(r,"afterTitle",this,e),c=[];return c=ft(c,Et(s)),c=ft(c,Et(o)),c=ft(c,Et(a)),c}getBeforeBody(e,n){return $c(Ue(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:r}=n,s=[];return G(e,o=>{let a={before:[],lines:[],after:[]},c=qc(r,o);ft(a.before,Et(Ue(c,"beforeLabel",this,o))),ft(a.lines,Ue(c,"label",this,o)),ft(a.after,Et(Ue(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,n){return $c(Ue(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:r}=n,s=Ue(r,"beforeFooter",this,e),o=Ue(r,"footer",this,e),a=Ue(r,"afterFooter",this,e),c=[];return c=ft(c,Et(s)),c=ft(c,Et(o)),c=ft(c,Et(a)),c}_createItems(e){let n=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=n.length;l<d;++l)c.push(kg(this.chart,n[l]));return e.filter&&(c=c.filter((u,h,m)=>e.filter(u,h,m,r))),e.itemSort&&(c=c.sort((u,h)=>e.itemSort(u,h,r))),G(c,u=>{let h=qc(e.callbacks,u);s.push(Ue(h,"labelColor",this,u)),o.push(Ue(h,"labelPointStyle",this,u)),a.push(Ue(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=di[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=jc(this,r),d=Object.assign({},c,l),u=Wc(this.chart,r,d),h=Hc(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){let o=this.getCaretPosition(e,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:h}=Wt(c),{x:m,y:f}=e,{width:_,height:y}=n,M,C,S,E,k,A;return o==="center"?(k=f+y/2,s==="left"?(M=m,C=M-a,E=k+a,A=k-a):(M=m+_,C=M+a,E=k-a,A=k+a),S=M):(s==="left"?C=m+Math.max(l,u)+a:s==="right"?C=m+_-Math.max(d,h)-a:C=this.caretX,o==="top"?(E=f,k=E-a,M=C-a,S=C+a):(E=f+y,k=E+a,M=C+a,S=C-a),A=E),{x1:M,x2:C,x3:S,y1:E,y2:k,y3:A}}drawTitle(e,n,r){let s=this.title,o=s.length,a,c,l;if(o){let d=on(r.rtl,this.x,this.width);for(e.x=cr(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=_e(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<o;++l)n.fillText(s[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=o,u=_e(o.bodyFont),h=cr(this,"left",o),m=s.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,_=n.y+f;if(o.usePointStyle){let y={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},M=s.leftForLtr(m,d)+d/2,C=_+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ji(e,y,M,C),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Ji(e,y,M,C)}else{e.lineWidth=$(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let y=s.leftForLtr(m,d),M=s.leftForLtr(s.xPlus(m,1),d-2),C=Wt(a.borderRadius);Object.values(C).some(S=>S!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,En(e,{x:y,y:_,w:d,h:l,radius:C}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),En(e,{x:M,y:_+1,w:d-2,h:l-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(y,_,d,l),e.strokeRect(y,_,d,l),e.fillStyle=a.backgroundColor,e.fillRect(M,_+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=r,h=_e(r.bodyFont),m=h.lineHeight,f=0,_=on(r.rtl,this.x,this.width),y=function(B){n.fillText(B,_.x(e.x+f),e.y+m/2),e.y+=m+o},M=_.textAlign(a),C,S,E,k,A,D,I;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=cr(this,M,r),n.fillStyle=r.bodyColor,G(this.beforeBody,y),f=c&&M!=="right"?a==="center"?d/2+u:d+2+u:0,k=0,D=s.length;k<D;++k){for(C=s[k],S=this.labelTextColors[k],n.fillStyle=S,G(C.before,y),E=C.lines,c&&E.length&&(this._drawColorBox(n,e,k,_,r),m=Math.max(h.lineHeight,l)),A=0,I=E.length;A<I;++A)y(E[A]),m=h.lineHeight;G(C.after,y)}f=0,m=h.lineHeight,G(this.afterBody,y),e.y-=o}drawFooter(e,n,r){let s=this.footer,o=s.length,a,c;if(o){let l=on(r.rtl,this.x,this.width);for(e.x=cr(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=_e(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:u}=r,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:_}=Wt(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+h,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(c+d-m,l),n.quadraticCurveTo(c+d,l,c+d,l+m),a==="center"&&o==="right"&&this.drawCaret(e,n,r,s),n.lineTo(c+d,l+u-_),n.quadraticCurveTo(c+d,l+u,c+d-_,l+u),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(c+f,l+u),n.quadraticCurveTo(c,l+u,c,l+u-f),a==="center"&&o==="left"&&this.drawCaret(e,n,r,s),n.lineTo(c,l+h),n.quadraticCurveTo(c,l,c+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=di[e.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=jc(this,e),l=Object.assign({},a,this._size),d=Wc(n,e,l),u=Hc(e,l,d,n);(s._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=we(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,n),Ss(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),ws(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let r=this._active,s=e.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!ei(r,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,r),c=this._positionChanged(a,e),l=n||!ei(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){let o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,n){let{caretX:r,caretY:s,options:o}=this,a=di[o.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}return i})(),Bg={id:"tooltip",_element:Kc,positioners:di,afterInit(i,t,e){e&&(i.tooltip=new Kc({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",O(x({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Pl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Fg=Object.freeze({__proto__:null,Colors:Ym,Decimation:Jm,Filler:_g,Legend:Og,SubTitle:wg,Title:Sg,Tooltip:Bg}),Lg=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Ng(i,t,e,n){let r=i.indexOf(t);if(r===-1)return Lg(i,t,e,n);let s=i.lastIndexOf(t);return r!==s?e:r}var zg=(i,t)=>i===null?null:Me(Math.round(i),0,t);function Yc(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var Ug=(()=>{class i extends ln{static id="category";static defaults={ticks:{callback:Yc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(H(e))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Ng(r,e,N(n,e),this._addedLabels),zg(n,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let e=this.min,n=this.max,r=this.options.offset,s=[],o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return Yc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Vg(i,t){let e=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:u,includeBounds:h}=i,m=s||1,f=d-1,{min:_,max:y}=t,M=!H(o),C=!H(a),S=!H(l),E=(y-_)/(u+1),k=ss((y-_)/f/m)*m,A,D,I,B;if(k<1e-14&&!M&&!C)return[{value:_},{value:y}];B=Math.ceil(y/k)-Math.floor(_/k),B>f&&(k=ss(B*k/f/m)*m),H(c)||(A=Math.pow(10,c),k=Math.ceil(k*A)/A),r==="ticks"?(D=Math.floor(_/k)*k,I=Math.ceil(y/k)*k):(D=_,I=y),M&&C&&s&&Da((a-o)/s,k/1e3)?(B=Math.round(Math.min((a-o)/k,d)),k=(a-o)/B,D=o,I=a):S?(D=M?o:D,I=C?a:I,B=l-1,k=(I-D)/B):(B=(I-D)/k,Sn(B,Math.round(B),k/1e3)?B=Math.round(B):B=Math.ceil(B));let j=Math.max(as(k),as(D));A=Math.pow(10,H(c)?j:c),D=Math.round(D*A)/A,I=Math.round(I*A)/A;let V=0;for(M&&(h&&D!==o?(e.push({value:o}),D<o&&V++,Sn(Math.round((D+V*k)*A)/A,o,Gc(o,E,i))&&V++):D<o&&V++);V<B;++V){let q=Math.round((D+V*k)*A)/A;if(C&&q>a)break;e.push({value:q})}return C&&h&&I!==a?e.length&&Sn(e[e.length-1].value,a,Gc(a,E,i))?e[e.length-1].value=a:e.push({value:a}):(!C||I===a)&&e.push({value:I}),e}function Gc(i,t,{horizontal:e,minRotation:n}){let r=Xe(n),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+i).length;return Math.min(t/s,o)}var Rn=class extends ln{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return H(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=e?r:c,a=c=>s=n?s:c;if(t){let c=nt(r),l=nt(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),t||o(r-c)}this.min=r,this.max=s}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=Vg(r,s);return t.bounds==="ticks"&&os(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return kn(t,this.chart.options.locale,this.options.ticks.format)}},io=class extends Rn{static id="linear";static defaults={ticks:{callback:ti.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?t:0,this.max=oe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=Xe(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},mi=i=>Math.floor(vt(i)),cn=(i,t)=>Math.pow(10,mi(i)+t);function Xc(i){return i/Math.pow(10,mi(i))===1}function Qc(i,t,e){let n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function jg(i,t){let e=t-i,n=mi(e);for(;Qc(i,t,n)>10;)n++;for(;Qc(i,t,n)<10;)n--;return Math.min(n,mi(i))}function Wg(i,{min:t,max:e}){t=ze(i.min,t);let n=[],r=mi(t),s=jg(t,e),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((t-c)*o)/o,d=Math.floor((t-c)/a/10)*a*10,u=Math.floor((l-d)/Math.pow(10,s)),h=ze(i.min,Math.round((c+d+u*Math.pow(10,s))*o)/o);for(;h<e;)n.push({value:h,major:Xc(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),h=Math.round((c+d+u*Math.pow(10,s))*o)/o;let m=ze(i.max,h);return n.push({value:m,major:Xc(m),significand:u}),n}var ro=class extends ln{static id="logarithmic";static defaults={ticks:{callback:ti.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Rn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return oe(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?Math.max(0,t):null,this.max=oe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!oe(this._userMin)&&(this.min=t===cn(this.min,0)?cn(this.min,-1):cn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,r=this.max,s=a=>n=t?n:a,o=a=>r=e?r:a;n===r&&(n<=0?(s(1),o(10)):(s(cn(n,-1)),o(cn(r,1)))),n<=0&&s(cn(r,-1)),r<=0&&o(cn(n,1)),this.min=n,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=Wg(e,this);return t.bounds==="ticks"&&os(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":kn(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=vt(t),this._valueRange=vt(this.max)-vt(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(vt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function so(i){let t=i.ticks;if(t.display&&i.display){let e=we(t.backdropPadding);return N(t.font&&t.font.size,ie.font.size)+e.height}return 0}function Hg(i,t,e){return e=ee(e)?e:[e],{w:Wa(i,t.string,e),h:e.length*t.lineHeight}}function Jc(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function $g(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],s=i._pointLabels.length,o=i.options.pointLabels,a=o.centerPointLabels?K/s:0;for(let c=0;c<s;c++){let l=o.setContext(i.getPointLabelContext(c));r[c]=l.padding;let d=i.getPointPosition(c,i.drawingArea+r[c],a),u=_e(l.font),h=Hg(i.ctx,u,i._pointLabels[c]);n[c]=h;let m=ve(i.getIndexAngle(c)+a),f=Math.round(Yi(m)),_=Jc(f,d.x,h.w,0,180),y=Jc(f,d.y,h.h,90,270);qg(e,t,m,_,y)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=Gg(i,n,r)}function qg(i,t,e,n,r){let s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,c=0;n.start<t.l?(a=(t.l-n.start)/s,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/s,i.r=Math.max(i.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/o,i.t=Math.min(i.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/o,i.b=Math.max(i.b,t.b+c))}function Kg(i,t,e){let n=i.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=e,c=i.getPointPosition(t,n+r+o,s),l=Math.round(Yi(ve(c.angle+de))),d=Jg(c.y,a.h,l),u=Xg(l),h=Qg(c.x,a.w,u);return{visible:!0,x:c.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function Yg(i,t){if(!t)return!0;let{left:e,top:n,right:r,bottom:s}=i;return!(ht({x:e,y:n},t)||ht({x:e,y:s},t)||ht({x:r,y:n},t)||ht({x:r,y:s},t))}function Gg(i,t,e){let n=[],r=i._pointLabels.length,s=i.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:so(s)/2,additionalAngle:o?K/r:0},l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];let u=Kg(i,d,c);n.push(u),a==="auto"&&(u.visible=Yg(u,l),u.visible&&(l=u))}return n}function Xg(i){return i===0||i===180?"center":i<180?"left":"right"}function Qg(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function Jg(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function Zg(i,t,e){let{left:n,top:r,right:s,bottom:o}=e,{backdropColor:a}=t;if(!H(a)){let c=Wt(t.borderRadius),l=we(t.backdropPadding);i.fillStyle=a;let d=n-l.left,u=r-l.top,h=s-n+l.width,m=o-r+l.height;Object.values(c).some(f=>f!==0)?(i.beginPath(),En(i,{x:d,y:u,w:h,h:m,radius:c}),i.fill()):i.fillRect(d,u,h,m)}}function ef(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){let s=i._pointLabelItems[r];if(!s.visible)continue;let o=n.setContext(i.getPointLabelContext(r));Zg(e,o,s);let a=_e(o.font),{x:c,y:l,textAlign:d}=s;jt(e,i._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Ol(i,t,e,n){let{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,te);else{let s=i.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=i.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function tf(i,t,e,n,r){let s=i.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!n||!a||!c||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),Ol(i,e,o,n),s.closePath(),s.stroke(),s.restore())}function nf(i,t,e){return wt(i,{label:e,index:t,type:"pointLabel"})}var oo=class extends Rn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ti.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=we(so(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=oe(t)&&!isNaN(t)?t:0,this.max=oe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/so(this.options))}generateTickLabels(t){Rn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let r=Z(this.options.pointLabels.callback,[e,n],this);return r||r===0?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?$g(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){let e=te/(this._pointLabels.length||1),n=this.options.startAngle||0;return ve(t*e+Xe(n))}getDistanceFromCenterForValue(t){if(H(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(H(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return nf(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let r=this.getIndexAngle(t)-de+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:s}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),Ol(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:r,border:s}=e,o=this._pointLabels.length,a,c,l;if(e.pointLabels.display&&ef(this,o),r.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(u),m=r.setContext(h),f=s.setContext(h);tf(this,m,c,o,f)}}),n.display){for(t.save(),a=o-1;a>=0;a--){let d=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:h}=d;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let r=this.getIndexAngle(0),s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let l=n.setContext(this.getContext(c)),d=_e(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;let u=we(l.backdropPadding);t.fillRect(-o/2-u.left,-s-d.size/2-u.top,o+u.width,d.size+u.height)}jt(t,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},Cr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ve=Object.keys(Cr);function Zc(i,t){return i-t}function el(i,t){if(H(t))return null;let e=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts,o=t;return typeof n=="function"&&(o=n(o)),oe(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(sn(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function tl(i,t,e,n){let r=Ve.length;for(let s=Ve.indexOf(i);s<r-1;++s){let o=Cr[Ve[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=n)return Ve[s]}return Ve[r-1]}function rf(i,t,e,n,r){for(let s=Ve.length-1;s>=Ve.indexOf(e);s--){let o=Ve[s];if(Cr[o].common&&i._adapter.diff(r,n,o)>=t-1)return o}return Ve[e?Ve.indexOf(e):0]}function sf(i){for(let t=Ve.indexOf(i)+1,e=Ve.length;t<e;++t)if(Cr[Ve[t]].common)return Ve[t]}function nl(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:r}=Gi(e,t),s=e[n]>=t?e[n]:e[r];i[s]=!0}}function of(i,t,e,n){let r=i._adapter,s=+r.startOf(t[0].value,n),o=t[t.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,n))c=e[a],c>=0&&(t[c].major=!0);return t}function il(i,t,e){let n=[],r={},s=t.length,o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,n.push({value:a,major:!1});return s===0||!e?n:of(i,n,r,e)}var ao=(()=>{class i extends ln{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let r=e.time||(e.time={}),s=this._adapter=new ph._date(e.adapters.date);s.init(n),On(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:el(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,r=e.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=oe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=oe(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){let e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=La(s,o,a);return this._unit=n.unit||(r.autoSkip?tl(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):rf(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:sf(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),il(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=Me(n,0,a),r=Me(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let e=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||tl(o.minUnit,n,r,this._getLabelCapacity(n)),c=N(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=sn(l)||l===!0,u={},h=n,m,f;if(d&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,d?"day":a),e.diff(r,n,a)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+a);let _=s.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<r;m=+e.add(m,c,a),f++)nl(u,m,_);return(m===r||s.bounds==="ticks"||f===1)&&nl(u,m,_),Object.keys(u).sort(Zc).map(y=>+y)}getLabelForValue(e){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){let s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){let o=this.options,a=o.ticks.callback;if(a)return Z(a,[e,n,r],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,u=l&&c[l],h=d&&c[d],m=r[n],f=d&&h&&m&&m.major;return this._adapter.format(e,s||(f?h:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,r=this.ctx.measureText(e).width,s=Xe(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(e){let n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,il(this,[e],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,r;if(e.length)return e;let s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(el(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ds(e.sort(Zc))}}return i})();function lr(i,t,e){let n=0,r=i.length-1,s,o,a,c;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=ut(i,"pos",t)),{pos:s,time:a}=i[n],{pos:o,time:c}=i[r]):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=ut(i,"time",t)),{time:s,pos:a}=i[n],{time:o,pos:c}=i[r]);let l=o-s;return l?a+(c-a)*(t-s)/l:a}var co=class extends ao{static id="timeseries";static defaults=ao.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=lr(e,this.min),this._tableRange=lr(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,r=[],s=[],o,a,c,l,d;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],l=r[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(lr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return lr(this._table,n*this._tableRange+this._minPos,!0)}},af=Object.freeze({__proto__:null,CategoryScale:Ug,LinearScale:io,LogarithmicScale:ro,RadialLinearScale:oo,TimeScale:ao,TimeSeriesScale:co}),vl=[fh,Vm,Fg,af];var Sl=[{id:"deep-nested",name:"Deep Nested Updates",description:"Updates to deeply nested state (15 levels)",operations:"1000 updates",complexity:"High",selected:!0,category:"core",purpose:"Measures surgical update performance in complex object hierarchies",frequencyWeight:2.5,realWorldFrequency:"Very High - Forms, settings, nested UI components",architecturalTradeOffs:"Direct mutation excels with deep updates vs immutable rebuilding",enhancers:{required:["withBatching"],optional:["withShallowMemoization"],rationale:"Batching prevents excessive notifications; shallow memoization helps with object updates"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"linear"}},{id:"large-array",name:"Large Array Mutations",description:"Array operations on large datasets",operations:"Size \xD7 10",complexity:"Medium",selected:!1,category:"core",purpose:"Tests O(1) direct mutation vs O(n) immutable array rebuilding",frequencyWeight:1.8,realWorldFrequency:"High - Lists, tables, data grids, search results",architecturalTradeOffs:"Direct mutation provides massive advantages for large arrays vs immutable rebuilding",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"High-performance batching essential for rapid array updates; memoization counterproductive"},dataRequirements:{minSize:1e3,maxSize:1e5,defaultSize:1e4,scalesWith:"linear"}},{id:"computed-chains",name:"Complex Computed Chains",description:"Cascading computed values with dependencies",operations:"500 computations",complexity:"High",selected:!1,category:"core",purpose:"Evaluates dependency graph resolution and computed value performance",frequencyWeight:2.2,realWorldFrequency:"High - Derived state, calculated fields, data transformations",architecturalTradeOffs:"Granular reactivity prevents unnecessary recalculations vs coarse invalidation",enhancers:{required:["withBatching","withShallowMemoization"],optional:[],rationale:"Batching reduces cascading updates; memoization prevents redundant computations"},dataRequirements:{minSize:100,maxSize:1e3,defaultSize:500,scalesWith:"logarithmic"}},{id:"batch-updates",name:"Batched Operations",description:"Multiple simultaneous state updates",operations:"100 batches",complexity:"Medium",selected:!1,category:"core",purpose:"Tests batching system efficiency and transaction-like behavior",frequencyWeight:2,realWorldFrequency:"Common - Form saves, bulk edits, transaction-like updates",architecturalTradeOffs:"Batching reduces render thrashing vs individual update overhead",enhancers:{required:["withHighPerformanceBatching"],optional:[],rationale:"Core batching functionality being tested - no other enhancers needed"},dataRequirements:{minSize:50,maxSize:1e3,defaultSize:100,scalesWith:"linear"}},{id:"selector-memoization",name:"Selector/Memoization",description:"Memoized selector performance",operations:"1000 selections",complexity:"Low",selected:!1,category:"core",purpose:"Evaluates memoization effectiveness and cache hit rates",frequencyWeight:2.8,realWorldFrequency:"Very High - Data filtering, searching, computed UI state",architecturalTradeOffs:"Memoization prevents expensive recalculations vs memory overhead",enhancers:{required:["withLightweightMemoization"],optional:["withBatching"],rationale:"Testing memoization system - lightweight version for better performance"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"serialization",name:"Serialization (Snapshot + JSON)",description:"Convert state to plain JSON (unwrap + stringify)",operations:"Per iteration",complexity:"Medium",selected:!1,category:"core",purpose:"Measures serialization overhead and JSON conversion performance",frequencyWeight:.8,realWorldFrequency:"Low - State persistence, debugging, server-side rendering",architecturalTradeOffs:"Direct JSON serialization vs complex immutable structure traversal",enhancers:{required:["withSerialization","withMemoization","withHighPerformanceBatching"],optional:[],rationale:"Testing serialization feature; memoization and batching for stable baseline"},dataRequirements:{minSize:100,maxSize:1e4,defaultSize:1e3,scalesWith:"exponential"}},{id:"concurrent-updates",name:"Rapid Sequential Updates",description:"High-frequency sequential modifications",operations:"50 concurrent",complexity:"Extreme",selected:!1,category:"core",purpose:"Tests performance under high-frequency update pressure",frequencyWeight:.4,realWorldFrequency:"Rare - Gaming, real-time data streams, intensive animations",architecturalTradeOffs:"Direct mutation handles rapid updates vs immutable bottlenecks",enhancers:{required:["withBatching"],optional:[],rationale:"Batching essential to prevent overwhelming the reactivity system"},dataRequirements:{minSize:50,maxSize:500,defaultSize:50,scalesWith:"linear"}},{id:"subscriber-scaling",name:"Subscriber Scaling",description:"Performance with increasing numbers of subscribers to a single state node",operations:"1000 updates with N subscribers",complexity:"High",selected:!0,category:"core",purpose:"Measures update fanout performance and scalability as subscriber count increases",frequencyWeight:1.5,realWorldFrequency:"Medium-High - Reactive UIs, data binding, multiple components",architecturalTradeOffs:"Direct mutation scales better with many subscribers vs immutable notification overhead",enhancers:{required:[],optional:["withBatching"],rationale:"Testing core reactivity scaling; batching may help with fanout"},dataRequirements:{minSize:10,maxSize:1e3,defaultSize:100,scalesWith:"linear"}},{id:"undo-redo",name:"Undo/Redo Operations",description:"Time-travel through state history",operations:"100 undo/redo",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel functionality and history navigation performance",frequencyWeight:.6,realWorldFrequency:"Low - Text editors, design tools, debugging workflows",architecturalTradeOffs:"Time-travel requires immutable snapshots vs direct mutation benefits",enhancers:{required:["withTimeTravel"],optional:["withBatching"],rationale:"Time-travel enhancer required; batching may improve performance"},dataRequirements:{minSize:50,maxSize:500,defaultSize:100,scalesWith:"linear"}},{id:"history-size",name:"Large History Size",description:"Performance with large history buffers",operations:"1000 history entries",complexity:"High",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests time-travel performance with large history buffers",frequencyWeight:.3,realWorldFrequency:"Rare - Development tools, complex debugging workflows",architecturalTradeOffs:"Large history requires significant memory vs lightweight state tracking",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer with large history size configuration"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"logarithmic"}},{id:"jump-to-state",name:"Jump to State",description:"Jumping to arbitrary points in history",operations:"50 jumps",complexity:"Medium",selected:!1,category:"time-travel",signalTreeOnly:!0,purpose:"Tests random access performance in time-travel history",frequencyWeight:.2,realWorldFrequency:"Very Rare - Advanced debugging, development tools",architecturalTradeOffs:"Random state access requires indexed history vs linear traversal",enhancers:{required:["withTimeTravel"],optional:[],rationale:"Time-travel enhancer for state jumping functionality"},dataRequirements:{minSize:25,maxSize:200,defaultSize:50,scalesWith:"linear"}},{id:"single-middleware",name:"Single Middleware",description:"Performance impact of one middleware",operations:"1000 operations",complexity:"Low",selected:!1,category:"middleware",purpose:"Measures overhead of middleware layer on performance",frequencyWeight:1.2,realWorldFrequency:"Medium - Logging, analytics, error tracking",architecturalTradeOffs:"Middleware adds flexibility vs direct performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing middleware impact"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"multiple-middleware",name:"Multiple Middleware",description:"Stack of multiple middleware layers",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance impact of middleware stack depth",frequencyWeight:.7,realWorldFrequency:"Low - Enterprise apps with complex middleware stacks",architecturalTradeOffs:"Middleware composition flexibility vs cumulative performance overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing cumulative middleware overhead"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}},{id:"conditional-middleware",name:"Conditional Middleware",description:"Middleware with conditional logic",operations:"1000 operations",complexity:"Medium",selected:!1,category:"middleware",purpose:"Tests performance of conditional middleware execution paths",frequencyWeight:.5,realWorldFrequency:"Rare - Advanced middleware with conditional logic",architecturalTradeOffs:"Conditional middleware provides smart optimization vs branching overhead",enhancers:{required:[],optional:["withBatching"],rationale:"No enhancers required - testing conditional middleware logic"},dataRequirements:{minSize:500,maxSize:5e3,defaultSize:1e3,scalesWith:"linear"}}];var Dn={type:null,entityIds:null,skip:!1,payload:null},uo=!1;function ho(){uo=!1}function $e(i,t,e){Ce(i,t,e),uo=!0}function Ce(i,t,e){uo===!1&&(Dn.type=i,Dn.entityIds=t,Dn.payload=e)}function mo(i,t){return function(e,n,r){let s=r.value;return r.value=function(...o){return $e(i,t),s.apply(this,o)},r}}function bt(i,t){return i.hasOwnProperty(t)}function Qe(i){return Array.isArray(i)}function fi(i){return i.hasOwnProperty("active")}function xr(i){return Qe(i)}function pi({active:i,ids:t,entities:e}){return xr(i)?wl(i,t):bt(e,i)===!1?null:i}function wl(i,t){let e=i.filter(n=>t.indexOf(n)>-1);return e.length===i.length?i:e}function go({state:i,entities:t,idKey:e,options:n={},preAddEntity:r}){let s={},o=[],a=!1;for(let c of t)if(bt(i.entities,c[e])===!1){let l=r(c),d=l[e];s[d]=l,n.prepend?o.unshift(d):o.push(d),a=!0}return a?{newState:O(x({},i),{entities:x(x({},i.entities),s),ids:n.prepend?[...o,...i.ids]:[...i.ids,...o]}),newIds:o}:null}function xe(i){return i==null}function me(i){return xe(i)?[]:Array.isArray(i)?i:[i]}function _t(i){return Qe(i)?i.length===0:!1}function ne(i){return typeof i=="function"}function Tt(i){let t=typeof i;return i!=null&&(t=="object"||t=="function")}var kl={resettable:!1,ttl:null,producerFn:void 0};function Bn(){return kl}function El(){return kl.producerFn}function un(i){return xe(i)===!1}var fo=new ye,bi=new Si(50,5e3),Tl=new ye;function Al(i){fo.next(i)}function Il(i){bi.next(i)}function Rl(i,t){Tl.next({storeName:i,action:t})}var _i=typeof window<"u";var Re={},Dl={};_i&&(window.$$stores=Re,window.$$queries=Dl);var Kt=(function(i){return i.Set="Set",i.Add="Add",i.Update="Update",i.Remove="Remove",i})(Kt||{});var Pr=!0;function ae(){return Pr}function po(i,t,e){let n;if(Qe(i))n=i;else if(Tt(i)){if(xe(e))return;i=Object.assign({wrap:!0},i);let r=t.indexOf(e);if(i.prev){let s=r===0;if(s&&!i.wrap)return;n=s?t[t.length-1]:t[r-1]}else if(i.next){let s=t.length===r+1;if(s&&!i.wrap)return;n=s?t[0]:t[r+1]}}else{if(i===e)return;n=i}return n}var bo=()=>({entities:{},ids:[],loading:!0,error:null});function rt(i){return i===void 0}function _o({state:i,ids:t}){if(xe(t))return Fl(i);let e=i.entities,n={};for(let s of i.ids)t.includes(s)===!1&&(n[s]=e[s]);let r=O(x({},i),{entities:n,ids:i.ids.filter(s=>t.includes(s)===!1)});return fi(i)&&(r.active=pi(r)),r}function Fl(i){return O(x({},i),{entities:{},ids:[],active:xr(i.active)?[]:null})}function yo(i,t,e){let n={entities:{},ids:[]};for(let r of i){let s=e(r);n.entities[s[t]]=s,n.ids.push(s[t])}return n}function Nl(i){return i.entities&&i.ids}function Ll(i,t){let e={};for(let n of Object.keys(i))e[n]=t(i[n]);return e}function Mo({state:i,entities:t,idKey:e,preAddEntity:n,isNativePreAdd:r}){let s,o;if(Qe(t)){let c=yo(t,e,n);s=c.entities,o=c.ids}else Nl(t)?(s=r?t.entities:Ll(t.entities,n),o=t.ids):(s=r?t:Ll(t,n),o=Object.keys(s).map(c=>isNaN(c)?c:Number(c)));let a=O(x({},i),{entities:s,ids:o,loading:!1});return fi(i)&&(a.active=pi(a)),a}function Co(i){Object.freeze(i);let t=typeof i=="function",e=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(i).forEach(function(n){e.call(i,n)&&(!t||n!=="caller"&&n!=="callee"&&n!=="arguments")&&i[n]!==null&&(typeof i[n]=="object"||typeof i[n]=="function")&&!Object.isFrozen(i[n])&&Co(i[n])}),i}function zl(i,t){i||console.error(`@StoreConfig({ name }) is missing in ${t}`)}function At(i){return i!=null&&`${i}`!="false"}function Fn(i){return At(i)&&i.constructor.name==="Object"}var hn="akitaConfig";function st(i){return function(t){t[hn]={idKey:"id"};for(let e=0,n=Object.keys(i);e<n.length;e++){let r=n[e];r==="name"?t[hn].storeName=i[r]:t[hn][r]=i[r]}}}var hf=new ye,Ul=new We(!1),It={activeTransactions:0,batchTransaction:null};function Vl(){Or()||(It.batchTransaction=new ye),It.activeTransactions++,Ul.next(!0)}function jl(){--It.activeTransactions===0&&(It.batchTransaction.next(!0),It.batchTransaction.complete(),Ul.next(!1),hf.next(!0))}function Or(){return It.activeTransactions>0}function xo(){return It.batchTransaction?It.batchTransaction.asObservable():zr(!0)}function yi(i,t=void 0){Vl();try{return i.apply(t)}finally{$e("@Transaction"),jl()}}function vr(){return function(i,t,e){let n=e.value;return e.value=function(...r){return yi(()=>n.apply(this,r),this)},e}}var yt=class{constructor(t,e={}){this.options=e,this.inTransaction=!1,this.cache={active:new We(!1),ttl:null},this.onInit(t)}setLoading(t=!1){t!==this._value().loading&&(ae()&&Ce("Set Loading"),this._setState(e=>O(x({},e),{loading:t})))}setHasCache(t,e={restartTTL:!1}){if(t!==this.cache.active.value&&this.cache.active.next(t),e.restartTTL){let n=this.getCacheTTL();n&&(this.cache.ttl!==null&&clearTimeout(this.cache.ttl),this.cache.ttl=setTimeout(()=>this.setHasCache(!1),n))}}getValue(){return this.storeValue}setError(t){t!==this._value().error&&(ae()&&Ce("Set Error"),this._setState(e=>O(x({},e),{error:t})))}_select(t){return this.store.asObservable().pipe(Le(e=>t(e.state)),bn())}_value(){return this.storeValue}_cache(){return this.cache.active}get config(){return this.constructor[hn]||{}}get storeName(){return this.config.storeName||this.options.storeName||this.options.name}get deepFreeze(){return this.config.deepFreezeFn||this.options.deepFreezeFn||Co}get cacheConfig(){return this.config.cache||this.options.cache}get _producerFn(){return this.config.producerFn||this.options.producerFn||El()}get resettable(){return un(this.config.resettable)?this.config.resettable:this.options.resettable}_setState(t,e=!0){if(ne(t)){let n=t(this._value());this.storeValue=Pr?this.deepFreeze(n):n}else this.storeValue=t;if(!this.store){this.store=new We({state:this.storeValue}),ae()&&this.store.subscribe(({action:n})=>{n&&Rl(this.storeName,n)});return}if(Or()){this.handleTransaction();return}this.dispatch(this.storeValue,e)}reset(){this.isResettable()&&(ae()&&Ce("Reset"),this._setState(()=>Object.assign({},this._initialState)),this.setHasCache(!1))}update(t){ae()&&Ce("Update");let e,n=this._value();ne(t)?e=ne(this._producerFn)?this._producerFn(n,t):t(n):e=t;let r=this.akitaPreUpdate(n,x(x({},n),e)),s=Fn(n)?r:new n.constructor(r);this._setState(s)}updateStoreConfig(t){this.options=x(x({},this.options),t)}akitaPreUpdate(t,e){return e}destroy(){!(_i?window.hmrEnabled:!1)&&this===Re[this.storeName]&&(delete Re[this.storeName],Al(this.storeName),this.setHasCache(!1),this.cache.active.complete(),this.store.complete())}onInit(t){Re[this.storeName]=this,this._setState(()=>t),Il(this.storeName),this.isResettable()&&(this._initialState=t),ae()&&zl(this.storeName,this.constructor.name)}dispatch(t,e=!0){let n;e&&(n=Dn,ho()),this.store.next({state:t,action:n})}watchTransaction(){xo().subscribe(()=>{this.inTransaction=!1,this.dispatch(this._value())})}isResettable(){return this.resettable===!1?!1:this.resettable||Bn().resettable}handleTransaction(){this.inTransaction||(this.watchTransaction(),this.inTransaction=!0)}getCacheTTL(){return this.cacheConfig&&this.cacheConfig.ttl||Bn().ttl}};function Po({state:i,ids:t,idKey:e,newStateOrFn:n,preUpdateEntity:r,producerFn:s,onEntityIdChanges:o}){let a={},c=!1,l;for(let m of t){if(bt(i.entities,m)===!1)continue;let f=i.entities[m],_;ne(n)?_=ne(s)?s(f,n):n(f):_=n;let y=_.hasOwnProperty(e)&&_[e]!==f[e],M;l=m,y&&(c=!0,l=_[e]);let C=x(x({},f),_);Fn(f)?M=C:Fn(_)?M=new f.constructor(C):M=new _.constructor(C),a[l]=r(f,M)}let d=i.ids,u=i.entities;if(c){let[m]=t,h=i.entities,{[m]:f}=h;u=vi(h,[zo(m)]),d=i.ids.map(y=>y===m?l:y),o(m,l)}return O(x({},i),{entities:x(x({},u),a),ids:d})}var Wl,ke=class i extends yt{constructor(t={},e={}){super(x(x({},bo()),t),e),this.options=e,this.entityActions=new ye,this.entityIdChanges=new ye}get selectEntityAction$(){return this.entityActions.asObservable()}get selectEntityIdChanges$(){return this.entityIdChanges.asObservable()}get idKey(){return this.config.idKey||this.options.idKey||"id"}set(t,e={}){if(xe(t))return;ae()&&Ce("Set Entity");let n=this.akitaPreAddEntity===i.prototype.akitaPreAddEntity;this.setHasCache(!0,{restartTTL:!0}),this._setState(r=>{let s=Mo({state:r,entities:t,idKey:this.idKey,preAddEntity:this.akitaPreAddEntity.bind(this),isNativePreAdd:n});return rt(e.activeId)===!1&&(s.active=e.activeId),s}),this.hasInitialUIState()&&this.handleUICreation(),this.entityActions.next({type:Kt.Set,ids:this.ids})}add(t,e={loading:!1}){let n=me(t);if(_t(n))return;let r=go({state:this._value(),preAddEntity:this.akitaPreAddEntity.bind(this),entities:n,idKey:this.idKey,options:e});r&&(ae()&&Ce("Add Entity"),r.newState.loading=e.loading,this._setState(()=>r.newState),this.hasInitialUIState()&&this.handleUICreation(!0),this.entityActions.next({type:Kt.Add,ids:r.newIds}))}update(t,e){if(rt(e)){super.update(t);return}let n=[];if(ne(t)?n=this.ids.filter(s=>t(this.entities[s])):n=xe(t)?this.ids:me(t),_t(n))return;ae()&&Ce("Update Entity",n);let r;this._setState(s=>Po({idKey:this.idKey,ids:n,preUpdateEntity:this.akitaPreUpdateEntity.bind(this),state:s,newStateOrFn:e,producerFn:this._producerFn,onEntityIdChanges:(o,a)=>{r={oldId:o,newId:a},this.entityIdChanges.next(O(x({},r),{pending:!0}))}})),r&&this.entityIdChanges.next(O(x({},r),{pending:!1})),this.entityActions.next({type:Kt.Update,ids:n})}upsert(t,e,n,r={}){let s=me(t),o=u=>h=>bt(this.entities,h)===u,a=ne(n)?r.baseClass:n?n.baseClass:void 0,c=ne(a),l=s.filter(o(!0)),d=s.filter(o(!1)).map(u=>{let h=typeof e=="function"?e({}):e,m=ne(n)?n(u,h):h,f=O(x({},m),{[this.idKey]:u});return c?new a(f):f});this.update(l,e),this.add(d),ae()&&$e("Upsert Entity")}upsertMany(t,e={}){let n=[],r=[],s={};for(let o of t){let a=this.akitaPreCheckEntity(o),c=a[this.idKey];if(bt(this.entities,c)){let l=this._value().entities[c],d=x(x({},this._value().entities[c]),a),u=e.baseClass?new e.baseClass(d):d,h=this.akitaPreUpdateEntity(l,u),m=h[this.idKey];s[m]=h,r.push(m)}else{let l=e.baseClass?new e.baseClass(a):a,d=this.akitaPreAddEntity(l),u=d[this.idKey];n.push(u),s[u]=d}}ae()&&$e("Upsert Many"),this._setState(o=>O(x({},o),{ids:n.length?[...o.ids,...n]:o.ids,entities:x(x({},o.entities),s),loading:!!e.loading})),r.length&&this.entityActions.next({type:Kt.Update,ids:r}),n.length&&this.entityActions.next({type:Kt.Add,ids:n}),n.length&&this.hasUIStore()&&this.handleUICreation(!0)}replace(t,e){let n=me(t);if(_t(n))return;let r={};for(let s of n)r[s]=O(x({},e),{[this.idKey]:s});ae()&&Ce("Replace Entity",t),this._setState(s=>O(x({},s),{entities:x(x({},s.entities),r)}))}move(t,e){let n=this.ids.slice();n.splice(e<0?n.length+e:e,0,n.splice(t,1)[0]),ae()&&Ce("Move Entity"),this._setState(r=>O(x({},r),{entities:x({},r.entities),ids:n}))}remove(t){if(_t(this.ids))return;let e=un(t),n=[];ne(t)?n=this.ids.filter(r=>t(this.entities[r])):n=e?me(t):this.ids,!_t(n)&&(ae()&&Ce("Remove Entity",n),this._setState(r=>_o({state:r,ids:n})),e||this.setHasCache(!1),this.handleUIRemove(n),this.entityActions.next({type:Kt.Remove,ids:n}))}updateActive(t){let e=me(this.active);ae()&&Ce("Update Active",e),this.update(e,t)}setActive(t){let e=po(t,this.ids,this.active);e!==void 0&&(ae()&&Ce("Set Active",e),this._setActive(e))}addActive(t){let e=me(t);_t(e)||e.every(r=>this.active.indexOf(r)>-1)||(ae()&&Ce("Add Active",t),this._setState(r=>{let s=Array.from(new Set([...r.active,...e]));return O(x({},r),{active:s})}))}removeActive(t){let e=me(t);_t(e)||!e.some(r=>this.active.indexOf(r)>-1)||(ae()&&Ce("Remove Active",t),this._setState(r=>O(x({},r),{active:Array.isArray(r.active)?r.active.filter(s=>e.indexOf(s)===-1):null})))}toggleActive(t){let e=me(t),n=o=>a=>this.active.includes(a)===o,r=e.filter(n(!0)),s=e.filter(n(!1));this.removeActive(r),this.addActive(s),ae()&&$e("Toggle Active")}createUIStore(t={},e={}){let n={name:`UI/${this.storeName}`,idKey:this.idKey};return this.ui=new Mi(t,x(x({},n),e)),this.ui}destroy(){super.destroy(),this.ui instanceof i&&this.ui.destroy(),this.entityActions.complete()}akitaPreUpdateEntity(t,e){return e}akitaPreAddEntity(t){return t}akitaPreCheckEntity(t){return t}get ids(){return this._value().ids}get entities(){return this._value().entities}get active(){return this._value().active}_setActive(t){this._setState(e=>O(x({},e),{active:t}))}handleUICreation(t=!1){let e=this.ids,n=ne(this.ui._akitaCreateEntityFn),r,s=o=>{let a=this.entities[o],c=n?this.ui._akitaCreateEntityFn(a):this.ui._akitaCreateEntityFn;return x({[this.idKey]:a[this.idKey]},c)};t?r=this.ids.filter(o=>rt(this.ui.entities[o])).map(s):r=e.map(s),t?this.ui.add(r):this.ui.set(r)}hasInitialUIState(){return this.hasUIStore()&&rt(this.ui._akitaCreateEntityFn)===!1}handleUIRemove(t){this.hasUIStore()&&this.ui.remove(t)}hasUIStore(){return this.ui instanceof Mi}};$n([vr(),tt("design:type",Function),tt("design:paramtypes",[Object,Object,Object,Object]),tt("design:returntype",void 0)],ke.prototype,"upsert",null);$n([vr(),tt("design:type",Function),tt("design:paramtypes",[typeof(Wl=typeof T<"u"&&T)=="function"?Wl:Object]),tt("design:returntype",void 0)],ke.prototype,"toggleActive",null);var Mi=class extends ke{constructor(t={},e={}){super(t,e)}setInitialEntityState(t){this._akitaCreateEntityFn=t}};function Oo(){return Mt(i=>i!=null)}function Ln(i){return typeof i=="string"}function Nn(i,t){return t.split(".").length===1?i:t.split(".").slice(1).join(".").split(".").reduce((n,r)=>n&&n[r],i)}function Ci(i,t,e,n=!1){let r=t.split(".");if(r.length===1)return x(x({},i),e);i=x({},i);let s=r.length-2;return t.split(".").slice(1).reduce((a,c,l)=>l!==s?(a[c]=x({},a[c]),a&&a[c]):(a[c]=n||Array.isArray(a[c])||!Tt(a[c])?e:x(x({},a[c]),e),a&&a[c]),i),i}var _f=!1,_M=new Si(1);function vo(i){_f=i}var Yt=class{constructor(t,e){this.query=t,e&&e.resetFn&&Bn().resettable&&this.onReset(e.resetFn)}getQuery(){return this.query}getStore(){return this.getQuery().__store__}isEntityBased(t){return At(t)}selectSource(t,e){return this.isEntityBased(t)?this.getQuery().selectEntity(t).pipe(Oo()):e?this.getQuery().select(n=>Nn(n,this.withStoreName(e))):this.getQuery().select()}getSource(t,e){if(this.isEntityBased(t))return this.getQuery().getEntity(t);let n=this.getQuery().getValue();return e?Nn(n,this.withStoreName(e)):n}withStoreName(t){return`${this.storeName}.${t}`}get storeName(){return this.getStore().storeName}updateStore(t,e,n,r=!1){if(this.isEntityBased(e)){let s=this.getStore();r?s.replace(e,t):s.update(e,t)}else{if(n){this.getStore()._setState(o=>Ci(o,this.withStoreName(n),t,!0));return}let s=r?t:o=>x(x({},o),t);this.getStore()._setState(s)}}onReset(t){let e=this.getStore().reset;this.getStore().reset=(...n)=>{setTimeout(()=>{e.apply(this.getStore(),n),t()})}}};var xf={pagesControls:!1,range:!1,startWith:1,cacheTimeout:void 0,clearStoreWithCache:!0},Sr=class extends Yt{constructor(t,e={}){super(t,{resetFn:()=>{this.initial=!1,this.destroy({clearCache:!0,currentPage:1})}}),this.query=t,this.config=e,this.metadata=new Map,this.pages=new Map,this.pagination={currentPage:1,perPage:0,total:0,lastPage:0,data:[]},this.initial=!0,this.isLoading$=this.query.selectLoading().pipe(jo(0)),this.config=x(x({},xf),e);let{startWith:n,cacheTimeout:r}=this.config;this.page=new We(n),wi(r)&&(this.clearCacheSubscription=r.subscribe(()=>this.clearCache()))}get pageChanges(){return this.page.asObservable()}get currentPage(){return this.pagination.currentPage}get isFirst(){return this.currentPage===1}get isLast(){return this.currentPage===this.pagination.lastPage}withControls(){return this.config.pagesControls=!0,this}withRange(){return this.config.range=!0,this}setLoading(t=!0){this.getStore().setLoading(t)}update(t){this.pagination=t,this.addPage(t.data)}addPage(t){this.pages.set(this.currentPage,{ids:t.map(e=>e[this.getStore().idKey])}),this.getStore().upsertMany(t)}clearCache(t={}){this.initial||($e("@Pagination - Clear Cache"),t.clearStore!==!1&&(this.config.clearStoreWithCache||t.clearStore)&&this.getStore().remove(),this.pages=new Map,this.metadata=new Map),this.initial=!1}clearPage(t){this.pages.delete(t)}destroy({clearCache:t,currentPage:e}={}){this.clearCacheSubscription&&this.clearCacheSubscription.unsubscribe(),t&&this.clearCache(),rt(e)||this.setPage(e),this.initial=!0}isPageActive(t){return this.currentPage===t}setPage(t){(t!==this.currentPage||!this.hasPage(t))&&this.page.next(this.pagination.currentPage=t)}nextPage(){this.currentPage!==this.pagination.lastPage&&this.setPage(this.pagination.currentPage+1)}prevPage(){this.pagination.currentPage>1&&this.setPage(this.pagination.currentPage-1)}setLastPage(){this.setPage(this.pagination.lastPage)}setFirstPage(){this.setPage(1)}hasPage(t){return this.pages.has(t)}getPage(t){let e=this.pagination.currentPage;return this.hasPage(e)?this.selectPage(e):(this.setLoading(!0),Nr(t()).pipe(Ei(n=>(e=n.currentPage,yi(()=>{this.setLoading(!1),this.update(n)}),this.selectPage(e)))))}getQuery(){return this.query}refreshCurrentPage(){xe(this.currentPage)===!1&&(this.clearPage(this.currentPage),this.setPage(this.currentPage))}getFrom(){return this.isFirst?1:(this.currentPage-1)*this.pagination.perPage+1}getTo(){return this.isLast?this.pagination.total:this.currentPage*this.pagination.perPage}selectPage(t){return this.query.selectAll({asObject:!0}).pipe(at(1),Le(e=>{let n=O(x({},this.pagination),{data:this.pages.get(t).ids.map(o=>e[o])}),{range:r,pagesControls:s}=this.config;return isNaN(this.pagination.total)&&(n.lastPage===1?n.total=n.data?n.data.length:0:n.total=n.perPage*n.lastPage,this.pagination.total=n.total),r&&(n.from=this.getFrom(),n.to=this.getTo()),s&&(n.pageControls=Pf(this.pagination.total,this.pagination.perPage)),n}))}};$n([mo("@Pagination - New Page"),tt("design:type",Function),tt("design:paramtypes",[Object]),tt("design:returntype",void 0)],Sr.prototype,"update",null);function Pf(i,t){let e=Math.ceil(i/t),n=[];for(let r=0;r<e;r++)n.push(r+1);return n}var So=(function(i){return i.Update="UPDATE",i})(So||{}),vC={[So.Update]:"update"},Rt=(function(i){return i.Update="UPDATE",i.AddEntities="ADD_ENTITIES",i.SetEntities="SET_ENTITIES",i.UpdateEntities="UPDATE_ENTITIES",i.RemoveEntities="REMOVE_ENTITIES",i.UpsertEntities="UPSERT_ENTITIES",i.UpsertManyEntities="UPSERT_MANY_ENTITIES",i})(Rt||{}),SC={[Rt.Update]:"update",[Rt.AddEntities]:"add",[Rt.SetEntities]:"set",[Rt.UpdateEntities]:"update",[Rt.RemoveEntities]:"remove",[Rt.UpsertEntities]:"upsert",[Rt.UpsertManyEntities]:"upsertMany"};var wr=class{getStoresSnapshot(t=[]){let e={},r=t.length>0?t:Object.keys(Re);for(let s=0;s<r.length;s++){let o=r[s];o!=="router"&&(e[o]=Re[o]._value())}return e}setStoresSnapshot(t,e){let n=x({skipStorageUpdate:!1,lazy:!1},e);n.skipStorageUpdate&&vo(!0);let r=t;Ln(t)&&(r=JSON.parse(r));let s=Object.keys(r).length;if(n.lazy)bi.pipe(Mt(o=>r.hasOwnProperty(o)),at(s)).subscribe(o=>Re[o]._setState(()=>r[o]));else for(let o=0,a=Object.keys(r);o<a.length;o++){let c=a[o];Re[c]&&Re[c]._setState(()=>r[c])}n.skipStorageUpdate&&vo(!1)}},vf=new wr;function Je(){return performance?.memory?.usedJSHeapSize??null}var kr=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}yieldToUI=dt();runSingleMiddlewareBenchmark(t){return v(this,null,function*(){class e extends yt{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(a,c){let l=c.counter>-1;return c}}let n=new e,r=performance.now();for(let o=0;o<t;o++)n.update(a=>O(x({},a),{counter:a.counter+1}));let s=performance.now()-r;return this.toResult(s)})}runMultipleMiddlewareBenchmark(t,e){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Unsupported scenario for Akita"}})}runConditionalMiddlewareBenchmark(t){return v(this,null,function*(){class e extends yt{constructor(){super({counter:0,data:"test"})}akitaPreUpdate(a,c){if(c.counter%2===0){let l=0;for(let d=0;d<20;d++)l+=d}return c}}let n=new e,r=performance.now();for(let o=0;o<t;o++)o%2===0?n.update(c=>O(x({},c),{counter:c.counter+1})):n.update(c=>O(x({},c),{data:"modified"}));let s=performance.now()-r;return this.toResult(s)})}runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Math.min(t,w.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let o=0;o<n;o++)r.push(new Promise(a=>setTimeout(a,0)));yield Promise.all(r);let s=performance.now()-e;return this.toResult(s)})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(s=>setTimeout(s,0)));yield Promise.all(n);let r=performance.now()-e;return this.toResult(r)})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=[];for(let s=0;s<t;s++)n.push(setTimeout(()=>{},10));for(let s=0;s<Math.floor(t/2);s++)clearTimeout(n[s]);yield new Promise(s=>setTimeout(s,10));let r=performance.now()-e;return this.toResult(r)})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=w.DATA_GENERATION.NESTED_DEPTH){let r=l=>l===0?{value:0,data:"test"}:{level:r(l-1)},s=r(e),o=(l,d,u)=>d===0?O(x({},l),{value:u}):O(x({},l),{level:o(l.level??{},d-1,u)}),a=performance.now();for(let l=0;l<Math.min(t,w.ITERATIONS.DEEP_NESTED);l++)s=o(s,e-1,l);s?.level?.level;let c=performance.now()-a;return this.toResult(c)})}runArrayBenchmark(t){return v(this,null,function*(){let e=class extends ke{constructor(){super({})}};e=ot([st({name:"akita-bench-items",idKey:"id"})],e);let n=new e;n.add(Array.from({length:t},(c,l)=>({id:l,value:Math.random()*1e3})));let r=performance.now(),s=Math.min(w.ITERATIONS.ARRAY_UPDATES,t);for(let c=0;c<s;c++){let l=c%t;n.update(l,{value:Math.random()*1e3})}n.getValue().ids?.length;let a=performance.now()-r;return this.toResult(a)})}runComputedBenchmark(t){return v(this,null,function*(){let e={value:0,factors:Array.from({length:w.DATA_GENERATION.FACTOR_COUNT},(o,a)=>a+1)},n=()=>{let o=0;for(let a of e.factors)o+=Math.sin(e.value*a)*Math.cos(a);return o},r=performance.now();for(let o=0;o<Math.min(t,w.ITERATIONS.COMPUTED);o++)e=O(x({},e),{value:o}),n();let s=performance.now()-r;return this.toResult(s)})}runBatchUpdatesBenchmark(){return v(this,arguments,function*(t=w.ITERATIONS.BATCH_UPDATES,e=w.ITERATIONS.BATCH_SIZE){let n=class extends ke{constructor(){super({})}};n=ot([st({name:"akita-bench-batch",idKey:"id"})],n);let r=new n;r.add(Array.from({length:e},(a,c)=>({id:c,value:c})));let s=performance.now();for(let a=0;a<t;a++)r.update(Array.from({length:e},(c,l)=>l),c=>({value:c.value+1|0}));let o=performance.now()-s;return this.toResult(o)})}runSelectorBenchmark(t){return v(this,null,function*(){let e=class extends ke{constructor(){super({})}};e=ot([st({name:"akita-bench-select",idKey:"id"})],e);let n=new e;n.add(Array.from({length:t},(m,f)=>({id:f,flag:f%2===0,value:Math.random()*100,metadata:{category:f%5,priority:f%3}})));let r=performance.now(),s,o,a,c=0,l=()=>{let m=n.getValue(),f=m.ids??[],_=m.entities??{},y=f.length;if(s!==void 0&&y===c)return s;let M=0;for(let C of f)_[C]?.flag&&M++;return s=M,c=y,M},d=()=>{let m=n.getValue(),f=m.ids??[],_=m.entities??{},y=f.length;if(o!==void 0&&y===c)return o;let M=0;for(let C of f)_[C]?.value&&_[C].value>50&&M++;return o=M,M},u=()=>{let m=n.getValue(),f=m.ids??[],_=m.entities??{},y=f.length;if(a!==void 0&&y===c)return a;let M={};for(let C of f){let S=_[C];if(S?.metadata){let E=S.metadata.category;M[E]=(M[E]||0)+1}}return a=M,M};for(let m=0;m<w.ITERATIONS.SELECTOR;m++)if(l(),d(),u(),(m&w.YIELD_FREQUENCY.SELECTOR)===0){let f=m%t,y=n.getValue().entities?.[f];y&&(n.update(f,{flag:!y.flag}),s=void 0,o=void 0,a=void 0,c++)}let h=performance.now()-r;return this.toResult(h)})}runSerializationBenchmark(t){return v(this,null,function*(){let e=class extends ke{constructor(){super({})}};e=ot([st({name:"akita-serialize",idKey:"id"})],e);let n=new e,r=Array.from({length:Math.max(100,Math.min(1e3,t))},(l,d)=>({id:d,name:`User ${d}`,roles:d%5===0?["admin","user"]:["user"],active:d%3===0,meta:{createdAt:new Date(2020,0,1+d%28)}}));n.set(r);for(let l=0;l<10;l++){let d=l%r.length;n.update(d,u=>O(x({},u),{active:!u.active}))}let s=performance.now(),o=n.getValue();JSON.stringify({data:o});let c=performance.now()-s;return this.toResult(c)})}runConcurrentUpdatesBenchmark(){return v(this,arguments,function*(t=w.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=class extends ke{constructor(){super({})}};n=ot([st({name:"akita-bench-conc",idKey:"id"})],n);let r=new n;r.add(Array.from({length:t},(d,u)=>({id:u,value:0})));let s=performance.now();for(let d=0;d<e;d++)r.update(Array.from({length:t},(u,h)=>h),u=>({value:u.value+1|0}));(r.getValue().entities??{})[0]?.value;let l=performance.now()-s;return this.toResult(l)})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Je(),n=class extends ke{constructor(){super({})}};n=ot([st({name:"akita-bench-mem",idKey:"id"})],n);let r=Math.max(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),s=Math.max(10,Math.min(200,Math.floor(r/250))),o=new n;o.add(Array.from({length:r},(h,m)=>({id:m,score:m*13%997,tags:m%7===0?["hot","new"]:["cold"],group:m%s})));let a=performance.now(),c=Math.max(100,Math.floor(r*.01));for(let h=0;h<c;h++){let m=h%r;o.update(m,f=>({score:f.score+1|0,tags:(h&w.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?f.tags.includes("hot")?["cold"]:["hot"]:f.tags}))}let l=performance.now()-a,d=Je(),u;return e!=null&&d!=null&&(u=(d-e)/(1024*1024)),this.toResult(l,u)})}runDataFetchingBenchmark(t){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Unsupported scenario for Akita"}})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=Je(),n=performance.now(),r=class extends ke{constructor(){super({}),this.add({id:"main",activeUsers:0,totalSessions:0,pageViews:0,serverLoad:0,responseTime:0})}};r=ot([st({name:"akita-metrics",idKey:"id"})],r);let s=class extends ke{constructor(){super({})}};s=ot([st({name:"akita-events",idKey:"id"})],s);let o=class extends ke{constructor(){super({})}};o=ot([st({name:"akita-notifications",idKey:"id"})],o);let a=new r,c=new s,l=new o,d=Math.min(w.ITERATIONS.REAL_TIME_UPDATES,t);for(let f=0;f<d;f++){let _=a.getValue().entities?.main;if(_&&a.update("main",{activeUsers:_.activeUsers+Math.floor(Math.random()*10-5),pageViews:_.pageViews+Math.floor(Math.random()*20),serverLoad:Math.random(),responseTime:50+Math.random()*200}),(f&w.YIELD_FREQUENCY.DATA_FETCHING)===0){c.add({id:f,type:"user_action",timestamp:Date.now(),data:`event${f}`});let y=c.getValue().entities;if(y){let M=Object.values(y);if(M.length>100){let C=M.slice(0,M.length-100).map(S=>S.id);c.remove(C)}}}if((f&w.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0){l.add({id:f,message:`Notification ${f}`,priority:"normal",timestamp:Date.now()});let y=l.getValue().entities;if(y){let M=Object.values(y);if(M.length>10){let C=M.slice(0,M.length-10).map(S=>S.id);l.remove(C)}}}}let u=performance.now()-n,h=Je(),m;return e!=null&&h!=null&&(m=(h-e)/(1024*1024)),this.toResult(u,m)})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Unsupported scenario for Akita"}})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){class e extends yt{constructor(){super({counter:0,data:{value:"initial"}})}}let n=new e,r=[];for(let a=0;a<t;a++){let c=n._select(l=>l.counter).subscribe(l=>{let d=l*(a+1)+Math.sin(l*.1)});r.push(c)}let s=performance.now(),o=Math.min(1e3,w.ITERATIONS.SUBSCRIBER_SCALING||1e3);for(let a=0;a<o;a++)n.update(c=>O(x({},c),{counter:a}));return r.forEach(a=>a.unsubscribe()),performance.now()-s})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})};function Sf(...i){let t={config:{},state:{}};for(let{config:e,props:n}of i)Object.assign(t.config,e),Object.assign(t.state,n);return t}var Yl=new We(!1),wf=Yl.asObservable().pipe(Mt(i=>!i),at(1));var zn={},wo=class{registerPreStoreUpdate(t){zn.preStoreUpdate=t}registerPreStateInit(t){zn.preStateInit=t}},lP=new wo,Gl=new Map,Eo=new ye,dP=Eo.asObservable();function kf(i){Gl.set(i.name,i),Eo.next({type:"add",store:i})}function Ef(i){Gl.delete(i.name),Eo.next({type:"remove",store:i})}var Er=[];function Tf(i){Er.push(i)}function Kl(i){Er.length&&Er.forEach(t=>i.next(t)),Er=[]}var ko=class extends We{constructor(t){super(t.state),this.storeDef=t,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new ye,this.context={config:this.getConfig(),setEvent:e=>{Tf(e)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(t.state),this.initialState=this.getValue(),kf(this)}get name(){return this.storeDef.name}getInitialState(t){return zn.preStateInit?zn.preStateInit(t,this.name):t}getConfig(){return this.storeDef.config}query(t){return t(this.getValue())}update(...t){let e=this.getValue(),n=t.reduce((r,s)=>(r=s(r,this.context),r),e);zn.preStoreUpdate&&(n=zn.preStoreUpdate(e,n,this.name)),n!==e&&(this.state=n,Yl.getValue()?this.batchInProgress||(this.batchInProgress=!0,wf.subscribe(()=>{super.next(this.state),Kl(this.events),this.batchInProgress=!1})):(super.next(this.state),Kl(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(t){let e=!0,n={};return new pn(r=>{for(let[s,o]of Object.entries(t))r.add(o.subscribe(a=>{n[s]=a,e=!0}));return this.subscribe({next(){e&&(r.next(x({},n)),e=!1)},error(s){r.error(s)},complete(){r.complete()}})})}destroy(){Ef(this),this.reset()}next(t){this.update(()=>t)}error(){}complete(){}};function De(i,...t){let{state:e,config:n}=Sf(...t),{name:r}=i;return new ko({name:r,state:e,config:n})}function xi(i){return Array.isArray(i)?i:[i]}function Tr(i){return typeof i=="function"}function Pi(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Af(i){return typeof i=="object"&&!Array.isArray(i)&&i!==null}function Xl(i){return Uo(Le(i),bn())}function To(i,{initialValue:t,config:e}){let n=t,r=Pi(i);return{[`with${r}`](s=n){return{props:{[i]:s},config:e}},[`set${r}InitialValue`](s){n=s},[`set${r}`](s){return function(o){let a=Tr(s)?s(o):s;return a===o[i]?o:O(x({},o),{[i]:a})}},[`update${r}`](s){return function(o){let a=Tr(s)?s(o):s;return a===o[i]?o:O(x({},o),{[i]:Af(a)?x(x({},o[i]),a):a})}},[`reset${r}`](){return function(s){return O(x({},s),{[i]:n})}},[`select${r}`](){return Xl(s=>s[i])},[`get${r}`](s){return s[i]}}}function Ql(i,t){let e=Pi(i),n=To(i,t);return O(x({},n),{[`add${e}`](r){return function(s){return O(x({},s),{[i]:If(s[i],r)})}},[`remove${e}`](r){return function(s){return O(x({},s),{[i]:Rf(s[i],r)})}},[`toggle${e}`](r){return function(s){return O(x({},s),{[i]:Df(s[i],r)})}},[`update${e}`](r,s){return function(o){return O(x({},o),{[i]:Ff(o[i],r,s)})}},[`in${e}`](r){return s=>Bf(s[i],r)}})}function If(i,t){return[...i,...xi(t)]}function Rf(i,t){let e=xi(t);return i.filter(n=>!e.includes(n))}function Df(i,t){let e=xi(t),n=[...i];return e.forEach(r=>{let s=n.indexOf(r);s>-1?n.splice(s,1):n.push(r)}),n}function Bf(i,t){return i.includes(t)}function Ff(i,t,e){return i.map(n=>n===t?e:n)}function Jl(i,t){let e={},n=[];for(let r of i){let s=r[t];n.push(s),e[s]=r}return{ids:n,asObject:e}}function Lf(i,t){return i.config[t.idKeyRef]}var Ao=class{constructor(t){this.entitiesKey=void 0,this.idsKey=void 0,this.idKeyRef="idKey",this.entitiesKey=t.entitiesKey,this.idsKey=t.idsKey,this.idKeyRef=t.idKeyRef}};function Zl(i){let t=i?`idKey${Pi(i)}`:"idKey",e=new Ao({entitiesKey:i?`${i}Entities`:"entities",idsKey:i?`${i}Ids`:"ids",idKeyRef:t});function n(r){let s={},o=[],a=r?.idKey||"id";return r?.initialValue&&({ids:o,asObject:s}=Jl(r.initialValue,a)),{props:{[e.entitiesKey]:s,[e.idsKey]:o},config:{[t]:a}}}return{[`${i}EntitiesRef`]:e,[`with${Pi(i)}Entities`]:n}}var{withEntities:Be,EntitiesRef:Un}=Zl(""),{UIEntitiesRef:bP,withUIEntities:_P}=Zl("UI");function Fe(i,t={}){return function(e,n){let{ref:r=Un}=t,{entitiesKey:s,idsKey:o}=r,{ids:a,asObject:c}=Jl(i,Lf(n,r));return n.setEvent({type:"set",ids:a}),O(x({},e),{[s]:c,[o]:a})}}function qe(i={}){let{ref:{entitiesKey:t,idsKey:e}=Un}=i;return function(n){return n[e].map(r=>n[t][r])}}function Nf(i,t={}){return function(e){let{ref:{entitiesKey:n}=Un}=t;return e[n][i]}}function zf(i,t={}){return function(e){let{ref:{entitiesKey:n}=Un}=t;return Reflect.has(e[n],i)}}function Uf(i,t){return Tr(i)?i(t):x(x({},t),i)}function Dt(i,t,e={}){return function(n,r){let s=xi(i);if(!s.length)return n;let{ref:{entitiesKey:o}=Un}=e,a={};for(let c of s)zf(c,e)(n)&&(a[c]=Uf(t,Nf(c,e)(n)));return r.setEvent({type:"update",ids:s}),O(x({},n),{[o]:x(x({},n[o]),a)})}}function Io(i,t={}){return function(e,n){let{ref:{idsKey:r}=Un}=t;return Dt(e[r],i,t)(e,n)}}var{selectActiveId:yP,setActiveId:MP,withActiveId:CP,resetActiveId:xP,getActiveId:PP}=To("activeId",{initialValue:void 0});var{setActiveIds:OP,resetActiveIds:vP,withActiveIds:SP,selectActiveIds:wP,toggleActiveIds:kP,removeActiveIds:EP,addActiveIds:TP,getActiveIds:AP}=Ql("activeIds",{initialValue:[]});var Ar=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}yieldToUI=dt();runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Math.min(t,w.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let o=0;o<n;o++)r.push(new Promise(a=>setTimeout(a,0)));yield Promise.all(r);let s=performance.now()-e;return this.toResult(s)})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(s=>setTimeout(s,0)));yield Promise.all(n);let r=performance.now()-e;return this.toResult(r)})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=[];for(let s=0;s<t;s++)n.push(setTimeout(()=>{},10));for(let s=0;s<Math.floor(t/2);s++)clearTimeout(n[s]);yield new Promise(s=>setTimeout(s,10));let r=performance.now()-e;return this.toResult(r)})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=w.DATA_GENERATION.NESTED_DEPTH){let r=l=>l===0?{value:0,data:"test"}:{level:r(l-1)},s=r(e),o=(l,d,u)=>d===0?O(x({},l),{value:u}):O(x({},l),{level:o(l.level??{},d-1,u)}),a=performance.now();for(let l=0;l<Math.min(t,w.ITERATIONS.DEEP_NESTED);l++)s=o(s,e-1,l);s?.level?.value;let c=performance.now()-a;return this.toResult(c)})}runArrayBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-bench-items"},Be());e.update(Fe(Array.from({length:t},(a,c)=>({id:c,value:Math.random()*1e3}))));let n=performance.now(),r=Math.min(w.ITERATIONS.ARRAY_UPDATES,t);for(let a=0;a<r;a++){let c=a%t;e.update(Dt(c,l=>O(x({},l),{value:Math.random()*1e3})))}e.query(qe()).length;let o=performance.now()-n;return this.toResult(o)})}runComputedBenchmark(t){return v(this,null,function*(){let e={value:0,factors:Array.from({length:w.DATA_GENERATION.FACTOR_COUNT},(o,a)=>a+1)},n=()=>{let o=0;for(let a of e.factors)o+=Math.sin(e.value*a)*Math.cos(a);return o},r=performance.now();for(let o=0;o<Math.min(t,w.ITERATIONS.COMPUTED);o++)e=O(x({},e),{value:o}),n();let s=performance.now()-r;return this.toResult(s)})}runBatchUpdatesBenchmark(){return v(this,arguments,function*(t=w.ITERATIONS.BATCH_UPDATES,e=w.ITERATIONS.BATCH_SIZE){let n=De({name:"elf-bench-batch"},Be());n.update(Fe(Array.from({length:e},(o,a)=>({id:a,value:a}))));let r=performance.now();for(let o=0;o<t;o++)n.update(Io(a=>O(x({},a),{value:a.value+1|0})));let s=performance.now()-r;return this.toResult(s)})}runSelectorBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-bench-select"},Be());e.update(Fe(Array.from({length:t},(h,m)=>({id:m,flag:m%2===0,value:Math.random()*100,metadata:{category:m%5,priority:m%3}}))));let n=performance.now(),r,s,o,a,c=()=>{let h=e.query(qe());if(h===a&&r!==void 0)return r;let m=0;for(let f of h)f.flag&&m++;return a=h,r=m,m},l=()=>{let h=e.query(qe());if(h===a&&s!==void 0)return s;let m=0;for(let f of h)f.value>50&&m++;return s=m,m},d=()=>{let h=e.query(qe());if(h===a&&o!==void 0)return o;let m={};for(let f of h){let _=f.metadata.category;m[_]=(m[_]||0)+1}return o=m,m};for(let h=0;h<w.ITERATIONS.SELECTOR;h++)if(c(),l(),d(),(h&w.YIELD_FREQUENCY.SELECTOR)===0){let m=h%t;e.update(Dt(m,f=>O(x({},f),{flag:!f.flag}))),r=void 0,s=void 0,o=void 0,a=void 0}let u=performance.now()-n;return this.toResult(u)})}runSerializationBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-serialize"},Be()),n=Array.from({length:Math.max(w.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(w.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}}));e.update(Fe(n));for(let c=0;c<10;c++){let l=c%n.length;e.update(Dt(l,d=>O(x({},d),{active:!d.active})))}let r=performance.now(),s=e.getValue();JSON.stringify({data:s});let a=performance.now()-r;return this.toResult(a)})}runConcurrentUpdatesBenchmark(){return v(this,arguments,function*(t=w.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=De({name:"elf-bench-conc"},Be());n.update(Fe(Array.from({length:t},(a,c)=>({id:c,value:0}))));let r=performance.now();for(let a=0;a<e;a++)n.update(Io(c=>O(x({},c),{value:c.value+1|0})));let s=n.query(qe())[0];s&&s.value;let o=performance.now()-r;return this.toResult(o)})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-bench-mem"},Be()),n=Math.max(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),r=Math.max(10,Math.min(200,Math.floor(n/250)));e.update(Fe(Array.from({length:n},(c,l)=>({id:l,score:l*13%997,tags:l%7===0?["hot","new"]:["cold"],group:l%r}))));let s=performance.now(),o=Math.max(100,Math.floor(n*.01));for(let c=0;c<o;c++){let l=c%n;e.update(Dt(l,d=>O(x({},d),{score:d.score+1|0,tags:(c&w.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?d.tags.includes("hot")?["cold"]:["hot"]:d.tags})))}let a=performance.now()-s;return this.toResult(a)})}runDataFetchingBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-users"},Be()),n=performance.now(),r=Array.from({length:w.ITERATIONS.DATA_FETCHING},(u,h)=>({id:h+1,name:`User ${h+1}`,email:`user${h+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));e.update(Fe(r));let o=e.query(qe()).filter(u=>u.isActive);De({name:"elf-active-users"},Be()).update(Fe(o));let c=o.reduce((u,h)=>(u[h.department]||(u[h.department]=[]),u[h.department].push(h),u),{}),l={};Object.entries(c).forEach(([u,h])=>{l[u]=De({name:`elf-dept-${u}`},Be()),l[u].update(Fe(h))});let d=performance.now()-n;return e.query(qe()).length,this.toResult(d)})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-metrics"},Be()),n=De({name:"elf-messages"},Be()),r=performance.now();for(let o=0;o<w.ITERATIONS.REAL_TIME_UPDATES;o++){let a={id:o,activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1,timestamp:Date.now()};if(o===0?e.update(Fe([a])):e.update(Dt(0,()=>a)),(o&w.YIELD_FREQUENCY.DATA_FETCHING)===0){let c={id:o,content:`Real-time message ${o}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"},l=n.query(qe());n.update(Fe([...l,c]))}}let s=performance.now()-r;return e.query(qe()).length,this.toResult(s)})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-large-data"},Be()),n=performance.now(),r=Array.from({length:1e4},(u,h)=>({id:h+1,title:`Item ${h+1}`,description:`Description for item ${h+1} with some additional text to make it realistic`,category:`Category ${Math.floor(h/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${h%10}`,`tag${h%7}`,`tag${h%5}`],score:Math.random()*100}}));e.update(Fe(r));let o=e.query(qe()).filter(u=>u.status==="active");De({name:"elf-active-items"},Be()).update(Fe(o));let c=[...o].sort((u,h)=>h.metadata.score-u.metadata.score);De({name:"elf-sorted-items"},Be()).update(Fe(c));for(let u=0;u<w.ITERATIONS.STATE_SIZE_SCALING;u++){let h=Math.floor(Math.random()*r.length);e.update(Dt(h+1,m=>O(x({},m),{metadata:O(x({},m.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})})))}let d=performance.now()-n;return e.query(qe()).length,this.toResult(d)})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){let e=De({name:"elf-subscriber-scaling"},Be());e.update(Fe([{id:1,counter:0,data:{value:"initial"}}]));let n=[];for(let a=0;a<t;a++){let c=e.pipe(Le(()=>e.query(qe())[0]?.counter||0)).subscribe(l=>{let d=l*(a+1)+Math.sin(l*.1)});n.push(c)}let r=performance.now(),s=Math.min(1e3,1e3);for(let a=0;a<s;a++)e.update(Dt(1,c=>O(x({},c),{counter:a})));n.forEach(a=>a.unsubscribe());let o=performance.now()-r;return this.toResult(o)})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})};var ed={};function J(i,t){if(ed[i]=(ed[i]||0)+1,typeof t=="function")return Ro(i,(...n)=>O(x({},t(...n)),{type:i}));switch(t?t._as:"empty"){case"empty":return Ro(i,()=>({type:i}));case"props":return Ro(i,n=>O(x({},n),{type:i}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function Ro(i,t){return Object.defineProperty(t,"type",{value:i,writable:!1})}function Vf(i,t){if(i==null)throw new Error(`${t} must be defined.`)}var jf="@ngrx/store/init",No=(()=>{let t=class t extends We{constructor(){super({type:jf})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac});let i=t;return i})();var Wf=new ct("@ngrx/store Internal Root Guard");var Hf=new ct("@ngrx/store Initial State"),$f=new ct("@ngrx/store Reducer Factory");var qf=new ct("@ngrx/store Initial Reducers");var Kf=new ct("@ngrx/store Internal Store Features");var Yf=new ct("@ngrx/store Feature Reducers");var nd=new ct("@ngrx/store Check if Action types are unique"),Ir=new ct("@ngrx/store Root Store Provider"),Do=new ct("@ngrx/store Feature State Provider");function Gf(i,t){return Object.keys(i).filter(e=>e!==t).reduce((e,n)=>Object.assign(e,{[n]:i[n]}),{})}function id(...i){return function(t){if(i.length===0)return t;let e=i[i.length-1];return i.slice(0,-1).reduceRight((r,s)=>s(r),e(t))}}function Xf(i,t){return Array.isArray(t)&&t.length>0&&(i=id.apply(null,[...t,i])),(e,n)=>{let r=i(e);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function Qf(i){let t=Array.isArray(i)&&i.length>0?id(...i):e=>e;return(e,n)=>(e=t(e),(r,s)=>(r=r===void 0?n:r,e(r,s)))}var Bo=class extends pn{},Fo=class extends No{},Jf="@ngrx/store/update-reducers",rd=(()=>{let t=class t extends We{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:l,key:d})=>{let u=typeof o=="function"?Qf(c)(o,l):Xf(a,c)(o,l);return s[d]=u,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=x(x({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=Gf(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Jf,features:n})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(r){return new(r||t)(Ct(Fo),Ct(Hf),Ct(qf),Ct($f))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac});let i=t;return i})();var sd=(()=>{let t=class t extends ye{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=Ho(t)))(s||t)}})(),t.\u0275prov=Ne({token:t,factory:t.\u0275fac});let i=t;return i})();var Lo=class extends pn{};var od=(()=>{let t=class t extends pn{constructor(n,r,s,o){super(),this.actionsObserver=r,this.reducerManager=s,this.injector=o,this.source=n,this.state=n.state}select(n,...r){return Zf.call(null,n,...r)(this)}selectSignal(n,r){return L(()=>n(this.state()),r)}lift(n){let r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n,r){if(typeof n=="function")return this.processDispatchFn(n,r);this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}processDispatchFn(n,r){Vf(this.injector,"Store Injector");let s=r?.injector??ep()??this.injector;return Zt(()=>{let o=n();_n(()=>this.dispatch(o))},{injector:s})}};t.\u0275fac=function(r){return new(r||t)(Ct(Lo),Ct(No),Ct(rd),Ct(qn))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac});let i=t;return i})();function Zf(i,t,...e){return function(r){let s;if(typeof i=="string"){let o=[t,...e].filter(Boolean);s=r.pipe(Wo(i,...o))}else if(typeof i=="function")s=r.pipe(Le(o=>i(o,t)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return s.pipe(bn())}}function ep(){try{return se(qn)}catch{return}}function td(i,t){return i===t}function tp(i,t,e){for(let n=0;n<i.length;n++)if(!e(i[n],t[n]))return!0;return!1}function ad(i,t=td,e=td){let n=null,r=null,s;function o(){n=null,r=null}function a(d=void 0){s={result:d}}function c(){s=void 0}function l(){if(s!==void 0)return s.result;if(!n)return r=i.apply(null,arguments),n=arguments,r;if(!tp(arguments,n,t))return r;let d=i.apply(null,arguments);return n=arguments,e(r,d)?r:(r=d,d)}return{memoized:l,reset:o,setResult:a,clearResult:c}}function Vn(...i){return ip(ad)(...i)}function np(i,t,e,n){if(e===void 0){let s=t.map(o=>o(i));return n.memoized.apply(null,s)}let r=t.map(s=>s(i,e));return n.memoized.apply(null,[...r,e])}function ip(i,t={stateFn:np}){return function(...e){let n=e;if(Array.isArray(n[0])){let[d,...u]=n;n=[...d,...u]}else n.length===1&&rp(n[0])&&(n=sp(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(d=>d.release&&typeof d.release=="function"),a=i(function(...d){return s.apply(null,d)}),c=ad(function(d,u){return t.stateFn.apply(null,[d,r,u,a])});function l(){c.reset(),a.reset(),o.forEach(d=>d.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function rp(i){return!!i&&typeof i=="object"&&Object.values(i).every(t=>typeof t=="function")}function sp(i){let t=Object.values(i),e=Object.keys(i),n=(...r)=>e.reduce((s,o,a)=>O(x({},s),{[o]:r[a]}),{});return[...t,n]}function op(i){return typeof i=="function"?i():i}function ap(){se(No),se(Bo),se(sd),se(od),se(Wf,{optional:!0}),se(nd,{optional:!0})}var iO=[{provide:Ir,useFactory:ap},jr(()=>se(Ir))];function cp(){se(Ir);let i=se(Kf),t=se(Yf),e=se(rd);se(nd,{optional:!0});let n=i.map((r,s)=>{let a=t.shift()[s];return O(x({},r),{reducers:a,initialState:op(r.initialState)})});e.addFeatures(n)}var rO=[{provide:Do,useFactory:cp},jr(()=>se(Do))];function ge(...i){let t=i.pop(),e=i.map(n=>n.type);return{reducer:t,types:e}}function Ze(i,...t){let e=new Map;for(let n of t)for(let r of n.types){let s=e.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);e.set(r,o)}else e.set(r,n.reducer)}return function(n=i,r){let s=e.get(r.type);return s?s(n,r):n}}function Rr(...i){return Mt(t=>i.some(e=>typeof e=="string"?e===t.type:e.type===t.type))}var lp="@ngrx/effects/init",fO=J(lp);var cd=J("[Benchmark] Set Users",ue()),ld=J("[Benchmark] Set Filtered Users",ue()),dd=J("[Benchmark] Set Department Groups",ue()),ud=J("[Benchmark] Update Metrics",ue()),hd=J("[Benchmark] Add Message",ue()),md=J("[Benchmark] Set Large Dataset",ue()),gd=J("[Benchmark] Set Active Items",ue()),fd=J("[Benchmark] Set Sorted Items",ue()),pd=J("[Benchmark] Update Item",ue()),Bt=Ze({groups:[],posts:[],users:[]},ge(cd,(i,{payload:t})=>O(x({},i),{users:t})),ge(ld,(i,{payload:t})=>O(x({},i),{filteredUsers:t})),ge(dd,(i,{payload:t})=>O(x({},i),{departmentGroups:t})),ge(ud,(i,{payload:t})=>O(x({},i),{metrics:t})),ge(hd,(i,{payload:t})=>O(x({},i),{messages:[...i.messages||[],t]})),ge(md,(i,{payload:t})=>O(x({},i),{largeDataset:t})),ge(gd,(i,{payload:t})=>O(x({},i),{activeItems:t})),ge(fd,(i,{payload:t})=>O(x({},i),{sortedItems:t})),ge(pd,(i,{payload:t})=>O(x({},i),{largeDataset:i.largeDataset?.map((e,n)=>n===t.index?t.item:e)}))),Dr=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}static PerfWithMemory={};yieldToUI=dt();runSingleMiddlewareBenchmark(t){return v(this,null,function*(){let e=J("[Test] Increment"),n=Ze({counter:0,data:"test"},ge(e,l=>O(x({},l),{counter:l.counter+1}))),s=(l=>(d,u)=>{if(d){let h=d.counter>-1}return l(d,u)})(n),o=performance.now(),a={counter:0,data:"test"};for(let l=0;l<t;l++)a=s(a,e());let c=performance.now()-o;return this.toResult(c,void 0,"NgRx single middleware")})}runMultipleMiddlewareBenchmark(t,e){return v(this,null,function*(){let n=J("[Test] Increment"),r=Ze({counter:0,data:"test"},ge(n,d=>O(x({},d),{counter:d.counter+1}))),s=()=>d=>(u,h)=>{if(u){let m=0;for(let f=0;f<10;f++)m+=f}return d(u,h)},o=r;for(let d=0;d<t;d++)o=s()(o);let a=performance.now(),c={counter:0,data:"test"};for(let d=0;d<e;d++)c=o(c,n());let l=performance.now()-a;return this.toResult(l,void 0,"NgRx multiple middleware")})}runConditionalMiddlewareBenchmark(t){return v(this,null,function*(){let e=J("[Test] Increment"),n=J("[Test] Other"),r=Ze({counter:0,data:"test"},ge(e,d=>O(x({},d),{counter:d.counter+1})),ge(n,d=>O(x({},d),{data:"modified"}))),o=(d=>(u,h)=>{if(h.type===e.type&&u&&u.counter%2===0){let m=0;for(let f=0;f<20;f++)m+=f}return d(u,h)})(r),a=performance.now(),c={counter:0,data:"test"};for(let d=0;d<t;d++){let u=d%2===0?e():n();c=o(c,u)}let l=performance.now()-a;return this.toResult(l,void 0,"NgRx conditional middleware")})}runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=J("[Async] Trigger",ue()),n=J("[Async] Complete",ue()),r=new ye,o=r.pipe(Rr(e),ki(h=>Ur(0).pipe(Le(()=>n({id:h.id})),at(1)))),a=Math.min(t,w.ITERATIONS.ASYNC_WORKFLOW),c=0,l=new Promise(h=>{o.subscribe(m=>{m.type===n.type&&(c++,c>=a&&h())})}),d=performance.now();for(let h=0;h<a;h++)r.next(e({id:h}));yield l;let u=performance.now()-d;return this.toResult(u,void 0,"NgRx async workflow")})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=J("[Task] Start",ue()),n=J("[Task] Cancel",ue()),r=J("[Task] Complete",ue()),s=new ye,o=s,a=new Set,c=o.pipe(Rr(e),ki(m=>{let f=o.pipe(Rr(n),Vr(_=>{_.id===m.id&&a.add(m.id)}));return Vo(Ur(10).pipe(Le(()=>r({id:m.id}))),f.pipe(at(1),Ei(()=>[])))})),l=0,d=new Promise(m=>{c.subscribe(f=>{f.type===r.type&&(l++,l+a.size>=t&&m())})}),u=performance.now();for(let m=0;m<t;m++)s.next(e({id:m}));for(let m=0;m<Math.floor(t/2);m++)s.next(n({id:m}));yield d;let h=performance.now()-u;return this.toResult(h,void 0,"NgRx async cancellation")})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=w.DATA_GENERATION.NESTED_DEPTH){let r=performance.now(),s=J("[Test] Update",ue()),o=m=>m===0?{value:0,data:"test"}:{level:o(m-1)},a=o(e),c=(m,f,_)=>f===0?O(x({},m),{value:_}):O(x({},m),{level:c(m.level??{},f-1,_)}),l=Ze(a,ge(s,(m,{value:f})=>c(m,e-1,f))),d=a,u=Math.min(t,w.ITERATIONS.DEEP_NESTED);for(let m=0;m<u;m++)d=l(d,s({value:m}));let h=performance.now()-r;return this.toResult(h,void 0,"NgRx deep nested")})}runArrayBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=J("[Test] Update Item",ue()),r={items:Array.from({length:t},(l,d)=>({id:d,value:Math.random()*1e3}))},s=Ze(r,ge(n,(l,{index:d,value:u})=>O(x({},l),{items:l.items.map((h,m)=>m===d?O(x({},h),{value:u}):h)}))),o=r,a=Math.min(w.ITERATIONS.ARRAY_UPDATES,t);for(let l=0;l<a;l++)o=s(o,n({index:l%t,value:Math.random()*1e3}));let c=performance.now()-e;return this.toResult(c,void 0,"NgRx array updates")})}runComputedBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=J("[Test] Update",ue()),r={value:0,factors:Array.from({length:w.DATA_GENERATION.FACTOR_COUNT},(l,d)=>d+1)},s=Ze(r,ge(n,(l,{value:d})=>O(x({},l),{value:d}))),o=r,a=l=>{let d=0;for(let u of l.factors)d+=Math.sin(l.value*u)*Math.cos(u);return d};for(let l=0;l<Math.min(t,w.ITERATIONS.COMPUTED);l++)o=s(o,n({value:l})),a(o);let c=performance.now()-e;return this.toResult(c,void 0,"NgRx computed chains")})}runBatchUpdatesBenchmark(t=100,e=1e3){return v(this,null,function*(){let n=performance.now(),r=J("[Test] Apply Batch",ue()),s={items:Array.from({length:e},(l,d)=>d)},o=Ze(s,ge(r,(l,{items:d})=>O(x({},l),{items:d}))),a=s;for(let l=0;l<t;l++){let d=a.items.map(u=>u+1|0);a=o(a,r({items:d}))}let c=performance.now()-n;return this.toResult(c,void 0,"NgRx batch updates")})}runSelectorBenchmark(t){return v(this,null,function*(){let e=performance.now(),n={items:Array.from({length:t},(d,u)=>({id:u,flag:u%2===0,value:Math.random()*100,metadata:{category:u%5,priority:u%3}}))},s=Vn(d=>d,d=>d.items),o=Vn(s,d=>d.filter(u=>u.flag).length),a=Vn(s,d=>d.filter(u=>u.value>50).length),c=Vn(s,d=>d.reduce((u,h)=>{let m=h.metadata.category;return u[m]=(u[m]||0)+1,u},{}));for(let d=0;d<w.ITERATIONS.SELECTOR;d++)if(o(n),a(n),c(n),(d&w.YIELD_FREQUENCY.SELECTOR)===0){let u=d%n.items.length;n=O(x({},n),{items:n.items.map((h,m)=>m===u?O(x({},h),{flag:!h.flag}):h)})}let l=performance.now()-e;return this.toResult(l,void 0,"NgRx selector memoization")})}runSerializationBenchmark(t){return v(this,null,function*(){let n={users:Array.from({length:Math.max(100,Math.min(1e3,t))},(c,l)=>({id:l,name:`User ${l}`,roles:l%5===0?["admin","user"]:["user"],active:l%3===0,meta:{createdAt:new Date(2020,0,1+l%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(c,l)=>[l,l%2===0]))}};for(let c=0;c<10;c++){let l=c%n.users.length;n.users[l].active=!n.users[l].active}let r=performance.now();JSON.stringify({data:n});let a=performance.now()-r;return this.toResult(a,void 0,"NgRx serialization")})}runConcurrentUpdatesBenchmark(t=50,e=200){return v(this,null,function*(){let n=J("[Test] Bump",ue()),r={counters:Array.from({length:t},()=>({value:0}))},s=Ze(r,ge(n,(l,{index:d})=>O(x({},l),{counters:l.counters.map((u,h)=>h===d?{value:u.value+1}:u)}))),o=r,a=performance.now();for(let l=0;l<e;l++){for(let d=0;d<t;d++)o=s(o,n({index:d}));l&31}o.counters[0].value;let c=performance.now()-a;return this.toResult(c,void 0,"NgRx concurrent updates")})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Math.max(1e3,Math.min(5e4,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r={groups:Array.from({length:n},(u,h)=>({id:h,items:Array.from({length:Math.floor(e/n)},(m,f)=>({id:h*1e6+f,score:f*13%997,tags:f%7===0?["hot","new"]:["cold"]}))}))},s=J("[Test] Touch",ue()),o=Ze(r,ge(s,(u,{group:h,index:m})=>O(x({},u),{groups:u.groups.map((f,_)=>_!==h?f:O(x({},f),{items:f.items.map((y,M)=>M!==m?y:O(x({},y),{score:y.score+1,tags:(m&63)===0?y.tags.includes("hot")?["cold"]:["hot"]:y.tags}))}))}))),a=r,c=performance.now(),l=Math.max(100,Math.floor(e*.01));for(let u=0;u<l;u++){let h=u%n,m=u%a.groups[h].items.length;a=o(a,s({group:h,index:m}))}let d=performance.now()-c;return a.groups.length,this.toResult(d,void 0,"NgRx memory efficiency")})}runDataFetchingBenchmark(t){return v(this,null,function*(){let n={groups:[],posts:[],users:[]},r=performance.now(),s=Array.from({length:1e3},(l,d)=>({id:d+1,name:`User ${d+1}`,email:`user${d+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));n=Bt(n,cd({payload:s}));let o=s.filter(l=>l.isActive);n=Bt(n,ld({payload:o}));let a=o.reduce((l,d)=>(l[d.department]||(l[d.department]=[]),l[d.department].push(d),l),{});n=Bt(n,dd({payload:a}));let c=performance.now()-r;return n.users?.length,this.toResult(c,void 0,"NgRx data fetching")})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let n={groups:[],posts:[],users:[],metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0}},r=performance.now();for(let o=0;o<w.ITERATIONS.REAL_TIME_UPDATES;o++){let a={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(n=Bt(n,ud({payload:a})),(o&w.YIELD_FREQUENCY.DATA_FETCHING)===0){let c={id:o,content:`Real-time message ${o}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};n=Bt(n,hd({payload:c}))}}let s=performance.now()-r;return n.metrics&&Object.keys(n.metrics).length,this.toResult(s,void 0,"NgRx real-time updates")})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let n={groups:[],posts:[],users:[]},r=performance.now(),s=Array.from({length:1e4},(l,d)=>({id:d+1,title:`Item ${d+1}`,description:`Description for item ${d+1} with some additional text to make it realistic`,category:`Category ${Math.floor(d/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${d%10}`,`tag${d%7}`,`tag${d%5}`],score:Math.random()*100}}));n=Bt(n,md({payload:s}));let o=s.filter(l=>l.status==="active");n=Bt(n,gd({payload:o}));let a=[...o].sort((l,d)=>d.metadata.score-l.metadata.score);n=Bt(n,fd({payload:a}));for(let l=0;l<w.ITERATIONS.BATCH_UPDATES;l++){let d=Math.floor(Math.random()*s.length),u=O(x({},s[d]),{metadata:O(x({},s[d].metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})});n=Bt(n,pd({payload:{index:d,item:u}}))}let c=performance.now()-r;return n.largeDataset?.length,this.toResult(c,void 0,"NgRx state size scaling")})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){let e=J("[Subscriber] Update Counter",ue()),n={counter:0,data:{value:"initial"}},r=Ze(n,ge(e,(u,{value:h})=>O(x({},u),{counter:h}))),s=u=>u.counter,o=[];for(let u=0;u<t;u++){let h=Vn(s,m=>m*(u+1)+Math.sin(m*.1));o.push(h)}let a=n,c=performance.now(),l=w.ITERATIONS.SUBSCRIBER_SCALING;for(let u=0;u<l;u++){a=r(a,e({value:u}));for(let h of o)h(a)}let d=performance.now()-c;return this.toResult(d,void 0,"NgRx subscriber scaling")})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})};var bd=Symbol("DEEP_SIGNAL");function _d(i){return new Proxy(i,{has(t,e){return!!this.get(t,e,void 0)},get(t,e){let n=_n(t);return!up(n)||!(e in n)?(Wr(t[e])&&t[e][bd]&&delete t[e],t[e]):(Wr(t[e])||(Object.defineProperty(t,e,{value:L(()=>t()[e]),configurable:!0}),t[e][bd]=!0),_d(t[e]))}})}var dp=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function up(i){if(i===null||typeof i!="object"||hp(i))return!1;let t=Object.getPrototypeOf(i);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(dp.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function hp(i){return typeof i?.[Symbol.iterator]=="function"}var mp=new WeakMap,jn=Symbol("STATE_SOURCE");function Pe(i,...t){let e=_n(()=>yd(i)),n=t.reduce((o,a)=>x(x({},o),typeof a=="function"?a(o):a),e),r=i[jn],s=Reflect.ownKeys(i[jn]);for(let o of Reflect.ownKeys(n))if(s.includes(o)){let a=o;e[a]!==n[a]&&r[a].set(n[a])}fp(i)}function yd(i){let t=i[jn];return Reflect.ownKeys(i[jn]).reduce((e,n)=>{let r=t[n]();return O(x({},e),{[n]:r})},{})}function gp(i){return mp.get(i[jn])||[]}function fp(i){let t=gp(i);for(let e of t){let n=_n(()=>yd(i));e(n)}}function Ke(i){let t=Reflect.ownKeys(i),e=t.reduce((r,s)=>O(x({},r),{[s]:fe(i[s])}),{}),n=L(()=>t.reduce((r,s)=>O(x({},r),{[s]:e[s]()}),{}));Object.defineProperty(n,jn,{value:e});for(let r of t)Object.defineProperty(n,r,{value:_d(e[r])});return n}var Br=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:typeof e=="number"?e:void 0,notes:n}}runInitializationBenchmark(){return v(this,null,function*(){let{runTimed:t}=yield import("./chunk-DFAJYDGV.js"),e=()=>({deepNested:{},largeArray:[],computedValues:{base:0,factors:[]},batchData:{}}),n=yield t(()=>{Ke(e())},{operations:1,trackMemory:!0,label:"ngrx-signals-init"});return{durationMs:n.durationMs,memoryDeltaMB:typeof n.memoryDeltaMB=="number"?n.memoryDeltaMB:"N/A"}})}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}static PerfWithMemory={};yieldToUI=dt();runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Math.min(t,w.ITERATIONS.ASYNC_WORKFLOW),r=[];for(let o=0;o<n;o++)r.push(new Promise(a=>setTimeout(a,0)));yield Promise.all(r);let s=performance.now()-e;return this.toResult(s)})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:t},()=>new Promise(s=>setTimeout(s,0)));yield Promise.all(n);let r=performance.now()-e;return this.toResult(r)})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=[];for(let s=0;s<t;s++)n.push(setTimeout(()=>{},10));for(let s=0;s<Math.floor(t/2);s++)clearTimeout(n[s]);yield new Promise(s=>setTimeout(s,10));let r=performance.now()-e;return this.toResult(r)})}runDeepNestedBenchmark(n){return v(this,arguments,function*(t,e=w.DATA_GENERATION.NESTED_DEPTH){let r=l=>l===0?{value:0,data:"test"}:{level:r(l-1)},s=Ke(r(e));L(()=>{let l=s();for(let d=0;d<e;d++)l=l.level;return l?.value})();let a=performance.now();for(let l=0;l<Math.min(t,w.ITERATIONS.DEEP_NESTED);l++)Pe(s,d=>{let u=(h,m)=>m===0?O(x({},h),{value:l}):O(x({},h),{level:u(h.level??{},m-1)});return u(d,e-1)});let c=performance.now()-a;return this.toResult(c)})}runArrayBenchmark(t){return v(this,null,function*(){let e=Ke({items:Array.from({length:t},(o,a)=>({id:a,value:Math.random()*1e3}))}),n=performance.now(),r=Math.min(w.ITERATIONS.ARRAY_UPDATES,t);for(let o=0;o<r;o++){let a=o%t;Pe(e,c=>O(x({},c),{items:c.items.map((l,d)=>d===a?O(x({},l),{value:Math.random()*1e3}):l)}))}let s=performance.now()-n;return this.toResult(s)})}runComputedBenchmark(t){return v(this,null,function*(){let e=Ke({value:0,factors:Array.from({length:w.DATA_GENERATION.FACTOR_COUNT},(o,a)=>a+1)}),n=L(()=>{let o=e().value,a=0;for(let c of e().factors)a+=Math.sin(o*c)*Math.cos(c);return a});n();let r=performance.now();for(let o=0;o<Math.min(t,w.ITERATIONS.COMPUTED);o++)Pe(e,a=>O(x({},a),{value:o})),n();let s=performance.now()-r;return this.toResult(s)})}runBatchUpdatesBenchmark(){return v(this,arguments,function*(t=w.ITERATIONS.BATCH_UPDATES,e=w.ITERATIONS.BATCH_SIZE){let n=Ke({items:Array.from({length:e},(o,a)=>a)}),r=performance.now();for(let o=0;o<t;o++)Pe(n,a=>O(x({},a),{items:a.items.map(c=>c+1|0)}));let s=performance.now()-r;return this.toResult(s)})}runSelectorBenchmark(t){return v(this,null,function*(){let e=Ke({items:Array.from({length:t},(c,l)=>({id:l,flag:l%2===0,value:Math.random()*100,metadata:{category:l%5,priority:l%3}}))}),n=L(()=>e().items.filter(c=>c.flag).length),r=L(()=>e().items.filter(c=>c.value>50).length),s=L(()=>e().items.reduce((l,d)=>{let u=d.metadata.category;return l[u]=(l[u]||0)+1,l},{})),o=performance.now();for(let c=0;c<w.ITERATIONS.SELECTOR;c++)if(n(),r(),s(),(c&w.YIELD_FREQUENCY.SELECTOR)===0){let l=c%e().items.length;Pe(e,d=>({items:d.items.map((u,h)=>h===l?O(x({},u),{flag:!u.flag}):u)}))}let a=performance.now()-o;return this.toResult(a)})}runSerializationBenchmark(t){return v(this,null,function*(){let e=Ke({users:Array.from({length:Math.max(w.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(w.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(a,c)=>({id:c,name:`User ${c}`,roles:c%5===0?["admin","user"]:["user"],active:c%3===0,meta:{createdAt:new Date(2020,0,1+c%28)}})),settings:{theme:"dark",flags:Object.fromEntries(Array.from({length:8},(a,c)=>[c,c%2===0]))}});for(let a=0;a<10;a++){let c=a%e().users.length;Pe(e,l=>O(x({},l),{users:l.users.map((d,u)=>u===c?O(x({},d),{active:!d.active}):d)}))}let n=performance.now(),r=e();JSON.stringify({data:r});let o=performance.now()-n;return this.toResult(o)})}runConcurrentUpdatesBenchmark(){return v(this,arguments,function*(t=w.ITERATIONS.ASYNC_WORKFLOW,e=200){let n=Ke({counters:Array.from({length:t},()=>({value:0}))}),r=performance.now();for(let o=0;o<e;o++)for(let a=0;a<t;a++){let c=a;Pe(n,l=>O(x({},l),{counters:l.counters.map((d,u)=>u===c?{value:d.value+1|0}:d)}))}n().counters[0].value;let s=performance.now()-r;return this.toResult(s)})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Math.max(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r=Je(),s=Ke({groups:Array.from({length:n},(u,h)=>({id:h,items:Array.from({length:Math.floor(e/n)},(m,f)=>({id:h*1e6+f,score:f*13%997,tags:f%7===0?["hot","new"]:["cold"]}))}))}),o=performance.now(),a=Math.max(100,Math.floor(e*.01));for(let u=0;u<a;u++){let h=u%n,m=u%s().groups[h].items.length;Pe(s,f=>O(x({},f),{groups:f.groups.map((_,y)=>y!==h?_:O(x({},_),{items:_.items.map((M,C)=>C!==m?M:O(x({},M),{score:M.score+1|0,tags:(u&w.YIELD_FREQUENCY.MEMORY_EFFICIENCY)===0?M.tags.includes("hot")?["cold"]:["hot"]:M.tags}))}))}))}let c=performance.now()-o,l=Je(),d;return r!=null&&l!=null&&(d=(l-r)/(1024*1024)),this.toResult(c,d)})}runDataFetchingBenchmark(t){return v(this,null,function*(){let e=Ke({users:[],filteredUsers:[],departmentGroups:{}}),n=Je(),r=performance.now(),s=Array.from({length:w.ITERATIONS.DATA_FETCHING},(u,h)=>({id:h+1,name:`User ${h+1}`,email:`user${h+1}@example.com`,isActive:Math.random()>.3,department:`Dept ${Math.floor(Math.random()*10)+1}`,lastLogin:new Date().toISOString()}));Pe(e,{users:s});let o=s.filter(u=>u.isActive);Pe(e,{filteredUsers:o});let a=o.reduce((u,h)=>(u[h.department]||(u[h.department]=[]),u[h.department].push(h),u),{});Pe(e,{departmentGroups:a});let c=performance.now()-r,l=Je(),d;return n!=null&&l!=null&&(d=(l-n)/(1024*1024)),e.users().length,this.toResult(c,d)})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=Ke({metrics:{activeUsers:0,messagesPerSecond:0,systemLoad:0},messages:[]}),n=Je(),r=performance.now();for(let c=0;c<w.ITERATIONS.REAL_TIME_UPDATES;c++){let l={activeUsers:Math.floor(Math.random()*1e3)+100,messagesPerSecond:Math.floor(Math.random()*50)+10,systemLoad:Math.random()*.8+.1};if(Pe(e,{metrics:l}),(c&w.YIELD_FREQUENCY.DATA_FETCHING)===0){let d={id:c,content:`Real-time message ${c}`,timestamp:Date.now(),priority:Math.random()>.7?"high":"normal"};Pe(e,u=>({messages:[...u.messages,d]}))}}let s=performance.now()-r,o=Je(),a;return n!=null&&o!=null&&(a=(o-n)/(1024*1024)),e.metrics().activeUsers,this.toResult(s,a)})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let e=Ke({largeDataset:[],activeItems:[],sortedItems:[]}),n=performance.memory?.usedJSHeapSize??null,r=performance.now(),s=Array.from({length:w.DATA_SIZE_LIMITS.LARGE_DATASET.MAX},(u,h)=>({id:h+1,title:`Item ${h+1}`,description:`Description for item ${h+1} with some additional text to make it realistic`,category:`Category ${Math.floor(h/100)+1}`,status:Math.random()>.5?"active":"inactive",metadata:{createdAt:new Date().toISOString(),tags:[`tag${h%10}`,`tag${h%7}`,`tag${h%5}`],score:Math.random()*100}}));Pe(e,{largeDataset:s});let o=s.filter(u=>u.status==="active");Pe(e,{activeItems:o});let a=[...o].sort((u,h)=>h.metadata.score-u.metadata.score);Pe(e,{sortedItems:a});for(let u=0;u<w.ITERATIONS.STATE_SIZE_SCALING;u++){let h=Math.floor(Math.random()*s.length);Pe(e,m=>({largeDataset:m.largeDataset.map((f,_)=>_===h?O(x({},f),{metadata:O(x({},f.metadata),{score:Math.random()*100,lastModified:new Date().toISOString()})}):f)}))}let c=performance.now()-r,l=performance.memory?.usedJSHeapSize??null,d;return n!=null&&l!=null&&(d=(l-n)/(1024*1024)),e.largeDataset().length,this.toResult(c,d)})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})};var Fr=class i{toResult(t,e,n){return{durationMs:Math.round(t*100)/100,memoryDeltaMB:e,notes:n}}yieldBetweenBenchmarks(){return v(this,null,function*(){return new Promise(t=>{requestAnimationFrame(()=>{setTimeout(t,0)})})})}yieldToUI=dt();getRuntimeMemoMode(){try{let t=window.__SIGNALTREE_MEMO_MODE;if(t==="off"||t==="light"||t==="shallow"||t==="full")return t}catch{}return"light"}applyConfiguredEnhancers(t,e){try{let n=window.__SIGNALTREE_ACTIVE_ENHANCERS__,r=[];if(n&&Array.isArray(n)&&n.length>0)for(let s of n)switch(s){case"withBatching":r.push(Ye());break;case"withHighPerformanceBatching":r.push(xt());break;case"withLightweightMemoization":r.push(en());break;case"withShallowMemoization":r.push(yn());break;case"withMemoization":r.push(Ri());break;case"withComputedMemoization":r.push(Kr());break;case"withSelectorMemoization":r.push(qr());break;case"withSerialization":r.push(Di());break;case"withTimeTravel":r.push(Yn());break;case"enterprise":break;default:break}if(r.length>0)return t.with(...r);if(e&&Array.isArray(e)&&e.length>0)return t.with(...e)}catch{}return t}runDeepNestedBenchmark(t,e=15){return v(this,null,function*(){let n=performance.now(),r=c=>c===0?{value:0,data:"test"}:{level:r(c-1)},s=X(r(e)),o=this.applyConfiguredEnhancers(s,[Ye(),yn()]);for(let c=0;c<Math.min(t,w.ITERATIONS.DEEP_NESTED);c++){let l=o.state;for(let d=0;d<e&&l?.level;d++)l=l.level;l?.value&&typeof l.value.set=="function"?l.value.set(c):typeof l?.value=="function"&&l.value(c)}let a=performance.now()-n;return this.toResult(a,void 0,"SignalTree deep nested updates")})}runArrayBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({items:Array.from({length:t},(a,c)=>({id:c,value:Math.random()*1e3}))}),r=this.applyConfiguredEnhancers(n,[xt()]),s=Math.min(w.ITERATIONS.ARRAY_UPDATES,t);for(let a=0;a<s;a++){let c=a%t;r.state.items.update(l=>(l[c].value=Math.random()*1e3,l))}let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree array updates")})}runComputedBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({value:0,factors:Array.from({length:50},(a,c)=>c+1)}),r=this.applyConfiguredEnhancers(n,[Ye(),Kr()]),s=L(()=>{let a=r.state.value(),c=0;for(let l of r.state.factors())c+=Math.sin(a*l)*Math.cos(l);return c});for(let a=0;a<Math.min(t,w.ITERATIONS.COMPUTED);a++)r.state.value.set(a),s(),a&1023;let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree computed chains")})}runBatchUpdatesBenchmark(t=100,e=1e3){return v(this,null,function*(){let n=performance.now(),r=X({items:Array.from({length:e},(a,c)=>c)}),s=this.applyConfiguredEnhancers(r,[xt()]);for(let a=0;a<t;a++)s.state.items.update(c=>{for(let l=0;l<e;l++)c[l]=c[l]+1|0;return c});let o=performance.now()-n;return this.toResult(o,void 0,"SignalTree batch updates")})}runSelectorBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({items:Array.from({length:t},(l,d)=>({id:d,flag:d%2===0,value:Math.random()*100,metadata:{category:d%5,priority:d%3}}))}),r=this.applyConfiguredEnhancers(n,[qr()]),s=L(()=>r.state.items().filter(l=>l.flag).length),o=L(()=>r.state.items().filter(l=>l.value>50).length),a=L(()=>r.state.items().reduce((d,u)=>{let h=u.metadata.category;return d[h]=(d[h]||0)+1,d},{}));for(let l=0;l<w.ITERATIONS.SELECTOR;l++)s(),o(),a(),(l&w.YIELD_FREQUENCY.SELECTOR)===0&&r.state.items.update(d=>{let u=l%d.length;return d[u].flag=!d[u].flag,d});let c=performance.now()-e;return this.toResult(c,void 0,"SignalTree selector memoization")})}runSerializationBenchmark(t){return v(this,null,function*(){let e=X({users:Array.from({length:Math.max(w.DATA_SIZE_LIMITS.USER_SIMULATION.MIN,Math.min(w.DATA_SIZE_LIMITS.USER_SIMULATION.MAX,t))},(l,d)=>({id:d,name:`User ${d}`,roles:d%5===0?["admin","user"]:["user"],active:d%3===0,meta:{createdAt:new Date(2020,0,1+d%28)}})),settings:{theme:"dark",flags:{a:!0,b:!1,c:r(8).reduce((l,d)=>O(x({},l),{[d]:d%2===0}),{})}}}),n=this.applyConfiguredEnhancers(e,[Ri(),xt(),Di({preserveTypes:!1,includeMetadata:!1})]);function r(l){return Array.from({length:l},(d,u)=>u)}for(let l=0;l<10;l++)n.state.users.update(d=>{let u=l%d.length;return d[u].active=!d[u].active,d});let s=performance.now(),o=n.snapshot();JSON.stringify({data:o.data});let c=performance.now()-s;return this.toResult(c,void 0,"SignalTree serialization")})}runConcurrentUpdatesBenchmark(t=50,e=200){return v(this,null,function*(){let n=X({counters:Array.from({length:t},()=>({value:0}))}),r=this.applyConfiguredEnhancers(n,[Ye()]),s=performance.now();for(let a=0;a<e;a++)for(let c=0;c<t;c++){let l=c;r.state.counters.update(d=>d.map((u,h)=>h===l?O(x({},u),{value:u.value+1|0}):u))}let o=performance.now()-s;return this.toResult(o,void 0,"SignalTree concurrent updates")})}runMemoryEfficiencyBenchmark(t){return v(this,null,function*(){let e=Math.max(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MIN,Math.min(w.DATA_SIZE_LIMITS.ENTITY_COUNT.MAX,t)),n=Math.max(10,Math.min(200,Math.floor(e/250))),r=X({groups:Array.from({length:n},(l,d)=>({id:d,items:Array.from({length:Math.floor(e/n)},(u,h)=>({id:d*1e6+h,score:h*13%997,tags:h%7===0?["hot","new"]:["cold"]}))}))}),s=this.applyConfiguredEnhancers(r,[en(),Ye()]),o=performance.now(),a=Math.max(100,Math.floor(e*.01));for(let l=0;l<a;l++){let d=l%n;s.state.groups.update(u=>{let h=[...u],m=h[d];return m&&m.items&&(h[d]=O(x({},m),{items:m.items.map((f,_)=>{let y=l%m.items.length;return _===y?O(x({},f),{score:f.score+1|0,tags:(l&63)===0?f.tags.includes("hot")?["cold"]:["hot"]:f.tags}):f})})),h})}let c=performance.now()-o;return this.toResult(c,void 0,"SignalTree memory efficiency")})}runDataFetchingBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:Math.min(t,w.DATA_SIZE_LIMITS.USER_SIMULATION.MAX)},(a,c)=>({id:c,title:`Item ${c}`,description:`Description for item ${c}`,tags:[`tag${c%10}`,`category${c%5}`],meta:{createdAt:new Date(2023,0,1+c%365),updatedAt:new Date(2023,6,1+c%180),views:Math.floor(Math.random()*1e3),rating:Math.random()*5},relations:{authorId:Math.floor(c/10),parentId:c>0?c-1:null,childIds:c<t-1?[c+1]:[]}})),r=X({items:[],metadata:{total:0,loaded:!1,lastFetch:null},filters:{search:"",category:"",tags:[]},pagination:{page:1,size:50,total:0}}),s=this.applyConfiguredEnhancers(r,[Ye(),yn()]);s.state.metadata.loaded.set(!1),s.state.items.set(n),s.state.metadata.total.set(n.length),s.state.metadata.lastFetch.set(new Date),s.state.metadata.loaded.set(!0);for(let a=0;a<Math.min(w.ITERATIONS.BATCH_UPDATES,t/10);a++){s.state.filters.search.set(`search${a}`),s.state.filters.category.set(`cat${a%5}`);let c=s.state.items().filter(l=>l.title.includes(s.state.filters.search())||l.tags.includes(s.state.filters.category()));s.state.pagination.total.set(c.length)}let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree data fetching")})}runRealTimeUpdatesBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({liveMetrics:{activeUsers:0,totalSessions:0,pageViews:0,serverLoad:0,responseTime:0},recentEvents:[],notifications:[],alerts:[]}),r=this.applyConfiguredEnhancers(n,[xt(),en()]),s=Math.min(w.ITERATIONS.REAL_TIME_UPDATES,t);for(let a=0;a<s;a++)r.state.liveMetrics.activeUsers.update(c=>c+Math.floor(Math.random()*10-5)),r.state.liveMetrics.pageViews.update(c=>c+Math.floor(Math.random()*20)),r.state.liveMetrics.serverLoad.set(Math.random()),r.state.liveMetrics.responseTime.set(50+Math.random()*200),(a&w.YIELD_FREQUENCY.DATA_FETCHING)===0&&r.state.recentEvents.update(c=>[...c.slice(-99),{id:a,type:"user_action",timestamp:Date.now(),data:`event${a}`}]),(a&w.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0&&r.state.notifications.update(c=>[...c.slice(-9),{id:a,message:`Notification ${a}`,priority:"normal",timestamp:Date.now()}]);let o=performance.now()-e;return this.toResult(o,void 0,"SignalTree real-time updates")})}runStateSizeScalingBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=Array.from({length:Math.min(t*w.DATA_SIZE_LIMITS.LARGE_DATASET.MULTIPLIER,w.DATA_SIZE_LIMITS.LARGE_DATASET.MAX)},(c,l)=>({id:l,name:`Entity ${l}`,properties:Array.from({length:20},(d,u)=>({key:`prop_${u}`,value:`value_${l}_${u}`,metadata:{type:"string",indexed:u%3===0}})),relations:Array.from({length:Math.min(5,l)},(d,u)=>({targetId:l-u-1,type:"reference"}))})),r=X({entities:n,indices:{},cache:{},stats:{size:0,lastUpdate:null}}),s=this.applyConfiguredEnhancers(r,[en(),Ye()]);s.state.stats.size.set(n.length),s.state.stats.lastUpdate.set(new Date);let o=Math.min(w.ITERATIONS.STATE_SIZE_SCALING,t/5);for(let c=0;c<o;c++){let l=c%n.length;s.state.entities.update(d=>{let u=d[l];return u&&(u.properties[0].value=`updated_${Date.now()}`),d}),(c&w.YIELD_FREQUENCY.REAL_TIME_UPDATES)===0&&s.state.cache.update(d=>O(x({},d),{[`cache_${c}`]:{computed:Math.random(),timestamp:Date.now()}}))}let a=performance.now()-e;return this.toResult(a,void 0,"SignalTree state size scaling")})}runAsyncWorkflowBenchmark(t){return v(this,null,function*(){let e=X({items:[],loading:!1,error:null}),n=this.applyConfiguredEnhancers(e,[xt()]),r=_=>v(this,null,function*(){return yield new Promise(y=>setTimeout(y,w.TIMING.ASYNC_DELAY_MS)),Array.from({length:_},(y,M)=>({id:M,value:M}))}),s=performance.now(),o=Math.min(Math.max(1,Math.floor(t/10)),w.ITERATIONS.ASYNC_WORKFLOW),a=Math.min(8,Math.max(1,o)),c=Math.max(1,Math.floor(t/Math.max(o,10))),l=new Array(t),d=0;function u(_,y){return v(this,null,function*(){let M=0;for(;M<_.length;){let C=_.slice(M,M+a);yield Promise.all(C.map(S=>y(S))),M+=a}})}n.state.loading.set(!0),n.state.error.set(null);let h=()=>v(this,null,function*(){try{let _=yield r(Math.min(c,t)),y=n.preallocateArray;if(y){let M=y("items",l.length);for(let C=0;C<_.length;C++){let S=(d+C)%l.length;M.update(S,_[C])}M.commit(),d=(d+_.length)%l.length}else if(n.batch)n.batch(()=>{for(let M=0;M<_.length;M++){let C=(d+M)%l.length;l[C]=_[M]}n.state.items.set(l),d=(d+_.length)%l.length});else{let M=d;for(let C=0;C<_.length;C++){let S=(M+C)%l.length;l[S]=_[C]}n.state.items.set(l.slice()),d=(d+_.length)%l.length}}catch(_){n.state.error.set(_?.message??String(_))}}),m=Array.from({length:o},(_,y)=>y);yield u(m,h),n.state.loading.set(!1);let f=performance.now()-s;return this.toResult(f,void 0,"SignalTree async workflow")})}runConcurrentAsyncBenchmark(t){return v(this,null,function*(){let e=X({results:[],activeOperations:0}),n=a=>v(null,null,function*(){e.state.activeOperations.update(l=>l+1),yield new Promise(l=>setTimeout(l,Math.random()*w.TIMING.RANDOM_DELAY_MAX_MS));let c={id:a,value:Math.random()};e.state.results.update(l=>[...l,c]),e.state.activeOperations.update(l=>l-1)}),r=performance.now(),s=Array.from({length:t},(a,c)=>n(c));yield Promise.all(s);let o=performance.now()-r;return this.toResult(o,void 0,"SignalTree concurrent async")})}runAsyncCancellationBenchmark(t){return v(this,null,function*(){let e=X({activeRequest:null,result:null,cancelled:0}),n=performance.now();for(let s=0;s<t;s++){let o=e.state.activeRequest();o&&(o.abort(),e.state.cancelled.update(c=>c+1));let a=new AbortController;e.state.activeRequest.set(a);try{yield new Promise((c,l)=>{let d=setTimeout(()=>{a.signal.aborted||(e.state.result.set({id:s,data:"completed"}),c(null))},5);a.signal.addEventListener("abort",()=>{clearTimeout(d),l(new Error("Cancelled"))})})}catch{}}let r=performance.now()-n;return this.toResult(r,void 0,"SignalTree async cancellation")})}runUndoRedoBenchmark(t){return v(this,null,function*(){let e=X({counter:0,data:{value:"initial"}}),n=this.applyConfiguredEnhancers(e,[Yn()]),r=performance.now();for(let o=0;o<t;o++)n.state.counter.set(o),n.state.data({value:`step_${o}`});for(let o=0;o<t/2;o++)n.undo?.();for(let o=0;o<t/4;o++)n.redo?.();let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree undo/redo")})}runHistorySizeBenchmark(t){return v(this,null,function*(){let e=X({value:0,data:{content:"initial"}}),n=this.applyConfiguredEnhancers(e,[Yn({maxHistorySize:t})]),r=performance.now();for(let o=0;o<t;o++)n.state.value.set(o),n.state.data({content:`step_${o}`});let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree history size")})}runJumpToStateBenchmark(t){return v(this,null,function*(){let e=X({currentState:0,data:{value:"initial"}}),n=this.applyConfiguredEnhancers(e,[Yn()]),r=performance.now();for(let o=0;o<t;o++)n.state.currentState.set(o),n.state.data({value:`state_${o}`});for(let o=0;o<t;o++){let a=Math.floor(Math.random()*t);n.jumpToStep?.(a)}let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree jump-to-state")})}runSingleMiddlewareBenchmark(t){return v(this,null,function*(){let e=X({value:0,middlewareLog:[]}),n=(o,a)=>{e.state.middlewareLog.update(c=>[...c.slice(-100),`${o}:${a}`])},r=performance.now();for(let o=0;o<t;o++)n("setValue",o),e.state.value.set(o);let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree single middleware")})}runMultipleMiddlewareBenchmark(t,e){return v(this,null,function*(){let n=X({value:0,logs:Array.from({length:t},()=>[])}),r=Array.from({length:t},(a,c)=>(l,d)=>{n.state.logs()[c].push(`MW${c}:${l}:${d}`)}),s=performance.now();for(let a=0;a<e;a++)r.forEach(c=>c("setValue",a)),n.state.value.set(a);let o=performance.now()-s;return this.toResult(o,void 0,"SignalTree multiple middleware")})}runConditionalMiddlewareBenchmark(t){return v(this,null,function*(){let e=X({value:0,conditionalLog:[],condition:!0}),n=(o,a)=>{e.state.condition()&&e.state.conditionalLog.update(c=>[...c.slice(-50),`${o}:${a}`])},r=performance.now();for(let o=0;o<t;o++)(o&w.YIELD_FREQUENCY.DATA_FETCHING)===0&&e.state.condition.set(!e.state.condition()),n("setValue",o),e.state.value.set(o);let s=performance.now()-r;return this.toResult(s,void 0,"SignalTree conditional middleware")})}runAllFeaturesEnabledBenchmark(t){return v(this,null,function*(){let e=X({data:[],loading:!1,history:[],middlewareLog:[]}),n=this.applyConfiguredEnhancers(e,[Ri(),Ye(),Di()]),r=performance.now(),s=Math.min(t/100,w.ITERATIONS.ASYNC_WORKFLOW);for(let a=0;a<s;a++)n.state.loading.set(!0),yield new Promise(c=>setTimeout(c,w.TIMING.TIMEOUT_DELAY_MS)),n.state.data.update(c=>[...c,{id:a,value:Math.random()}]),n.state.loading.set(!1),n.state.history.update(c=>[...c.slice(-20),{action:"update",id:a}]),n.state.middlewareLog.update(c=>[...c.slice(-30),`action_${a}`]);let o=performance.now()-r;return this.toResult(o,void 0,"SignalTree all features enabled")})}runEnhancedArrayBenchmark(t){return v(this,null,function*(){let e={operations:Math.min(w.ITERATIONS.ARRAY_UPDATES,t),warmup:10,measurementSamples:30,yieldEvery:w.YIELD_FREQUENCY.ARRAY_UPDATES,trackMemory:!0,removeOutliers:!0,forceGC:!0,label:"SignalTree Array Updates",minDurationMs:100},n=X({items:Array.from({length:t},(s,o)=>({id:o,value:Math.random()*1e3}))}),r=this.applyConfiguredEnhancers(n,[xt()]);return Bi(s=>v(this,null,function*(){let o=s%t;r.state.items.update(a=>{let c=[...a];return c[o]=O(x({},c[o]),{value:Math.random()*1e3}),c})}),e)})}runEnhancedSelectorBenchmark(t){return v(this,null,function*(){let e=X({items:Array.from({length:t},(o,a)=>({id:a,flag:a%2===0}))}),n=this.applyConfiguredEnhancers(e,[en()]),r=L(()=>n.state.items().filter(o=>o.flag).length);return Bi(()=>v(this,null,function*(){r()}),{operations:1e3,warmup:5,measurementSamples:50,yieldEvery:64,trackMemory:!1,removeOutliers:!0,label:"SignalTree Selector (Memoized)",minDurationMs:50})})}runEnhancedDeepNestedBenchmark(t,e=15){return v(this,null,function*(){let n=a=>a===0?{value:0,data:"test"}:{level:n(a-1)},r=X(n(e)),s=this.applyConfiguredEnhancers(r,[Ye(),yn()]),o={operations:Math.min(t,1e3),warmup:5,measurementSamples:20,yieldEvery:1024,trackMemory:!0,removeOutliers:!0,forceGC:!0,label:"SignalTree Deep Nested Updates",minDurationMs:100};return Bi(a=>v(this,null,function*(){s.update(c=>{let l=(d,u)=>u===0?O(x({},d),{value:a}):O(x({},d),{level:l(d.level??{},u-1)});return l(c,e-1)})}),o)})}runPureArrayBenchmark(t){return v(this,null,function*(){let e=X({items:Array.from({length:t},(o,a)=>({id:a,value:Math.random()*1e3}))}),n=this.applyConfiguredEnhancers(e,[xt()]),r=Math.min(w.ITERATIONS.ARRAY_UPDATES,t),s=performance.now();for(let o=0;o<r;o++){let a=o%t;n.state.items.update(c=>{let l=[...c];return l[a]=O(x({},l[a]),{value:Math.random()*1e3}),l})}return performance.now()-s})}runPureSelectorBenchmark(t){return v(this,null,function*(){let e=X({items:Array.from({length:t},(o,a)=>({id:a,flag:a%2===0}))}),n=this.applyConfiguredEnhancers(e,[en()]),r=L(()=>n.state.items().filter(o=>o.flag).length),s=performance.now();for(let o=0;o<w.ITERATIONS.SELECTOR;o++)r();return performance.now()-s})}runPureDeepNestedBenchmark(t,e=15){return v(this,null,function*(){let n=c=>c===0?{value:0,data:"test"}:{level:n(c-1)},r=X(n(e)),s=this.applyConfiguredEnhancers(r,[Ye(),yn()]),o=Math.min(t,w.ITERATIONS.DEEP_NESTED),a=performance.now();for(let c=0;c<o;c++)s.update(l=>{let d=(u,h)=>h===0?O(x({},u),{value:c}):O(x({},u),{level:d(u.level??{},h-1)});return d(l,e-1)});return performance.now()-a})}runPureBenchmarkSuite(t){return v(this,null,function*(){let e=performance.now();yield this.yieldBetweenBenchmarks();let n=yield this.runPureArrayBenchmark(t);yield this.yieldBetweenBenchmarks();let r=yield this.runPureSelectorBenchmark(t);yield this.yieldBetweenBenchmarks();let s=yield this.runPureDeepNestedBenchmark(t),o=performance.now()-e;return{arrayBenchmark:n,selectorBenchmark:r,deepNestedBenchmark:s,totalTime:o}})}validateBenchmarkEnvironment(){return v(this,null,function*(){let t=yield Yr.validateEnvironment(),e=yield Yr.detectPerformanceThrottling();return O(x({},t),{performanceMetrics:{isThrottled:e.isThrottled,opsPerMs:e.opsPerMs}})})}static compareWithLibrary(t,e,n){return da.compareBenchmarks(t,"SignalTree",e,n,.95)}runComprehensiveBenchmarkSuite(t){return v(this,null,function*(){let e=performance.now(),n=yield this.validateBenchmarkEnvironment(),r=yield this.runEnhancedArrayBenchmark(t),s=yield this.runEnhancedSelectorBenchmark(t),o=yield this.runEnhancedDeepNestedBenchmark(t),a=performance.now()-e,c=(r.sampleCount??r.samples?.length??0)+(s.sampleCount??s.samples?.length??0)+(o.sampleCount??o.samples?.length??0),l=[r.reliability,s.reliability,o.reliability],d="medium";l.every(h=>h==="high")?d="high":l.some(h=>h==="low")&&(d="low");let u=[];return n.isReady||u.push(...n.recommendations),{arrayBenchmark:r,selectorBenchmark:s,deepNestedBenchmark:o,environment:n,summary:{overallReliability:d,totalSamples:c,totalRuntime:a,recommendations:u}}})}demonstrateEnhancedBenchmarking(t=1e3){return v(this,null,function*(){(yield this.validateBenchmarkEnvironment()).isReady;let n=yield this.runEnhancedArrayBenchmark(t),r=yield this.runEnhancedSelectorBenchmark(t);i.compareWithLibrary(n,r,"Selector Benchmark")})}runSubscriberScalingBenchmark(t){return v(this,null,function*(){let e=performance.now(),n=X({counter:0,data:{value:"initial"}}),r=this.applyConfiguredEnhancers(n,[Ye()]),s=[];for(let a=0;a<t;a++){let c=L(()=>{let l=r.state.counter();return l*(a+1)+Math.sin(l*.1)});s.push(c)}let o=Math.min(1e3,w.ITERATIONS.SUBSCRIBER_SCALING||1e3);for(let a=0;a<o;a++){r.state.counter.set(a);for(let c of s)c()}return performance.now()-e})}runColdStartBenchmark(){return v(this,null,function*(){return{durationMs:-1,memoryDeltaMB:void 0,notes:"Disabled in demo orchestrator"}})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})};var bp=["combinedChart"];function _p(i,t){if(i&1&&(p(0,"div",124)(1,"span",125),b(2),g(),p(3,"span",126),b(4),g(),p(5,"span",127),b(6),g()()),i&2){let e=t.$implicit;P(2),U(e.name),P(),Te("positive",e.impact>0)("negative",e.impact<0),P(),lt(" ",e.impact>0?"+":"","",e.impact," "),P(2),U(e.reason)}}function yp(i,t){i&1&&(Ft(),p(0,"svg",118),pe(1,"path",128),g())}function Mp(i,t){i&1&&pe(0,"div",129)}function Cp(i,t){if(i&1&&(p(0,"div",140),Ft(),p(1,"svg",141),pe(2,"path",142),g(),b(3),g()),i&2){let e=t.$implicit;P(3),W(" ",e," ")}}function xp(i,t){if(i&1&&(p(0,"div",138),z(1,Cp,4,1,"div",139),g()),i&2){let e=F(2);P(),R("ngForOf",e.calibrationWarnings())}}function Pp(i,t){if(i&1&&(p(0,"div",130)(1,"h3"),b(2,"Calibration Results"),g(),p(3,"div",131)(4,"div",132)(5,"span",133),b(6,"CPU Performance"),g(),p(7,"span",134),b(8),be(9,"number"),g(),p(10,"div",135),pe(11,"div",136),g()(),p(12,"div",132)(13,"span",133),b(14,"Memory Available"),g(),p(15,"span",134),b(16),be(17,"number"),g(),p(18,"div",135),pe(19,"div",136),g()(),p(20,"div",132)(21,"span",133),b(22,"Recommended Test Size"),g(),p(23,"span",134),b(24),be(25,"number"),g()(),p(26,"div",132)(27,"span",133),b(28,"Recommended Iterations"),g(),p(29,"span",134),b(30),g()()(),z(31,xp,2,1,"div",137),g()),i&2){let e,n,r,s,o,a,c=F();P(8),W("",Ae(9,9,(e=c.calibrationData())==null?null:e.cpuOpsPerMs,"1.0-0")," ops/ms"),P(3),He("width",(n=c.calibrationData())==null?null:n.cpuScore,"%"),P(5),W("",Ae(17,12,(r=c.calibrationData())==null?null:r.availableMemoryMB,"1.0-0")," MB"),P(3),He("width",(s=c.calibrationData())==null?null:s.memoryScore,"%"),P(5),W("",Kn(25,15,(o=c.calibrationData())==null?null:o.recommendedSize)," items"),P(6),U((a=c.calibrationData())==null?null:a.recommendedIterations),P(),R("ngIf",c.calibrationWarnings().length>0)}}function Op(i,t){if(i&1&&(p(0,"div",149)(1,"span",150),b(2),g(),p(3,"span",150),b(4),be(5,"number"),g()()),i&2){let e=F().$implicit;P(2),W("Bundle: ",e.stats.bundleSize),P(2),W("Stars: ",Kn(5,2,e.stats.githubStars))}}function vp(i,t){i&1&&(p(0,"div",151),b(1," Baseline "),g())}function Sp(i,t){if(i&1){let e=Jt();p(0,"div",143),Y("click",function(){let r=ce(e).$implicit,s=F();return le(s.toggleLibrary(r))})("keydown",function(r){let s=ce(e).$implicit,o=F();return le(o.onLibraryCardKeydown(r,s))}),p(1,"div",144)(2,"input",145),Y("ngModelChange",function(r){let s=ce(e).$implicit,o=F();return le(o.onLibraryCheckboxChange(s,r))})("click",function(r){return ce(e),le(r.stopPropagation())})("change",function(r){return ce(e),le(r.stopPropagation())}),g()(),p(3,"div",146)(4,"h3"),b(5),g(),p(6,"p"),b(7),g(),z(8,Op,6,4,"div",147),g(),z(9,vp,2,0,"div",148),g()}if(i&2){let e=t.$implicit;He("--lib-color",e.color),Te("selected",e.selected)("disabled",e.id==="signaltree"),Qt("data-test-id","lib-"+e.id+"-card")("aria-pressed",e.selected),P(2),R("ngModel",e.selected)("disabled",e.id==="signaltree"),Qt("data-test-id","lib-"+e.id+"-checkbox")("aria-label",e.name+" selection"),P(3),U(e.name),P(2),U(e.description),P(),R("ngIf",e.stats),P(),R("ngIf",e.id==="signaltree")}}function wp(i,t){if(i&1){let e=Jt();p(0,"div",152),Y("click",function(){let r=ce(e).$implicit,s=F();return le(s.applyScenarioPreset(r.id))}),p(1,"h4"),b(2),g(),p(3,"p"),b(4),g(),p(5,"div",153),b(6),g()()}if(i&2){let e=t.$implicit,n=F();P(2),U(e.name),P(2),U(e.description),P(2),W("",n.presetCount(e)," tests")}}function kp(i,t){if(i&1&&(p(0,"span",158),b(1),g()),i&2){let e=t.$implicit;P(),W(" ",e.name," ")}}function Ep(i,t){if(i&1&&(p(0,"div",154)(1,"h3"),b(2,"Active SignalTree Enhancers"),g(),p(3,"div",155),z(4,kp,2,1,"span",156),g(),p(5,"p",157),b(6),g()()),i&2){let e=F();P(4),R("ngForOf",e.activeEnhancers()),P(2),W(" ",e.enhancerExplanation()," ")}}function Tp(i,t){if(i&1){let e=Jt();p(0,"div",162)(1,"div",163)(2,"strong"),b(3),g(),p(4,"span",164),b(5),be(6,"number"),g()(),p(7,"p",165),b(8),g(),p(9,"button",166),Y("click",function(){let r=ce(e).$implicit,s=F(2);return le(s.applySuggestedPreset(r.presetId))}),b(10),g()()}if(i&2){let e=t.$implicit;P(3),U(e.presetName),P(2),W("",Ae(6,4,e.confidence,"1.0-0"),"% match"),P(3),U(e.reason),P(2),W(" Apply ",e.presetName," Weights ")}}function Ap(i,t){if(i&1&&(p(0,"div",159)(1,"h4"),b(2,"\u{1F4A1} Suggested Presets for Your Selection:"),g(),p(3,"div",160),z(4,Tp,11,7,"div",161),g()()),i&2){let e=F();P(4),R("ngForOf",e.suggestedPresets())}}function Ip(i,t){if(i&1&&(p(0,"span",182),b(1),g()),i&2){let e=F().$implicit;P(),W(" ",e.disabledReason," ")}}function Rp(i,t){if(i&1&&(p(0,"div",183)(1,"h5"),b(2,"\u{1F3D7}\uFE0F Architecture Impact:"),g(),p(3,"p",184),b(4),g()()),i&2){let e=F().$implicit;P(4),U(e.architecturalTradeOffs)}}function Dp(i,t){if(i&1){let e=Jt();p(0,"div",167),Y("click",function(){let r=ce(e).$implicit,s=F();return le(s.toggleScenario(r))})("keydown",function(r){let s=ce(e).$implicit,o=F();return le(o.onScenarioCardKeydown(r,s))}),p(1,"div",2)(2,"input",168),Y("click",function(r){return ce(e),le(r.stopPropagation())}),g(),p(3,"h3"),b(4),g(),z(5,Ip,2,1,"span",169),g(),p(6,"div",170)(7,"span",171),b(8,"Usage"),g(),p(9,"div",172),pe(10,"div",173),g(),p(11,"span",174),b(12),g()(),p(13,"p"),b(14),g(),z(15,Rp,5,1,"div",175),p(16,"div",176)(17,"span",177),b(18),g(),p(19,"span",177),b(20),g(),p(21,"div",178)(22,"label",179),b(23,"Impact Weight:"),g(),p(24,"input",180),Y("input",function(r){let s=ce(e).$implicit,o=F();return le(o.updateTestCaseWeight(s.id,r))})("click",function(r){return ce(e),le(r.stopPropagation())}),g(),p(25,"span",181),b(26),g()()()()}if(i&2){let e=t.$implicit,n=F();Te("selected",e.selected)("disabled",e.disabledReason),Qt("aria-pressed",e.selected),P(2),R("checked",e.selected),P(2),U(e.name),P(),R("ngIf",e.disabledReason),P(),Qt("data-frequency",e.frequencyWeight),P(4),He("width",n.getFrequencyBarWidth(e.frequencyWeight||1),"%"),P(2),U(n.getFrequencyLabel(e.frequencyWeight||1)),P(2),U(e.description),P(),R("ngIf",e.architecturalTradeOffs),P(3),W("Operations: ",e.operations),P(2),W("Complexity: ",e.complexity),P(2),R("for",$r("weight-",e.id)),P(2),R("id",$r("weight-",e.id))("value",e.frequencyWeight),P(2),W("",e.frequencyWeight,"x")}}function Bp(i,t){if(i&1&&(p(0,"div",185),pe(1,"span",186),p(2,"span"),b(3),g()()),i&2){let e=F();P(3),lt("Benchmarks running\u2026 ",e.completedTests(),"/",e.totalTests()," complete")}}function Fp(i,t){i&1&&(p(0,"p"),b(1,"Please calibrate environment first"),g())}function Lp(i,t){if(i&1&&(p(0,"p"),b(1),g()),i&2){let e=F(2);P(),W(" Select at least one library to compare with ",e.baselineName()," ")}}function Np(i,t){i&1&&(p(0,"p"),b(1," Select at least one test scenario "),g())}function zp(i,t){if(i&1&&(p(0,"div",187),z(1,Fp,2,0,"p",188)(2,Lp,2,1,"p",188)(3,Np,2,0,"p",188),g()),i&2){let e=F();P(),R("ngIf",!e.calibrationData()),P(),R("ngIf",e.selectedLibraries().length<2),P(),R("ngIf",e.selectedScenarios().length===0)}}function Up(i,t){if(i&1){let e=Jt();p(0,"div",189)(1,"div",190)(2,"h2"),b(3,"Running Benchmarks"),g(),p(4,"div",191)(5,"span",192),b(6),g(),p(7,"span",193),b(8),g(),p(9,"span",194),b(10),g()(),p(11,"div",195)(12,"div",196),pe(13,"div",197),g(),p(14,"span",198),b(15),be(16,"number"),g()(),p(17,"div",199)(18,"div",150)(19,"span",200),b(20,"Elapsed"),g(),p(21,"span",201),b(22),g()(),p(23,"div",150)(24,"span",200),b(25,"Estimated"),g(),p(26,"span",201),b(27),g()(),p(28,"div",150)(29,"span",200),b(30,"Tests Complete"),g(),p(31,"span",201),b(32),g()()(),p(33,"button",202),Y("click",function(){ce(e);let r=F();return le(r.cancelBenchmarks())}),b(34," Cancel "),g()()()}if(i&2){let e=F();P(6),U(e.currentLibrary()),P(2),U(e.currentScenario()),P(2),lt("Iteration ",e.currentIteration()," / ",e.config().iterations),P(3),He("width",e.progressPercent(),"%"),P(2),W("",Ae(16,11,e.progressPercent(),"1.0-0"),"%"),P(7),U(e.elapsedTime()),P(5),W("~",e.remainingTime()),P(5),lt("",e.completedTests()," / ",e.totalTests())}}function Vp(i,t){if(i&1&&(p(0,"span",250),b(1),be(2,"number"),g()),i&2){let e=F().$implicit;P(),lt(" #",e.rank," (",Ae(2,2,e.weightedScore,"1.1-1")," pts) ")}}function jp(i,t){i&1&&(p(0,"span",251),b(1," Incomplete "),g())}function Wp(i,t){if(i&1&&(p(0,"div",252)(1,"span",253),b(2),g(),p(3,"span",254),b(4),g(),p(5,"span",255),b(6),be(7,"number"),g()()),i&2){let e=t.$implicit;P(2),U(e.scenarioName),P(2),W("",e.weight,"x"),P(2),W("",Ae(7,3,e.contribution,"1.1-1")," pts")}}function Hp(i,t){if(i&1&&(p(0,"div",244)(1,"div",245)(2,"h4"),b(3),g(),z(4,Vp,3,5,"span",246)(5,jp,2,0,"span",247),g(),p(6,"div",248),z(7,Wp,8,6,"div",249),g()()),i&2){let e=t.$implicit;He("--card-color",e.color),Te("weighted-winner",e.rank===1),P(3),U(e.name),P(),R("ngIf",e.weightedScore!==-1),P(),R("ngIf",e.weightedScore===-1),P(2),R("ngForOf",e.breakdown)}}function $p(i,t){if(i&1&&(p(0,"div",261)(1,"span",262),b(2,"Unsupported"),g(),p(3,"small",263),b(4),g()()),i&2){let e=F().$implicit;P(4),U(e.disabledReason)}}function qp(i,t){if(i&1&&(p(0,"div",256)(1,"span",257),b(2),g(),p(3,"span",181),b(4),g(),z(5,$p,5,1,"div",258),p(6,"div",259),pe(7,"div",260),g()()),i&2){let e=t.$implicit;Te("disabled",e.disabledReason),P(2),U(e.name),P(2),W("",e.frequencyWeight||1,"x"),P(),R("ngIf",e.disabledReason),P(2),He("width",(e.frequencyWeight||1)/3*100,"%")}}function Kp(i,t){if(i&1&&(p(0,"span",276),b(1),g()),i&2){let e=F().$implicit;P(),lt(" ",e.rankChange>0?"\u2197\uFE0F":"\u2198\uFE0F"," ",e.rankChange>0?e.rankChange:-e.rankChange," ")}}function Yp(i,t){if(i&1&&(p(0,"div",272)(1,"span",273),b(2),g(),p(3,"span",274),b(4),z(5,Kp,2,2,"span",275),g()()),i&2){let e=t.$implicit;Te("ranking-improved",e.rankChange>0)("ranking-declined",e.rankChange<0),P(2),U(e.libraryName),P(2),lt(" #",e.rawRank," \u2192 #",e.weightedRank," "),P(),R("ngIf",e.rankChange!==0)}}function Gp(i,t){if(i&1&&(p(0,"div",269)(1,"h5"),b(2,"\u{1F4C8} Ranking Changes Due to Weighting:"),g(),p(3,"div",270),z(4,Yp,6,8,"div",271),g()()),i&2){let e=F().ngIf;P(4),R("ngForOf",e.rankingChanges)}}function Xp(i,t){if(i&1&&(p(0,"div",264)(1,"h4"),b(2,"\u{1F52C} Weight Impact Analysis"),g(),p(3,"div",265)(4,"div",266)(5,"strong"),b(6),be(7,"uppercase"),g(),b(8," impact from frequency weighting "),g(),p(9,"div",267),b(10),g()(),z(11,Gp,5,1,"div",268),g()),i&2){let e=t.ngIf;P(4),Hr("impact-"+e.weightingSignificance),P(2),U(Kn(7,5,e.weightingSignificance)),P(4),W(" ",e.totalScenariosAnalyzed," scenarios analyzed "),P(),R("ngIf",e.rankingChanges)}}function Qp(i,t){if(i&1&&(p(0,"div",288)(1,"div",289)(2,"span",253),b(3),g(),p(4,"span",290),b(5),g()(),p(6,"div",291)(7,"span",254),b(8),g(),p(9,"span",292),b(10),be(11,"number"),g(),p(12,"span",293),b(13),be(14,"number"),g()()()),i&2){let e=t.$implicit;P(3),U(e.scenarioName),P(2),U(e.realWorldFrequency),P(3),W("",e.weight,"x"),P(2),U(Ae(11,5,e.rawScore,"1.0-0")),P(3),U(Ae(14,8,e.weightedScore,"1.0-0"))}}function Jp(i,t){if(i&1&&(p(0,"div",280)(1,"div",281)(2,"h4"),b(3),g(),p(4,"div",282)(5,"div",283),b(6),be(7,"number"),g(),p(8,"div",284),b(9),be(10,"number"),g(),p(11,"div",285),b(12),be(13,"number"),g()()(),p(14,"div",286),z(15,Qp,15,11,"div",287),g()()),i&2){let e=t.$implicit;He("--card-color",e.color),P(3),U(e.libraryName),P(3),W(" Raw: ",Ae(7,12,e.rawAverage,"1.0-0")," ops/sec "),P(3),W(" Weighted: ",Ae(10,15,e.weightedAverage,"1.0-0")," ops/sec "),P(2),Te("positive-impact",e.weightingImpact>0)("negative-impact",e.weightingImpact<0),P(),lt(" ",e.weightingImpact>0?"+":"","",Ae(13,18,e.weightingImpact,"1.1-1"),"% "),P(3),R("ngForOf",e.scenarioBreakdown)}}function Zp(i,t){if(i&1&&(p(0,"div",277)(1,"h3"),b(2,"\u{1F4CB} Detailed Performance Breakdown"),g(),p(3,"div",278),z(4,Jp,16,21,"div",279),g()()),i&2){let e=t.ngIf;P(4),R("ngForOf",e.libraryAnalysis)}}function e0(i,t){if(i&1&&(p(0,"span",302),b(1),g()),i&2){let e=F().$implicit;P(),W("#",e.rank)}}function t0(i,t){i&1&&(p(0,"span",303),b(1,"Not Implemented"),g())}function n0(i,t){if(i&1&&(p(0,"span",134),b(1),g()),i&2){let e=F().$implicit,n=F(2);P(),U(n.formatTime(e.median))}}function i0(i,t){i&1&&(p(0,"span",304),b(1,"N/A"),g())}function r0(i,t){if(i&1&&(p(0,"span",134),b(1),g()),i&2){let e=F().$implicit,n=F(2);P(),U(n.formatTime(e.p95))}}function s0(i,t){i&1&&(p(0,"span",304),b(1,"N/A"),g())}function o0(i,t){if(i&1&&(p(0,"span",134),b(1),be(2,"number"),g()),i&2){let e=F().$implicit;P(),U(Ae(2,1,e.opsPerSecond,"1.0-0"))}}function a0(i,t){i&1&&(p(0,"span",304),b(1,"N/A"),g())}function c0(i,t){if(i&1&&(p(0,"span",134),b(1),be(2,"number"),g()),i&2){let e=F().$implicit;Te("faster",e.relativeSpeed>1)("slower",e.relativeSpeed<1),P(),W(" ",Ae(2,5,e.relativeSpeed,"1.1-1"),"x ")}}function l0(i,t){i&1&&(p(0,"span",304),b(1,"N/A"),g())}function d0(i,t){if(i&1&&(p(0,"div",294)(1,"div",245)(2,"h3"),b(3),g(),z(4,e0,2,1,"span",295)(5,t0,2,0,"span",296),g(),p(6,"div",297)(7,"div",298)(8,"span",133),b(9,"Median"),g(),z(10,n0,2,1,"span",299)(11,i0,2,0,"span",300),g(),p(12,"div",298)(13,"span",133),b(14,"P95"),g(),z(15,r0,2,1,"span",299)(16,s0,2,0,"span",300),g(),p(17,"div",298)(18,"span",133),b(19,"Ops/sec"),g(),z(20,o0,3,4,"span",299)(21,a0,2,0,"span",300),g(),p(22,"div",298)(23,"span",133),b(24),g(),z(25,c0,3,8,"span",301)(26,l0,2,0,"span",300),g()()()),i&2){let e=t.$implicit,n=F(2);He("--card-color",e.color),P(3),U(e.name),P(),R("ngIf",e.median!==-1),P(),R("ngIf",e.median===-1),P(5),R("ngIf",e.median!==-1),P(),R("ngIf",e.median===-1),P(4),R("ngIf",e.p95!==-1),P(),R("ngIf",e.p95===-1),P(4),R("ngIf",e.opsPerSecond!==-1&&n.isFinite(e.opsPerSecond)),P(),R("ngIf",e.opsPerSecond===-1||!n.isFinite(e.opsPerSecond)),P(3),W("vs ",n.baselineName()),P(),R("ngIf",e.relativeSpeed!==-1),P(),R("ngIf",e.relativeSpeed===-1)}}function u0(i,t){if(i&1&&(p(0,"th"),b(1),g()),i&2){let e=t.$implicit;He("color",e.color),P(),W(" ",e.name," ")}}function h0(i,t){if(i&1&&(p(0,"span",310),b(1),g()),i&2){let e=F().$implicit,n=F().$implicit,r=F(2);P(),W(" ",r.getScenarioRankEmoji(n.id,e.id)," ")}}function m0(i,t){if(i&1&&(p(0,"span",311),b(1),g()),i&2){let e=F().$implicit,n=F().$implicit,r=F(2);P(),lt(" ",r.getRelativePerformance(n.id,e.id),"x vs ",r.baselineName()," ")}}function g0(i,t){if(i&1&&(p(0,"td"),z(1,h0,2,1,"span",306),p(2,"span",307),b(3),g(),p(4,"span",308),b(5),g(),z(6,m0,2,2,"span",309),g()),i&2){let e=t.$implicit,n=F().$implicit,r=F(2);Hr(r.getScenarioRankClass(n.id,e.id)),He("--cell-color",e.color),Te("winner",r.isScenarioWinner(n.id,e.id)),P(),R("ngIf",r.getScenarioRankEmoji(n.id,e.id)),P(2),U(r.getScenarioTime(n.id,e.id)),P(2),W("",r.getScenarioOps(n.id,e.id)," ops/s"),P(),R("ngIf",e.id!=="signaltree")}}function f0(i,t){if(i&1&&(p(0,"tr")(1,"td",253),b(2),p(3,"small"),b(4),g()(),z(5,g0,7,10,"td",305),g()),i&2){let e=t.$implicit,n=F(2);P(2),W(" ",e.name," "),P(2),U(e.description),P(),R("ngForOf",n.librariesWithResults())}}function p0(i,t){if(i&1&&(p(0,"div",312)(1,"h4"),b(2),g(),p(3,"div",313)(4,"span"),b(5,"Sample Size:"),g(),p(6,"span"),b(7),g()(),p(8,"div",313)(9,"span"),b(10,"T-Statistic:"),g(),p(11,"span"),b(12),be(13,"number"),g()(),p(14,"div",313)(15,"span"),b(16,"P-Value:"),g(),p(17,"span"),b(18),be(19,"number"),g()(),p(20,"div",314)(21,"span"),b(22,"Conclusion:"),g(),p(23,"span"),b(24),g()()()),i&2){let e=t.$implicit;P(2),U(e.name),P(5),U(e.sampleSize),P(5),U(Ae(13,7,e.tStatistic,"1.2-2")),P(5),Te("significant",e.pValue<.05),P(),W(" ",Ae(19,10,e.pValue,"1.4-4")," "),P(6),U(e.conclusion)}}function b0(i,t){if(i&1){let e=Jt();p(0,"section",203)(1,"h2"),b(2,"Benchmark Results"),g(),p(3,"div",204)(4,"h4",205),b(5," \u{1F4A1} Understanding Selector/Memoization Performance "),g(),p(6,"p",206)(7,"strong"),b(8,"Why SignalTree benchmarks use enhancers:"),g(),b(9," SignalTree's architecture showcases "),p(10,"strong"),b(11,"developer-friendly enhancers"),g(),b(12," (memoization, batching, serialization, time-travel) that compose together. Benchmarks intentionally use these enhancers to demonstrate real-world usage patterns. "),g(),p(13,"p",206)(14,"strong"),b(15,"The trade-off:"),g(),b(16," Angular's "),p(17,"code",207),b(18,"computed()"),g(),b(19," adds ~2\u03BCs per call vs NgRx's reference checks (~0.3\u03BCs). However, memoization "),p(20,"strong"),b(21,"prevents expensive re-renders"),g(),b(22,", saving 100-1000x more time in real applications. The benchmarks test "),p(23,"em"),b(24,"cache efficiency"),g(),b(25,", not just speed. "),g(),p(26,"p",208)(27,"strong"),b(28,"Fair comparison:"),g(),b(29," All libraries now update state during tests (98% cache hits + 2% recomputation), testing real-world selector behavior where data changes occasionally. "),g()(),p(30,"div",209)(31,"h3"),b(32,"\u{1F3AF} Real-World Weighted Performance"),g(),p(33,"p",210),b(34," Results below are weighted by real-world usage frequency. "),p(35,"strong"),b(36,"This reflects how different architectures perform in typical applications."),g()(),p(37,"div",211),z(38,Hp,8,8,"div",212),g(),p(39,"div",213)(40,"h4"),b(41,"\u{1F4CA} Current Weights Applied:"),g(),p(42,"div",214),z(43,qp,8,7,"div",215),g(),p(44,"div",216)(45,"button",217),Y("click",function(){ce(e);let r=F();return le(r.applySmartWeightAdjustments())}),b(46," \u{1F9E0} Apply Research-Based Weights "),g(),p(47,"span",218),b(48,"Based on real-world usage studies"),g()()(),z(49,Xp,12,7,"div",219),g(),z(50,Zp,5,1,"div",220),p(51,"div",221),z(52,d0,27,14,"div",222),g(),p(53,"div",223)(54,"div",224)(55,"div",225)(56,"button",226),Y("click",function(){ce(e);let r=F();return le(r.setChartMode("scenarios"))}),b(57," Scenarios "),g(),p(58,"button",227),Y("click",function(){ce(e);let r=F();return le(r.setChartMode("distribution"))}),b(59," Distribution "),g(),p(60,"button",228),Y("click",function(){ce(e);let r=F();return le(r.setChartMode("percentiles"))}),b(61," Percentiles "),g(),p(62,"button",229),Y("click",function(){ce(e);let r=F();return le(r.setChartMode("timeseries"))}),b(63," Time Series "),g()(),pe(64,"canvas",null,0),g()(),p(66,"div",230)(67,"h3"),b(68,"Detailed Results by Scenario"),g(),p(69,"table")(70,"thead")(71,"tr")(72,"th"),b(73,"Scenario"),g(),z(74,u0,2,3,"th",231),g()(),p(75,"tbody"),z(76,f0,6,3,"tr",232),g()()(),p(77,"div",233)(78,"h3"),b(79,"Statistical Analysis"),g(),p(80,"div",234),z(81,p0,25,13,"div",235),g()(),p(82,"div",236)(83,"h3"),b(84,"Export Results"),g(),p(85,"div",237)(86,"button",238),Y("click",function(){ce(e);let r=F();return le(r.exportCSV())}),Ft(),p(87,"svg",118),pe(88,"path",239),g(),b(89," Export CSV "),g(),Ti(),p(90,"button",240),Y("click",function(){ce(e);let r=F();return le(r.exportJSON())}),Ft(),p(91,"svg",118),pe(92,"path",241),g(),b(93," Export JSON "),g(),Ti(),p(94,"button",242),Y("click",function(){ce(e);let r=F();return le(r.shareResults())}),Ft(),p(95,"svg",118),pe(96,"path",243),g(),b(97," Share Results "),g()()()()}if(i&2){let e=F();P(38),R("ngForOf",e.weightedLibrarySummaries()),P(5),R("ngForOf",e.visibleScenarios()),P(6),R("ngIf",e.weightedResultsAnalysis()),P(),R("ngIf",e.weightedResultsAnalysis()),P(2),R("ngForOf",e.librarySummaries()),P(4),Te("active",e.chartMode()==="scenarios"),P(2),Te("active",e.chartMode()==="distribution"),P(2),Te("active",e.chartMode()==="percentiles"),P(2),Te("active",e.chartMode()==="timeseries"),P(12),R("ngForOf",e.librariesWithResults()),P(2),R("ngForOf",e.completedScenarios()),P(5),R("ngForOf",e.statisticalComparisons())}}_r.register(...vl);var Lr=class i{combinedChartRef;destroy$=new ye;charts=[];chartMode=fe("scenarios");config=fe({dataSize:1e4,complexity:"moderate",iterations:50,warmupRuns:10});memoMode=fe(this._readMemoModeFromUrl());includeEnterpriseEnhancer=fe(!1);setIncludeEnterpriseEnhancer(t){let e=typeof t=="boolean"?t:t?.value==="true";this.includeEnterpriseEnhancer(!!e)}includeEnterpriseAutoRun=fe(!1);setIncludeEnterpriseAutoRun(t){let e=typeof t=="boolean"?t:t?.value==="true";this.includeEnterpriseAutoRun(!!e)}_memoModeEffect=Zt(()=>{window.__SIGNALTREE_MEMO_MODE=this.memoMode()});_readMemoModeFromUrl(){try{let e=new URLSearchParams(window.location.search).get("memo");if(e==="off"||e==="light"||e==="shallow"||e==="full")return e}catch{}return"light"}setMemoMode(t){let e=typeof t=="string"?t:t?.value;if(e==="off"||e==="light"||e==="shallow"||e==="full"){this.memoMode(e);try{let n=new URL(window.location.href);n.searchParams.set("memo",e),history.replaceState(null,"",n.toString()),window.__SIGNALTREE_MEMO_MODE=e}catch{}}}calibrationData=fe(null);isCalibrating=fe(!1);isRunning=fe(!1);currentLibrary=fe("");currentScenario=fe("");currentIteration=fe(0);startTime=fe(0);completedTests=fe(0);elapsedTimeTimer=fe(0);timerInterval;scenarioPresets=[{id:"core-performance",name:"Core Performance",description:"Essential state management operations",scenarios:["deep-nested","large-array","computed-chains","batch-updates","selector-memoization","serialization","concurrent-updates"]},{id:"real-world",name:"Real-World Usage",description:"Common application patterns",scenarios:["memory-efficiency"]},{id:"advanced-features",name:"Advanced Features",description:"Time travel, middleware, and complex workflows",scenarios:["single-middleware","multiple-middleware","conditional-middleware"]},{id:"performance-stress",name:"Performance Stress",description:"Heavy load and scaling tests",scenarios:["concurrent-updates","memory-efficiency","history-size","conditional-middleware"]},{id:"all-tests",name:"All Tests",description:"Complete benchmark suite",scenarios:[]}];results=fe([]);selectionVersion=fe(0);scenarioSelectionVersion=fe(0);baselineName=L(()=>this.availableLibraries.find(t=>t.id==="signaltree")?.name||"SignalTree");stBench=se(Fr);ngrxBench=se(Dr);ngrxSignalsBench=se(Br);akitaBench=se(kr);elfBench=se(Ar);ngxsBench=se(ua);realisticBenchmarkService=se(la);availableLibraries=[{id:"signaltree",name:"SignalTree",description:"Granular reactive state with direct mutation",color:"#3b82f6",selected:!0,stats:{bundleSize:"7.3KB",githubStars:2800}},{id:"ngrx-store",name:"NgRx Store",description:"Redux pattern with immutable updates",color:"#ef4444",selected:!1,stats:{bundleSize:"25KB",githubStars:7900}},{id:"ngrx-signals",name:"NgRx SignalStore",description:"Signal-based store with immutable patterns",color:"#10b981",selected:!1,stats:{bundleSize:"12KB",githubStars:7900}},{id:"akita",name:"Akita",description:"Entity-focused state management",color:"#f59e0b",selected:!1,stats:{bundleSize:"~40KB",githubStars:3500}},{id:"elf",name:"Elf",description:"Modular reactive state",color:"#8b5cf6",selected:!1,stats:{bundleSize:"~5KB",githubStars:1500}},{id:"ngxs",name:"NgXs",description:"CQRS-inspired state management with actions, reducers, and selectors",color:"#f97316",selected:!1,stats:{bundleSize:"~30KB",githubStars:3400}}];testCases=Sl;hiddenScenarioIds=new Set(["undo-redo","history-size","jump-to-state"]);selectedLibraries=L(()=>(this.selectionVersion(),this.availableLibraries.filter(t=>t.selected)));_autoDisableUnsupportedScenarios=Zt(()=>{let t=this.selectedLibraries(),e={signaltree:this.stBench,"ngrx-store":this.ngrxBench,"ngrx-signals":this.ngrxSignalsBench,akita:this.akitaBench,elf:this.elfBench,ngxs:this.ngxsBench},n={"deep-nested":"runDeepNestedBenchmark","large-array":"runArrayBenchmark","computed-chains":"runComputedBenchmark","batch-updates":"runBatchUpdatesBenchmark","selector-memoization":"runSelectorBenchmark",serialization:"runSerializationBenchmark","concurrent-updates":"runConcurrentUpdatesBenchmark","memory-efficiency":"runMemoryEfficiencyBenchmark","data-fetching":"runDataFetchingBenchmark","real-time-updates":"runRealTimeUpdatesBenchmark","state-size-scaling":"runStateSizeScalingBenchmark","subscriber-scaling":"runSubscriberScalingBenchmark","undo-redo":"runUndoRedoBenchmark","history-size":"runHistorySizeBenchmark","jump-to-state":"runJumpToStateBenchmark","single-middleware":"runSingleMiddlewareBenchmark","multiple-middleware":"runMultipleMiddlewareBenchmark","conditional-middleware":"runConditionalMiddlewareBenchmark","async-workflow":"runAsyncWorkflowBenchmark","async-workflow-scheduling":"runAsyncWorkflowBenchmark","async-workflow-hydration":"runAsyncWorkflowHydrationBenchmark","concurrent-async":"runConcurrentAsyncBenchmark","async-cancellation":"runAsyncCancellationBenchmark"},r={akita:["multiple-middleware","data-fetching","state-size-scaling"]};this.testCases.forEach(s=>{let o=[];if(t.forEach(l=>{r[l.id]?.includes(s.id)&&o.push(l.name)}),o.length>0){let l=s;l.disabledReason=`Not supported by ${o.join(", ")}`,l.selected&&(l.selected=!1);return}let a=n[s.id]||null;if(!a){delete s.disabledReason;return}let c=[];if(t.forEach(l=>{let d=e[l.id];if(!d)return;d[a]||c.push(l.name)}),this.hiddenScenarioIds.has(s.id)){let l=s;l.disabledReason="Hidden (SignalTree-only)",l.selected&&(l.selected=!1);return}if(c.length>0){let l=`Unsupported by ${c.join(", ")}`,d=s;d.disabledReason=l,d.selected&&(d.selected=!1)}else delete s.disabledReason}),this.scenarioSelectionVersion.update(s=>s+1)});scenarioEnhancerMap={"deep-nested":["withBatching","withShallowMemoization"],"large-array":["withHighPerformanceBatching"],"computed-chains":["withBatching","withShallowMemoization"],"batch-updates":["withHighPerformanceBatching"],"selector-memoization":["withLightweightMemoization"],serialization:["withMemoization","withHighPerformanceBatching"],"concurrent-updates":["withBatching"],"memory-efficiency":["withLightweightMemoization","withBatching"],"data-fetching":["withBatching","withShallowMemoization"],"real-time-updates":["withHighPerformanceBatching","withLightweightMemoization"],"state-size-scaling":["withLightweightMemoization","withBatching"],"undo-redo":["withTimeTravel"],"history-size":["withTimeTravel"],"jump-to-state":["withTimeTravel"],"single-middleware":[],"multiple-middleware":[],"conditional-middleware":[]};activeEnhancers=L(()=>{let t=this.selectedScenarios(),e=new Map;return t.forEach(n=>{n.enhancers.required.forEach(r=>{let s=e.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.required++,s.scenarios.push(n.name),s.rationales.includes(n.enhancers.rationale)||s.rationales.push(n.enhancers.rationale),e.set(r,s)}),n.enhancers.optional.forEach(r=>{let s=e.get(r)||{count:0,required:0,optional:0,scenarios:[],rationales:[]};s.count++,s.optional++,s.scenarios.push(n.name),e.set(r,s)})}),Array.from(e.entries()).map(([n,r])=>O(x({name:n},r),{priority:r.required>0?"required":"optional"}))});enhancerExplanation=L(()=>{let t=this.activeEnhancers();if(this.selectedScenarios().length===0)return"Select scenarios to see which enhancers will be used in the actual tests.";if(t.length===0)return"Selected tests use bare SignalTree instances without enhancers for optimal performance comparison.";let n={withBatching:"groups multiple state updates for better performance",withHighPerformanceBatching:"optimized batching for high-frequency operations",withMemoization:"full memoization with deep equality checks",withShallowMemoization:"lightweight memoization for object structures",withLightweightMemoization:"minimal caching overhead for intensive workloads",withSerialization:"state persistence and snapshot capabilities",withTimeTravel:"undo/redo functionality with history management"};return`Active enhancers: ${t.map(s=>`${s.name} (${s.priority==="required"?"required":"optional"})`).join(", ")}. These enhance SignalTree with ${t.map(s=>n[s.name]||s.name).join(", ")}.`});applyScenarioPreset(t){let e=this.scenarioPresets.find(n=>n.id===t);e&&(this.testCases.forEach(n=>n.selected=!1),t==="all-tests"?this.testCases.forEach(n=>{let r=n;r.selected=!r.disabledReason}):e.scenarios.forEach(n=>{let r=this.testCases.find(s=>s.id===n);r&&!r.disabledReason&&(r.selected=!0)}),this.scenarioSelectionVersion.update(n=>n+1))}presetCount(t){return t.id==="all-tests"?this.visibleScenarios().length:(t.scenarios||[]).filter(n=>!this.hiddenScenarioIds.has(n)&&this.testCases.some(r=>r.id===n)).length}selectedScenarios=L(()=>(this.scenarioSelectionVersion(),this.testCases.filter(t=>t.selected&&!t.disabledReason)));visibleScenarios=L(()=>(this.scenarioSelectionVersion(),this.testCases.filter(t=>!this.hiddenScenarioIds.has(t.id))));suggestedPresets=L(()=>{let t=this.selectedScenarios();if(t.length===0)return[];let e=[],n=["selector-memoization","computed-chains","data-fetching","large-array"],r=t.filter(u=>n.includes(u.id)).length;r>=2&&e.push({presetId:"crud-app",presetName:"CRUD Application",confidence:Math.min(95,r/n.length*100),reason:`${r} scenarios match typical CRUD app patterns`});let s=["large-array","concurrent-updates","real-time-updates","batch-updates"],o=t.filter(u=>s.includes(u.id)).length;o>=2&&e.push({presetId:"real-time",presetName:"Real-Time Application",confidence:Math.min(95,o/s.length*100),reason:`${o} scenarios match real-time app patterns`});let a=["deep-nested","computed-chains","selector-memoization","serialization"],c=t.filter(u=>a.includes(u.id)).length;c>=2&&e.push({presetId:"forms",presetName:"Forms-Heavy Application",confidence:Math.min(95,c/a.length*100),reason:`${c} scenarios match forms-heavy patterns`});let l=["serialization","undo-redo","computed-chains","selector-memoization"],d=t.filter(u=>l.includes(u.id)).length;return d>=2&&e.push({presetId:"enterprise",presetName:"Enterprise Application",confidence:Math.min(95,d/l.length*100),reason:`${d} scenarios match enterprise patterns`}),e.sort((u,h)=>h.confidence-u.confidence).slice(0,2)});librariesWithResults=L(()=>{let t=this.results();if(t.length===0)return[];let e=new Set(t.map(n=>n.libraryId));return this.availableLibraries.filter(n=>e.has(n.id))});reliabilityScore=L(()=>{if(!this.calibrationData())return 0;let e=this.environmentFactors(),n=100,r=e.reduce((s,o)=>s+o.impact,0);return Math.max(0,Math.min(100,n+r))});environmentFactors=L(()=>{let t=[];this.isDevToolsOpen()&&t.push({name:"DevTools Open",impact:-15,reason:"V8 debugging overhead, disabled optimizations, memory pressure"});let e=navigator.hardwareConcurrency||4;e<4?t.push({name:"Limited CPU Cores",impact:-12,reason:`${e} logical cores - insufficient for concurrent operations`}):e>=16?t.push({name:"High-Performance CPU",impact:8,reason:`${e} logical cores - excellent parallel processing capacity`}):e>=8&&t.push({name:"Multi-Core CPU",impact:5,reason:`${e} logical cores - good for concurrent workloads`});let n=navigator.deviceMemory;n?n<4?t.push({name:"Low Memory",impact:-15,reason:`${n}GB RAM - may trigger GC pressure, swap usage`}):n>=32?t.push({name:"High Memory",impact:8,reason:`${n}GB RAM - excellent for large datasets, minimal GC pressure`}):n>=16&&t.push({name:"Ample Memory",impact:5,reason:`${n}GB RAM - sufficient for complex benchmarks`}):t.push({name:"Memory Unknown",impact:-3,reason:"Cannot assess memory constraints or GC behavior"});let r=navigator.userAgent,s=/Chrome\/(\d+)/.test(r),o=/Firefox\/(\d+)/.test(r),a=/Safari/.test(r)&&!/Chrome/.test(r),c=/Edg\/(\d+)/.test(r);if(s){let _=r.match(/Chrome\/(\d+)/)?.[1],y=_?parseInt(_):0;y>=100?t.push({name:"Modern V8 Engine",impact:8,reason:`Chrome ${y} - latest V8 optimizations, Sparkplug compiler`}):y>=90?t.push({name:"Current V8 Engine",impact:5,reason:`Chrome ${y} - good V8 performance, established optimizations`}):t.push({name:"Older V8 Engine",impact:-5,reason:`Chrome ${y} - missing recent V8 optimizations`})}else o?t.push({name:"SpiderMonkey Engine",impact:0,reason:"Firefox SpiderMonkey - different optimization patterns than V8"}):a?t.push({name:"JavaScriptCore Engine",impact:-3,reason:"Safari JSC - conservative optimizations, different GC behavior"}):c?t.push({name:"Edge Chromium",impact:6,reason:"Edge with Chromium engine - V8 optimizations with Edge enhancements"}):t.push({name:"Unknown Browser",impact:-8,reason:"Untested JavaScript engine - unpredictable performance characteristics"});document.hasFocus()||t.push({name:"Background Tab",impact:-10,reason:"Browser throttling active - reduced timer resolution, CPU limits"});let l=navigator.platform.toLowerCase();l.includes("win")?t.push({name:"Windows Platform",impact:0,reason:"Windows - standard performance baseline"}):l.includes("mac")?t.push({name:"macOS Platform",impact:3,reason:"macOS - generally consistent performance, good memory management"}):l.includes("linux")&&t.push({name:"Linux Platform",impact:2,reason:"Linux - minimal overhead, efficient resource utilization"});let d=navigator.connection;d&&((d.effectiveType==="slow-2g"||d.effectiveType==="2g")&&t.push({name:"Slow Network",impact:-5,reason:"Poor connectivity may affect resource loading and system responsiveness"}),d.downlink&&d.downlink<1&&t.push({name:"Limited Bandwidth",impact:-3,reason:`${d.downlink}Mbps - may impact background resource usage`}));let u=document.createElement("canvas"),h=u.getContext("webgl2")||u.getContext("webgl");if(h){let _=h.getExtension("WEBGL_debug_renderer_info");if(_){let y=h.getParameter(_.UNMASKED_RENDERER_WEBGL);y.includes("Intel")?t.push({name:"Integrated Graphics",impact:-2,reason:"Intel integrated GPU - may share system memory, limited parallel compute"}):(y.includes("NVIDIA")||y.includes("AMD"))&&t.push({name:"Dedicated Graphics",impact:3,reason:"Discrete GPU - hardware acceleration available, dedicated memory"})}}else t.push({name:"No WebGL Support",impact:-5,reason:"Limited hardware acceleration - software rendering only"});navigator?.getBattery&&t.push({name:"Mobile/Laptop Device",impact:-3,reason:"Battery-powered device - potential thermal throttling, power management"});let f=Intl.DateTimeFormat().resolvedOptions().timeZone;return(f.includes("Asia")||f.includes("Europe"))&&t.push({name:"Complex Timezone",impact:-1,reason:`${f} - complex DST rules may affect date operations`}),t});calibrationWarnings=L(()=>{let t=[],e=this.reliabilityScore(),n=this.environmentFactors();e<60&&t.push(`Low reliability score (${e}%) - Results may have high variance due to environmental factors`),this.isDevToolsOpen()&&t.push("Close DevTools to eliminate V8 debugging overhead and enable full JIT optimizations"),document.hasFocus()||t.push("Focus this tab to prevent browser throttling - background tabs have reduced timer resolution");let r=this.calibrationData();r&&(r.cpuOpsPerMs<100&&t.push(`CPU performance below baseline (${r.cpuOpsPerMs.toFixed(0)} ops/ms) - consider reducing data size`),r.availableMemoryMB<512&&t.push(`Low available memory (${r.availableMemoryMB}MB) - may trigger garbage collection during tests`));let s=n.some(u=>u.name==="DevTools Open"),o=n.some(u=>u.name==="Background Tab"),a=n.some(u=>u.name.includes("Low Memory")),c=n.some(u=>u.name==="Unknown Browser");s&&o&&t.push("Multiple performance impacts detected - close DevTools and focus tab for accurate results"),a&&t.push("Limited system memory detected - consider smaller data sizes to avoid memory pressure"),c&&t.push("Untested browser environment - results may not be comparable with established baselines");let l=n.some(u=>u.name==="Integrated Graphics"),d=n.some(u=>u.name==="Limited CPU Cores");return l&&d&&t.push("Low-end hardware detected - consider reducing complexity for meaningful comparisons"),t});totalOperations=L(()=>{let t=this.config(),e=this.selectedLibraries(),n=this.selectedScenarios(),r=0;for(let s of n){let o=this.getOperationsPerIteration(s.id,t.dataSize);r+=o*t.iterations*e.length,r+=o*t.warmupRuns*e.length}return r});getOperationsPerIteration(t,e){switch(t){case"deep-nested":return Math.min(e,1e3);case"large-array":return Math.min(1e3,e);case"computed-chains":return Math.min(e,500);case"batch-updates":return Math.min(e,100);case"selector-memoization":return 1e3;case"serialization":return 1;case"concurrent-updates":{let n=Math.max(10,Math.min(100,Math.floor(e/1e3))),r=Math.max(50,Math.min(500,Math.floor(200)));return n*r}case"memory-efficiency":return e;case"data-fetching":return Math.min(1e3,e)+Math.min(100,e/10);case"real-time-updates":return Math.min(500,e);case"state-size-scaling":return Math.min(200,e/5);default:return e}}estimatedDuration=L(()=>{let t=this.config(),e=this.selectedLibraries(),n=this.selectedScenarios(),r=this.getComplexityMultiplier(t.complexity);if(e.length===0||n.length===0)return"0s";let a=e.length*n.length*15*r;a*=1.3;let c=Math.ceil(a/1e3);if(c<60)return`${c} seconds`;let l=Math.floor(c/60),d=c%60;return`${l}m ${d}s`});estimatedMemory=L(()=>{let t=this.config(),e=this.selectedScenarios(),n=0;for(let r of e)n+=this.getScenarioMemoryUsage(r.id,t.dataSize);return Math.ceil(n)});getScenarioMemoryUsage(t,e){switch(t){case"deep-nested":return e*200*15/(1024*1024);case"large-array":return e*64/(1024*1024);case"computed-chains":return .0003814697265625+.5;case"batch-updates":return 2;case"selector-memoization":return 1;case"serialization":return e*64/1048576*2;case"concurrent-updates":return 5;case"memory-efficiency":return e*128/(1024*1024);case"data-fetching":return Math.min(1e3,e)*200/(1024*1024)+1;case"real-time-updates":return 3;case"state-size-scaling":return Math.min(e*10,1e4)*2048/(1024*1024);default:return e*64/(1024*1024)}}totalTests=L(()=>this.selectedLibraries().length*this.selectedScenarios().length);progressPercent=L(()=>{let t=this.totalTests();return t===0?0:this.completedTests()/t*100});elapsedTime=L(()=>{if(!this.isRunning())return"0s";this.elapsedTimeTimer();let t=performance.now()-this.startTime();return this.formatDuration(t)});remainingTime=L(()=>{let t=this.progressPercent();if(t===0)return"Calculating...";this.elapsedTimeTimer();let e=performance.now()-this.startTime(),r=e/(t/100)-e;return this.formatDuration(r)});canRunBenchmarks=L(()=>this.calibrationData()!==null&&this.selectedLibraries().length>=2&&this.selectedScenarios().length>0&&!this.isRunning());hasResults=L(()=>this.results().length>0);completedScenarios=L(()=>{let t=this.results(),e=[...new Set(t.map(n=>n.scenarioId))];return this.testCases.filter(n=>e.includes(n.id))});librarySummaries=L(()=>{let t=this.results(),n=this.selectedLibraries().map(a=>{let c=t.filter(m=>m.libraryId===a.id);if(c.length===0)return null;let l=c.filter(m=>m.median!==-1);if(l.length===0)return{name:a.name,color:a.color,rank:999,median:-1,p95:-1,opsPerSecond:-1,relativeSpeed:-1};let d=l.map(m=>m.median),u=l.map(m=>m.p95),h=l.map(m=>m.opsPerSecond);return{name:a.name,color:a.color,rank:0,median:this.average(d),p95:this.average(u),opsPerSecond:this.average(h),relativeSpeed:1}}).filter(a=>a!==null),r=n.filter(a=>a.median!==-1),s=n.filter(a=>a.median===-1);r.sort((a,c)=>a.median-c.median),r.forEach((a,c)=>a.rank=c+1);let o=r.find(a=>a.name==="SignalTree");return o&&r.forEach(a=>{a.relativeSpeed=o.median/a.median}),[...r,...s]});weightedResultsAnalysis=L(()=>{let t=this.results(),e=this.selectedLibraries();if(t.length===0||e.length===0)return null;let n=e.map(o=>{let a=t.filter(_=>_.libraryId===o.id),c=0,l=0,d=0,u=a.map(_=>{let y=this.testCases.find(E=>E.id===_.scenarioId),M=y?.frequencyWeight||1,C=_.opsPerSecond>0?_.opsPerSecond:0,S=C*M;return c+=C,l+=S,d+=M,{scenarioId:_.scenarioId,scenarioName:y?.name||_.scenarioId,weight:M,rawScore:C,weightedScore:S,impactOnTotal:d>0?S/d*100:0,realWorldFrequency:y?.realWorldFrequency||"Unknown"}}),h=a.length>0?c/a.length:0,m=d>0?l/d:0,f=h>0?(m-h)/h*100:0;return{libraryId:o.id,libraryName:o.name,color:o.color,rawAverage:h,weightedAverage:m,weightingImpact:f,scenarioBreakdown:u,rank:0}});n.sort((o,a)=>a.weightedAverage-o.weightedAverage),n.forEach((o,a)=>{o.rank=a+1});let r=[...n].sort((o,a)=>a.rawAverage-o.rawAverage),s=n.map(o=>{let a=r.findIndex(l=>l.libraryId===o.libraryId)+1,c=o.rank;return{libraryName:o.libraryName,rawRank:a,weightedRank:c,rankChange:a-c}});return{libraryAnalysis:n,rankingChanges:s,totalScenariosAnalyzed:t.length>0?new Set(t.map(o=>o.scenarioId)).size:0,weightingSignificance:this.calculateWeightingSignificance(n)}});calculateWeightingSignificance(t){let e=t.reduce((n,r)=>n+Math.abs(r.weightingImpact),0)/t.length;return e<5?"low":e<15?"medium":"high"}statisticalComparisons=L(()=>{let t=this.results(),e=this.selectedLibraries();if(e.length<2)return[];let n=[];return e.find(s=>s.id==="signaltree")&&e.filter(s=>s.id!=="signaltree").forEach(s=>{let o=t.filter(u=>u.libraryId==="signaltree"),a=t.filter(u=>u.libraryId===s.id);if(o.length===0||a.length===0)return;let c=o.flatMap(u=>u.samples),l=a.flatMap(u=>u.samples),d=this.calculateTTest(c,l);n.push({name:`${this.baselineName()} vs ${s.name}`,sampleSize:Math.min(c.length,l.length),tStatistic:d.tStatistic,pValue:d.pValue,conclusion:d.pValue<.05?"Statistically significant difference":"No significant difference"})}),n});constructor(){let t=this.scenarioPresets.find(e=>e.id==="all-tests");t&&(t.scenarios=this.testCases.map(e=>e.id)),Zt(()=>{this.hasResults()&&queueMicrotask(()=>requestAnimationFrame(()=>setTimeout(()=>this.updateCharts(),0)))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.charts.forEach(t=>t.destroy()),this.stopElapsedTimer()}runCalibration(){return v(this,null,function*(){this.isCalibrating.set(!0);try{let t=yield this.benchmarkCPU(),e=this.checkMemory(),n=Math.min(100,t/1e3*100),r=Math.min(100,e/1e3*100),s=t>500?5e4:t>200?1e4:t>100?5e3:1e3,o=t>500?100:t>200?75:t>100?50:25;this.calibrationData.set({cpuOpsPerMs:t,cpuScore:n,availableMemoryMB:e,memoryScore:r,recommendedSize:s,recommendedIterations:o,timestamp:new Date}),this.config.update(a=>O(x({},a),{dataSize:s,iterations:o}))}finally{this.isCalibrating.set(!1)}})}benchmarkCPU(){return v(this,null,function*(){let e=performance.now(),n=0,r=new Array(1e3).fill(0).map((a,c)=>c);for(let a=0;a<1e5;a++){n+=Math.sqrt(a)*Math.sin(a)*Math.cos(a);let c=a%r.length;r[c]=r[c]*1.001+.1,a%5e3===0&&(yield new Promise(l=>setTimeout(l,0)))}return Number.isNaN(n)||r.length,1e5/(performance.now()-e)})}submitBenchmarkResults(){return v(this,null,function*(){try{let e=(performance.now()-this.startTime())/1e3,n=yield this.realisticBenchmarkService.getBatteryInfo(),r=this.realisticBenchmarkService.getMachineInfo();n&&(r.battery=n);let s=this.calibrationData();if(!s)return;let o={reliabilityScore:this.reliabilityScore(),mathOpsPerMs:s.cpuOpsPerMs,memoryOpsPerMs:s.availableMemoryMB,environmentFactors:this.environmentFactors(),throttlingDetected:this.environmentFactors().some(y=>y.name.includes("throttl")||y.name.includes("Thermal")),backgroundLoad:Math.max(0,100-this.reliabilityScore()),timestamp:s.timestamp.toISOString()},a=this.selectedLibraries().map(y=>y.id),c=this.testCases.filter(y=>y.selected).map(y=>y.id),l={dataSize:this.config().dataSize,iterations:this.config().iterations,samplesPerTest:this.config().iterations,selectedLibraries:a,selectedScenarios:c,weightingPreset:this.detectCurrentPreset()},d={libraries:{}};this.selectedLibraries().forEach(y=>{let M={};this.results().forEach(C=>{if(C.libraryId===y.id){let S=this.testCases.find(E=>E.id===C.scenarioId);S&&(M[C.scenarioId]={scenarioId:C.scenarioId,scenarioName:S.name,samples:C.samples,median:C.median,mean:C.mean,min:C.min,max:C.max,p95:C.p95,p99:C.p99,stdDev:C.stdDev,opsPerSec:C.opsPerSecond,heapDelta:C.memoryDeltaMB,relativeToBaseline:100,rank:this.getScenarioRank(C.scenarioId,y.id)})}}),d.libraries[y.id]={name:y.name,enabled:!0,scenarios:M}});let u=this.weightedLibrarySummaries(),h={libraries:{},totalScenariosRun:this.completedScenarios().length,totalTestsExecuted:this.completedTests(),totalDuration:e};u.forEach(y=>{let M=this.selectedLibraries().find(C=>C.name===y.name);M&&(h.libraries[M.id]={rawScore:y.weightedScore,weightedScore:y.weightedScore,rank:y.rank,scenarioBreakdown:y.breakdown.map(C=>({scenarioName:C.scenarioName,weight:C.weight,rawScore:C.opsPerSecond,weightedContribution:C.contribution}))})});let m={};this.testCases.forEach(y=>{y.selected&&(m[y.id]=y.frequencyWeight||1)});let f={id:this.realisticBenchmarkService.getSessionId()+"-"+Date.now(),timestamp:new Date().toISOString(),version:"3.0.2",sessionId:this.realisticBenchmarkService.getSessionId(),consentGiven:!0,calibration:o,machineInfo:r,config:l,results:d,weightedResults:h,weights:m},_=yield this.realisticBenchmarkService.submitBenchmark(f);_.success}catch(t){console.warn("Benchmark submission failed:",t)}})}executeBenchmark(t,e,n,r){return v(this,null,function*(){let s=this.getBenchmarkService(t);if(!s)return-1;let o=this.testCases.find(c=>c.id===e);if(o&&o.signalTreeOnly&&t!=="signaltree")return-1;let a=c=>v(this,null,function*(){if(!c)return-1;let l=yield c;if(typeof l=="number")return l;if(l&&(typeof l.durationMs=="number"||Array.isArray(l.samples)||Array.isArray(l.rawSamples))){try{let d=window.__LAST_BENCHMARK_EXTENDED_RESULTS__||{};window.__LAST_BENCHMARK_EXTENDED_RESULTS__=d,d[t]=d[t]||{};let u=Array.isArray(l.samples)?l.samples.slice():Array.isArray(l.rawSamples)?l.rawSamples.slice():typeof l.durationMs=="number"?[l.durationMs]:[];d[t][e]=O(x({},typeof l=="object"?l:{durationMs:l}),{appliedEnhancers:window.__SIGNALTREE_ACTIVE_ENHANCERS__||[],rawSamples:u,persistedAt:new Date().toISOString()})}catch(d){}if(typeof l.durationMs=="number")return l.durationMs;if(typeof l.median=="number")return l.median;if(Array.isArray(l.samples)&&l.samples.length)return this.percentile(l.samples,50);if(Array.isArray(l.rawSamples)&&l.rawSamples.length)return this.percentile(l.rawSamples,50)}return-1});if(t==="signaltree")try{let c=(this.activeEnhancers()||[]).map(d=>d.name);(r?.overrideEnterprise??this.includeEnterpriseEnhancer?.())&&c.push("enterprise");try{window.__SIGNALTREE_ACTIVE_ENHANCERS=c}catch{}window.__SIGNALTREE_ACTIVE_ENHANCERS__=c}catch(c){}try{switch(e){case"deep-nested":return s.runDeepNestedBenchmark?yield a(s.runDeepNestedBenchmark(n.dataSize)):-1;case"large-array":return s.runArrayBenchmark?yield a(s.runArrayBenchmark(n.dataSize)):-1;case"computed-chains":return s.runComputedBenchmark?yield a(s.runComputedBenchmark(n.dataSize)):-1;case"batch-updates":return s.runBatchUpdatesBenchmark?yield a(s.runBatchUpdatesBenchmark(w.ITERATIONS.BATCH_UPDATES,w.ITERATIONS.BATCH_SIZE)):-1;case"selector-memoization":return s.runSelectorBenchmark?yield a(s.runSelectorBenchmark(n.dataSize)):-1;case"serialization":return s.runSerializationBenchmark?yield a(s.runSerializationBenchmark(n.dataSize)):-1;case"concurrent-updates":{if(!s.runConcurrentUpdatesBenchmark)return-1;let c=Math.max(10,Math.min(100,Math.floor(n.dataSize/1e3))),l=Math.max(50,Math.min(500,Math.floor(n.iterations*4)));return yield a(s.runConcurrentUpdatesBenchmark(c,l))}case"memory-efficiency":return s.runMemoryEfficiencyBenchmark?yield a(s.runMemoryEfficiencyBenchmark(n.dataSize)):-1;case"data-fetching":return s.runDataFetchingBenchmark?yield a(s.runDataFetchingBenchmark(n.dataSize)):-1;case"real-time-updates":return s.runRealTimeUpdatesBenchmark?yield a(s.runRealTimeUpdatesBenchmark(n.dataSize)):-1;case"state-size-scaling":return s.runStateSizeScalingBenchmark?yield a(s.runStateSizeScalingBenchmark(n.dataSize)):-1;case"subscriber-scaling":{if(!s.runSubscriberScalingBenchmark)return-1;let c=Math.max(10,Math.min(2e3,Math.floor(n.dataSize/10)));return yield a(s.runSubscriberScalingBenchmark(c))}case"concurrent-async":return s.runConcurrentAsyncBenchmark?yield a(s.runConcurrentAsyncBenchmark(w.ITERATIONS.ASYNC_WORKFLOW)):-1;case"async-cancellation":return s.runAsyncCancellationBenchmark?yield a(s.runAsyncCancellationBenchmark(w.ITERATIONS.ASYNC_WORKFLOW)):-1;case"undo-redo":return s.runUndoRedoBenchmark?yield a(s.runUndoRedoBenchmark(w.ITERATIONS.BATCH_UPDATES)):-1;case"history-size":return s.runHistorySizeBenchmark?yield a(s.runHistorySizeBenchmark(w.ITERATIONS.SELECTOR)):-1;case"jump-to-state":return s.runJumpToStateBenchmark?yield a(s.runJumpToStateBenchmark(w.ITERATIONS.ASYNC_WORKFLOW)):-1;case"single-middleware":return s.runSingleMiddlewareBenchmark?yield a(s.runSingleMiddlewareBenchmark(w.ITERATIONS.SELECTOR)):-1;case"multiple-middleware":return s.runMultipleMiddlewareBenchmark?yield a(s.runMultipleMiddlewareBenchmark(5,w.ITERATIONS.SELECTOR)):-1;case"conditional-middleware":return s.runConditionalMiddlewareBenchmark?yield a(s.runConditionalMiddlewareBenchmark(w.ITERATIONS.SELECTOR)):-1;default:return-1}}catch{return-1}})}getBenchmarkService(t){switch(t){case"signaltree":return this.stBench;case"ngrx-store":return this.ngrxBench;case"ngrx-signals":return this.ngrxSignalsBench;case"akita":return this.akitaBench;case"elf":return this.elfBench;case"ngxs":return this.ngxsBench;default:return null}}checkMemory(){let t=performance;if(t.memory){let{jsHeapSizeLimit:n,usedJSHeapSize:r}=t.memory,s=n-r;return Math.round(s/(1024*1024))}let e=navigator.deviceMemory;return e?e*1024*.7:2048}toggleLibrary(t){t.id!=="signaltree"&&(t.selected=!t.selected,this.selectionVersion.update(e=>e+1))}onLibraryCheckboxChange(t,e){t.id!=="signaltree"&&(t.selected=e,this.selectionVersion.update(n=>n+1))}toggleAllLibraries(){let t=this.allLibrariesSelected();this.availableLibraries.forEach(e=>{e.id!=="signaltree"&&(e.selected=!t)}),this.selectionVersion.update(e=>e+1)}allLibrariesSelected(){return this.availableLibraries.filter(t=>t.id!=="signaltree").every(t=>t.selected)}toggleScenario(t){t.selected=!t.selected,this.scenarioSelectionVersion.update(e=>e+1)}startElapsedTimer(){this.stopElapsedTimer(),this.timerInterval=window.setInterval(()=>{this.elapsedTimeTimer.update(t=>t+1)},500)}stopElapsedTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=void 0)}runBenchmarks(){return v(this,null,function*(){if(!this.canRunBenchmarks())return;this.isRunning.set(!0),this.startTime.set(performance.now()),this.completedTests.set(0),this.results.set([]),this.startElapsedTimer();let t=this.selectedLibraries(),e=this.selectedScenarios(),n=this.config();try{for(let r of e){if(!this.isRunning())break;for(let s of t){if(!this.isRunning())break;if(this.currentLibrary.set(s.name),this.currentScenario.set(r.name),s.id==="signaltree"&&this.includeEnterpriseAutoRun()){let o=yield this.runSingleBenchmark(s,r,n,{overrideEnterprise:!1,variantLabel:"baseline"});this.results.update(c=>[...c,o]),this.completedTests.update(c=>c+1);let a=yield this.runSingleBenchmark(s,r,n,{overrideEnterprise:!0,variantLabel:"enterprise"});this.results.update(c=>[...c,a]),this.completedTests.update(c=>c+1)}else{let o=yield this.runSingleBenchmark(s,r,n);this.results.update(a=>[...a,o]),this.completedTests.update(a=>a+1)}}}}catch(r){console.warn("Benchmark execution failed:",r)}finally{this.isRunning.set(!1),this.stopElapsedTimer(),yield this.submitBenchmarkResults()}})}runSingleBenchmark(t,e,n,r){return v(this,null,function*(){let s=[],o=performance,a=e.id==="memory-efficiency"&&!!o.memory,c=a&&o.memory?o.memory.usedJSHeapSize:void 0;for(let m=0;m<n.warmupRuns&&this.isRunning();m++)yield this.executeBenchmark(t.id,e.id,n,{overrideEnterprise:r?.overrideEnterprise}),this.currentIteration.set(m+1);for(let m=0;m<n.iterations&&this.isRunning();m++){this.currentIteration.set(m+1);let f=yield this.executeBenchmark(t.id,e.id,n,{overrideEnterprise:r?.overrideEnterprise});if(f===-1)return{libraryId:t.id,scenarioId:e.id,samples:[],median:-1,mean:-1,p95:-1,p99:-1,min:-1,max:-1,stdDev:-1,opsPerSecond:-1,memoryDeltaMB:void 0};s.push(f),m%10===0&&(yield new Promise(_=>setTimeout(_,0)))}s.sort((m,f)=>m-f);let l=a&&o.memory?o.memory.usedJSHeapSize:void 0,d=a&&c!==void 0&&l!==void 0?(l-c)/(1024*1024):void 0,u=this.percentile(s,50),h={libraryId:t.id,scenarioId:r?.variantLabel?`${e.id}::${r.variantLabel}`:e.id,samples:s,median:u,mean:this.average(s),p95:this.percentile(s,95),p99:this.percentile(s,99),min:s[0],max:s[s.length-1],stdDev:this.standardDeviation(s),opsPerSecond:u>0?Math.round(1e3/u):0,memoryDeltaMB:d};try{let m=window.__LAST_BENCHMARK_EXTENDED_RESULTS__||{};window.__LAST_BENCHMARK_EXTENDED_RESULTS__=m,m[t.id]=m[t.id]||{},m[t.id][h.scenarioId]=O(x({},h),{appliedEnhancers:window.__SIGNALTREE_ACTIVE_ENHANCERS__||[],rawSamples:s.slice(),timestamp:new Date().toISOString()})}catch(m){}return h})}getComplexityMultiplier(t){switch(t){case"basic":return 1;case"moderate":return 2;case"complex":return 4;case"extreme":return 8;default:return 1}}cancelBenchmarks(){this.isRunning.set(!1),this.stopElapsedTimer()}onDataSizeChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(x({},n),{dataSize:Number(e)})),this.updateEstimates()}onComplexityChange(t){this.config.update(e=>O(x({},e),{complexity:t})),this.updateEstimates()}onIterationsChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(x({},n),{iterations:Number(e)})),this.updateEstimates()}onWarmupChange(t){let e=typeof t=="string"?parseInt(t,10):t;this.config.update(n=>O(x({},n),{warmupRuns:Number(e)})),this.updateEstimates()}onLibraryCardKeydown(t,e){(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),this.toggleLibrary(e))}onScenarioCardKeydown(t,e){(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),this.toggleScenario(e))}isScenarioWinner(t,e){return this.getScenarioRank(t,e)===1}getScenarioRank(t,e){let n=this.results().filter(o=>o.scenarioId===t&&o.median!==-1&&o.opsPerSecond>0&&isFinite(o.opsPerSecond));if(n.length===0)return 0;let s=[...n].sort((o,a)=>o.median-a.median).findIndex(o=>o.libraryId===e);return s>=0?s+1:0}getScenarioRankClass(t,e){let n=this.getScenarioRank(t,e);return n===0?"":n===1?"rank-first":n===2?"rank-second":n===3?"rank-third":""}getScenarioRankEmoji(t,e){let n=this.getScenarioRank(t,e);return n===1?"\u{1F947}":n===2?"\u{1F948}":n===3?"\u{1F949}":""}getScenarioTime(t,e){let n=this.results().find(r=>r.scenarioId===t&&r.libraryId===e);return n?n.median===-1?"N/A":this.formatTime(n.median):"-"}getScenarioOps(t,e){let n=this.results().find(r=>r.scenarioId===t&&r.libraryId===e);return n?n.opsPerSecond===-1||n.opsPerSecond===0||!isFinite(n.opsPerSecond)?"N/A":Math.round(n.opsPerSecond).toLocaleString():"-"}isFinite(t){return Number.isFinite(t)}getRelativePerformance(t,e){let n=this.results().find(o=>o.scenarioId===t&&o.libraryId===e),r=this.results().find(o=>o.scenarioId===t&&o.libraryId==="signaltree");return!n||!r||n.median===-1||r.median===-1||n.opsPerSecond===0||n.opsPerSecond===-1?"N/A":(n.median/r.median).toFixed(2)}updateCharts(){if(this.hasResults())if(this.charts.forEach(t=>{try{t.destroy()}catch(e){console.warn("Chart cleanup failed:",e)}}),this.charts=[],this.combinedChartRef?.nativeElement){let t=this.combinedChartRef.nativeElement.getContext("2d");t&&t.clearRect(0,0,t.canvas.width,t.canvas.height),this.createCombinedChart()}else setTimeout(()=>this.updateCharts(),10)}setChartMode(t){this.chartMode.set(t),this.updateCharts()}createCombinedChart(){let t=this.combinedChartRef?.nativeElement.getContext("2d");if(!t)return;let e=this.chartMode(),n=this.selectedLibraries(),r=this.results();if(n.length===0||r.length===0)return;let s;if(e==="distribution")s={type:"bar",data:{datasets:n.map(c=>{let d=r.filter(h=>h.libraryId===c.id).flatMap(h=>h.samples),u=this.createHistogramBins(d,20);return{label:c.name,data:u.map(h=>({x:h.center,y:h.count})),backgroundColor:c.color+"40",borderColor:c.color,borderWidth:2}})},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Time (ms)"}},y:{title:{display:!0,text:"Frequency"}}}}};else if(e==="percentiles"){let a=[10,25,50,75,90,95,99],c=n.map(l=>{let u=r.filter(h=>h.libraryId===l.id).flatMap(h=>h.samples).sort((h,m)=>h-m);return{label:l.name,data:a.map(h=>this.percentile(u,h)),borderColor:l.color,backgroundColor:l.color+"20",borderWidth:2,tension:.3}});s={type:"line",data:{labels:a.map(l=>`P${l}`),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else if(e==="scenarios"){let a=this.completedScenarios(),c=n.map(l=>{let d=a.map(u=>{let h=r.find(m=>m.libraryId===l.id&&m.scenarioId===u.id);return h?h.median:0});return{label:l.name,data:d,backgroundColor:l.color+"80",borderColor:l.color,borderWidth:2}});s={type:"bar",data:{labels:a.map(l=>l.name),datasets:c},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"}}}}}}else s={type:"line",data:{datasets:n.map(c=>{let l=r.filter(u=>u.libraryId===c.id),d=[];return l.forEach(u=>{d=d.concat(u.samples)}),{label:c.name,data:d.map((u,h)=>({x:h+1,y:u})),borderColor:c.color,backgroundColor:c.color+"20",borderWidth:2,pointRadius:1,pointHoverRadius:4,tension:.1,fill:!1}})},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{tooltip:{position:"nearest"}},scales:{x:{title:{display:!0,text:"Iteration #"},type:"linear"},y:{title:{display:!0,text:"Time (ms)"},beginAtZero:!0}}}};let o=new _r(t,s);this.charts.push(o),requestAnimationFrame(()=>{o.resize(),o.update("none")})}exportCSV(){let t=this.results(),e=this.availableLibraries,n=this.completedScenarios(),r=`Library,Scenario,Median (ms),Mean (ms),P95 (ms),P99 (ms),Min (ms),Max (ms),Std Dev,Ops/sec,Memory Delta (MB)
`;for(let s of t){let o=e.find(c=>c.id===s.libraryId),a=n.find(c=>c.id===s.scenarioId);r+=`${o?.name},${a?.name},${s.median===-1?-1:s.median.toFixed(3)},`,r+=`${s.mean===-1?-1:s.mean.toFixed(3)},${s.p95===-1?-1:s.p95.toFixed(3)},`,r+=`${s.p99===-1?-1:s.p99.toFixed(3)},${s.min===-1?-1:s.min.toFixed(3)},`,r+=`${s.max===-1?-1:s.max.toFixed(3)},${s.stdDev===-1?-1:s.stdDev.toFixed(3)},`,r+=`${s.opsPerSecond===-1||!isFinite(s.opsPerSecond)?-1:Math.round(s.opsPerSecond)},`,r+=`${typeof s.memoryDeltaMB=="number"?s.memoryDeltaMB.toFixed(2):""}
`}this.downloadFile(r,"benchmark-results.csv","text/csv")}exportJSON(){let t={timestamp:new Date().toISOString(),environment:{userAgent:navigator.userAgent,cores:navigator.hardwareConcurrency,memory:navigator.deviceMemory,reliability:this.reliabilityScore(),factors:this.environmentFactors()},configuration:this.config(),calibration:this.calibrationData(),results:this.results(),summaries:this.librarySummaries(),statistics:this.statisticalComparisons()};try{t.extendedResults=window.__LAST_BENCHMARK_EXTENDED_RESULTS__||{}}catch(n){}let e=JSON.stringify(t,null,2);try{window.__LAST_BENCHMARK_RESULTS__=e,window.__LAST_BENCHMARK_RESULTS_OBJ__=t,window.__LAST_BENCHMARK_RESULTS_TS__=new Date().toISOString()}catch(n){console.warn("Failed to set window benchmark results:",n)}this.downloadFile(e,"benchmark-results.json","application/json")}shareResults(){return v(this,null,function*(){let t=window.location.href,e=`Check out these benchmark results: ${this.baselineName()} vs ${this.selectedLibraries().slice(1).map(n=>n.name).join(", ")}`;if(navigator.share)try{yield navigator.share({title:"Benchmark Results",text:e,url:t})}catch(n){console.warn("Failed to share results:",n)}else navigator.clipboard.writeText(`${e}
${t}`),alert("Link copied to clipboard!")})}updateEstimates(){}isDevToolsOpen(){let t=window.outerWidth-window.innerWidth>160,e=window.outerHeight-window.innerHeight>160;return t||e}formatTime(t){return t<1?`${(t*1e3).toFixed(0)}\u03BCs`:t<1e3?`${t.toFixed(2)}ms`:`${(t/1e3).toFixed(2)}s`}formatDuration(t){let e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`}scoreCircumference(){let e=2*Math.PI*45;return`${e} ${e}`}scoreOffset(){let e=2*Math.PI*45,n=this.reliabilityScore();return(e-n/100*e).toString()}percentile(t,e){if(t.length===0)return 0;let n=[...t].sort((s,o)=>s-o),r=Math.ceil(e/100*n.length)-1;return n[Math.max(0,r)]}average(t){return t.length===0?0:t.reduce((e,n)=>e+n,0)/t.length}standardDeviation(t){let e=this.average(t),n=t.map(s=>Math.pow(s-e,2)),r=this.average(n);return Math.sqrt(r)}calculateTTest(t,e){let n=this.average(t),r=this.average(e),s=this.standardDeviation(t),o=this.standardDeviation(e),a=t.length,c=e.length,l=Math.sqrt(((a-1)*s*s+(c-1)*o*o)/(a+c-2)),d=(n-r)/(l*Math.sqrt(1/a+1/c)),u=a+c-2,h=this.approximatePValue(Math.abs(d),u);return{tStatistic:d,pValue:h}}approximatePValue(t,e){return e<0,t>3.5?.001:t>3?.01:t>2.5?.02:t>2?.05:t>1.5?.1:.5}createHistogramBins(t,e){if(t.length===0)return[];let n=Math.min(...t),s=(Math.max(...t)-n)/e,o=Array.from({length:e},(a,c)=>({min:n+c*s,max:n+(c+1)*s,center:n+(c+.5)*s,count:0}));return t.forEach(a=>{let c=Math.min(Math.floor((a-n)/s),e-1);o[c].count++}),o}downloadFile(t,e,n){let r=new Blob([t],{type:n}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=e,o.click(),URL.revokeObjectURL(s)}applyWeightingPreset(t){let n={"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,"subscriber-scaling":2.5,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,"subscriber-scaling":1.5,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"time-travel-debugging":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"subscriber-scaling":1.5,"memory-efficiency":1},equal:{}}[t];n&&(this.testCases=this.testCases.map(r=>O(x({},r),{frequencyWeight:t==="equal"?1:n[r.id]||1})))}updateTestCaseWeight(t,e){let n=e.target,r=parseFloat(n.value);this.testCases=this.testCases.map(s=>s.id===t?O(x({},s),{frequencyWeight:r}):s)}applySmartWeightAdjustments(){let t={"selector-memoization":2.9,"deep-nested":2.7,"computed-chains":2.4,"large-array":2.1,"batch-updates":2,"subscriber-scaling":2.2,"async-via-middleware":2.3,"memory-efficiency":1.8,"concurrent-updates":.6,serialization:.9,"single-middleware":1.3,"multiple-middleware":.7,"conditional-middleware":.4,"undo-redo":.8,"history-size":.3,"jump-to-state":.2};this.testCases=this.testCases.map(e=>{let n=t[e.id]||1,r=this.selectedScenarios(),s=this.analyzeCategoryDistribution(r);return s.core>.5&&e.category==="core"&&(n*=1.1),s.middleware>.3&&e.category==="middleware"&&(n*=1.2),s["time-travel"]>.2&&e.category==="time-travel"&&(n*=1.3),O(x({},e),{frequencyWeight:Math.round(n*10)/10})})}analyzeCategoryDistribution(t){if(t.length===0)return{};let e={};t.forEach(r=>{e[r.category]=(e[r.category]||0)+1});let n={};return Object.keys(e).forEach(r=>{n[r]=e[r]/t.length}),n}getFrequencyLabel(t){return t>=2.5?"Very High":t>=2?"High":t>=1.5?"Medium":t>=1?"Normal":t>=.5?"Low":"Very Low"}getFrequencyBarWidth(t){let e=Math.max(.1,Math.min(3,t));return Math.round((e-.1)/(3-.1)*90+10)}applySuggestedPreset(t){this.applyWeightingPreset(t)}lastScenarioSelectionHash="";checkForScenarioChanges(){let t=this.selectedScenarios().map(n=>n.id).sort().join(","),e=t!==this.lastScenarioSelectionHash;return this.lastScenarioSelectionHash=t,e}shouldShowSuggestions=L(()=>{let t=this.suggestedPresets();return t.length===0?!1:t.some(e=>{let n=this.getPresetWeights(e.presetId);if(!n)return!1;let r=this.selectedScenarios(),s=0,o=0;return r.forEach(c=>{let l=c.frequencyWeight||1,d=n[c.id]||1;s+=Math.abs(l-d),o++}),(o>0?s/o:0)>.2})});getPresetWeights(t){return{"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,"subscriber-scaling":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,"subscriber-scaling":2.5,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,"subscriber-scaling":1.5,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"undo-redo":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"subscriber-scaling":1.5,"memory-efficiency":1}}[t]||null}detectCurrentPreset(){let t={"crud-app":{"selector-memoization":3,"computed-chains":2.5,"data-fetching":2,"large-array":1.5,serialization:.5,"concurrent-updates":.3,"memory-efficiency":1},"real-time":{"large-array":3,"concurrent-updates":2.5,"real-time-updates":3,"batch-updates":2,"subscriber-scaling":2.5,serialization:.2,"deep-nested":1.5,"memory-efficiency":2},forms:{"deep-nested":3,"computed-chains":2.5,"selector-memoization":2,"subscriber-scaling":1.5,serialization:1.5,"large-array":1,"concurrent-updates":.5,"memory-efficiency":1},enterprise:{serialization:2.5,"undo-redo":3,"computed-chains":2,"selector-memoization":2,"large-array":1.5,"deep-nested":1.5,"subscriber-scaling":1.5,"memory-efficiency":1},equal:{}};for(let[e,n]of Object.entries(t)){let r=!0;for(let s of this.testCases){let o=s.frequencyWeight||1,a=n[s.id]||1;if(Math.abs(o-a)>.01){r=!1;break}}if(r)return e}return"custom"}weightedLibrarySummaries=L(()=>{let t=this.results();if(this.scenarioSelectionVersion(),!t||t.length===0)return[];let e=new Map;t.forEach(s=>{e.has(s.libraryId)||e.set(s.libraryId,[]);let o=e.get(s.libraryId);o&&o.push(s)});let n=new Map;t.forEach(s=>{if(s.median!==-1&&s.opsPerSecond>0){let o=n.get(s.scenarioId)||0;n.set(s.scenarioId,Math.max(o,s.opsPerSecond))}});let r=Array.from(e.entries()).map(([s,o])=>{let a=this.selectedLibraries().find(u=>u.id===s),c=0,l=0,d=[];return o.forEach(u=>{let h=this.testCases.find(M=>M.id===u.scenarioId);if(!h)return;if(u.median===-1||u.opsPerSecond===-1||u.opsPerSecond===0){d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:h.frequencyWeight||1,median:-1,weightedScore:0,contribution:0,opsPerSecond:-1});return}let m=h.frequencyWeight||1,f=n.get(u.scenarioId)||1,_=u.opsPerSecond/f*100,y=_*m;c+=y,l+=m,d.push({scenarioId:u.scenarioId,scenarioName:h.name,weight:m,median:u.median,weightedScore:_,contribution:y,opsPerSecond:u.opsPerSecond})}),{name:a?.name||s,color:a?.color||"#666",weightedScore:l>0?c/l:-1,breakdown:d,rank:0}});return r.filter(s=>s.weightedScore!==-1).sort((s,o)=>o.weightedScore-s.weightedScore).forEach((s,o)=>{s.rank=o+1}),r});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ai({type:i,selectors:[["app-benchmark-orchestrator"]],viewQuery:function(e,n){if(e&1&&$o(bp,5),e&2){let r;qo(r=Ko())&&(n.combinedChartRef=r.first)}},decls:507,vars:52,consts:[["combinedChart",""],[1,"benchmark-container"],[1,"benchmark-header"],[1,"subtitle"],[1,"performance-warning",2,"background","#fff3cd","border","2px solid #ffc107","border-radius","8px","padding","1rem","margin","1rem 0"],[2,"margin","0 0 0.5rem 0","color","#856404","font-size","1.1rem"],[2,"margin","0","color","#856404","font-size","0.9rem"],[1,"performance-disclaimer"],[1,"calibration-section"],[1,"calibration-header"],[1,"reliability-indicator"],[1,"score-circle"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",1,"score-bg"],["cx","50","cy","50","r","45",1,"score-fill"],[1,"score-text"],[1,"score-value"],[1,"score-label"],[1,"score-details"],["class","detail-item",4,"ngFor","ngForOf"],[1,"calibration-controls"],[1,"btn","btn-calibrate",3,"click","disabled"],["class","btn-icon","viewBox","0 0 24 24",4,"ngIf"],["class","spinner",4,"ngIf"],["class","calibration-results",4,"ngIf"],[1,"library-section"],[1,"library-selection-header"],["type","button",1,"btn","btn-select-all",3,"click","disabled"],[1,"library-grid"],["class","library-card","tabindex","0","role","button",3,"selected","disabled","--lib-color","click","keydown",4,"ngFor","ngForOf"],[1,"bundle-disclaimer"],[1,"performance-tradeoffs"],[1,"tradeoff-grid"],[1,"tradeoff-item","advantage"],[1,"tradeoff-item","known-limitation"],[1,"explanation"],[1,"mitigation"],[1,"config-section"],[1,"config-grid"],[1,"config-group"],["for","data-size"],["title","Number of items to process in each benchmark. Larger sizes reveal performance differences but take longer to run.",1,"tooltip"],["id","data-size",3,"ngModelChange","ngModel"],[3,"value"],["for","complexity"],["title","Complexity affects how many operations and edge cases each test includes. Higher complexity reveals differences in real-world usage patterns.",1,"tooltip"],["id","complexity",3,"ngModelChange","ngModel"],["value","basic"],["value","moderate"],["value","complex"],["value","extreme"],["for","iterations"],["title","Number of times each test runs to collect timing samples. More iterations provide better statistical significance but take longer.",1,"tooltip"],["type","number","id","iterations","min","10","max","1000",3,"ngModelChange","change","ngModel"],["for","warmup"],["title","Number of 'practice' runs before actual measurement to warm up the JavaScript engine and get stable results.",1,"tooltip"],["type","number","id","warmup","min","5","max","50",3,"ngModelChange","change","ngModel"],["for","memo-mode"],["title","Switch memoization strategy for in-browser A/B tests",1,"tooltip"],["id","memo-mode",3,"ngModelChange","ngModel","disabled"],["value","light"],["value","off"],["value","shallow"],["value","full"],["for","include-enterprise"],["type","checkbox","id","include-enterprise",3,"ngModelChange","ngModel","disabled"],[1,"test-estimates"],[1,"estimate-grid"],[1,"estimate"],[1,"estimate-label"],[1,"estimate-value"],[1,"info-section","memoization-info"],[1,"info-card"],[1,"info-header"],[1,"info-badge"],[1,"info-content"],[1,"info-intro"],[1,"presets-info-grid"],[1,"preset-info-card"],[1,"preset-code"],[1,"preset-details"],[1,"preset-note"],[1,"usage-example"],[1,"info-footer"],[1,"benchmarks-section"],[1,"preset-section"],[1,"presets-grid"],["class","preset-card","tabindex","0","role","button",3,"click",4,"ngFor","ngForOf"],["class","enhancers-display",4,"ngIf"],[1,"frequency-weighting-section"],[1,"weighting-explanation"],[1,"weighting-details"],[1,"weight-categories"],[1,"category-grid"],[1,"category-item","very-high"],[1,"weight-range"],[1,"frequency"],[1,"examples"],[1,"category-item","high"],[1,"category-item","medium"],[1,"category-item","low"],[1,"category-item","rare"],[1,"methodology-note"],[1,"weighting-presets"],["class","smart-suggestions",4,"ngIf"],[1,"preset-buttons"],[1,"btn","btn-preset",3,"click"],[1,"architectural-insights"],[1,"insights-grid"],[1,"insight-card"],[1,"pros-cons"],[1,"pros"],[1,"cons"],[1,"all-benchmarks"],[1,"benchmarks-grid"],["class","benchmark-card","tabindex","0","role","button",3,"selected","disabled","click","keydown",4,"ngFor","ngForOf"],[1,"controls-section"],["data-test-id","run-benchmarks",1,"btn","btn-run",3,"click","disabled"],["viewBox","0 0 24 24",1,"btn-icon"],["d","M8 5v14l11-7z"],["class","controls-running","aria-live","polite",4,"ngIf"],["class","controls-info",4,"ngIf"],["class","progress-modal","data-test-id","progress-modal",4,"ngIf"],["class","results-section",4,"ngIf"],[1,"detail-item"],[1,"factor-name"],[1,"factor-impact"],[1,"factor-reason"],["d","M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41m11.32-11.32l1.41-1.41"],[1,"spinner"],[1,"calibration-results"],[1,"calibration-grid"],[1,"calibration-metric"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"metric-fill"],["class","calibration-warnings",4,"ngIf"],[1,"calibration-warnings"],["class","warning-item",4,"ngFor","ngForOf"],[1,"warning-item"],["viewBox","0 0 24 24",1,"warning-icon"],["d","M12 2L2 22h20L12 2zm0 6l1.5 7h-3L12 8zm0 9.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"],["tabindex","0","role","button",1,"library-card",3,"click","keydown"],[1,"library-checkbox"],["type","checkbox",3,"ngModelChange","click","change","ngModel","disabled"],[1,"library-info"],["class","library-stats",4,"ngIf"],["class","library-badge",4,"ngIf"],[1,"library-stats"],[1,"stat"],[1,"library-badge"],["tabindex","0","role","button",1,"preset-card",3,"click"],[1,"preset-count"],[1,"enhancers-display"],[1,"enhancers-list"],["class","enhancer-tag",4,"ngFor","ngForOf"],[1,"enhancers-note"],[1,"enhancer-tag"],[1,"smart-suggestions"],[1,"suggestion-cards"],["class","suggestion-card",4,"ngFor","ngForOf"],[1,"suggestion-card"],[1,"suggestion-header"],[1,"confidence-badge"],[1,"suggestion-reason"],[1,"btn","btn-suggestion",3,"click"],["tabindex","0","role","button",1,"benchmark-card",3,"click","keydown"],["type","checkbox",3,"click","checked"],["class","unsupported-badge",4,"ngIf"],[1,"frequency-indicator"],[1,"frequency-label"],[1,"frequency-bar"],[1,"frequency-fill"],[1,"frequency-text"],["class","architectural-note",4,"ngIf"],[1,"benchmark-details"],[1,"detail"],[1,"weight-control"],[3,"for"],["type","range","min","0","max","3","step","0.1",3,"input","click","id","value"],[1,"weight-value"],[1,"unsupported-badge"],[1,"architectural-note"],[1,"tradeoff-text"],["aria-live","polite",1,"controls-running"],[1,"dot"],[1,"controls-info"],[4,"ngIf"],["data-test-id","progress-modal",1,"progress-modal"],[1,"progress-content"],[1,"progress-current"],["data-test-id","progress-current-library",1,"current-library"],["data-test-id","progress-current-scenario",1,"current-scenario"],["data-test-id","progress-current-iteration",1,"current-iteration"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"progress-stats"],[1,"stat-label"],[1,"stat-value"],["data-test-id","progress-cancel",1,"btn","btn-cancel",3,"click"],[1,"results-section"],[1,"architectural-note",2,"background","#e3f2fd","border-left","4px solid #2196f3","padding","1rem 1.5rem","margin","1rem 0","border-radius","4px"],[2,"margin","0 0 0.5rem 0","color","#1976d2","font-size","1rem"],[2,"margin","0.5rem 0","color","#424242","font-size","0.9rem"],[2,"background","#fff","padding","2px 4px","border-radius","3px"],[2,"margin","0.5rem 0 0 0","color","#424242","font-size","0.9rem"],[1,"weighted-results-section"],[1,"weighting-note"],[1,"weighted-summary-grid"],["class","weighted-summary-card",3,"--card-color","weighted-winner",4,"ngFor","ngForOf"],[1,"weighting-transparency"],[1,"weight-display"],["class","weight-item",3,"disabled",4,"ngFor","ngForOf"],[1,"smart-weighting-tools"],["type","button",1,"smart-adjust-btn",3,"click"],[1,"smart-help"],["class","weight-impact-analysis",4,"ngIf"],["class","detailed-analysis",4,"ngIf"],[1,"summary-grid"],["class","summary-card",3,"--card-color",4,"ngFor","ngForOf"],[1,"charts-grid"],[1,"chart-container"],[1,"chart-toolbar"],["data-test-id","chart-scenarios",1,"btn","btn-export",3,"click"],["data-test-id","chart-distribution",1,"btn","btn-export",3,"click"],["data-test-id","chart-percentiles",1,"btn","btn-export",3,"click"],["data-test-id","chart-timeseries",1,"btn","btn-export",3,"click"],[1,"results-table"],[3,"color",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"statistics-section"],[1,"statistics-grid"],["class","stat-card",4,"ngFor","ngForOf"],[1,"export-section"],[1,"export-buttons"],["data-test-id","export-csv",1,"btn","btn-export",3,"click"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12,19L8,15H10.5V12H13.5V15H16L12,19Z"],["data-test-id","export-json",1,"btn","btn-export",3,"click"],["d","M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"],["data-test-id","share-results",1,"btn","btn-export",3,"click"],["d","M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z"],[1,"weighted-summary-card"],[1,"summary-header"],["class","weighted-rank",4,"ngIf"],["class","weighted-rank unsupported",4,"ngIf"],[1,"weighted-breakdown"],["class","breakdown-item",4,"ngFor","ngForOf"],[1,"weighted-rank"],[1,"weighted-rank","unsupported"],[1,"breakdown-item"],[1,"scenario-name"],[1,"weight"],[1,"contribution"],[1,"weight-item"],[1,"scenario"],["class","scenario-disabled",4,"ngIf"],[1,"weight-bar"],[1,"weight-fill"],[1,"scenario-disabled"],[1,"unsupported-label"],[1,"unsupported-reason"],[1,"weight-impact-analysis"],[1,"impact-summary"],[1,"impact-level"],[1,"scenarios-count"],["class","ranking-changes",4,"ngIf"],[1,"ranking-changes"],[1,"ranking-grid"],["class","ranking-change-item",3,"ranking-improved","ranking-declined",4,"ngFor","ngForOf"],[1,"ranking-change-item"],[1,"library-name"],[1,"rank-change"],["class","change-indicator",4,"ngIf"],[1,"change-indicator"],[1,"detailed-analysis"],[1,"library-analysis-grid"],["class","library-analysis-card",3,"--card-color",4,"ngFor","ngForOf"],[1,"library-analysis-card"],[1,"analysis-header"],[1,"score-comparison"],[1,"raw-score"],[1,"weighted-score"],[1,"impact"],[1,"scenario-breakdown"],["class","scenario-item",4,"ngFor","ngForOf"],[1,"scenario-item"],[1,"scenario-info"],[1,"frequency-note"],[1,"scenario-scores"],[1,"raw"],[1,"weighted"],[1,"summary-card"],["class","summary-rank",4,"ngIf"],["class","summary-rank unsupported",4,"ngIf"],[1,"summary-metrics"],[1,"metric"],["class","metric-value",4,"ngIf"],["class","metric-value unsupported",4,"ngIf"],["class","metric-value",3,"faster","slower",4,"ngIf"],[1,"summary-rank"],[1,"summary-rank","unsupported"],[1,"metric-value","unsupported"],[3,"winner","class","--cell-color",4,"ngFor","ngForOf"],["class","rank-badge",4,"ngIf"],[1,"time"],[1,"ops"],["class","relative",4,"ngIf"],[1,"rank-badge"],[1,"relative"],[1,"stat-card"],[1,"stat-row"],[1,"stat-row","conclusion"]],template:function(e,n){e&1&&(p(0,"div",1)(1,"header",2)(2,"h1"),b(3,"Benchmarks vs Alternatives"),g(),p(4,"p",3),b(5," SignalTree compared to NgRx Store and NgRx SignalStore - Understanding trade-offs with real-world usage weighting "),g(),p(6,"div",4)(7,"h3",5),b(8," \u26A0\uFE0F Performance Notice "),g(),p(9,"p",6)(10,"strong"),b(11,"Benchmarks are computationally intensive."),g(),b(12,' You may see a "Page Unresponsive" warning during test execution. This is expected behavior. Please click '),p(13,"strong"),b(14,'"Wait"'),g(),b(15," and allow the benchmarks to complete. The tests are designed to stress-test performance under heavy load. "),g()(),p(16,"div",7)(17,"p"),b(18," While raw speed is important, the true purpose of these benchmarks is to show that "),p(19,"strong"),b(20,"SignalTree is architected with developer experience at its core, strategically rebalancing performance toward the most commonly used actions without compromise."),g(),pe(21,"br")(22,"br"),p(23,"strong"),b(24,"The goals:"),g(),pe(25,"br"),b(26," Create a state management system that embraces dot notation, type inference, and JSON\u2019s natural key-value structure. The outcome is a framework that feels both intuitive and efficient \u2014 delivering a streamlined DX while optimizing performance where it matters most. "),g()()(),p(27,"section",8)(28,"div",9)(29,"h2"),b(30,"Environment Calibration"),g(),p(31,"div",10)(32,"div",11),Ft(),p(33,"svg",12),pe(34,"circle",13)(35,"circle",14),g(),Ti(),p(36,"div",15)(37,"span",16),b(38),g(),p(39,"span",17),b(40,"Reliability"),g()()(),p(41,"div",18),z(42,_p,7,8,"div",19),g()()(),p(43,"div",20)(44,"button",21),Y("click",function(){return n.runCalibration()}),z(45,yp,2,0,"svg",22)(46,Mp,1,0,"div",23),b(47),g(),z(48,Pp,32,17,"div",24),g()(),p(49,"section",25)(50,"div",26)(51,"h2"),b(52,"Select Libraries to Compare"),g(),p(53,"button",27),Y("click",function(){return n.toggleAllLibraries()}),b(54),g()(),p(55,"div",28),z(56,Sp,10,16,"div",29),g(),p(57,"div",30)(58,"p")(59,"strong"),b(60,"Note:"),g(),b(61," Bundle sizes are approximate and depend on usage patterns, tree-shaking, and build configuration. Actual production bundles may vary significantly based on which features you import and use. "),g()(),p(62,"div",31)(63,"h3"),b(64,"\u{1F4CA} Performance Trade-offs"),g(),p(65,"div",32)(66,"div",33)(67,"h4"),b(68,"\u2705 SignalTree Advantages"),g(),p(69,"ul")(70,"li")(71,"strong"),b(72,"25-65% faster"),g(),b(73," state updates and reads in most scenarios "),g(),p(74,"li")(75,"strong"),b(76,"85% memory reduction"),g(),b(77," through lazy signal creation "),g(),p(78,"li")(79,"strong"),b(80,"Automatic optimization"),g(),b(81," of reactive computations with intelligent caching "),g(),p(82,"li")(83,"strong"),b(84,"Fine-grained reactivity"),g(),b(85," for minimal re-renders and targeted updates "),g(),p(86,"li")(87,"strong"),b(88,"Zero-cost abstractions"),g(),b(89," with compile-time callable syntax transforms "),g(),p(90,"li")(91,"strong"),b(92,"Surgical updates"),g(),b(93," without parent object rebuilding for deep nested changes "),g(),p(94,"li")(95,"strong"),b(96,"Direct access patterns"),g(),b(97," eliminate complex selectors and reducers "),g(),p(98,"li")(99,"strong"),b(100,"Batching optimizations"),g(),b(101," prevent render thrashing in high-frequency scenarios "),g()()(),p(102,"div",34)(103,"h4"),b(104,"\u26A0\uFE0F Known Performance Trade-off"),g(),p(105,"p")(106,"strong"),b(107,"Serialization is ~2-3x slower"),g(),b(108," than libraries storing plain objects. "),g(),p(109,"p",35),b(110,' SignalTree stores reactive signals that must be "unwrapped" during serialization, while other libraries can serialize plain objects directly. This is by choice. Serialization takes very little time and by the sacrifice here enables the significant performance gains in all other operations. '),g(),p(111,"div",36)(112,"strong"),b(113,"Mitigation:"),g(),b(114," Built-in caching automatically optimizes storage I/O, and debounced auto-save reduces serialization frequency. "),g()()()()(),p(115,"section",37)(116,"h2"),b(117,"Test Configuration"),g(),p(118,"div",38)(119,"div",39)(120,"label",40),b(121,"Data Size "),p(122,"span",41)(123,"i"),b(124,"\u24D8"),g()()(),p(125,"select",42),Y("ngModelChange",function(s){return n.onDataSizeChange(s)}),p(126,"option",43),b(127,"Small (1,000 items) - Quick test"),g(),p(128,"option",43),b(129,"Medium (10,000 items) - Balanced"),g(),p(130,"option",43),b(131,"Large (50,000 items) - Thorough"),g(),p(132,"option",43),b(133," Extreme (100,000 items) - Stress test "),g()(),p(134,"small"),b(135,"Larger datasets provide more accurate measurements"),g()(),p(136,"div",39)(137,"label",44),b(138,"Test Complexity "),p(139,"span",45)(140,"i"),b(141,"\u24D8"),g()()(),p(142,"select",46),Y("ngModelChange",function(s){return n.onComplexityChange(s)}),p(143,"option",47),b(144,"Basic - Simple state updates"),g(),p(145,"option",48),b(146," Moderate - Nested updates + computeds "),g(),p(147,"option",49),b(148,"Complex - Deep nesting + selectors"),g(),p(149,"option",50),b(150," Extreme - All features + stress patterns "),g()(),p(151,"small"),b(152,"Higher complexity tests more realistic scenarios"),g()(),p(153,"div",39)(154,"label",51),b(155,"Measurement Iterations "),p(156,"span",52)(157,"i"),b(158,"\u24D8"),g()()(),p(159,"input",53),Y("ngModelChange",function(s){return n.onIterationsChange(s)})("change",function(){return n.updateEstimates()}),g(),p(160,"small"),b(161,"More iterations improve statistical significance"),g()(),p(162,"div",39)(163,"label",54),b(164,"Warmup Runs "),p(165,"span",55)(166,"i"),b(167,"\u24D8"),g()()(),p(168,"input",56),Y("ngModelChange",function(s){return n.onWarmupChange(s)})("change",function(){return n.updateEstimates()}),g(),p(169,"small"),b(170,"Warmup runs allow JIT optimization"),g()(),p(171,"div",39)(172,"label",57),b(173,"Memoization Mode "),p(174,"span",58)(175,"i"),b(176,"?"),g()()(),p(177,"select",59),Y("ngModelChange",function(s){return n.setMemoMode(s)}),p(178,"option",60),b(179,"Light (default)"),g(),p(180,"option",61),b(181,"Off"),g(),p(182,"option",62),b(183,"Shallow"),g(),p(184,"option",63),b(185,"Full"),g()(),p(186,"small"),b(187,"Toggle memoization strategy for exporter A/B testing (updates URL param)"),g()(),p(188,"div",39)(189,"label",64),b(190,"Include Enterprise Enhancer"),g(),p(191,"input",65),Y("ngModelChange",function(s){return n.setIncludeEnterpriseEnhancer(s)}),g(),p(192,"small"),b(193," When enabled, the 'enterprise' enhancer is added to SignalTree runs (audit/time-travel features). For fair baseline comparisons, run benchmarks with this disabled and then enabled to compare overhead. "),g()()(),p(194,"div",66)(195,"h3"),b(196),g(),p(197,"div",67)(198,"div",68)(199,"span",69),b(200,"Total Operations"),g(),p(201,"span",70),b(202),be(203,"number"),g()(),p(204,"div",68)(205,"span",69),b(206,"Estimated Duration"),g(),p(207,"span",70),b(208),g()(),p(209,"div",68)(210,"span",69),b(211,"Memory Required"),g(),p(212,"span",70),b(213),g()(),p(214,"div",68)(215,"span",69),b(216,"Scenarios to Run"),g(),p(217,"span",70),b(218),g()()()()(),p(219,"section",71)(220,"div",72)(221,"div",73)(222,"h3"),b(223,"\u{1F4CA} Benchmark Fairness: Memoization Presets"),g(),p(224,"span",74),b(225,"New in v3.0.2"),g()(),p(226,"div",75)(227,"p",76)(228,"strong"),b(229,"Benchmark what you ship, ship what you benchmark."),g(),b(230," All performance optimizations used in these benchmarks are publicly available in the "),p(231,"code"),b(232,"@signaltree/memoization"),g(),b(233," package. "),g(),p(234,"div",77)(235,"div",78)(236,"h4"),b(237,"\u{1F3AF} Selector Memoization"),g(),p(238,"code",79),b(239,"withSelectorMemoization()"),g(),p(240,"ul",80)(241,"li")(242,"strong"),b(243,"Equality:"),g(),b(244," Reference (~0.3\u03BCs)"),g(),p(245,"li")(246,"strong"),b(247,"Cache Size:"),g(),b(248," 10 entries"),g(),p(249,"li")(250,"strong"),b(251,"Use Case:"),g(),b(252," Fast selector caching for frequently accessed derived state "),g()(),p(253,"p",81),b(254,"Used in Selector Benchmarks"),g()(),p(255,"div",78)(256,"h4"),b(257,"\u26A1 Computed Memoization"),g(),p(258,"code",79),b(259,"withComputedMemoization()"),g(),p(260,"ul",80)(261,"li")(262,"strong"),b(263,"Equality:"),g(),b(264," Shallow (~5-15\u03BCs)"),g(),p(265,"li")(266,"strong"),b(267,"Cache Size:"),g(),b(268," 100 entries"),g(),p(269,"li")(270,"strong"),b(271,"Use Case:"),g(),b(272," Computed properties with object/array dependencies "),g()(),p(273,"p",81),b(274,"Used in Computed Benchmarks"),g()(),p(275,"div",78)(276,"h4"),b(277,"\u{1F50D} Deep State Memoization"),g(),p(278,"code",79),b(279,"withDeepStateMemoization()"),g(),p(280,"ul",80)(281,"li")(282,"strong"),b(283,"Equality:"),g(),b(284," Deep (~50-200\u03BCs)"),g(),p(285,"li")(286,"strong"),b(287,"Cache Size:"),g(),b(288," 50 entries"),g(),p(289,"li")(290,"strong"),b(291,"Use Case:"),g(),b(292," Complex nested state with deep equality checks "),g()(),p(293,"p",81),b(294,"Available for your use"),g()(),p(295,"div",78)(296,"h4"),b(297,"\u{1F680} High Frequency Memoization"),g(),p(298,"code",79),b(299,"withHighFrequencyMemoization()"),g(),p(300,"ul",80)(301,"li")(302,"strong"),b(303,"Equality:"),g(),b(304," Shallow (~5-15\u03BCs)"),g(),p(305,"li")(306,"strong"),b(307,"Cache Size:"),g(),b(308," 500 entries"),g(),p(309,"li")(310,"strong"),b(311,"Use Case:"),g(),b(312," High-frequency operations with large working sets "),g()(),p(313,"p",81),b(314,"Available for your use"),g()()(),p(315,"div",82)(316,"h4"),b(317,"\u{1F4BB} How to Use"),g(),p(318,"pre")(319,"code"),b(320,`import { signalTree } from '@signaltree/core';
import { withSelectorMemoization } from '@signaltree/memoization';

const tree = signalTree(state).with(withSelectorMemoization());`),g()()(),p(321,"div",83)(322,"p")(323,"strong"),b(324,"Bundle Impact:"),g(),b(325," ~0.3KB gzipped per preset \u2022 "),p(326,"strong"),b(327,"Algorithm:"),g(),b(328," Optimized shallow equality with zero allocations \u2022 "),p(329,"strong"),b(330,"Performance:"),g(),b(331," +40-60 pts expected gain "),g()()()()(),p(332,"section",84)(333,"h2"),b(334,"Test Scenarios"),g(),p(335,"div",85)(336,"h3"),b(337,"Quick Select Presets"),g(),p(338,"div",86),z(339,wp,7,3,"div",87),g()(),z(340,Ep,7,2,"div",88),p(341,"div",89)(342,"h3"),b(343,"\u{1F3AF} Real-World Usage Weighting"),g(),p(344,"p",90),b(345," Different operations happen at different frequencies in real applications. Our weighting system applies research-based multipliers to benchmark results, reflecting actual usage patterns from 40,000+ developers and enterprise application analysis. "),g(),p(346,"div",91)(347,"div",92)(348,"h4"),b(349,"\u{1F4CA} Frequency Categories"),g(),p(350,"div",93)(351,"div",94)(352,"span",95),b(353,"2.5-3.0x"),g(),p(354,"span",96),b(355," Very High"),g(),p(356,"span",97),b(357," Forms, selectors, computed values"),g()(),p(358,"div",98)(359,"span",95),b(360,"2.0-2.4x"),g(),p(361,"span",96),b(362," High"),g(),p(363,"span",97),b(364," Arrays, batching, async (via middleware)"),g()(),p(365,"div",99)(366,"span",95),b(367,"1.0-1.9x"),g(),p(368,"span",96),b(369," Medium"),g(),p(370,"span",97),b(371," Memory efficiency, middleware"),g()(),p(372,"div",100)(373,"span",95),b(374,"0.5-0.9x"),g(),p(375,"span",96),b(376," Low"),g(),p(377,"span",97),b(378," Serialization, complex stacks"),g()(),p(379,"div",101)(380,"span",95),b(381,"0.1-0.4x"),g(),p(382,"span",96),b(383," Rare"),g(),p(384,"span",97),b(385," Time-travel, debugging tools"),g()()()(),p(386,"p",102)(387,"strong"),b(388,"Research Methodology:"),g(),b(389," Weights derived from State of JS 2023 survey data, GitHub repository analysis of 10,000+ applications, enterprise profiling studies, and React DevTools usage patterns. "),g()(),p(390,"div",103),z(391,Ap,5,1,"div",104),p(392,"h4"),b(393,"Quick Presets:"),g(),p(394,"div",105)(395,"button",106),Y("click",function(){return n.applyWeightingPreset("crud-app")}),b(396," \u{1F4CA} CRUD App "),p(397,"small"),b(398,"Heavy reads, occasional updates"),g()(),p(399,"button",106),Y("click",function(){return n.applyWeightingPreset("real-time")}),b(400," \u26A1 Real-time Dashboard "),p(401,"small"),b(402,"Frequent targeted updates"),g()(),p(403,"button",106),Y("click",function(){return n.applyWeightingPreset("forms")}),b(404," \u{1F4DD} Complex Forms "),p(405,"small"),b(406,"Deep nested updates, validation"),g()(),p(407,"button",106),Y("click",function(){return n.applyWeightingPreset("enterprise")}),b(408," \u{1F3E2} Enterprise App "),p(409,"small"),b(410,"Audit trails, time-travel debugging"),g()(),p(411,"button",106),Y("click",function(){return n.applyWeightingPreset("equal")}),b(412," \u2696\uFE0F Equal Weight "),p(413,"small"),b(414,"No frequency bias"),g()()()(),p(415,"div",107)(416,"h4"),b(417,"\u{1F3D7}\uFE0F Architectural Trade-offs to Consider:"),g(),p(418,"div",108)(419,"div",109)(420,"h5"),b(421,"Direct Mutation (SignalTree)"),g(),p(422,"div",110)(423,"div",111)(424,"strong"),b(425,"\u2705 Helps when:"),g(),p(426,"ul")(427,"li"),b(428,"Frequent targeted updates"),g(),p(429,"li"),b(430,"Large nested objects"),g(),p(431,"li"),b(432,"Real-time data streams"),g(),p(433,"li"),b(434,"Interactive editors"),g()()(),p(435,"div",112)(436,"strong"),b(437,"\u274C Costs:"),g(),p(438,"ul")(439,"li"),b(440,"Slower serialization (signals must be unwrapped)"),g()()()()(),p(441,"div",109)(442,"h5"),b(443,"Immutable Updates (NgRx/Redux)"),g(),p(444,"div",110)(445,"div",111)(446,"strong"),b(447,"\u2705 Helps when:"),g(),p(448,"ul")(449,"li"),b(450,"Predictable state flow needed"),g(),p(451,"li"),b(452,"Time-travel debugging"),g(),p(453,"li"),b(454,"Large team coordination"),g(),p(455,"li"),b(456,"Audit requirements"),g()()(),p(457,"div",112)(458,"strong"),b(459,"\u274C Costs:"),g(),p(460,"ul")(461,"li"),b(462,"More boilerplate"),g(),p(463,"li"),b(464,"Full object recreation"),g(),p(465,"li"),b(466,"Learning curve"),g()()()()(),p(467,"div",109)(468,"h5"),b(469,"Entity Stores (Akita/Elf)"),g(),p(470,"div",110)(471,"div",111)(472,"strong"),b(473,"\u2705 Helps when:"),g(),p(474,"ul")(475,"li"),b(476,"Managing entity collections"),g(),p(477,"li"),b(478,"CRUD operations"),g(),p(479,"li"),b(480,"Normalized data"),g(),p(481,"li"),b(482,"Caching patterns"),g()()(),p(483,"div",112)(484,"strong"),b(485,"\u274C Costs:"),g(),p(486,"ul")(487,"li"),b(488,"Domain-specific"),g(),p(489,"li"),b(490,"Less general-purpose"),g(),p(491,"li"),b(492,"Learning overhead"),g()()()()()()()(),p(493,"div",113)(494,"h3"),b(495,"Benchmarks"),g(),p(496,"div",114),z(497,Dp,27,22,"div",115),g()()(),p(498,"section",116)(499,"button",117),Y("click",function(){return n.runBenchmarks()}),Ft(),p(500,"svg",118),pe(501,"path",119),g(),b(502," Run Benchmarks "),g(),z(503,Bp,4,2,"div",120)(504,zp,4,3,"div",121),g(),z(505,Up,35,14,"div",122)(506,b0,98,16,"section",123),g()),e&2&&(Qt("aria-busy",n.isRunning()),P(31),Te("excellent",n.reliabilityScore()>=90)("good",n.reliabilityScore()>=75)("fair",n.reliabilityScore()>=60)("poor",n.reliabilityScore()<60),Qt("data-score",n.reliabilityScore()),P(4),He("stroke-dasharray",n.scoreCircumference())("stroke-dashoffset",n.scoreOffset()),P(3),U(n.reliabilityScore()),P(4),R("ngForOf",n.environmentFactors()),P(2),R("disabled",n.isCalibrating()),P(),R("ngIf",!n.isCalibrating()),P(),R("ngIf",n.isCalibrating()),P(),W(" ",n.isCalibrating()?"Calibrating...":"Calibrate Environment"," "),P(),R("ngIf",n.calibrationData()),P(5),R("disabled",n.isRunning()),P(),W(" ",n.allLibrariesSelected()?"Deselect All":"Select All"," "),P(2),R("ngForOf",n.availableLibraries),P(69),R("ngModel",n.config().dataSize),P(),R("value",1e3),P(2),R("value",1e4),P(2),R("value",5e4),P(2),R("value",1e5),P(10),R("ngModel",n.config().complexity),P(17),R("ngModel",n.config().iterations),P(9),R("ngModel",n.config().warmupRuns),P(9),R("ngModel",n.memoMode())("disabled",n.isRunning()),P(14),R("ngModel",n.includeEnterpriseEnhancer())("disabled",n.isRunning()),P(5),W("Test Estimates (\u2248",n.estimatedDuration(),")"),P(6),U(Kn(203,50,n.totalOperations())),P(6),U(n.estimatedDuration()),P(5),W("~",n.estimatedMemory()," MB"),P(5),U(n.selectedScenarios().length),P(121),R("ngForOf",n.scenarioPresets),P(),R("ngIf",n.selectedScenarios().length>0),P(51),R("ngIf",n.shouldShowSuggestions()&&n.suggestedPresets().length>0),P(106),R("ngForOf",n.visibleScenarios()),P(2),R("disabled",!n.canRunBenchmarks()),P(4),R("ngIf",n.isRunning()),P(),R("ngIf",!n.canRunBenchmarks()),P(),R("ngIf",n.isRunning()),P(),R("ngIf",n.hasResults()))},dependencies:[Ii,Yo,Go,ca,ra,sa,Zo,na,Jo,ia,ea,aa,oa,ta,Xo,Qo],styles:['@charset "UTF-8";.benchmark-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.benchmark-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.benchmark-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#1f2937;margin-bottom:.5rem}.benchmark-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem}.calibration-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]{margin-bottom:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:2rem}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.excellent[_ngcontent-%COMP%]{--score-color: #10b981}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.good[_ngcontent-%COMP%]{--score-color: #3b82f6}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.fair[_ngcontent-%COMP%]{--score-color: #f59e0b}.calibration-section[_ngcontent-%COMP%]   .reliability-indicator.poor[_ngcontent-%COMP%]{--score-color: #ef4444}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{position:relative;width:120px;height:120px}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke-width:8}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-bg[_ngcontent-%COMP%]{stroke:#fff3}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle.score-fill[_ngcontent-%COMP%]{stroke:var(--score-color, #3b82f6);stroke-linecap:round;transition:stroke-dashoffset .5s ease}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.calibration-section[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr auto 3fr;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact[_ngcontent-%COMP%]{font-weight:600}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.positive[_ngcontent-%COMP%]{color:#86efac}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-impact.negative[_ngcontent-%COMP%]{color:#fca5a5}.calibration-section[_ngcontent-%COMP%]   .score-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .factor-reason[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]{margin-top:2rem}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;stroke:currentColor;fill:none;stroke-width:2}.calibration-section[_ngcontent-%COMP%]   .calibration-controls[_ngcontent-%COMP%]   .btn-calibrate[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,.1);border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#ffffff1a;border-radius:8px}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;opacity:.9;margin-bottom:.25rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]{height:4px;background:#fff3;border-radius:2px;overflow:hidden}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-metric[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]   .metric-fill[_ngcontent-%COMP%]{height:100%;background:#fff;transition:width .5s ease}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]{margin-top:1rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fb923c33;border-radius:4px;margin-bottom:.5rem}.calibration-section[_ngcontent-%COMP%]   .calibration-results[_ngcontent-%COMP%]   .calibration-warnings[_ngcontent-%COMP%]   .warning-item[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:#fed7aa}.library-section[_ngcontent-%COMP%]{margin-bottom:2rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#3b82f6;color:#fff;font-size:.875rem;padding:.5rem 1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.library-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.library-section[_ngcontent-%COMP%]   .library-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;position:relative}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]:hover{border-color:var(--lib-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.library-section[_ngcontent-%COMP%]   .library-card.selected[_ngcontent-%COMP%]{border-color:var(--lib-color);background:linear-gradient(to bottom,rgba(var(--lib-color-rgb),.05),#fff)}.library-section[_ngcontent-%COMP%]   .library-card.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.8}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:.5rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]{display:flex;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-info[_ngcontent-%COMP%]   .library-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.library-section[_ngcontent-%COMP%]   .library-card[_ngcontent-%COMP%]   .library-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;background:#3b82f6;color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.2);border-radius:8px}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .bundle-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#1f293705;border:1px solid #e5e7eb;border-radius:12px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#1f2937;font-size:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}@media (max-width: 768px){.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item[_ngcontent-%COMP%]{padding:1.25rem;border-radius:8px}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]{background:#10b9810d;border:1px solid rgba(16,185,129,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#085b40;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#042c1f;font-size:.875rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.advantage[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]{background:#f59e0b0d;border:1px solid rgba(245,158,11,.2)}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#945f06;margin:0 0 1rem;font-size:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#634004;font-size:.875rem;line-height:1.5}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p.explanation[_ngcontent-%COMP%]{margin-bottom:1rem}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]{padding:.75rem;background:#3b82f60d;border:1px solid rgba(59,130,246,.15);border-radius:6px;font-size:.8rem;color:#0b63f3}.library-section[_ngcontent-%COMP%]   .performance-tradeoffs[_ngcontent-%COMP%]   .tradeoff-item.known-limitation[_ngcontent-%COMP%]   .mitigation[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.config-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #e5e7eb;border-radius:6px;font-size:1rem}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.config-section[_ngcontent-%COMP%]   .config-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.25rem;color:#6b7280;font-size:.75rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]{padding:1.5rem;background:#f9fafb;border-radius:8px}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]{text-align:center}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280;margin-bottom:.25rem}.config-section[_ngcontent-%COMP%]   .test-estimates[_ngcontent-%COMP%]   .estimate-grid[_ngcontent-%COMP%]   .estimate[_ngcontent-%COMP%]   .estimate-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937;font-size:1.25rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .presets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem;margin-bottom:1.5rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;border:2px solid #e5e7eb;transition:all .2s;text-align:center}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f626}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#6b7280;font-size:.875rem;line-height:1.4}.benchmarks-section[_ngcontent-%COMP%]   .preset-section[_ngcontent-%COMP%]   .preset-card[_ngcontent-%COMP%]   .preset-count[_ngcontent-%COMP%]{font-size:.75rem;color:#3b82f6;font-weight:600;background:#3b82f61a;padding:.25rem .75rem;border-radius:12px;display:inline-block}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#3b82f6;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancer-tag[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:.375rem .75rem;border-radius:6px;font-size:.875rem;font-weight:500;font-family:Monaco,Menlo,Ubuntu Mono,monospace}.benchmarks-section[_ngcontent-%COMP%]   .enhancers-display[_ngcontent-%COMP%]   .enhancers-note[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#6b7280;font-style:italic}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]{margin-bottom:3rem}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.375rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:2px solid rgba(59,130,246,.2)}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:1.5rem;border:2px solid rgba(59,130,246,.2);background:#3b82f605;border-left:4px solid #3b82f6}.benchmarks-section[_ngcontent-%COMP%]   .all-benchmarks[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#4b5563;font-size:.875rem;line-height:1.5}.benchmarks-section[_ngcontent-%COMP%]   .benchmarks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;border:2px solid #e5e7eb;transition:all .2s}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px)}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f60d}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none;background:#1f293705}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card.disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:not-allowed}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:1.125rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-header[_ngcontent-%COMP%]   .unsupported-badge[_ngcontent-%COMP%]{margin-left:auto;background:#ef44440f;color:#ef4444;font-weight:800;padding:.25rem .5rem;border-radius:6px;font-size:.75rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.benchmarks-section[_ngcontent-%COMP%]   .benchmark-card[_ngcontent-%COMP%]   .benchmark-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.controls-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;margin-bottom:2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;font-size:1.125rem;padding:1rem 2rem}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.controls-section[_ngcontent-%COMP%]   .btn-run[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:24px;height:24px;fill:currentColor}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]{margin-top:1rem}.controls-section[_ngcontent-%COMP%]   .controls-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]{margin-top:.75rem;display:inline-flex;align-items:center;gap:.5rem;color:#6b7280}.controls-section[_ngcontent-%COMP%]   .controls-running[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#3b82f6;animation:_ngcontent-%COMP%_pulse 1.2s ease-in-out infinite}.progress-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000bf;display:flex;align-items:center;justify-content:center;z-index:1000}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;width:90%;max-width:500px}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-current[_ngcontent-%COMP%]   span.current-library[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:1.125rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#8b5cf6);transition:width .3s ease}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{position:absolute;right:0;top:-1.5rem;font-size:.875rem;color:#6b7280}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;width:100%;background:#ef4444;color:#fff}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.progress-modal[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]{margin-top:3rem}.results-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;color:#1f2937;text-align:center}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#fff;display:flex;align-items:center;gap:2rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-trophy[_ngcontent-%COMP%]{font-size:4rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}.results-section[_ngcontent-%COMP%]   .winner-card[_ngcontent-%COMP%]   .winner-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9}.results-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .summary-rank[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--card-color)}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.faster[_ngcontent-%COMP%]{color:#10b981}.results-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.slower[_ngcontent-%COMP%]{color:#ef4444}.results-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-toolbar[_ngcontent-%COMP%]   .btn-export.active[_ngcontent-%COMP%]{border-color:#3b82f6;color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:100%;width:100%!important;height:420px!important;max-height:420px;display:block}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;background:#f9fafb}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]{font-weight:500}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.scenario-name[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:.75rem;font-weight:400}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]{background:#10b9811a;position:relative}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.winner[_ngcontent-%COMP%]:before{content:"\\1f3c6";position:absolute;top:.25rem;right:.25rem;font-size:.75rem}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-first[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70026,#ffd7000d);border-left:3px solid #ffd700}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-second[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c0c0c026,#c0c0c00d);border-left:3px solid #c0c0c0}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.rank-third[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cd7f3226,#cd7f320d);border-left:3px solid #cd7f32}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{display:inline-block;font-size:1.25rem;margin-right:.5rem;vertical-align:middle}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .ops[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280}.results-section[_ngcontent-%COMP%]   .results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:1rem;background:#f9fafb;border-radius:8px}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.25rem 0;font-size:.875rem}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row.conclusion[_ngcontent-%COMP%]{margin-top:.5rem;padding-top:.5rem;border-top:1px solid #e5e7eb;font-weight:600}.results-section[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .significant[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;text-align:center}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#1f2937;border:2px solid #e5e7eb}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:hover{border-color:#3b82f6;color:#3b82f6}.results-section[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:currentColor}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:.6}50%{transform:scale(1);opacity:1}to{transform:scale(.9);opacity:.6}}@media (max-width: 768px){.benchmark-container[_ngcontent-%COMP%]{padding:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.library-section[_ngcontent-%COMP%]   .library-selection-header[_ngcontent-%COMP%]   .btn-select-all[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.library-grid[_ngcontent-%COMP%], .config-grid[_ngcontent-%COMP%], .benchmarks-grid[_ngcontent-%COMP%], .summary-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%], .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reliability-indicator[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.reliability-indicator[_ngcontent-%COMP%]   .score-circle[_ngcontent-%COMP%]{margin:0 auto}.results-table[_ngcontent-%COMP%]{font-size:.875rem}.results-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto}.results-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:300px!important;max-height:300px}}.tooltip[_ngcontent-%COMP%]{position:relative;cursor:help}.tooltip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;background:#3b82f6;color:#fff;text-align:center;line-height:16px;font-size:12px;font-style:normal;margin-left:4px}.tooltip[_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:125%;left:50%;transform:translate(-50%);background:#1f2937;color:#fff;padding:8px 12px;border-radius:6px;font-size:12px;white-space:nowrap;max-width:250px;white-space:normal;width:max-content;max-width:300px;z-index:1000;box-shadow:0 4px 12px #00000026}.tooltip[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:115%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:#1f2937;z-index:1000}.performance-disclaimer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;text-align:start;background:#fff;border:1px solid rgb(156.5219512195,192.1951219512,250.4780487805);border-radius:8px}.performance-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;line-height:1.5;color:#094fc2}.performance-disclaimer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#073b91}.unsupported[_ngcontent-%COMP%]{color:#f59e0b!important;font-style:italic}.summary-rank.unsupported[_ngcontent-%COMP%]{background:#f59e0b;color:#fff;font-size:.75rem;padding:2px 6px;border-radius:4px}.metric-value.unsupported[_ngcontent-%COMP%]{opacity:.6}.frequency-weighting-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);border:2px solid #3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-explanation[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937;line-height:1.6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]{margin-bottom:1.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:1rem;font-size:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:.75rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.75rem;border-radius:8px;text-align:center;border:2px solid transparent}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8;line-height:1.3}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]{background:#63f1c2;border-color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.very-high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0d9467}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]{background:#63e4fb;border-color:#06b6d4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.high[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#0592aa}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]{background:#faca79;border-color:#f59e0b}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.medium[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#b87708}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]{background:#bfa5fa;border-color:#8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.low[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#5d1cf2}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]{background:#f69898;border-color:#ef4444}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .weight-range[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .weight-categories[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]   .category-item.rare[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{color:#e21313}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:6px;border-left:4px solid #3b82f6;font-size:.9rem;line-height:1.5;color:#1f2937;margin-top:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-details[_ngcontent-%COMP%]   .methodology-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3b82f6}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]{margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#e8f2ff);border:2px solid #4dabf7;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1864ab;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #bee3f8;border-radius:8px;padding:1rem;transition:all .2s ease}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #4dabf726;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1864ab;font-size:1.1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-header[_ngcontent-%COMP%]   .confidence-badge[_ngcontent-%COMP%]{background:#4dabf7;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem;font-size:.9rem;line-height:1.4}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#4dabf7;color:#fff;border:none;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .smart-suggestions[_ngcontent-%COMP%]   .suggestion-cards[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .btn-suggestion[_ngcontent-%COMP%]:hover{background:#339af0;transform:translateY(-1px)}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#fff;color:#3b82f6;border:2px solid #3b82f6;flex-direction:column;text-align:center;min-width:160px}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff}.frequency-weighting-section[_ngcontent-%COMP%]   .weighting-presets[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .btn-preset[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;font-weight:400;opacity:.8}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid #8b5cf6}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8b5cf6;margin-bottom:.5rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1.2rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .pros[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#10b981}.frequency-weighting-section[_ngcontent-%COMP%]   .architectural-insights[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .pros-cons[_ngcontent-%COMP%]   .cons[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ef4444}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:auto;font-size:.8rem;width:100%}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-label[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-bar[_ngcontent-%COMP%]   .frequency-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ef4444,#f59e0b 35%,#06b6d4 65%,#10b981);transition:width .3s ease}.scenario-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .frequency-indicator[_ngcontent-%COMP%]   .frequency-text[_ngcontent-%COMP%]{font-weight:600;min-width:50px}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]{margin:1rem 0;padding:.75rem;background:#8b5cf61a;border-radius:6px;border-left:3px solid #8b5cf6}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#8b5cf6;font-size:.9rem}.scenario-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .architectural-note[_ngcontent-%COMP%]   .tradeoff-text[_ngcontent-%COMP%]{margin:0;font-size:.85rem;line-height:1.4;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.5rem;background:#3b82f60d;border-radius:4px}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#1f2937}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1;height:6px;-webkit-appearance:none;appearance:none;background:#e5e7eb;border-radius:3px;outline:none}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb, .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{appearance:none;width:16px;height:16px;background:#3b82f6;border-radius:50%;border:none;cursor:pointer}.scenario-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%], .benchmark-card[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#3b82f6;min-width:35px}.weighted-results-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin:2rem 0;background:linear-gradient(135deg,#fef7cd,#fbbf24 20%,#f59e0b);border:2px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#322002;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighting-note[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px;margin-bottom:1.5rem;border-left:4px solid #f59e0b}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border:2px solid transparent}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#ecfdf5,#d1fae5)}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#10b981}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card.weighted-winner[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{background:#10b981;color:#fff;font-weight:700}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .weighted-rank[_ngcontent-%COMP%]{padding:.3rem .8rem;border-radius:12px;background:var(--card-color, #3b82f6);color:#fff;font-size:.8rem;font-weight:600}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3rem 0;border-bottom:1px solid #e5e7eb;font-size:.85rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%]{flex:1;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;margin:0 .5rem}.weighted-results-section[_ngcontent-%COMP%]   .weighted-summary-grid[_ngcontent-%COMP%]   .weighted-summary-card[_ngcontent-%COMP%]   .weighted-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .contribution[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600;min-width:50px;text-align:right}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#322002}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]{background:#fffc;padding:1rem;border-radius:8px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.5rem 0;border-bottom:1px solid rgba(229,231,235,.5)}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .scenario[_ngcontent-%COMP%], .weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .benchmark[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#1f2937}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-weight:600;color:#f59e0b;min-width:40px}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]{width:100px;height:8px;background:#e5e7eb80;border-radius:4px;overflow:hidden}.weighted-results-section[_ngcontent-%COMP%]   .weighting-transparency[_ngcontent-%COMP%]   .weight-display[_ngcontent-%COMP%]   .weight-item[_ngcontent-%COMP%]   .weight-bar[_ngcontent-%COMP%]   .weight-fill[_ngcontent-%COMP%]{height:100%;background:#f59e0b;transition:width .3s ease}.disclaimer-points[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0}.disclaimer-points[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-left:3px solid #3b82f6;padding:.5rem 0 .5rem 1rem;margin:.5rem 0}.key-insight[_ngcontent-%COMP%]{background:#3b82f61a;padding:1rem;border-radius:8px;margin-top:1rem;border-left:4px solid #3b82f6;font-style:italic}.smart-weighting-tools[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#10b9811a;border-radius:8px;display:flex;align-items:center;gap:1rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s;background:#10b981;color:#fff;font-size:.9rem}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-adjust-btn[_ngcontent-%COMP%]:hover{background:#0c8a60}.smart-weighting-tools[_ngcontent-%COMP%]   .smart-help[_ngcontent-%COMP%]{color:#065f46;font-size:.875rem;font-style:italic}.weight-impact-analysis[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#8b5cf60d;border-radius:12px;border:1px solid rgba(139,92,246,.2)}.weight-impact-analysis[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:1.5rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;font-weight:600;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-low[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-medium[_ngcontent-%COMP%]{background:#f59e0b33;color:#92400e}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .impact-level.impact-high[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .scenarios-count[_ngcontent-%COMP%], .weight-impact-analysis[_ngcontent-%COMP%]   .impact-summary[_ngcontent-%COMP%]   .benchmarks-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e5e7eb}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-improved[_ngcontent-%COMP%]{border-left:4px solid #10b981;background:#10b9810d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item.ranking-declined[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;background:#f59e0b0d}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .library-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.weight-impact-analysis[_ngcontent-%COMP%]   .ranking-changes[_ngcontent-%COMP%]   .ranking-grid[_ngcontent-%COMP%]   .ranking-change-item[_ngcontent-%COMP%]   .rank-change[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:600;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.detailed-analysis[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;border-left:4px solid var(--card-color)}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1f2937}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto;gap:1rem;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .raw-score[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{padding:.5rem;background:#e5e7eb4d;border-radius:6px;text-align:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .weighted-score[_ngcontent-%COMP%]{background:rgba(var(--card-color),.1);font-weight:600}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.5rem;border-radius:6px;font-weight:600;min-width:80px}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.positive-impact[_ngcontent-%COMP%]{background:#10b98133;color:#065f46}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .analysis-header[_ngcontent-%COMP%]   .score-comparison[_ngcontent-%COMP%]   .impact.negative-impact[_ngcontent-%COMP%]{background:#ef444433;color:#991b1b}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto auto;gap:1rem;padding:.75rem 0;border-bottom:1px solid #e5e7eb;align-items:center}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child, .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .scenario-name[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .benchmark-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1f2937;margin-bottom:.25rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%]   .frequency-note[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-style:italic}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]{display:contents}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;font-size:.875rem}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .raw[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-size:.875rem;text-align:right}.detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .scenario-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .scenario-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%], .detailed-analysis[_ngcontent-%COMP%]   .library-analysis-grid[_ngcontent-%COMP%]   .library-analysis-card[_ngcontent-%COMP%]   .benchmark-breakdown[_ngcontent-%COMP%]   .scenario-item[_ngcontent-%COMP%]   .benchmark-scores[_ngcontent-%COMP%]   .weighted[_ngcontent-%COMP%]{font-weight:600;color:var(--card-color)}.memoization-info[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:2rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #e5e7eb}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:1.5rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:.375rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);padding:1rem;border-radius:8px;margin-bottom:1.5rem;font-size:1rem;line-height:1.6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3b82f6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-intro[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#1f29371a;padding:.125rem .375rem;border-radius:4px;font-family:Courier New,monospace;font-size:.9em}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;border-radius:8px;padding:1rem;transition:all .2s}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f626;transform:translateY(-2px)}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#1f2937;font-size:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-code[_ngcontent-%COMP%]{display:block;background:#1f29370d;padding:.5rem;border-radius:4px;font-family:Courier New,monospace;font-size:.85rem;color:#8b5cf6;margin-bottom:.75rem;word-break:break-all}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 .75rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.875rem;color:#4b5563}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .presets-info-grid[_ngcontent-%COMP%]   .preset-info-card[_ngcontent-%COMP%]   .preset-note[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#3b82f6;font-weight:600;padding-top:.5rem;border-top:1px solid #e5e7eb}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]{background:#1f2937;padding:1rem;border-radius:8px;margin-bottom:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin:0 0 .75rem;font-size:1rem}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;overflow-x:auto}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .usage-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:#e5e7eb;font-family:Courier New,monospace;font-size:.875rem;line-height:1.5}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]{background:#06b6d41a;padding:1rem;border-radius:8px;border-left:4px solid #06b6d4}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#4b5563;line-height:1.6}.memoization-info[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937}']})};var Md=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ai({type:i,selectors:[["app-realistic-comparison"]],decls:1,vars:0,template:function(e,n){e&1&&pe(0,"app-benchmark-orchestrator")},dependencies:[Ii,Lr],encapsulation:2})};export{Md as RealisticComparisonComponent};
